const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-OKDRZEBW-CQHYizoB.js","assets/graph-DTKKlhKb.js","assets/_baseUniq-Do5okBJ3.js","assets/layout-DN9yA9ov.js","assets/_basePickBy-BEkB-gYn.js","assets/clone-qCfxE4vi.js","assets/c4Diagram-VJAJSXHY-DM8a2Jx7.js","assets/chunk-D6G4REZN-CzmXOq-1.js","assets/flowDiagram-4HSFHLVR-KwY_pnXK.js","assets/chunk-RZ5BOZE2-Cm3I4q32.js","assets/channel-CVGnaJYo.js","assets/erDiagram-Q7BY3M3F-DWgKzS0R.js","assets/gitGraphDiagram-7IBYFJ6S-BHM4nmbK.js","assets/chunk-4BMEZGHF-lNlopOHT.js","assets/chunk-XZIHB7SX-D1fbbgKq.js","assets/radar-MK3ICKWK-BJJGTgd6.js","assets/infoDiagram-PH2N3AL5-DWKlNmei.js","assets/pieDiagram-IB7DONF6-RW1YrKq1.js","assets/arc-BWyvMDBg.js","assets/requirementDiagram-KVF5MWMF-lxaqXayw.js","assets/sequenceDiagram-X6HHIX6F-ByruWzHX.js","assets/classDiagram-GIVACNV2-DAtuIYMt.js","assets/chunk-A2AXSNBT-nIz6GsXr.js","assets/classDiagram-v2-COTLJTTW-DAtuIYMt.js","assets/stateDiagram-DGXRK772-CVeyxTUw.js","assets/chunk-AEK57VVT-CTG7xB8y.js","assets/stateDiagram-v2-YXO3MK2T-DL7LkIB6.js","assets/journeyDiagram-U35MCT3I-xgnyOvZA.js","assets/timeline-definition-BDJGKUSR-uJdcAYHb.js","assets/mindmap-definition-ALO5MXBD-BfPKqLhB.js","assets/cytoscape.esm-BY7v1xhs.js","assets/diagram-VNBRO52H-DnPsEfHn.js","assets/diagram-SSKATNLV-D7-ghoTV.js","assets/blockDiagram-JOT3LUYC-DmvYiFRe.js","assets/architectureDiagram-IEHRJDOE-xx-sy6bT.js"])))=>i.map(i=>d[i]);
var dye=Object.defineProperty;var T5=e=>{throw TypeError(e)};var hye=(e,t,n)=>t in e?dye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ot=(e,t,n)=>hye(e,typeof t!="symbol"?t+"":t,n),MN=(e,t,n)=>t.has(e)||T5("Cannot "+n);var ke=(e,t,n)=>(MN(e,t,"read from private field"),n?n.call(e):t.get(e)),wn=(e,t,n)=>t.has(e)?T5("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Kt=(e,t,n,r)=>(MN(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ai=(e,t,n)=>(MN(e,t,"access private method"),n);var j1=(e,t,n,r)=>({set _(i){Kt(e,t,i,n)},get _(){return ke(e,t,r)}});function fye(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Co=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hG={exports:{}},zC={},fG={exports:{}},rn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb=Symbol.for("react.element"),mye=Symbol.for("react.portal"),pye=Symbol.for("react.fragment"),gye=Symbol.for("react.strict_mode"),yye=Symbol.for("react.profiler"),xye=Symbol.for("react.provider"),vye=Symbol.for("react.context"),bye=Symbol.for("react.forward_ref"),wye=Symbol.for("react.suspense"),Eye=Symbol.for("react.memo"),Sye=Symbol.for("react.lazy"),N5=Symbol.iterator;function _ye(e){return e===null||typeof e!="object"?null:(e=N5&&e[N5]||e["@@iterator"],typeof e=="function"?e:null)}var mG={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pG=Object.assign,gG={};function Pg(e,t,n){this.props=e,this.context=t,this.refs=gG,this.updater=n||mG}Pg.prototype.isReactComponent={};Pg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yG(){}yG.prototype=Pg.prototype;function wR(e,t,n){this.props=e,this.context=t,this.refs=gG,this.updater=n||mG}var ER=wR.prototype=new yG;ER.constructor=wR;pG(ER,Pg.prototype);ER.isPureReactComponent=!0;var k5=Array.isArray,xG=Object.prototype.hasOwnProperty,SR={current:null},vG={key:!0,ref:!0,__self:!0,__source:!0};function bG(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)xG.call(t,r)&&!vG.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:vb,type:e,key:a,ref:s,props:i,_owner:SR.current}}function Cye(e,t){return{$$typeof:vb,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _R(e){return typeof e=="object"&&e!==null&&e.$$typeof===vb}function Tye(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var A5=/\/+/g;function IN(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Tye(""+e.key):t.toString(36)}function nE(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case vb:case mye:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+IN(s,0):r,k5(i)?(n="",e!=null&&(n=e.replace(A5,"$&/")+"/"),nE(i,t,n,"",function(u){return u})):i!=null&&(_R(i)&&(i=Cye(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(A5,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",k5(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+IN(a,l);s+=nE(a,t,n,c,i)}else if(c=_ye(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+IN(a,l++),s+=nE(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function O1(e,t,n){if(e==null)return e;var r=[],i=0;return nE(e,r,"","",function(a){return t.call(n,a,i++)}),r}function Nye(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wa={current:null},rE={transition:null},kye={ReactCurrentDispatcher:wa,ReactCurrentBatchConfig:rE,ReactCurrentOwner:SR};function wG(){throw Error("act(...) is not supported in production builds of React.")}rn.Children={map:O1,forEach:function(e,t,n){O1(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return O1(e,function(){t++}),t},toArray:function(e){return O1(e,function(t){return t})||[]},only:function(e){if(!_R(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};rn.Component=Pg;rn.Fragment=pye;rn.Profiler=yye;rn.PureComponent=wR;rn.StrictMode=gye;rn.Suspense=wye;rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kye;rn.act=wG;rn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=pG({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=SR.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)xG.call(t,c)&&!vG.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:vb,type:e.type,key:i,ref:a,props:r,_owner:s}};rn.createContext=function(e){return e={$$typeof:vye,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xye,_context:e},e.Consumer=e};rn.createElement=bG;rn.createFactory=function(e){var t=bG.bind(null,e);return t.type=e,t};rn.createRef=function(){return{current:null}};rn.forwardRef=function(e){return{$$typeof:bye,render:e}};rn.isValidElement=_R;rn.lazy=function(e){return{$$typeof:Sye,_payload:{_status:-1,_result:e},_init:Nye}};rn.memo=function(e,t){return{$$typeof:Eye,type:e,compare:t===void 0?null:t}};rn.startTransition=function(e){var t=rE.transition;rE.transition={};try{e()}finally{rE.transition=t}};rn.unstable_act=wG;rn.useCallback=function(e,t){return wa.current.useCallback(e,t)};rn.useContext=function(e){return wa.current.useContext(e)};rn.useDebugValue=function(){};rn.useDeferredValue=function(e){return wa.current.useDeferredValue(e)};rn.useEffect=function(e,t){return wa.current.useEffect(e,t)};rn.useId=function(){return wa.current.useId()};rn.useImperativeHandle=function(e,t,n){return wa.current.useImperativeHandle(e,t,n)};rn.useInsertionEffect=function(e,t){return wa.current.useInsertionEffect(e,t)};rn.useLayoutEffect=function(e,t){return wa.current.useLayoutEffect(e,t)};rn.useMemo=function(e,t){return wa.current.useMemo(e,t)};rn.useReducer=function(e,t,n){return wa.current.useReducer(e,t,n)};rn.useRef=function(e){return wa.current.useRef(e)};rn.useState=function(e){return wa.current.useState(e)};rn.useSyncExternalStore=function(e,t,n){return wa.current.useSyncExternalStore(e,t,n)};rn.useTransition=function(){return wa.current.useTransition()};rn.version="18.3.1";fG.exports=rn;var w=fG.exports;const q=sn(w),CR=fye({__proto__:null,default:q},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aye=w,jye=Symbol.for("react.element"),Oye=Symbol.for("react.fragment"),Pye=Object.prototype.hasOwnProperty,Mye=Aye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Iye={key:!0,ref:!0,__self:!0,__source:!0};function EG(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Pye.call(t,r)&&!Iye.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:jye,type:e,key:a,ref:s,props:i,_owner:Mye.current}}zC.Fragment=Oye;zC.jsx=EG;zC.jsxs=EG;hG.exports=zC;var o=hG.exports,SG={exports:{}},vs={},_G={exports:{}},CG={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,U){var $=I.length;I.push(U);e:for(;0<$;){var W=$-1>>>1,z=I[W];if(0<i(z,U))I[W]=U,I[$]=z,$=W;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var U=I[0],$=I.pop();if($!==U){I[0]=$;e:for(var W=0,z=I.length,R=z>>>1;W<R;){var G=2*(W+1)-1,Q=I[G],oe=G+1,re=I[oe];if(0>i(Q,$))oe<z&&0>i(re,Q)?(I[W]=re,I[oe]=$,W=oe):(I[W]=Q,I[G]=$,W=G);else if(oe<z&&0>i(re,$))I[W]=re,I[oe]=$,W=oe;else break e}}return U}function i(I,U){var $=I.sortIndex-U.sortIndex;return $!==0?$:I.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=I)r(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=n(u)}}function E(I){if(g=!1,b(I),!p)if(n(c)!==null)p=!0,P(_);else{var U=n(u);U!==null&&L(E,U.startTime-I)}}function _(I,U){p=!1,g&&(g=!1,y(T),T=-1),m=!0;var $=f;try{for(b(U),h=n(c);h!==null&&(!(h.expirationTime>U)||I&&!O());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var z=W(h.expirationTime<=U);U=e.unstable_now(),typeof z=="function"?h.callback=z:h===n(c)&&r(c),b(U)}else r(c);h=n(c)}if(h!==null)var R=!0;else{var G=n(u);G!==null&&L(E,G.startTime-U),R=!1}return R}finally{h=null,f=$,m=!1}}var S=!1,C=null,T=-1,j=5,k=-1;function O(){return!(e.unstable_now()-k<j)}function M(){if(C!==null){var I=e.unstable_now();k=I;var U=!0;try{U=C(!0,I)}finally{U?B():(S=!1,C=null)}}else S=!1}var B;if(typeof v=="function")B=function(){v(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,D=N.port2;N.port1.onmessage=M,B=function(){D.postMessage(null)}}else B=function(){x(M,0)};function P(I){C=I,S||(S=!0,B())}function L(I,U){T=x(function(){I(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,P(_))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(I){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var $=f;f=U;try{return I()}finally{f=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,U){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var $=f;f=I;try{return U()}finally{f=$}},e.unstable_scheduleCallback=function(I,U,$){var W=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?W+$:W):$=W,I){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=$+z,I={id:d++,callback:U,priorityLevel:I,startTime:$,expirationTime:z,sortIndex:-1},$>W?(I.sortIndex=$,t(u,I),n(c)===null&&I===n(u)&&(g?(y(T),T=-1):g=!0,L(E,$-W))):(I.sortIndex=z,t(c,I),p||m||(p=!0,P(_))),I},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(I){var U=f;return function(){var $=f;f=U;try{return I.apply(this,arguments)}finally{f=$}}}})(CG);_G.exports=CG;var Rye=_G.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dye=w,gs=Rye;function ze(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TG=new Set,Tx={};function pf(e,t){wp(e,t),wp(e+"Capture",t)}function wp(e,t){for(Tx[e]=t,e=0;e<t.length;e++)TG.add(t[e])}var bc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wj=Object.prototype.hasOwnProperty,Lye=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j5={},O5={};function $ye(e){return wj.call(O5,e)?!0:wj.call(j5,e)?!1:Lye.test(e)?O5[e]=!0:(j5[e]=!0,!1)}function Bye(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fye(e,t,n,r){if(t===null||typeof t>"u"||Bye(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ea(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Ti={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ti[e]=new Ea(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ti[t]=new Ea(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ti[e]=new Ea(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ti[e]=new Ea(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ti[e]=new Ea(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ti[e]=new Ea(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ti[e]=new Ea(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ti[e]=new Ea(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ti[e]=new Ea(e,5,!1,e.toLowerCase(),null,!1,!1)});var TR=/[\-:]([a-z])/g;function NR(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(TR,NR);Ti[t]=new Ea(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(TR,NR);Ti[t]=new Ea(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(TR,NR);Ti[t]=new Ea(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ti[e]=new Ea(e,1,!1,e.toLowerCase(),null,!1,!1)});Ti.xlinkHref=new Ea("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ti[e]=new Ea(e,1,!1,e.toLowerCase(),null,!0,!0)});function kR(e,t,n,r){var i=Ti.hasOwnProperty(t)?Ti[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fye(t,n,i,r)&&(n=null),r||i===null?$ye(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Rc=Dye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P1=Symbol.for("react.element"),dm=Symbol.for("react.portal"),hm=Symbol.for("react.fragment"),AR=Symbol.for("react.strict_mode"),Ej=Symbol.for("react.profiler"),NG=Symbol.for("react.provider"),kG=Symbol.for("react.context"),jR=Symbol.for("react.forward_ref"),Sj=Symbol.for("react.suspense"),_j=Symbol.for("react.suspense_list"),OR=Symbol.for("react.memo"),cu=Symbol.for("react.lazy"),AG=Symbol.for("react.offscreen"),P5=Symbol.iterator;function N0(e){return e===null||typeof e!="object"?null:(e=P5&&e[P5]||e["@@iterator"],typeof e=="function"?e:null)}var yr=Object.assign,RN;function vy(e){if(RN===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);RN=t&&t[1]||""}return`
`+RN+e}var DN=!1;function LN(e,t){if(!e||DN)return"";DN=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,l=a.length-1;1<=s&&0<=l&&i[s]!==a[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==a[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==a[l]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{DN=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vy(e):""}function zye(e){switch(e.tag){case 5:return vy(e.type);case 16:return vy("Lazy");case 13:return vy("Suspense");case 19:return vy("SuspenseList");case 0:case 2:case 15:return e=LN(e.type,!1),e;case 11:return e=LN(e.type.render,!1),e;case 1:return e=LN(e.type,!0),e;default:return""}}function Cj(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hm:return"Fragment";case dm:return"Portal";case Ej:return"Profiler";case AR:return"StrictMode";case Sj:return"Suspense";case _j:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kG:return(e.displayName||"Context")+".Consumer";case NG:return(e._context.displayName||"Context")+".Provider";case jR:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case OR:return t=e.displayName||null,t!==null?t:Cj(e.type)||"Memo";case cu:t=e._payload,e=e._init;try{return Cj(e(t))}catch{}}return null}function Uye(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cj(t);case 8:return t===AR?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ed(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jG(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hye(e){var t=jG(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function M1(e){e._valueTracker||(e._valueTracker=Hye(e))}function OG(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=jG(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function GE(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Tj(e,t){var n=t.checked;return yr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function M5(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ed(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function PG(e,t){t=t.checked,t!=null&&kR(e,"checked",t,!1)}function Nj(e,t){PG(e,t);var n=ed(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kj(e,t.type,n):t.hasOwnProperty("defaultValue")&&kj(e,t.type,ed(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function I5(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function kj(e,t,n){(t!=="number"||GE(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var by=Array.isArray;function Lm(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ed(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Aj(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ze(91));return yr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function R5(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ze(92));if(by(n)){if(1<n.length)throw Error(ze(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ed(n)}}function MG(e,t){var n=ed(t.value),r=ed(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function D5(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function IG(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jj(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?IG(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var I1,RG=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(I1=I1||document.createElement("div"),I1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=I1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Nx(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Dy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vye=["Webkit","ms","Moz","O"];Object.keys(Dy).forEach(function(e){Vye.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Dy[t]=Dy[e]})});function DG(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Dy.hasOwnProperty(e)&&Dy[e]?(""+t).trim():t+"px"}function LG(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=DG(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Wye=yr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oj(e,t){if(t){if(Wye[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ze(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ze(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ze(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ze(62))}}function Pj(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mj=null;function PR(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ij=null,$m=null,Bm=null;function L5(e){if(e=Eb(e)){if(typeof Ij!="function")throw Error(ze(280));var t=e.stateNode;t&&(t=qC(t),Ij(e.stateNode,e.type,t))}}function $G(e){$m?Bm?Bm.push(e):Bm=[e]:$m=e}function BG(){if($m){var e=$m,t=Bm;if(Bm=$m=null,L5(e),t)for(e=0;e<t.length;e++)L5(t[e])}}function FG(e,t){return e(t)}function zG(){}var $N=!1;function UG(e,t,n){if($N)return e(t,n);$N=!0;try{return FG(e,t,n)}finally{$N=!1,($m!==null||Bm!==null)&&(zG(),BG())}}function kx(e,t){var n=e.stateNode;if(n===null)return null;var r=qC(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ze(231,t,typeof n));return n}var Rj=!1;if(bc)try{var k0={};Object.defineProperty(k0,"passive",{get:function(){Rj=!0}}),window.addEventListener("test",k0,k0),window.removeEventListener("test",k0,k0)}catch{Rj=!1}function qye(e,t,n,r,i,a,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Ly=!1,YE=null,KE=!1,Dj=null,Gye={onError:function(e){Ly=!0,YE=e}};function Yye(e,t,n,r,i,a,s,l,c){Ly=!1,YE=null,qye.apply(Gye,arguments)}function Kye(e,t,n,r,i,a,s,l,c){if(Yye.apply(this,arguments),Ly){if(Ly){var u=YE;Ly=!1,YE=null}else throw Error(ze(198));KE||(KE=!0,Dj=u)}}function gf(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function HG(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $5(e){if(gf(e)!==e)throw Error(ze(188))}function Xye(e){var t=e.alternate;if(!t){if(t=gf(e),t===null)throw Error(ze(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $5(i),e;if(a===r)return $5(i),t;a=a.sibling}throw Error(ze(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(ze(189))}}if(n.alternate!==r)throw Error(ze(190))}if(n.tag!==3)throw Error(ze(188));return n.stateNode.current===n?e:t}function VG(e){return e=Xye(e),e!==null?WG(e):null}function WG(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=WG(e);if(t!==null)return t;e=e.sibling}return null}var qG=gs.unstable_scheduleCallback,B5=gs.unstable_cancelCallback,Zye=gs.unstable_shouldYield,Qye=gs.unstable_requestPaint,Or=gs.unstable_now,Jye=gs.unstable_getCurrentPriorityLevel,MR=gs.unstable_ImmediatePriority,GG=gs.unstable_UserBlockingPriority,XE=gs.unstable_NormalPriority,exe=gs.unstable_LowPriority,YG=gs.unstable_IdlePriority,UC=null,ol=null;function txe(e){if(ol&&typeof ol.onCommitFiberRoot=="function")try{ol.onCommitFiberRoot(UC,e,void 0,(e.current.flags&128)===128)}catch{}}var No=Math.clz32?Math.clz32:ixe,nxe=Math.log,rxe=Math.LN2;function ixe(e){return e>>>=0,e===0?32:31-(nxe(e)/rxe|0)|0}var R1=64,D1=4194304;function wy(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ZE(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=wy(l):(a&=s,a!==0&&(r=wy(a)))}else s=n&~i,s!==0?r=wy(s):a!==0&&(r=wy(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-No(t),i=1<<n,r|=e[n],t&=~i;return r}function axe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sxe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-No(a),l=1<<s,c=i[s];c===-1?(!(l&n)||l&r)&&(i[s]=axe(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Lj(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function KG(){var e=R1;return R1<<=1,!(R1&4194240)&&(R1=64),e}function BN(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bb(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-No(t),e[t]=n}function oxe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-No(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function IR(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-No(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Tn=0;function XG(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ZG,RR,QG,JG,eY,$j=!1,L1=[],Ru=null,Du=null,Lu=null,Ax=new Map,jx=new Map,gu=[],lxe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F5(e,t){switch(e){case"focusin":case"focusout":Ru=null;break;case"dragenter":case"dragleave":Du=null;break;case"mouseover":case"mouseout":Lu=null;break;case"pointerover":case"pointerout":Ax.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jx.delete(t.pointerId)}}function A0(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Eb(t),t!==null&&RR(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function cxe(e,t,n,r,i){switch(t){case"focusin":return Ru=A0(Ru,e,t,n,r,i),!0;case"dragenter":return Du=A0(Du,e,t,n,r,i),!0;case"mouseover":return Lu=A0(Lu,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ax.set(a,A0(Ax.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,jx.set(a,A0(jx.get(a)||null,e,t,n,r,i)),!0}return!1}function tY(e){var t=ah(e.target);if(t!==null){var n=gf(t);if(n!==null){if(t=n.tag,t===13){if(t=HG(n),t!==null){e.blockedOn=t,eY(e.priority,function(){QG(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function iE(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Bj(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Mj=r,n.target.dispatchEvent(r),Mj=null}else return t=Eb(n),t!==null&&RR(t),e.blockedOn=n,!1;t.shift()}return!0}function z5(e,t,n){iE(e)&&n.delete(t)}function uxe(){$j=!1,Ru!==null&&iE(Ru)&&(Ru=null),Du!==null&&iE(Du)&&(Du=null),Lu!==null&&iE(Lu)&&(Lu=null),Ax.forEach(z5),jx.forEach(z5)}function j0(e,t){e.blockedOn===t&&(e.blockedOn=null,$j||($j=!0,gs.unstable_scheduleCallback(gs.unstable_NormalPriority,uxe)))}function Ox(e){function t(i){return j0(i,e)}if(0<L1.length){j0(L1[0],e);for(var n=1;n<L1.length;n++){var r=L1[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ru!==null&&j0(Ru,e),Du!==null&&j0(Du,e),Lu!==null&&j0(Lu,e),Ax.forEach(t),jx.forEach(t),n=0;n<gu.length;n++)r=gu[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<gu.length&&(n=gu[0],n.blockedOn===null);)tY(n),n.blockedOn===null&&gu.shift()}var Fm=Rc.ReactCurrentBatchConfig,QE=!0;function dxe(e,t,n,r){var i=Tn,a=Fm.transition;Fm.transition=null;try{Tn=1,DR(e,t,n,r)}finally{Tn=i,Fm.transition=a}}function hxe(e,t,n,r){var i=Tn,a=Fm.transition;Fm.transition=null;try{Tn=4,DR(e,t,n,r)}finally{Tn=i,Fm.transition=a}}function DR(e,t,n,r){if(QE){var i=Bj(e,t,n,r);if(i===null)KN(e,t,r,JE,n),F5(e,r);else if(cxe(i,e,t,n,r))r.stopPropagation();else if(F5(e,r),t&4&&-1<lxe.indexOf(e)){for(;i!==null;){var a=Eb(i);if(a!==null&&ZG(a),a=Bj(e,t,n,r),a===null&&KN(e,t,r,JE,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else KN(e,t,r,null,n)}}var JE=null;function Bj(e,t,n,r){if(JE=null,e=PR(r),e=ah(e),e!==null)if(t=gf(e),t===null)e=null;else if(n=t.tag,n===13){if(e=HG(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return JE=e,null}function nY(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jye()){case MR:return 1;case GG:return 4;case XE:case exe:return 16;case YG:return 536870912;default:return 16}default:return 16}}var Nu=null,LR=null,aE=null;function rY(){if(aE)return aE;var e,t=LR,n=t.length,r,i="value"in Nu?Nu.value:Nu.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return aE=i.slice(e,1<r?1-r:void 0)}function sE(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $1(){return!0}function U5(){return!1}function bs(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?$1:U5,this.isPropagationStopped=U5,this}return yr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$1)},persist:function(){},isPersistent:$1}),t}var Mg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$R=bs(Mg),wb=yr({},Mg,{view:0,detail:0}),fxe=bs(wb),FN,zN,O0,HC=yr({},wb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:BR,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==O0&&(O0&&e.type==="mousemove"?(FN=e.screenX-O0.screenX,zN=e.screenY-O0.screenY):zN=FN=0,O0=e),FN)},movementY:function(e){return"movementY"in e?e.movementY:zN}}),H5=bs(HC),mxe=yr({},HC,{dataTransfer:0}),pxe=bs(mxe),gxe=yr({},wb,{relatedTarget:0}),UN=bs(gxe),yxe=yr({},Mg,{animationName:0,elapsedTime:0,pseudoElement:0}),xxe=bs(yxe),vxe=yr({},Mg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bxe=bs(vxe),wxe=yr({},Mg,{data:0}),V5=bs(wxe),Exe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sxe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_xe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cxe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_xe[e])?!!t[e]:!1}function BR(){return Cxe}var Txe=yr({},wb,{key:function(e){if(e.key){var t=Exe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sE(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sxe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:BR,charCode:function(e){return e.type==="keypress"?sE(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sE(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nxe=bs(Txe),kxe=yr({},HC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W5=bs(kxe),Axe=yr({},wb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:BR}),jxe=bs(Axe),Oxe=yr({},Mg,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pxe=bs(Oxe),Mxe=yr({},HC,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ixe=bs(Mxe),Rxe=[9,13,27,32],FR=bc&&"CompositionEvent"in window,$y=null;bc&&"documentMode"in document&&($y=document.documentMode);var Dxe=bc&&"TextEvent"in window&&!$y,iY=bc&&(!FR||$y&&8<$y&&11>=$y),q5=" ",G5=!1;function aY(e,t){switch(e){case"keyup":return Rxe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sY(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fm=!1;function Lxe(e,t){switch(e){case"compositionend":return sY(t);case"keypress":return t.which!==32?null:(G5=!0,q5);case"textInput":return e=t.data,e===q5&&G5?null:e;default:return null}}function $xe(e,t){if(fm)return e==="compositionend"||!FR&&aY(e,t)?(e=rY(),aE=LR=Nu=null,fm=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iY&&t.locale!=="ko"?null:t.data;default:return null}}var Bxe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bxe[e.type]:t==="textarea"}function oY(e,t,n,r){$G(r),t=eS(t,"onChange"),0<t.length&&(n=new $R("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var By=null,Px=null;function Fxe(e){xY(e,0)}function VC(e){var t=gm(e);if(OG(t))return e}function zxe(e,t){if(e==="change")return t}var lY=!1;if(bc){var HN;if(bc){var VN="oninput"in document;if(!VN){var K5=document.createElement("div");K5.setAttribute("oninput","return;"),VN=typeof K5.oninput=="function"}HN=VN}else HN=!1;lY=HN&&(!document.documentMode||9<document.documentMode)}function X5(){By&&(By.detachEvent("onpropertychange",cY),Px=By=null)}function cY(e){if(e.propertyName==="value"&&VC(Px)){var t=[];oY(t,Px,e,PR(e)),UG(Fxe,t)}}function Uxe(e,t,n){e==="focusin"?(X5(),By=t,Px=n,By.attachEvent("onpropertychange",cY)):e==="focusout"&&X5()}function Hxe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return VC(Px)}function Vxe(e,t){if(e==="click")return VC(t)}function Wxe(e,t){if(e==="input"||e==="change")return VC(t)}function qxe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ro=typeof Object.is=="function"?Object.is:qxe;function Mx(e,t){if(Ro(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wj.call(t,i)||!Ro(e[i],t[i]))return!1}return!0}function Z5(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Q5(e,t){var n=Z5(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Z5(n)}}function uY(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uY(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dY(){for(var e=window,t=GE();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=GE(e.document)}return t}function zR(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Gxe(e){var t=dY(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&uY(n.ownerDocument.documentElement,n)){if(r!==null&&zR(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Q5(n,a);var s=Q5(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yxe=bc&&"documentMode"in document&&11>=document.documentMode,mm=null,Fj=null,Fy=null,zj=!1;function J5(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zj||mm==null||mm!==GE(r)||(r=mm,"selectionStart"in r&&zR(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fy&&Mx(Fy,r)||(Fy=r,r=eS(Fj,"onSelect"),0<r.length&&(t=new $R("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mm)))}function B1(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pm={animationend:B1("Animation","AnimationEnd"),animationiteration:B1("Animation","AnimationIteration"),animationstart:B1("Animation","AnimationStart"),transitionend:B1("Transition","TransitionEnd")},WN={},hY={};bc&&(hY=document.createElement("div").style,"AnimationEvent"in window||(delete pm.animationend.animation,delete pm.animationiteration.animation,delete pm.animationstart.animation),"TransitionEvent"in window||delete pm.transitionend.transition);function WC(e){if(WN[e])return WN[e];if(!pm[e])return e;var t=pm[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hY)return WN[e]=t[n];return e}var fY=WC("animationend"),mY=WC("animationiteration"),pY=WC("animationstart"),gY=WC("transitionend"),yY=new Map,e6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vd(e,t){yY.set(e,t),pf(t,[e])}for(var qN=0;qN<e6.length;qN++){var GN=e6[qN],Kxe=GN.toLowerCase(),Xxe=GN[0].toUpperCase()+GN.slice(1);vd(Kxe,"on"+Xxe)}vd(fY,"onAnimationEnd");vd(mY,"onAnimationIteration");vd(pY,"onAnimationStart");vd("dblclick","onDoubleClick");vd("focusin","onFocus");vd("focusout","onBlur");vd(gY,"onTransitionEnd");wp("onMouseEnter",["mouseout","mouseover"]);wp("onMouseLeave",["mouseout","mouseover"]);wp("onPointerEnter",["pointerout","pointerover"]);wp("onPointerLeave",["pointerout","pointerover"]);pf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pf("onBeforeInput",["compositionend","keypress","textInput","paste"]);pf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ey="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zxe=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ey));function t6(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Kye(r,t,void 0,e),e.currentTarget=null}function xY(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;t6(i,l,u),a=c}else for(s=0;s<r.length;s++){if(l=r[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;t6(i,l,u),a=c}}}if(KE)throw e=Dj,KE=!1,Dj=null,e}function Wn(e,t){var n=t[qj];n===void 0&&(n=t[qj]=new Set);var r=e+"__bubble";n.has(r)||(vY(t,e,2,!1),n.add(r))}function YN(e,t,n){var r=0;t&&(r|=4),vY(n,e,r,t)}var F1="_reactListening"+Math.random().toString(36).slice(2);function Ix(e){if(!e[F1]){e[F1]=!0,TG.forEach(function(n){n!=="selectionchange"&&(Zxe.has(n)||YN(n,!1,e),YN(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[F1]||(t[F1]=!0,YN("selectionchange",!1,t))}}function vY(e,t,n,r){switch(nY(t)){case 1:var i=dxe;break;case 4:i=hxe;break;default:i=DR}n=i.bind(null,t,n,e),i=void 0,!Rj||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function KN(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;l!==null;){if(s=ah(l),s===null)return;if(c=s.tag,c===5||c===6){r=a=s;continue e}l=l.parentNode}}r=r.return}UG(function(){var u=a,d=PR(n),h=[];e:{var f=yY.get(e);if(f!==void 0){var m=$R,p=e;switch(e){case"keypress":if(sE(n)===0)break e;case"keydown":case"keyup":m=Nxe;break;case"focusin":p="focus",m=UN;break;case"focusout":p="blur",m=UN;break;case"beforeblur":case"afterblur":m=UN;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=H5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=pxe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=jxe;break;case fY:case mY:case pY:m=xxe;break;case gY:m=Pxe;break;case"scroll":m=fxe;break;case"wheel":m=Ixe;break;case"copy":case"cut":case"paste":m=bxe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=W5}var g=(t&4)!==0,x=!g&&e==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var v=u,b;v!==null;){b=v;var E=b.stateNode;if(b.tag===5&&E!==null&&(b=E,y!==null&&(E=kx(v,y),E!=null&&g.push(Rx(v,E,b)))),x)break;v=v.return}0<g.length&&(f=new m(f,p,null,n,d),h.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Mj&&(p=n.relatedTarget||n.fromElement)&&(ah(p)||p[wc]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=u,p=p?ah(p):null,p!==null&&(x=gf(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(g=H5,E="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=W5,E="onPointerLeave",y="onPointerEnter",v="pointer"),x=m==null?f:gm(m),b=p==null?f:gm(p),f=new g(E,v+"leave",m,n,d),f.target=x,f.relatedTarget=b,E=null,ah(d)===u&&(g=new g(y,v+"enter",p,n,d),g.target=b,g.relatedTarget=x,E=g),x=E,m&&p)t:{for(g=m,y=p,v=0,b=g;b;b=Ff(b))v++;for(b=0,E=y;E;E=Ff(E))b++;for(;0<v-b;)g=Ff(g),v--;for(;0<b-v;)y=Ff(y),b--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=Ff(g),y=Ff(y)}g=null}else g=null;m!==null&&n6(h,f,m,g,!1),p!==null&&x!==null&&n6(h,x,p,g,!0)}}e:{if(f=u?gm(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var _=zxe;else if(Y5(f))if(lY)_=Wxe;else{_=Hxe;var S=Uxe}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=Vxe);if(_&&(_=_(e,u))){oY(h,_,n,d);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&kj(f,"number",f.value)}switch(S=u?gm(u):window,e){case"focusin":(Y5(S)||S.contentEditable==="true")&&(mm=S,Fj=u,Fy=null);break;case"focusout":Fy=Fj=mm=null;break;case"mousedown":zj=!0;break;case"contextmenu":case"mouseup":case"dragend":zj=!1,J5(h,n,d);break;case"selectionchange":if(Yxe)break;case"keydown":case"keyup":J5(h,n,d)}var C;if(FR)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else fm?aY(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(iY&&n.locale!=="ko"&&(fm||T!=="onCompositionStart"?T==="onCompositionEnd"&&fm&&(C=rY()):(Nu=d,LR="value"in Nu?Nu.value:Nu.textContent,fm=!0)),S=eS(u,T),0<S.length&&(T=new V5(T,e,null,n,d),h.push({event:T,listeners:S}),C?T.data=C:(C=sY(n),C!==null&&(T.data=C)))),(C=Dxe?Lxe(e,n):$xe(e,n))&&(u=eS(u,"onBeforeInput"),0<u.length&&(d=new V5("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}xY(h,t)})}function Rx(e,t,n){return{instance:e,listener:t,currentTarget:n}}function eS(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=kx(e,n),a!=null&&r.unshift(Rx(e,a,i)),a=kx(e,t),a!=null&&r.push(Rx(e,a,i))),e=e.return}return r}function Ff(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function n6(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=kx(n,a),c!=null&&s.unshift(Rx(n,c,l))):i||(c=kx(n,a),c!=null&&s.push(Rx(n,c,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Qxe=/\r\n?/g,Jxe=/\u0000|\uFFFD/g;function r6(e){return(typeof e=="string"?e:""+e).replace(Qxe,`
`).replace(Jxe,"")}function z1(e,t,n){if(t=r6(t),r6(e)!==t&&n)throw Error(ze(425))}function tS(){}var Uj=null,Hj=null;function Vj(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wj=typeof setTimeout=="function"?setTimeout:void 0,eve=typeof clearTimeout=="function"?clearTimeout:void 0,i6=typeof Promise=="function"?Promise:void 0,tve=typeof queueMicrotask=="function"?queueMicrotask:typeof i6<"u"?function(e){return i6.resolve(null).then(e).catch(nve)}:Wj;function nve(e){setTimeout(function(){throw e})}function XN(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ox(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ox(t)}function $u(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function a6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ig=Math.random().toString(36).slice(2),rl="__reactFiber$"+Ig,Dx="__reactProps$"+Ig,wc="__reactContainer$"+Ig,qj="__reactEvents$"+Ig,rve="__reactListeners$"+Ig,ive="__reactHandles$"+Ig;function ah(e){var t=e[rl];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wc]||n[rl]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=a6(e);e!==null;){if(n=e[rl])return n;e=a6(e)}return t}e=n,n=e.parentNode}return null}function Eb(e){return e=e[rl]||e[wc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gm(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ze(33))}function qC(e){return e[Dx]||null}var Gj=[],ym=-1;function bd(e){return{current:e}}function Kn(e){0>ym||(e.current=Gj[ym],Gj[ym]=null,ym--)}function Un(e,t){ym++,Gj[ym]=e.current,e.current=t}var td={},Gi=bd(td),Da=bd(!1),Ih=td;function Ep(e,t){var n=e.type.contextTypes;if(!n)return td;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function La(e){return e=e.childContextTypes,e!=null}function nS(){Kn(Da),Kn(Gi)}function s6(e,t,n){if(Gi.current!==td)throw Error(ze(168));Un(Gi,t),Un(Da,n)}function bY(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ze(108,Uye(e)||"Unknown",i));return yr({},n,r)}function rS(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||td,Ih=Gi.current,Un(Gi,e),Un(Da,Da.current),!0}function o6(e,t,n){var r=e.stateNode;if(!r)throw Error(ze(169));n?(e=bY(e,t,Ih),r.__reactInternalMemoizedMergedChildContext=e,Kn(Da),Kn(Gi),Un(Gi,e)):Kn(Da),Un(Da,n)}var Ql=null,GC=!1,ZN=!1;function wY(e){Ql===null?Ql=[e]:Ql.push(e)}function ave(e){GC=!0,wY(e)}function wd(){if(!ZN&&Ql!==null){ZN=!0;var e=0,t=Tn;try{var n=Ql;for(Tn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ql=null,GC=!1}catch(i){throw Ql!==null&&(Ql=Ql.slice(e+1)),qG(MR,wd),i}finally{Tn=t,ZN=!1}}return null}var xm=[],vm=0,iS=null,aS=0,Os=[],Ps=0,Rh=null,tc=1,nc="";function Vd(e,t){xm[vm++]=aS,xm[vm++]=iS,iS=e,aS=t}function EY(e,t,n){Os[Ps++]=tc,Os[Ps++]=nc,Os[Ps++]=Rh,Rh=e;var r=tc;e=nc;var i=32-No(r)-1;r&=~(1<<i),n+=1;var a=32-No(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,tc=1<<32-No(t)+i|n<<i|r,nc=a+e}else tc=1<<a|n<<i|r,nc=e}function UR(e){e.return!==null&&(Vd(e,1),EY(e,1,0))}function HR(e){for(;e===iS;)iS=xm[--vm],xm[vm]=null,aS=xm[--vm],xm[vm]=null;for(;e===Rh;)Rh=Os[--Ps],Os[Ps]=null,nc=Os[--Ps],Os[Ps]=null,tc=Os[--Ps],Os[Ps]=null}var cs=null,ls=null,tr=!1,vo=null;function SY(e,t){var n=Ls(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function l6(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,cs=e,ls=$u(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,cs=e,ls=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rh!==null?{id:tc,overflow:nc}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ls(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,cs=e,ls=null,!0):!1;default:return!1}}function Yj(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kj(e){if(tr){var t=ls;if(t){var n=t;if(!l6(e,t)){if(Yj(e))throw Error(ze(418));t=$u(n.nextSibling);var r=cs;t&&l6(e,t)?SY(r,n):(e.flags=e.flags&-4097|2,tr=!1,cs=e)}}else{if(Yj(e))throw Error(ze(418));e.flags=e.flags&-4097|2,tr=!1,cs=e}}}function c6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cs=e}function U1(e){if(e!==cs)return!1;if(!tr)return c6(e),tr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vj(e.type,e.memoizedProps)),t&&(t=ls)){if(Yj(e))throw _Y(),Error(ze(418));for(;t;)SY(e,t),t=$u(t.nextSibling)}if(c6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ze(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ls=$u(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ls=null}}else ls=cs?$u(e.stateNode.nextSibling):null;return!0}function _Y(){for(var e=ls;e;)e=$u(e.nextSibling)}function Sp(){ls=cs=null,tr=!1}function VR(e){vo===null?vo=[e]:vo.push(e)}var sve=Rc.ReactCurrentBatchConfig;function P0(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ze(309));var r=n.stateNode}if(!r)throw Error(ze(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var l=i.refs;s===null?delete l[a]:l[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(ze(284));if(!n._owner)throw Error(ze(290,e))}return e}function H1(e,t){throw e=Object.prototype.toString.call(t),Error(ze(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function u6(e){var t=e._init;return t(e._payload)}function CY(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=Uu(y,v),y.index=0,y.sibling=null,y}function a(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,b,E){return v===null||v.tag!==6?(v=ik(b,y.mode,E),v.return=y,v):(v=i(v,b),v.return=y,v)}function c(y,v,b,E){var _=b.type;return _===hm?d(y,v,b.props.children,E,b.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===cu&&u6(_)===v.type)?(E=i(v,b.props),E.ref=P0(y,v,b),E.return=y,E):(E=fE(b.type,b.key,b.props,null,y.mode,E),E.ref=P0(y,v,b),E.return=y,E)}function u(y,v,b,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=ak(b,y.mode,E),v.return=y,v):(v=i(v,b.children||[]),v.return=y,v)}function d(y,v,b,E,_){return v===null||v.tag!==7?(v=Th(b,y.mode,E,_),v.return=y,v):(v=i(v,b),v.return=y,v)}function h(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ik(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case P1:return b=fE(v.type,v.key,v.props,null,y.mode,b),b.ref=P0(y,null,v),b.return=y,b;case dm:return v=ak(v,y.mode,b),v.return=y,v;case cu:var E=v._init;return h(y,E(v._payload),b)}if(by(v)||N0(v))return v=Th(v,y.mode,b,null),v.return=y,v;H1(y,v)}return null}function f(y,v,b,E){var _=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(y,v,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case P1:return b.key===_?c(y,v,b,E):null;case dm:return b.key===_?u(y,v,b,E):null;case cu:return _=b._init,f(y,v,_(b._payload),E)}if(by(b)||N0(b))return _!==null?null:d(y,v,b,E,null);H1(y,b)}return null}function m(y,v,b,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(b)||null,l(v,y,""+E,_);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case P1:return y=y.get(E.key===null?b:E.key)||null,c(v,y,E,_);case dm:return y=y.get(E.key===null?b:E.key)||null,u(v,y,E,_);case cu:var S=E._init;return m(y,v,b,S(E._payload),_)}if(by(E)||N0(E))return y=y.get(b)||null,d(v,y,E,_,null);H1(v,E)}return null}function p(y,v,b,E){for(var _=null,S=null,C=v,T=v=0,j=null;C!==null&&T<b.length;T++){C.index>T?(j=C,C=null):j=C.sibling;var k=f(y,C,b[T],E);if(k===null){C===null&&(C=j);break}e&&C&&k.alternate===null&&t(y,C),v=a(k,v,T),S===null?_=k:S.sibling=k,S=k,C=j}if(T===b.length)return n(y,C),tr&&Vd(y,T),_;if(C===null){for(;T<b.length;T++)C=h(y,b[T],E),C!==null&&(v=a(C,v,T),S===null?_=C:S.sibling=C,S=C);return tr&&Vd(y,T),_}for(C=r(y,C);T<b.length;T++)j=m(C,y,T,b[T],E),j!==null&&(e&&j.alternate!==null&&C.delete(j.key===null?T:j.key),v=a(j,v,T),S===null?_=j:S.sibling=j,S=j);return e&&C.forEach(function(O){return t(y,O)}),tr&&Vd(y,T),_}function g(y,v,b,E){var _=N0(b);if(typeof _!="function")throw Error(ze(150));if(b=_.call(b),b==null)throw Error(ze(151));for(var S=_=null,C=v,T=v=0,j=null,k=b.next();C!==null&&!k.done;T++,k=b.next()){C.index>T?(j=C,C=null):j=C.sibling;var O=f(y,C,k.value,E);if(O===null){C===null&&(C=j);break}e&&C&&O.alternate===null&&t(y,C),v=a(O,v,T),S===null?_=O:S.sibling=O,S=O,C=j}if(k.done)return n(y,C),tr&&Vd(y,T),_;if(C===null){for(;!k.done;T++,k=b.next())k=h(y,k.value,E),k!==null&&(v=a(k,v,T),S===null?_=k:S.sibling=k,S=k);return tr&&Vd(y,T),_}for(C=r(y,C);!k.done;T++,k=b.next())k=m(C,y,T,k.value,E),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?T:k.key),v=a(k,v,T),S===null?_=k:S.sibling=k,S=k);return e&&C.forEach(function(M){return t(y,M)}),tr&&Vd(y,T),_}function x(y,v,b,E){if(typeof b=="object"&&b!==null&&b.type===hm&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case P1:e:{for(var _=b.key,S=v;S!==null;){if(S.key===_){if(_=b.type,_===hm){if(S.tag===7){n(y,S.sibling),v=i(S,b.props.children),v.return=y,y=v;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===cu&&u6(_)===S.type){n(y,S.sibling),v=i(S,b.props),v.ref=P0(y,S,b),v.return=y,y=v;break e}n(y,S);break}else t(y,S);S=S.sibling}b.type===hm?(v=Th(b.props.children,y.mode,E,b.key),v.return=y,y=v):(E=fE(b.type,b.key,b.props,null,y.mode,E),E.ref=P0(y,v,b),E.return=y,y=E)}return s(y);case dm:e:{for(S=b.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(y,v.sibling),v=i(v,b.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=ak(b,y.mode,E),v.return=y,y=v}return s(y);case cu:return S=b._init,x(y,v,S(b._payload),E)}if(by(b))return p(y,v,b,E);if(N0(b))return g(y,v,b,E);H1(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,b),v.return=y,y=v):(n(y,v),v=ik(b,y.mode,E),v.return=y,y=v),s(y)):n(y,v)}return x}var _p=CY(!0),TY=CY(!1),sS=bd(null),oS=null,bm=null,WR=null;function qR(){WR=bm=oS=null}function GR(e){var t=sS.current;Kn(sS),e._currentValue=t}function Xj(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function zm(e,t){oS=e,WR=bm=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ma=!0),e.firstContext=null)}function Vs(e){var t=e._currentValue;if(WR!==e)if(e={context:e,memoizedValue:t,next:null},bm===null){if(oS===null)throw Error(ze(308));bm=e,oS.dependencies={lanes:0,firstContext:e}}else bm=bm.next=e;return t}var sh=null;function YR(e){sh===null?sh=[e]:sh.push(e)}function NY(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,YR(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ec(e,r)}function Ec(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var uu=!1;function KR(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kY(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bu(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,fn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ec(e,n)}return i=r.interleaved,i===null?(t.next=t,YR(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ec(e,n)}function oE(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,IR(e,n)}}function d6(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lS(e,t,n,r){var i=e.updateQueue;uu=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;s=0,d=u=c=null,l=a;do{var f=l.lane,m=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,g=l;switch(f=t,m=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){h=p.call(m,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,f=typeof p=="function"?p.call(m,h,f):p,f==null)break e;h=yr({},h,f);break e;case 2:uu=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,s|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Lh|=s,e.lanes=s,e.memoizedState=h}}function h6(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ze(191,i));i.call(r)}}}var Sb={},ll=bd(Sb),Lx=bd(Sb),$x=bd(Sb);function oh(e){if(e===Sb)throw Error(ze(174));return e}function XR(e,t){switch(Un($x,t),Un(Lx,e),Un(ll,Sb),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:jj(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=jj(t,e)}Kn(ll),Un(ll,t)}function Cp(){Kn(ll),Kn(Lx),Kn($x)}function AY(e){oh($x.current);var t=oh(ll.current),n=jj(t,e.type);t!==n&&(Un(Lx,e),Un(ll,n))}function ZR(e){Lx.current===e&&(Kn(ll),Kn(Lx))}var sr=bd(0);function cS(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var QN=[];function QR(){for(var e=0;e<QN.length;e++)QN[e]._workInProgressVersionPrimary=null;QN.length=0}var lE=Rc.ReactCurrentDispatcher,JN=Rc.ReactCurrentBatchConfig,Dh=0,pr=null,Yr=null,ci=null,uS=!1,zy=!1,Bx=0,ove=0;function ji(){throw Error(ze(321))}function JR(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ro(e[n],t[n]))return!1;return!0}function eD(e,t,n,r,i,a){if(Dh=a,pr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lE.current=e===null||e.memoizedState===null?dve:hve,e=n(r,i),zy){a=0;do{if(zy=!1,Bx=0,25<=a)throw Error(ze(301));a+=1,ci=Yr=null,t.updateQueue=null,lE.current=fve,e=n(r,i)}while(zy)}if(lE.current=dS,t=Yr!==null&&Yr.next!==null,Dh=0,ci=Yr=pr=null,uS=!1,t)throw Error(ze(300));return e}function tD(){var e=Bx!==0;return Bx=0,e}function Yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ci===null?pr.memoizedState=ci=e:ci=ci.next=e,ci}function Ws(){if(Yr===null){var e=pr.alternate;e=e!==null?e.memoizedState:null}else e=Yr.next;var t=ci===null?pr.memoizedState:ci.next;if(t!==null)ci=t,Yr=e;else{if(e===null)throw Error(ze(310));Yr=e,e={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},ci===null?pr.memoizedState=ci=e:ci=ci.next=e}return ci}function Fx(e,t){return typeof t=="function"?t(e):t}function ek(e){var t=Ws(),n=t.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=e;var r=Yr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((Dh&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,s=r):c=c.next=h,pr.lanes|=d,Lh|=d}u=u.next}while(u!==null&&u!==a);c===null?s=r:c.next=l,Ro(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,pr.lanes|=a,Lh|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function tk(e){var t=Ws(),n=t.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Ro(a,t.memoizedState)||(Ma=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function jY(){}function OY(e,t){var n=pr,r=Ws(),i=t(),a=!Ro(r.memoizedState,i);if(a&&(r.memoizedState=i,Ma=!0),r=r.queue,nD(IY.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ci!==null&&ci.memoizedState.tag&1){if(n.flags|=2048,zx(9,MY.bind(null,n,r,i,t),void 0,null),mi===null)throw Error(ze(349));Dh&30||PY(n,t,i)}return i}function PY(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pr.updateQueue,t===null?(t={lastEffect:null,stores:null},pr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function MY(e,t,n,r){t.value=n,t.getSnapshot=r,RY(t)&&DY(e)}function IY(e,t,n){return n(function(){RY(t)&&DY(e)})}function RY(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ro(e,n)}catch{return!0}}function DY(e){var t=Ec(e,1);t!==null&&ko(t,e,1,-1)}function f6(e){var t=Yo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fx,lastRenderedState:e},t.queue=e,e=e.dispatch=uve.bind(null,pr,e),[t.memoizedState,e]}function zx(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=pr.updateQueue,t===null?(t={lastEffect:null,stores:null},pr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function LY(){return Ws().memoizedState}function cE(e,t,n,r){var i=Yo();pr.flags|=e,i.memoizedState=zx(1|t,n,void 0,r===void 0?null:r)}function YC(e,t,n,r){var i=Ws();r=r===void 0?null:r;var a=void 0;if(Yr!==null){var s=Yr.memoizedState;if(a=s.destroy,r!==null&&JR(r,s.deps)){i.memoizedState=zx(t,n,a,r);return}}pr.flags|=e,i.memoizedState=zx(1|t,n,a,r)}function m6(e,t){return cE(8390656,8,e,t)}function nD(e,t){return YC(2048,8,e,t)}function $Y(e,t){return YC(4,2,e,t)}function BY(e,t){return YC(4,4,e,t)}function FY(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zY(e,t,n){return n=n!=null?n.concat([e]):null,YC(4,4,FY.bind(null,t,e),n)}function rD(){}function UY(e,t){var n=Ws();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&JR(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function HY(e,t){var n=Ws();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&JR(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function VY(e,t,n){return Dh&21?(Ro(n,t)||(n=KG(),pr.lanes|=n,Lh|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ma=!0),e.memoizedState=n)}function lve(e,t){var n=Tn;Tn=n!==0&&4>n?n:4,e(!0);var r=JN.transition;JN.transition={};try{e(!1),t()}finally{Tn=n,JN.transition=r}}function WY(){return Ws().memoizedState}function cve(e,t,n){var r=zu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qY(e))GY(t,n);else if(n=NY(e,t,n,r),n!==null){var i=pa();ko(n,e,r,i),YY(n,t,r)}}function uve(e,t,n){var r=zu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qY(e))GY(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,l=a(s,n);if(i.hasEagerState=!0,i.eagerState=l,Ro(l,s)){var c=t.interleaved;c===null?(i.next=i,YR(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=NY(e,t,i,r),n!==null&&(i=pa(),ko(n,e,r,i),YY(n,t,r))}}function qY(e){var t=e.alternate;return e===pr||t!==null&&t===pr}function GY(e,t){zy=uS=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function YY(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,IR(e,n)}}var dS={readContext:Vs,useCallback:ji,useContext:ji,useEffect:ji,useImperativeHandle:ji,useInsertionEffect:ji,useLayoutEffect:ji,useMemo:ji,useReducer:ji,useRef:ji,useState:ji,useDebugValue:ji,useDeferredValue:ji,useTransition:ji,useMutableSource:ji,useSyncExternalStore:ji,useId:ji,unstable_isNewReconciler:!1},dve={readContext:Vs,useCallback:function(e,t){return Yo().memoizedState=[e,t===void 0?null:t],e},useContext:Vs,useEffect:m6,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,cE(4194308,4,FY.bind(null,t,e),n)},useLayoutEffect:function(e,t){return cE(4194308,4,e,t)},useInsertionEffect:function(e,t){return cE(4,2,e,t)},useMemo:function(e,t){var n=Yo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yo();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=cve.bind(null,pr,e),[r.memoizedState,e]},useRef:function(e){var t=Yo();return e={current:e},t.memoizedState=e},useState:f6,useDebugValue:rD,useDeferredValue:function(e){return Yo().memoizedState=e},useTransition:function(){var e=f6(!1),t=e[0];return e=lve.bind(null,e[1]),Yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pr,i=Yo();if(tr){if(n===void 0)throw Error(ze(407));n=n()}else{if(n=t(),mi===null)throw Error(ze(349));Dh&30||PY(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,m6(IY.bind(null,r,a,e),[e]),r.flags|=2048,zx(9,MY.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Yo(),t=mi.identifierPrefix;if(tr){var n=nc,r=tc;n=(r&~(1<<32-No(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Bx++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ove++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hve={readContext:Vs,useCallback:UY,useContext:Vs,useEffect:nD,useImperativeHandle:zY,useInsertionEffect:$Y,useLayoutEffect:BY,useMemo:HY,useReducer:ek,useRef:LY,useState:function(){return ek(Fx)},useDebugValue:rD,useDeferredValue:function(e){var t=Ws();return VY(t,Yr.memoizedState,e)},useTransition:function(){var e=ek(Fx)[0],t=Ws().memoizedState;return[e,t]},useMutableSource:jY,useSyncExternalStore:OY,useId:WY,unstable_isNewReconciler:!1},fve={readContext:Vs,useCallback:UY,useContext:Vs,useEffect:nD,useImperativeHandle:zY,useInsertionEffect:$Y,useLayoutEffect:BY,useMemo:HY,useReducer:tk,useRef:LY,useState:function(){return tk(Fx)},useDebugValue:rD,useDeferredValue:function(e){var t=Ws();return Yr===null?t.memoizedState=e:VY(t,Yr.memoizedState,e)},useTransition:function(){var e=tk(Fx)[0],t=Ws().memoizedState;return[e,t]},useMutableSource:jY,useSyncExternalStore:OY,useId:WY,unstable_isNewReconciler:!1};function ho(e,t){if(e&&e.defaultProps){t=yr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Zj(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:yr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var KC={isMounted:function(e){return(e=e._reactInternals)?gf(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pa(),i=zu(e),a=fc(r,i);a.payload=t,n!=null&&(a.callback=n),t=Bu(e,a,i),t!==null&&(ko(t,e,i,r),oE(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pa(),i=zu(e),a=fc(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Bu(e,a,i),t!==null&&(ko(t,e,i,r),oE(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pa(),r=zu(e),i=fc(n,r);i.tag=2,t!=null&&(i.callback=t),t=Bu(e,i,r),t!==null&&(ko(t,e,r,n),oE(t,e,r))}};function p6(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!Mx(n,r)||!Mx(i,a):!0}function KY(e,t,n){var r=!1,i=td,a=t.contextType;return typeof a=="object"&&a!==null?a=Vs(a):(i=La(t)?Ih:Gi.current,r=t.contextTypes,a=(r=r!=null)?Ep(e,i):td),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=KC,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function g6(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&KC.enqueueReplaceState(t,t.state,null)}function Qj(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},KR(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Vs(a):(a=La(t)?Ih:Gi.current,i.context=Ep(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Zj(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&KC.enqueueReplaceState(i,i.state,null),lS(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Tp(e,t){try{var n="",r=t;do n+=zye(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function nk(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Jj(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var mve=typeof WeakMap=="function"?WeakMap:Map;function XY(e,t,n){n=fc(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fS||(fS=!0,cO=r),Jj(e,t)},n}function ZY(e,t,n){n=fc(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Jj(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Jj(e,t),typeof r!="function"&&(Fu===null?Fu=new Set([this]):Fu.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function y6(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new mve;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kve.bind(null,e,t,n),t.then(e,e))}function x6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function v6(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fc(-1,1),t.tag=2,Bu(n,t,1))),n.lanes|=1),e)}var pve=Rc.ReactCurrentOwner,Ma=!1;function ra(e,t,n,r){t.child=e===null?TY(t,null,n,r):_p(t,e.child,n,r)}function b6(e,t,n,r,i){n=n.render;var a=t.ref;return zm(t,i),r=eD(e,t,n,r,a,i),n=tD(),e!==null&&!Ma?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sc(e,t,i)):(tr&&n&&UR(t),t.flags|=1,ra(e,t,r,i),t.child)}function w6(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!dD(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,QY(e,t,a,r,i)):(e=fE(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Mx,n(s,r)&&e.ref===t.ref)return Sc(e,t,i)}return t.flags|=1,e=Uu(a,r),e.ref=t.ref,e.return=t,t.child=e}function QY(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Mx(a,r)&&e.ref===t.ref)if(Ma=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Ma=!0);else return t.lanes=e.lanes,Sc(e,t,i)}return eO(e,t,n,r,i)}function JY(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Un(Em,ns),ns|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Un(Em,ns),ns|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Un(Em,ns),ns|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Un(Em,ns),ns|=r;return ra(e,t,i,n),t.child}function eK(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function eO(e,t,n,r,i){var a=La(n)?Ih:Gi.current;return a=Ep(t,a),zm(t,i),n=eD(e,t,n,r,a,i),r=tD(),e!==null&&!Ma?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sc(e,t,i)):(tr&&r&&UR(t),t.flags|=1,ra(e,t,n,i),t.child)}function E6(e,t,n,r,i){if(La(n)){var a=!0;rS(t)}else a=!1;if(zm(t,i),t.stateNode===null)uE(e,t),KY(t,n,r),Qj(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Vs(u):(u=La(n)?Ih:Gi.current,u=Ep(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||c!==u)&&g6(t,s,r,u),uu=!1;var f=t.memoizedState;s.state=f,lS(t,r,s,i),c=t.memoizedState,l!==r||f!==c||Da.current||uu?(typeof d=="function"&&(Zj(t,n,d,r),c=t.memoizedState),(l=uu||p6(t,n,l,r,f,c,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,kY(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ho(t.type,l),s.props=u,h=t.pendingProps,f=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=Vs(c):(c=La(n)?Ih:Gi.current,c=Ep(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==h||f!==c)&&g6(t,s,r,c),uu=!1,f=t.memoizedState,s.state=f,lS(t,r,s,i);var p=t.memoizedState;l!==h||f!==p||Da.current||uu?(typeof m=="function"&&(Zj(t,n,m,r),p=t.memoizedState),(u=uu||p6(t,n,u,r,f,p,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=c,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return tO(e,t,n,r,a,i)}function tO(e,t,n,r,i,a){eK(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&o6(t,n,!1),Sc(e,t,a);r=t.stateNode,pve.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=_p(t,e.child,null,a),t.child=_p(t,null,l,a)):ra(e,t,l,a),t.memoizedState=r.state,i&&o6(t,n,!0),t.child}function tK(e){var t=e.stateNode;t.pendingContext?s6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&s6(e,t.context,!1),XR(e,t.containerInfo)}function S6(e,t,n,r,i){return Sp(),VR(i),t.flags|=256,ra(e,t,n,r),t.child}var nO={dehydrated:null,treeContext:null,retryLane:0};function rO(e){return{baseLanes:e,cachePool:null,transitions:null}}function nK(e,t,n){var r=t.pendingProps,i=sr.current,a=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Un(sr,i&1),e===null)return Kj(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=QC(s,r,0,null),e=Th(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=rO(n),t.memoizedState=nO,e):iD(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return gve(e,t,s,r,l,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Uu(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Uu(l,a):(a=Th(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?rO(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=nO,r}return a=e.child,e=a.sibling,r=Uu(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function iD(e,t){return t=QC({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function V1(e,t,n,r){return r!==null&&VR(r),_p(t,e.child,null,n),e=iD(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gve(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=nk(Error(ze(422))),V1(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=QC({mode:"visible",children:r.children},i,0,null),a=Th(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&_p(t,e.child,null,s),t.child.memoizedState=rO(s),t.memoizedState=nO,a);if(!(t.mode&1))return V1(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(ze(419)),r=nk(a,r,void 0),V1(e,t,s,r)}if(l=(s&e.childLanes)!==0,Ma||l){if(r=mi,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ec(e,i),ko(r,e,i,-1))}return uD(),r=nk(Error(ze(421))),V1(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Ave.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ls=$u(i.nextSibling),cs=t,tr=!0,vo=null,e!==null&&(Os[Ps++]=tc,Os[Ps++]=nc,Os[Ps++]=Rh,tc=e.id,nc=e.overflow,Rh=t),t=iD(t,r.children),t.flags|=4096,t)}function _6(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Xj(e.return,t,n)}function rk(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function rK(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ra(e,t,r.children,n),r=sr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_6(e,n,t);else if(e.tag===19)_6(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Un(sr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&cS(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rk(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&cS(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rk(t,!0,n,null,a);break;case"together":rk(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function uE(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Lh|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ze(153));if(t.child!==null){for(e=t.child,n=Uu(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Uu(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function yve(e,t,n){switch(t.tag){case 3:tK(t),Sp();break;case 5:AY(t);break;case 1:La(t.type)&&rS(t);break;case 4:XR(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Un(sS,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Un(sr,sr.current&1),t.flags|=128,null):n&t.child.childLanes?nK(e,t,n):(Un(sr,sr.current&1),e=Sc(e,t,n),e!==null?e.sibling:null);Un(sr,sr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return rK(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Un(sr,sr.current),r)break;return null;case 22:case 23:return t.lanes=0,JY(e,t,n)}return Sc(e,t,n)}var iK,iO,aK,sK;iK=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};iO=function(){};aK=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,oh(ll.current);var a=null;switch(n){case"input":i=Tj(e,i),r=Tj(e,r),a=[];break;case"select":i=yr({},i,{value:void 0}),r=yr({},r,{value:void 0}),a=[];break;case"textarea":i=Aj(e,i),r=Aj(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=tS)}Oj(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tx.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tx.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Wn("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};sK=function(e,t,n,r){n!==r&&(t.flags|=4)};function M0(e,t){if(!tr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function xve(e,t,n){var r=t.pendingProps;switch(HR(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oi(t),null;case 1:return La(t.type)&&nS(),Oi(t),null;case 3:return r=t.stateNode,Cp(),Kn(Da),Kn(Gi),QR(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(U1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vo!==null&&(hO(vo),vo=null))),iO(e,t),Oi(t),null;case 5:ZR(t);var i=oh($x.current);if(n=t.type,e!==null&&t.stateNode!=null)aK(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ze(166));return Oi(t),null}if(e=oh(ll.current),U1(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[rl]=t,r[Dx]=a,e=(t.mode&1)!==0,n){case"dialog":Wn("cancel",r),Wn("close",r);break;case"iframe":case"object":case"embed":Wn("load",r);break;case"video":case"audio":for(i=0;i<Ey.length;i++)Wn(Ey[i],r);break;case"source":Wn("error",r);break;case"img":case"image":case"link":Wn("error",r),Wn("load",r);break;case"details":Wn("toggle",r);break;case"input":M5(r,a),Wn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Wn("invalid",r);break;case"textarea":R5(r,a),Wn("invalid",r)}Oj(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&z1(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&z1(r.textContent,l,e),i=["children",""+l]):Tx.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Wn("scroll",r)}switch(n){case"input":M1(r),I5(r,a,!0);break;case"textarea":M1(r),D5(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=tS)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=IG(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[rl]=t,e[Dx]=r,iK(e,t,!1,!1),t.stateNode=e;e:{switch(s=Pj(n,r),n){case"dialog":Wn("cancel",e),Wn("close",e),i=r;break;case"iframe":case"object":case"embed":Wn("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ey.length;i++)Wn(Ey[i],e);i=r;break;case"source":Wn("error",e),i=r;break;case"img":case"image":case"link":Wn("error",e),Wn("load",e),i=r;break;case"details":Wn("toggle",e),i=r;break;case"input":M5(e,r),i=Tj(e,r),Wn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=yr({},r,{value:void 0}),Wn("invalid",e);break;case"textarea":R5(e,r),i=Aj(e,r),Wn("invalid",e);break;default:i=r}Oj(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?LG(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&RG(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Nx(e,c):typeof c=="number"&&Nx(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Tx.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Wn("scroll",e):c!=null&&kR(e,a,c,s))}switch(n){case"input":M1(e),I5(e,r,!1);break;case"textarea":M1(e),D5(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ed(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Lm(e,!!r.multiple,a,!1):r.defaultValue!=null&&Lm(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=tS)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oi(t),null;case 6:if(e&&t.stateNode!=null)sK(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ze(166));if(n=oh($x.current),oh(ll.current),U1(t)){if(r=t.stateNode,n=t.memoizedProps,r[rl]=t,(a=r.nodeValue!==n)&&(e=cs,e!==null))switch(e.tag){case 3:z1(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&z1(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rl]=t,t.stateNode=r}return Oi(t),null;case 13:if(Kn(sr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tr&&ls!==null&&t.mode&1&&!(t.flags&128))_Y(),Sp(),t.flags|=98560,a=!1;else if(a=U1(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ze(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ze(317));a[rl]=t}else Sp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oi(t),a=!1}else vo!==null&&(hO(vo),vo=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||sr.current&1?Qr===0&&(Qr=3):uD())),t.updateQueue!==null&&(t.flags|=4),Oi(t),null);case 4:return Cp(),iO(e,t),e===null&&Ix(t.stateNode.containerInfo),Oi(t),null;case 10:return GR(t.type._context),Oi(t),null;case 17:return La(t.type)&&nS(),Oi(t),null;case 19:if(Kn(sr),a=t.memoizedState,a===null)return Oi(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)M0(a,!1);else{if(Qr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=cS(e),s!==null){for(t.flags|=128,M0(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Un(sr,sr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Or()>Np&&(t.flags|=128,r=!0,M0(a,!1),t.lanes=4194304)}else{if(!r)if(e=cS(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),M0(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!tr)return Oi(t),null}else 2*Or()-a.renderingStartTime>Np&&n!==1073741824&&(t.flags|=128,r=!0,M0(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Or(),t.sibling=null,n=sr.current,Un(sr,r?n&1|2:n&1),t):(Oi(t),null);case 22:case 23:return cD(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ns&1073741824&&(Oi(t),t.subtreeFlags&6&&(t.flags|=8192)):Oi(t),null;case 24:return null;case 25:return null}throw Error(ze(156,t.tag))}function vve(e,t){switch(HR(t),t.tag){case 1:return La(t.type)&&nS(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cp(),Kn(Da),Kn(Gi),QR(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ZR(t),null;case 13:if(Kn(sr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ze(340));Sp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kn(sr),null;case 4:return Cp(),null;case 10:return GR(t.type._context),null;case 22:case 23:return cD(),null;case 24:return null;default:return null}}var W1=!1,$i=!1,bve=typeof WeakSet=="function"?WeakSet:Set,it=null;function wm(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Er(e,t,r)}else n.current=null}function aO(e,t,n){try{n()}catch(r){Er(e,t,r)}}var C6=!1;function wve(e,t){if(Uj=QE,e=dY(),zR(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(l=s+i),h!==a||r!==0&&h.nodeType!==3||(c=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hj={focusedElem:e,selectionRange:n},QE=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){t=it;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,x=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ho(t.type,g),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ze(163))}}catch(E){Er(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}return p=C6,C6=!1,p}function Uy(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&aO(t,n,a)}i=i.next}while(i!==r)}}function XC(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sO(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function oK(e){var t=e.alternate;t!==null&&(e.alternate=null,oK(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rl],delete t[Dx],delete t[qj],delete t[rve],delete t[ive])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lK(e){return e.tag===5||e.tag===3||e.tag===4}function T6(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lK(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oO(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=tS));else if(r!==4&&(e=e.child,e!==null))for(oO(e,t,n),e=e.sibling;e!==null;)oO(e,t,n),e=e.sibling}function lO(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(lO(e,t,n),e=e.sibling;e!==null;)lO(e,t,n),e=e.sibling}var vi=null,po=!1;function Gc(e,t,n){for(n=n.child;n!==null;)cK(e,t,n),n=n.sibling}function cK(e,t,n){if(ol&&typeof ol.onCommitFiberUnmount=="function")try{ol.onCommitFiberUnmount(UC,n)}catch{}switch(n.tag){case 5:$i||wm(n,t);case 6:var r=vi,i=po;vi=null,Gc(e,t,n),vi=r,po=i,vi!==null&&(po?(e=vi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vi.removeChild(n.stateNode));break;case 18:vi!==null&&(po?(e=vi,n=n.stateNode,e.nodeType===8?XN(e.parentNode,n):e.nodeType===1&&XN(e,n),Ox(e)):XN(vi,n.stateNode));break;case 4:r=vi,i=po,vi=n.stateNode.containerInfo,po=!0,Gc(e,t,n),vi=r,po=i;break;case 0:case 11:case 14:case 15:if(!$i&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&aO(n,t,s),i=i.next}while(i!==r)}Gc(e,t,n);break;case 1:if(!$i&&(wm(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Er(n,t,l)}Gc(e,t,n);break;case 21:Gc(e,t,n);break;case 22:n.mode&1?($i=(r=$i)||n.memoizedState!==null,Gc(e,t,n),$i=r):Gc(e,t,n);break;default:Gc(e,t,n)}}function N6(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new bve),t.forEach(function(r){var i=jve.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function so(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:vi=l.stateNode,po=!1;break e;case 3:vi=l.stateNode.containerInfo,po=!0;break e;case 4:vi=l.stateNode.containerInfo,po=!0;break e}l=l.return}if(vi===null)throw Error(ze(160));cK(a,s,i),vi=null,po=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Er(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)uK(t,e),t=t.sibling}function uK(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(so(t,e),Vo(e),r&4){try{Uy(3,e,e.return),XC(3,e)}catch(g){Er(e,e.return,g)}try{Uy(5,e,e.return)}catch(g){Er(e,e.return,g)}}break;case 1:so(t,e),Vo(e),r&512&&n!==null&&wm(n,n.return);break;case 5:if(so(t,e),Vo(e),r&512&&n!==null&&wm(n,n.return),e.flags&32){var i=e.stateNode;try{Nx(i,"")}catch(g){Er(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&PG(i,a),Pj(l,s);var u=Pj(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];d==="style"?LG(i,h):d==="dangerouslySetInnerHTML"?RG(i,h):d==="children"?Nx(i,h):kR(i,d,h,u)}switch(l){case"input":Nj(i,a);break;case"textarea":MG(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Lm(i,!!a.multiple,m,!1):f!==!!a.multiple&&(a.defaultValue!=null?Lm(i,!!a.multiple,a.defaultValue,!0):Lm(i,!!a.multiple,a.multiple?[]:"",!1))}i[Dx]=a}catch(g){Er(e,e.return,g)}}break;case 6:if(so(t,e),Vo(e),r&4){if(e.stateNode===null)throw Error(ze(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Er(e,e.return,g)}}break;case 3:if(so(t,e),Vo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ox(t.containerInfo)}catch(g){Er(e,e.return,g)}break;case 4:so(t,e),Vo(e);break;case 13:so(t,e),Vo(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(oD=Or())),r&4&&N6(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?($i=(u=$i)||d,so(t,e),$i=u):so(t,e),Vo(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(it=e,d=e.child;d!==null;){for(h=it=d;it!==null;){switch(f=it,m=f.child,f.tag){case 0:case 11:case 14:case 15:Uy(4,f,f.return);break;case 1:wm(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Er(r,n,g)}}break;case 5:wm(f,f.return);break;case 22:if(f.memoizedState!==null){A6(h);continue}}m!==null?(m.return=f,it=m):A6(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=DG("display",s))}catch(g){Er(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Er(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:so(t,e),Vo(e),r&4&&N6(e);break;case 21:break;default:so(t,e),Vo(e)}}function Vo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lK(n)){var r=n;break e}n=n.return}throw Error(ze(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Nx(i,""),r.flags&=-33);var a=T6(e);lO(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=T6(e);oO(e,l,s);break;default:throw Error(ze(161))}}catch(c){Er(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Eve(e,t,n){it=e,dK(e)}function dK(e,t,n){for(var r=(e.mode&1)!==0;it!==null;){var i=it,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||W1;if(!s){var l=i.alternate,c=l!==null&&l.memoizedState!==null||$i;l=W1;var u=$i;if(W1=s,($i=c)&&!u)for(it=i;it!==null;)s=it,c=s.child,s.tag===22&&s.memoizedState!==null?j6(i):c!==null?(c.return=s,it=c):j6(i);for(;a!==null;)it=a,dK(a),a=a.sibling;it=i,W1=l,$i=u}k6(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,it=a):k6(e)}}function k6(e){for(;it!==null;){var t=it;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$i||XC(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!$i)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ho(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&h6(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}h6(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ox(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ze(163))}$i||t.flags&512&&sO(t)}catch(f){Er(t,t.return,f)}}if(t===e){it=null;break}if(n=t.sibling,n!==null){n.return=t.return,it=n;break}it=t.return}}function A6(e){for(;it!==null;){var t=it;if(t===e){it=null;break}var n=t.sibling;if(n!==null){n.return=t.return,it=n;break}it=t.return}}function j6(e){for(;it!==null;){var t=it;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{XC(4,t)}catch(c){Er(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){Er(t,i,c)}}var a=t.return;try{sO(t)}catch(c){Er(t,a,c)}break;case 5:var s=t.return;try{sO(t)}catch(c){Er(t,s,c)}}}catch(c){Er(t,t.return,c)}if(t===e){it=null;break}var l=t.sibling;if(l!==null){l.return=t.return,it=l;break}it=t.return}}var Sve=Math.ceil,hS=Rc.ReactCurrentDispatcher,aD=Rc.ReactCurrentOwner,Fs=Rc.ReactCurrentBatchConfig,fn=0,mi=null,zr=null,Ci=0,ns=0,Em=bd(0),Qr=0,Ux=null,Lh=0,ZC=0,sD=0,Hy=null,ja=null,oD=0,Np=1/0,Xl=null,fS=!1,cO=null,Fu=null,q1=!1,ku=null,mS=0,Vy=0,uO=null,dE=-1,hE=0;function pa(){return fn&6?Or():dE!==-1?dE:dE=Or()}function zu(e){return e.mode&1?fn&2&&Ci!==0?Ci&-Ci:sve.transition!==null?(hE===0&&(hE=KG()),hE):(e=Tn,e!==0||(e=window.event,e=e===void 0?16:nY(e.type)),e):1}function ko(e,t,n,r){if(50<Vy)throw Vy=0,uO=null,Error(ze(185));bb(e,n,r),(!(fn&2)||e!==mi)&&(e===mi&&(!(fn&2)&&(ZC|=n),Qr===4&&yu(e,Ci)),$a(e,r),n===1&&fn===0&&!(t.mode&1)&&(Np=Or()+500,GC&&wd()))}function $a(e,t){var n=e.callbackNode;sxe(e,t);var r=ZE(e,e===mi?Ci:0);if(r===0)n!==null&&B5(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&B5(n),t===1)e.tag===0?ave(O6.bind(null,e)):wY(O6.bind(null,e)),tve(function(){!(fn&6)&&wd()}),n=null;else{switch(XG(r)){case 1:n=MR;break;case 4:n=GG;break;case 16:n=XE;break;case 536870912:n=YG;break;default:n=XE}n=vK(n,hK.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hK(e,t){if(dE=-1,hE=0,fn&6)throw Error(ze(327));var n=e.callbackNode;if(Um()&&e.callbackNode!==n)return null;var r=ZE(e,e===mi?Ci:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=pS(e,r);else{t=r;var i=fn;fn|=2;var a=mK();(mi!==e||Ci!==t)&&(Xl=null,Np=Or()+500,Ch(e,t));do try{Tve();break}catch(l){fK(e,l)}while(!0);qR(),hS.current=a,fn=i,zr!==null?t=0:(mi=null,Ci=0,t=Qr)}if(t!==0){if(t===2&&(i=Lj(e),i!==0&&(r=i,t=dO(e,i))),t===1)throw n=Ux,Ch(e,0),yu(e,r),$a(e,Or()),n;if(t===6)yu(e,r);else{if(i=e.current.alternate,!(r&30)&&!_ve(i)&&(t=pS(e,r),t===2&&(a=Lj(e),a!==0&&(r=a,t=dO(e,a))),t===1))throw n=Ux,Ch(e,0),yu(e,r),$a(e,Or()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ze(345));case 2:Wd(e,ja,Xl);break;case 3:if(yu(e,r),(r&130023424)===r&&(t=oD+500-Or(),10<t)){if(ZE(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){pa(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wj(Wd.bind(null,e,ja,Xl),t);break}Wd(e,ja,Xl);break;case 4:if(yu(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-No(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=Or()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sve(r/1960))-r,10<r){e.timeoutHandle=Wj(Wd.bind(null,e,ja,Xl),r);break}Wd(e,ja,Xl);break;case 5:Wd(e,ja,Xl);break;default:throw Error(ze(329))}}}return $a(e,Or()),e.callbackNode===n?hK.bind(null,e):null}function dO(e,t){var n=Hy;return e.current.memoizedState.isDehydrated&&(Ch(e,t).flags|=256),e=pS(e,t),e!==2&&(t=ja,ja=n,t!==null&&hO(t)),e}function hO(e){ja===null?ja=e:ja.push.apply(ja,e)}function _ve(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Ro(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yu(e,t){for(t&=~sD,t&=~ZC,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-No(t),r=1<<n;e[n]=-1,t&=~r}}function O6(e){if(fn&6)throw Error(ze(327));Um();var t=ZE(e,0);if(!(t&1))return $a(e,Or()),null;var n=pS(e,t);if(e.tag!==0&&n===2){var r=Lj(e);r!==0&&(t=r,n=dO(e,r))}if(n===1)throw n=Ux,Ch(e,0),yu(e,t),$a(e,Or()),n;if(n===6)throw Error(ze(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wd(e,ja,Xl),$a(e,Or()),null}function lD(e,t){var n=fn;fn|=1;try{return e(t)}finally{fn=n,fn===0&&(Np=Or()+500,GC&&wd())}}function $h(e){ku!==null&&ku.tag===0&&!(fn&6)&&Um();var t=fn;fn|=1;var n=Fs.transition,r=Tn;try{if(Fs.transition=null,Tn=1,e)return e()}finally{Tn=r,Fs.transition=n,fn=t,!(fn&6)&&wd()}}function cD(){ns=Em.current,Kn(Em)}function Ch(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,eve(n)),zr!==null)for(n=zr.return;n!==null;){var r=n;switch(HR(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nS();break;case 3:Cp(),Kn(Da),Kn(Gi),QR();break;case 5:ZR(r);break;case 4:Cp();break;case 13:Kn(sr);break;case 19:Kn(sr);break;case 10:GR(r.type._context);break;case 22:case 23:cD()}n=n.return}if(mi=e,zr=e=Uu(e.current,null),Ci=ns=t,Qr=0,Ux=null,sD=ZC=Lh=0,ja=Hy=null,sh!==null){for(t=0;t<sh.length;t++)if(n=sh[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}sh=null}return e}function fK(e,t){do{var n=zr;try{if(qR(),lE.current=dS,uS){for(var r=pr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}uS=!1}if(Dh=0,ci=Yr=pr=null,zy=!1,Bx=0,aD.current=null,n===null||n.return===null){Qr=1,Ux=t,zr=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Ci,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=x6(s);if(m!==null){m.flags&=-257,v6(m,s,l,a,t),m.mode&1&&y6(a,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}else{if(!(t&1)){y6(a,u,t),uD();break e}c=Error(ze(426))}}else if(tr&&l.mode&1){var x=x6(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),v6(x,s,l,a,t),VR(Tp(c,l));break e}}a=c=Tp(c,l),Qr!==4&&(Qr=2),Hy===null?Hy=[a]:Hy.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=XY(a,c,t);d6(a,y);break e;case 1:l=c;var v=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Fu===null||!Fu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var E=ZY(a,l,t);d6(a,E);break e}}a=a.return}while(a!==null)}gK(n)}catch(_){t=_,zr===n&&n!==null&&(zr=n=n.return);continue}break}while(!0)}function mK(){var e=hS.current;return hS.current=dS,e===null?dS:e}function uD(){(Qr===0||Qr===3||Qr===2)&&(Qr=4),mi===null||!(Lh&268435455)&&!(ZC&268435455)||yu(mi,Ci)}function pS(e,t){var n=fn;fn|=2;var r=mK();(mi!==e||Ci!==t)&&(Xl=null,Ch(e,t));do try{Cve();break}catch(i){fK(e,i)}while(!0);if(qR(),fn=n,hS.current=r,zr!==null)throw Error(ze(261));return mi=null,Ci=0,Qr}function Cve(){for(;zr!==null;)pK(zr)}function Tve(){for(;zr!==null&&!Zye();)pK(zr)}function pK(e){var t=xK(e.alternate,e,ns);e.memoizedProps=e.pendingProps,t===null?gK(e):zr=t,aD.current=null}function gK(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=vve(n,t),n!==null){n.flags&=32767,zr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qr=6,zr=null;return}}else if(n=xve(n,t,ns),n!==null){zr=n;return}if(t=t.sibling,t!==null){zr=t;return}zr=t=e}while(t!==null);Qr===0&&(Qr=5)}function Wd(e,t,n){var r=Tn,i=Fs.transition;try{Fs.transition=null,Tn=1,Nve(e,t,n,r)}finally{Fs.transition=i,Tn=r}return null}function Nve(e,t,n,r){do Um();while(ku!==null);if(fn&6)throw Error(ze(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ze(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(oxe(e,a),e===mi&&(zr=mi=null,Ci=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||q1||(q1=!0,vK(XE,function(){return Um(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Fs.transition,Fs.transition=null;var s=Tn;Tn=1;var l=fn;fn|=4,aD.current=null,wve(e,n),uK(n,e),Gxe(Hj),QE=!!Uj,Hj=Uj=null,e.current=n,Eve(n),Qye(),fn=l,Tn=s,Fs.transition=a}else e.current=n;if(q1&&(q1=!1,ku=e,mS=i),a=e.pendingLanes,a===0&&(Fu=null),txe(n.stateNode),$a(e,Or()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(fS)throw fS=!1,e=cO,cO=null,e;return mS&1&&e.tag!==0&&Um(),a=e.pendingLanes,a&1?e===uO?Vy++:(Vy=0,uO=e):Vy=0,wd(),null}function Um(){if(ku!==null){var e=XG(mS),t=Fs.transition,n=Tn;try{if(Fs.transition=null,Tn=16>e?16:e,ku===null)var r=!1;else{if(e=ku,ku=null,mS=0,fn&6)throw Error(ze(331));var i=fn;for(fn|=4,it=e.current;it!==null;){var a=it,s=a.child;if(it.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(it=u;it!==null;){var d=it;switch(d.tag){case 0:case 11:case 15:Uy(8,d,a)}var h=d.child;if(h!==null)h.return=d,it=h;else for(;it!==null;){d=it;var f=d.sibling,m=d.return;if(oK(d),d===u){it=null;break}if(f!==null){f.return=m,it=f;break}it=m}}}var p=a.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}it=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,it=s;else e:for(;it!==null;){if(a=it,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Uy(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,it=y;break e}it=a.return}}var v=e.current;for(it=v;it!==null;){s=it;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,it=b;else e:for(s=v;it!==null;){if(l=it,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:XC(9,l)}}catch(_){Er(l,l.return,_)}if(l===s){it=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,it=E;break e}it=l.return}}if(fn=i,wd(),ol&&typeof ol.onPostCommitFiberRoot=="function")try{ol.onPostCommitFiberRoot(UC,e)}catch{}r=!0}return r}finally{Tn=n,Fs.transition=t}}return!1}function P6(e,t,n){t=Tp(n,t),t=XY(e,t,1),e=Bu(e,t,1),t=pa(),e!==null&&(bb(e,1,t),$a(e,t))}function Er(e,t,n){if(e.tag===3)P6(e,e,n);else for(;t!==null;){if(t.tag===3){P6(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fu===null||!Fu.has(r))){e=Tp(n,e),e=ZY(t,e,1),t=Bu(t,e,1),e=pa(),t!==null&&(bb(t,1,e),$a(t,e));break}}t=t.return}}function kve(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=pa(),e.pingedLanes|=e.suspendedLanes&n,mi===e&&(Ci&n)===n&&(Qr===4||Qr===3&&(Ci&130023424)===Ci&&500>Or()-oD?Ch(e,0):sD|=n),$a(e,t)}function yK(e,t){t===0&&(e.mode&1?(t=D1,D1<<=1,!(D1&130023424)&&(D1=4194304)):t=1);var n=pa();e=Ec(e,t),e!==null&&(bb(e,t,n),$a(e,n))}function Ave(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yK(e,n)}function jve(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ze(314))}r!==null&&r.delete(t),yK(e,n)}var xK;xK=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Da.current)Ma=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ma=!1,yve(e,t,n);Ma=!!(e.flags&131072)}else Ma=!1,tr&&t.flags&1048576&&EY(t,aS,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;uE(e,t),e=t.pendingProps;var i=Ep(t,Gi.current);zm(t,n),i=eD(null,t,r,e,i,n);var a=tD();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,La(r)?(a=!0,rS(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,KR(t),i.updater=KC,t.stateNode=i,i._reactInternals=t,Qj(t,r,e,n),t=tO(null,t,r,!0,a,n)):(t.tag=0,tr&&a&&UR(t),ra(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(uE(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Pve(r),e=ho(r,e),i){case 0:t=eO(null,t,r,e,n);break e;case 1:t=E6(null,t,r,e,n);break e;case 11:t=b6(null,t,r,e,n);break e;case 14:t=w6(null,t,r,ho(r.type,e),n);break e}throw Error(ze(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ho(r,i),eO(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ho(r,i),E6(e,t,r,i,n);case 3:e:{if(tK(t),e===null)throw Error(ze(387));r=t.pendingProps,a=t.memoizedState,i=a.element,kY(e,t),lS(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Tp(Error(ze(423)),t),t=S6(e,t,r,n,i);break e}else if(r!==i){i=Tp(Error(ze(424)),t),t=S6(e,t,r,n,i);break e}else for(ls=$u(t.stateNode.containerInfo.firstChild),cs=t,tr=!0,vo=null,n=TY(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sp(),r===i){t=Sc(e,t,n);break e}ra(e,t,r,n)}t=t.child}return t;case 5:return AY(t),e===null&&Kj(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Vj(r,i)?s=null:a!==null&&Vj(r,a)&&(t.flags|=32),eK(e,t),ra(e,t,s,n),t.child;case 6:return e===null&&Kj(t),null;case 13:return nK(e,t,n);case 4:return XR(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=_p(t,null,r,n):ra(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ho(r,i),b6(e,t,r,i,n);case 7:return ra(e,t,t.pendingProps,n),t.child;case 8:return ra(e,t,t.pendingProps.children,n),t.child;case 12:return ra(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Un(sS,r._currentValue),r._currentValue=s,a!==null)if(Ro(a.value,s)){if(a.children===i.children&&!Da.current){t=Sc(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){s=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=fc(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Xj(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(ze(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Xj(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}ra(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,zm(t,n),i=Vs(i),r=r(i),t.flags|=1,ra(e,t,r,n),t.child;case 14:return r=t.type,i=ho(r,t.pendingProps),i=ho(r.type,i),w6(e,t,r,i,n);case 15:return QY(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ho(r,i),uE(e,t),t.tag=1,La(r)?(e=!0,rS(t)):e=!1,zm(t,n),KY(t,r,i),Qj(t,r,i,n),tO(null,t,r,!0,e,n);case 19:return rK(e,t,n);case 22:return JY(e,t,n)}throw Error(ze(156,t.tag))};function vK(e,t){return qG(e,t)}function Ove(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ls(e,t,n,r){return new Ove(e,t,n,r)}function dD(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pve(e){if(typeof e=="function")return dD(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jR)return 11;if(e===OR)return 14}return 2}function Uu(e,t){var n=e.alternate;return n===null?(n=Ls(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fE(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")dD(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case hm:return Th(n.children,i,a,t);case AR:s=8,i|=8;break;case Ej:return e=Ls(12,n,t,i|2),e.elementType=Ej,e.lanes=a,e;case Sj:return e=Ls(13,n,t,i),e.elementType=Sj,e.lanes=a,e;case _j:return e=Ls(19,n,t,i),e.elementType=_j,e.lanes=a,e;case AG:return QC(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case NG:s=10;break e;case kG:s=9;break e;case jR:s=11;break e;case OR:s=14;break e;case cu:s=16,r=null;break e}throw Error(ze(130,e==null?e:typeof e,""))}return t=Ls(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Th(e,t,n,r){return e=Ls(7,e,r,t),e.lanes=n,e}function QC(e,t,n,r){return e=Ls(22,e,r,t),e.elementType=AG,e.lanes=n,e.stateNode={isHidden:!1},e}function ik(e,t,n){return e=Ls(6,e,null,t),e.lanes=n,e}function ak(e,t,n){return t=Ls(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mve(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=BN(0),this.expirationTimes=BN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=BN(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hD(e,t,n,r,i,a,s,l,c){return e=new Mve(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ls(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},KR(a),e}function Ive(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dm,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function bK(e){if(!e)return td;e=e._reactInternals;e:{if(gf(e)!==e||e.tag!==1)throw Error(ze(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(La(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ze(171))}if(e.tag===1){var n=e.type;if(La(n))return bY(e,n,t)}return t}function wK(e,t,n,r,i,a,s,l,c){return e=hD(n,r,!0,e,i,a,s,l,c),e.context=bK(null),n=e.current,r=pa(),i=zu(n),a=fc(r,i),a.callback=t??null,Bu(n,a,i),e.current.lanes=i,bb(e,i,r),$a(e,r),e}function JC(e,t,n,r){var i=t.current,a=pa(),s=zu(i);return n=bK(n),t.context===null?t.context=n:t.pendingContext=n,t=fc(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Bu(i,t,s),e!==null&&(ko(e,i,s,a),oE(e,i,s)),s}function gS(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function M6(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fD(e,t){M6(e,t),(e=e.alternate)&&M6(e,t)}function Rve(){return null}var EK=typeof reportError=="function"?reportError:function(e){console.error(e)};function mD(e){this._internalRoot=e}e2.prototype.render=mD.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ze(409));JC(e,t,null,null)};e2.prototype.unmount=mD.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$h(function(){JC(null,e,null,null)}),t[wc]=null}};function e2(e){this._internalRoot=e}e2.prototype.unstable_scheduleHydration=function(e){if(e){var t=JG();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gu.length&&t!==0&&t<gu[n].priority;n++);gu.splice(n,0,e),n===0&&tY(e)}};function pD(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function t2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function I6(){}function Dve(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=gS(s);a.call(u)}}var s=wK(t,r,e,0,null,!1,!1,"",I6);return e._reactRootContainer=s,e[wc]=s.current,Ix(e.nodeType===8?e.parentNode:e),$h(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=gS(c);l.call(u)}}var c=hD(e,0,!1,null,null,!1,!1,"",I6);return e._reactRootContainer=c,e[wc]=c.current,Ix(e.nodeType===8?e.parentNode:e),$h(function(){JC(t,c,n,r)}),c}function n2(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var l=i;i=function(){var c=gS(s);l.call(c)}}JC(t,s,e,i)}else s=Dve(n,t,e,i,r);return gS(s)}ZG=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wy(t.pendingLanes);n!==0&&(IR(t,n|1),$a(t,Or()),!(fn&6)&&(Np=Or()+500,wd()))}break;case 13:$h(function(){var r=Ec(e,1);if(r!==null){var i=pa();ko(r,e,1,i)}}),fD(e,1)}};RR=function(e){if(e.tag===13){var t=Ec(e,134217728);if(t!==null){var n=pa();ko(t,e,134217728,n)}fD(e,134217728)}};QG=function(e){if(e.tag===13){var t=zu(e),n=Ec(e,t);if(n!==null){var r=pa();ko(n,e,t,r)}fD(e,t)}};JG=function(){return Tn};eY=function(e,t){var n=Tn;try{return Tn=e,t()}finally{Tn=n}};Ij=function(e,t,n){switch(t){case"input":if(Nj(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=qC(r);if(!i)throw Error(ze(90));OG(r),Nj(r,i)}}}break;case"textarea":MG(e,n);break;case"select":t=n.value,t!=null&&Lm(e,!!n.multiple,t,!1)}};FG=lD;zG=$h;var Lve={usingClientEntryPoint:!1,Events:[Eb,gm,qC,$G,BG,lD]},I0={findFiberByHostInstance:ah,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$ve={bundleType:I0.bundleType,version:I0.version,rendererPackageName:I0.rendererPackageName,rendererConfig:I0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=VG(e),e===null?null:e.stateNode},findFiberByHostInstance:I0.findFiberByHostInstance||Rve,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var G1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!G1.isDisabled&&G1.supportsFiber)try{UC=G1.inject($ve),ol=G1}catch{}}vs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lve;vs.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pD(t))throw Error(ze(200));return Ive(e,t,null,n)};vs.createRoot=function(e,t){if(!pD(e))throw Error(ze(299));var n=!1,r="",i=EK;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=hD(e,1,!1,null,null,n,!1,r,i),e[wc]=t.current,Ix(e.nodeType===8?e.parentNode:e),new mD(t)};vs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ze(188)):(e=Object.keys(e).join(","),Error(ze(268,e)));return e=VG(t),e=e===null?null:e.stateNode,e};vs.flushSync=function(e){return $h(e)};vs.hydrate=function(e,t,n){if(!t2(t))throw Error(ze(200));return n2(null,e,t,!0,n)};vs.hydrateRoot=function(e,t,n){if(!pD(e))throw Error(ze(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=EK;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=wK(t,null,e,1,n??null,i,!1,a,s),e[wc]=t.current,Ix(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new e2(t)};vs.render=function(e,t,n){if(!t2(t))throw Error(ze(200));return n2(null,e,t,!1,n)};vs.unmountComponentAtNode=function(e){if(!t2(e))throw Error(ze(40));return e._reactRootContainer?($h(function(){n2(null,null,e,!1,function(){e._reactRootContainer=null,e[wc]=null})}),!0):!1};vs.unstable_batchedUpdates=lD;vs.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!t2(n))throw Error(ze(200));if(e==null||e._reactInternals===void 0)throw Error(ze(38));return n2(e,t,n,!1,r)};vs.version="18.3.1-next-f1338f8080-20240426";function SK(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SK)}catch(e){console.error(e)}}SK(),SG.exports=vs;var Dc=SG.exports;const gD=sn(Dc);var _K,R6=Dc;_K=R6.createRoot,R6.hydrateRoot;const Bve=1,Fve=1e6;let sk=0;function zve(){return sk=(sk+1)%Number.MAX_SAFE_INTEGER,sk.toString()}const ok=new Map,D6=e=>{if(ok.has(e))return;const t=setTimeout(()=>{ok.delete(e),Wy({type:"REMOVE_TOAST",toastId:e})},Fve);ok.set(e,t)},Uve=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Bve)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?D6(n):e.toasts.forEach(r=>{D6(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},mE=[];let pE={toasts:[]};function Wy(e){pE=Uve(pE,e),mE.forEach(t=>{t(pE)})}function er({...e}){const t=zve(),n=i=>Wy({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Wy({type:"DISMISS_TOAST",toastId:t});return Wy({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function za(){const[e,t]=w.useState(pE);return w.useEffect(()=>(mE.push(t),()=>{const n=mE.indexOf(t);n>-1&&mE.splice(n,1)}),[e]),{...e,toast:er,dismiss:n=>Wy({type:"DISMISS_TOAST",toastId:n})}}function Ie(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Hve(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function yD(...e){return t=>e.forEach(n=>Hve(n,t))}function jt(...e){return w.useCallback(yD(...e),e)}function Vve(e,t=[]){let n=[];function r(a,s){const l=w.createContext(s),c=n.length;n=[...n,s];function u(h){const{scope:f,children:m,...p}=h,g=(f==null?void 0:f[e][c])||l,x=w.useMemo(()=>p,Object.values(p));return o.jsx(g.Provider,{value:x,children:m})}function d(h,f){const m=(f==null?void 0:f[e][c])||l,p=w.useContext(m);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const i=()=>{const a=n.map(s=>w.createContext(s));return function(l){const c=(l==null?void 0:l[e])||a;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,Wve(i,...t)]}function Wve(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var _c=w.forwardRef((e,t)=>{const{children:n,...r}=e,i=w.Children.toArray(n),a=i.find(qve);if(a){const s=a.props.children,l=i.map(c=>c===a?w.Children.count(s)>1?w.Children.only(null):w.isValidElement(s)?s.props.children:null:c);return o.jsx(fO,{...r,ref:t,children:w.isValidElement(s)?w.cloneElement(s,void 0,l):null})}return o.jsx(fO,{...r,ref:t,children:n})});_c.displayName="Slot";var fO=w.forwardRef((e,t)=>{const{children:n,...r}=e;if(w.isValidElement(n)){const i=Yve(n);return w.cloneElement(n,{...Gve(r,n.props),ref:t?yD(t,i):i})}return w.Children.count(n)>1?w.Children.only(null):null});fO.displayName="SlotClone";var xD=({children:e})=>o.jsx(o.Fragment,{children:e});function qve(e){return w.isValidElement(e)&&e.type===xD}function Gve(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{a(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function Yve(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Rg(e){const t=e+"CollectionProvider",[n,r]=Vve(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:p,children:g}=m,x=q.useRef(null),y=q.useRef(new Map).current;return o.jsx(i,{scope:p,itemMap:y,collectionRef:x,children:g})};s.displayName=t;const l=e+"CollectionSlot",c=q.forwardRef((m,p)=>{const{scope:g,children:x}=m,y=a(l,g),v=jt(p,y.collectionRef);return o.jsx(_c,{ref:v,children:x})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=q.forwardRef((m,p)=>{const{scope:g,children:x,...y}=m,v=q.useRef(null),b=jt(p,v),E=a(u,g);return q.useEffect(()=>(E.itemMap.set(v,{ref:v,...y}),()=>void E.itemMap.delete(v))),o.jsx(_c,{[d]:"",ref:b,children:x})});h.displayName=u;function f(m){const p=a(e+"CollectionConsumer",m);return q.useCallback(()=>{const x=p.collectionRef.current;if(!x)return[];const y=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(p.itemMap.values()).sort((E,_)=>y.indexOf(E.ref.current)-y.indexOf(_.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:s,Slot:c,ItemSlot:h},f,r]}function Kve(e,t){const n=w.createContext(t),r=a=>{const{children:s,...l}=a,c=w.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:s})};r.displayName=e+"Provider";function i(a){const s=w.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function Ua(e,t=[]){let n=[];function r(a,s){const l=w.createContext(s),c=n.length;n=[...n,s];const u=h=>{var y;const{scope:f,children:m,...p}=h,g=((y=f==null?void 0:f[e])==null?void 0:y[c])||l,x=w.useMemo(()=>p,Object.values(p));return o.jsx(g.Provider,{value:x,children:m})};u.displayName=a+"Provider";function d(h,f){var g;const m=((g=f==null?void 0:f[e])==null?void 0:g[c])||l,p=w.useContext(m);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=n.map(s=>w.createContext(s));return function(l){const c=(l==null?void 0:l[e])||a;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,Xve(i,...t)]}function Xve(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var Zve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],rt=Zve.reduce((e,t)=>{const n=w.forwardRef((r,i)=>{const{asChild:a,...s}=r,l=a?_c:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...s,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function vD(e,t){e&&Dc.flushSync(()=>e.dispatchEvent(t))}function lr(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Qve(e,t=globalThis==null?void 0:globalThis.document){const n=lr(e);w.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Jve="DismissableLayer",mO="dismissableLayer.update",ebe="dismissableLayer.pointerDownOutside",tbe="dismissableLayer.focusOutside",L6,CK=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yf=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:l,...c}=e,u=w.useContext(CK),[d,h]=w.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=w.useState({}),p=jt(t,C=>h(C)),g=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(x),v=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,E=v>=y,_=rbe(C=>{const T=C.target,j=[...u.branches].some(k=>k.contains(T));!E||j||(i==null||i(C),s==null||s(C),C.defaultPrevented||l==null||l())},f),S=ibe(C=>{const T=C.target;[...u.branches].some(k=>k.contains(T))||(a==null||a(C),s==null||s(C),C.defaultPrevented||l==null||l())},f);return Qve(C=>{v===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},f),w.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(L6=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),$6(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=L6)}},[d,f,n,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),$6())},[d,u]),w.useEffect(()=>{const C=()=>m({});return document.addEventListener(mO,C),()=>document.removeEventListener(mO,C)},[]),o.jsx(rt.div,{...c,ref:p,style:{pointerEvents:b?E?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,_.onPointerDownCapture)})});yf.displayName=Jve;var nbe="DismissableLayerBranch",TK=w.forwardRef((e,t)=>{const n=w.useContext(CK),r=w.useRef(null),i=jt(t,r);return w.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),o.jsx(rt.div,{...e,ref:i})});TK.displayName=nbe;function rbe(e,t=globalThis==null?void 0:globalThis.document){const n=lr(e),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){NK(ebe,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function ibe(e,t=globalThis==null?void 0:globalThis.document){const n=lr(e),r=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!r.current&&NK(tbe,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $6(){const e=new CustomEvent(mO);document.dispatchEvent(e)}function NK(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?vD(i,a):i.dispatchEvent(a)}var abe=yf,sbe=TK,pi=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},obe="Portal",Dg=w.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[i,a]=w.useState(!1);pi(()=>a(!0),[]);const s=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return s?gD.createPortal(o.jsx(rt.div,{...r,ref:t}),s):null});Dg.displayName=obe;function lbe(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var ti=e=>{const{present:t,children:n}=e,r=cbe(t),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),a=jt(r.ref,ube(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:a}):null};ti.displayName="Presence";function cbe(e){const[t,n]=w.useState(),r=w.useRef({}),i=w.useRef(e),a=w.useRef("none"),s=e?"mounted":"unmounted",[l,c]=lbe(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Y1(r.current);a.current=l==="mounted"?u:"none"},[l]),pi(()=>{const u=r.current,d=i.current;if(d!==e){const f=a.current,m=Y1(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),pi(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const g=Y1(r.current).includes(m.animationName);if(m.target===t&&g&&(c("ANIMATION_END"),!i.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},f=m=>{m.target===t&&(a.current=Y1(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Y1(e){return(e==null?void 0:e.animationName)||"none"}function ube(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function qs({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=dbe({defaultProp:t,onChange:n}),a=e!==void 0,s=a?e:r,l=lr(n),c=w.useCallback(u=>{if(a){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else i(u)},[a,e,i,l]);return[s,c]}function dbe({defaultProp:e,onChange:t}){const n=w.useState(e),[r]=n,i=w.useRef(r),a=lr(t);return w.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var hbe="VisuallyHidden",_b=w.forwardRef((e,t)=>o.jsx(rt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));_b.displayName=hbe;var fbe=_b,bD="ToastProvider",[wD,mbe,pbe]=Rg("Toast"),[kK,NRt]=Ua("Toast",[pbe]),[gbe,r2]=kK(bD),AK=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:s}=e,[l,c]=w.useState(null),[u,d]=w.useState(0),h=w.useRef(!1),f=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${bD}\`. Expected non-empty \`string\`.`),o.jsx(wD.Provider,{scope:t,children:o.jsx(gbe,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:w.useCallback(()=>d(m=>m+1),[]),onToastRemove:w.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:s})})};AK.displayName=bD;var jK="ToastViewport",ybe=["F8"],pO="toast.viewportPause",gO="toast.viewportResume",OK=w.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=ybe,label:i="Notifications ({hotkey})",...a}=e,s=r2(jK,n),l=mbe(n),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),h=w.useRef(null),f=jt(t,h,s.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=s.toastCount>0;w.useEffect(()=>{const x=y=>{var b;r.length!==0&&r.every(E=>y[E]||y.code===E)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),w.useEffect(()=>{const x=c.current,y=h.current;if(p&&x&&y){const v=()=>{if(!s.isClosePausedRef.current){const S=new CustomEvent(pO);y.dispatchEvent(S),s.isClosePausedRef.current=!0}},b=()=>{if(s.isClosePausedRef.current){const S=new CustomEvent(gO);y.dispatchEvent(S),s.isClosePausedRef.current=!1}},E=S=>{!x.contains(S.relatedTarget)&&b()},_=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",v),x.addEventListener("focusout",E),x.addEventListener("pointermove",v),x.addEventListener("pointerleave",_),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",v),x.removeEventListener("focusout",E),x.removeEventListener("pointermove",v),x.removeEventListener("pointerleave",_),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[p,s.isClosePausedRef]);const g=w.useCallback(({tabbingDirection:x})=>{const v=l().map(b=>{const E=b.ref.current,_=[E,...jbe(E)];return x==="forwards"?_:_.reverse()});return(x==="forwards"?v.reverse():v).flat()},[l]);return w.useEffect(()=>{const x=h.current;if(x){const y=v=>{var _,S,C;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const T=document.activeElement,j=v.shiftKey;if(v.target===x&&j){(_=u.current)==null||_.focus();return}const M=g({tabbingDirection:j?"backwards":"forwards"}),B=M.findIndex(N=>N===T);lk(M.slice(B+1))?v.preventDefault():j?(S=u.current)==null||S.focus():(C=d.current)==null||C.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[l,g]),o.jsxs(sbe,{ref:c,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&o.jsx(yO,{ref:u,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});lk(x)}}),o.jsx(wD.Slot,{scope:n,children:o.jsx(rt.ol,{tabIndex:-1,...a,ref:f})}),p&&o.jsx(yO,{ref:d,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});lk(x)}})]})});OK.displayName=jK;var PK="ToastFocusProxy",yO=w.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=r2(PK,n);return o.jsx(_b,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:s=>{var u;const l=s.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&r()}})});yO.displayName=PK;var i2="Toast",xbe="toast.swipeStart",vbe="toast.swipeMove",bbe="toast.swipeCancel",wbe="toast.swipeEnd",MK=w.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...s}=e,[l=!0,c]=qs({prop:r,defaultProp:i,onChange:a});return o.jsx(ti,{present:n||l,children:o.jsx(_be,{open:l,...s,ref:t,onClose:()=>c(!1),onPause:lr(e.onPause),onResume:lr(e.onResume),onSwipeStart:Ie(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ie(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ie(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ie(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});MK.displayName=i2;var[Ebe,Sbe]=kK(i2,{onClose(){}}),_be=w.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:s,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...p}=e,g=r2(i2,n),[x,y]=w.useState(null),v=jt(t,N=>y(N)),b=w.useRef(null),E=w.useRef(null),_=i||g.duration,S=w.useRef(0),C=w.useRef(_),T=w.useRef(0),{onToastAdd:j,onToastRemove:k}=g,O=lr(()=>{var D;(x==null?void 0:x.contains(document.activeElement))&&((D=g.viewport)==null||D.focus()),s()}),M=w.useCallback(N=>{!N||N===1/0||(window.clearTimeout(T.current),S.current=new Date().getTime(),T.current=window.setTimeout(O,N))},[O]);w.useEffect(()=>{const N=g.viewport;if(N){const D=()=>{M(C.current),u==null||u()},P=()=>{const L=new Date().getTime()-S.current;C.current=C.current-L,window.clearTimeout(T.current),c==null||c()};return N.addEventListener(pO,P),N.addEventListener(gO,D),()=>{N.removeEventListener(pO,P),N.removeEventListener(gO,D)}}},[g.viewport,_,c,u,M]),w.useEffect(()=>{a&&!g.isClosePausedRef.current&&M(_)},[a,_,g.isClosePausedRef,M]),w.useEffect(()=>(j(),()=>k()),[j,k]);const B=w.useMemo(()=>x?FK(x):null,[x]);return g.viewport?o.jsxs(o.Fragment,{children:[B&&o.jsx(Cbe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:B}),o.jsx(Ebe,{scope:n,onClose:O,children:Dc.createPortal(o.jsx(wD.ItemSlot,{scope:n,children:o.jsx(abe,{asChild:!0,onEscapeKeyDown:Ie(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||O(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(rt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ie(e.onKeyDown,N=>{N.key==="Escape"&&(l==null||l(N.nativeEvent),N.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Ie(e.onPointerDown,N=>{N.button===0&&(b.current={x:N.clientX,y:N.clientY})}),onPointerMove:Ie(e.onPointerMove,N=>{if(!b.current)return;const D=N.clientX-b.current.x,P=N.clientY-b.current.y,L=!!E.current,I=["left","right"].includes(g.swipeDirection),U=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,$=I?U(0,D):0,W=I?0:U(0,P),z=N.pointerType==="touch"?10:2,R={x:$,y:W},G={originalEvent:N,delta:R};L?(E.current=R,K1(vbe,h,G,{discrete:!1})):B6(R,g.swipeDirection,z)?(E.current=R,K1(xbe,d,G,{discrete:!1}),N.target.setPointerCapture(N.pointerId)):(Math.abs(D)>z||Math.abs(P)>z)&&(b.current=null)}),onPointerUp:Ie(e.onPointerUp,N=>{const D=E.current,P=N.target;if(P.hasPointerCapture(N.pointerId)&&P.releasePointerCapture(N.pointerId),E.current=null,b.current=null,D){const L=N.currentTarget,I={originalEvent:N,delta:D};B6(D,g.swipeDirection,g.swipeThreshold)?K1(wbe,m,I,{discrete:!0}):K1(bbe,f,I,{discrete:!0}),L.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Cbe=e=>{const{__scopeToast:t,children:n,...r}=e,i=r2(i2,t),[a,s]=w.useState(!1),[l,c]=w.useState(!1);return kbe(()=>s(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Dg,{asChild:!0,children:o.jsx(_b,{...r,children:a&&o.jsxs(o.Fragment,{children:[i.label," ",n]})})})},Tbe="ToastTitle",IK=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(rt.div,{...r,ref:t})});IK.displayName=Tbe;var Nbe="ToastDescription",RK=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(rt.div,{...r,ref:t})});RK.displayName=Nbe;var DK="ToastAction",LK=w.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?o.jsx(BK,{altText:n,asChild:!0,children:o.jsx(ED,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${DK}\`. Expected non-empty \`string\`.`),null)});LK.displayName=DK;var $K="ToastClose",ED=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=Sbe($K,n);return o.jsx(BK,{asChild:!0,children:o.jsx(rt.button,{type:"button",...r,ref:t,onClick:Ie(e.onClick,i.onClose)})})});ED.displayName=$K;var BK=w.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return o.jsx(rt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function FK(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Abe(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const s=r.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...FK(r))}}),t}function K1(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?vD(i,a):i.dispatchEvent(a)}var B6=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>n:!a&&i>n};function kbe(e=()=>{}){const t=lr(e);pi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function Abe(e){return e.nodeType===e.ELEMENT_NODE}function jbe(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function lk(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Obe=AK,zK=OK,UK=MK,HK=IK,VK=RK,WK=LK,qK=ED;function GK(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=GK(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Wt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=GK(e))&&(r&&(r+=" "),r+=t);return r}const F6=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,z6=Wt,a2=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return z6(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,s=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],h=a==null?void 0:a[u];if(d===null)return null;const f=F6(d)||F6(h);return i[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(p=>{let[g,x]=p;return Array.isArray(x)?x.includes({...a,...l}[g]):{...a,...l}[g]===x})?[...u,h,f]:u},[]);return z6(e,s,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pbe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YK=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mbe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ibe=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...l},c)=>w.createElement("svg",{ref:c,...Mbe,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:YK("lucide",i),...l},[...s.map(([u,d])=>w.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(e,t)=>{const n=w.forwardRef(({className:r,...i},a)=>w.createElement(Ibe,{ref:a,iconNode:t,className:YK(`lucide-${Pbe(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=Fe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=Fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=Fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=Fe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=Fe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rbe=Fe("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dbe=Fe("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=Fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=Fe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=Fe("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=Fe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lbe=Fe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=Fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=Fe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $be=Fe("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=Fe("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=Fe("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bbe=Fe("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=Fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=Fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=Fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=Fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=Fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=Fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=Fe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=Fe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=Fe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fbe=Fe("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=Fe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zbe=Fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ube=Fe("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=Fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Fe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=Fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hbe=Fe("Drill",[["path",{d:"M10 18a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H5a3 3 0 0 1-3-3 1 1 0 0 1 1-1z",key:"ioqxb1"}],["path",{d:"M13 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1l-.81 3.242a1 1 0 0 1-.97.758H8",key:"1rs59n"}],["path",{d:"M14 4h3a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-3",key:"105ega"}],["path",{d:"M18 6h4",key:"66u95g"}],["path",{d:"m5 10-2 8",key:"xt2lic"}],["path",{d:"m7 18 2-8",key:"1bzku2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=Fe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vbe=Fe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=Fe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=Fe("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=Fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=Fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wbe=Fe("Focus",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qbe=Fe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gbe=Fe("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=Fe("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=Fe("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=Fe("GitGraph",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M5 9v6",key:"158jrl"}],["circle",{cx:"5",cy:"18",r:"3",key:"104gr9"}],["path",{d:"M12 3v18",key:"108xh3"}],["circle",{cx:"19",cy:"6",r:"3",key:"108a5v"}],["path",{d:"M16 15.7A9 9 0 0 0 19 9",key:"1e3vqb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ybe=Fe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kbe=Fe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=Fe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=Fe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=Fe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=Fe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xbe=Fe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zbe=Fe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qbe=Fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tX=Fe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jbe=Fe("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=Fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=Fe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1e=Fe("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1e=Fe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1e=Fe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1e=Fe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1e=Fe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=Fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=Fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=Fe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=Fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=Fe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=Fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=Fe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1e=Fe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1e=Fe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=Fe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=Fe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=Fe("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1e=Fe("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1e=Fe("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=Fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=Fe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=Fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=Fe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=Fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rX=Fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=Fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1e=Fe("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1e=Fe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=Fe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1e=Fe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1e=Fe("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),AD="-",f1e=e=>{const t=p1e(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const l=s.split(AD);return l[0]===""&&l.length!==1&&l.shift(),aX(l,t)||m1e(s)},getConflictingClassGroupIds:(s,l)=>{const c=n[s]||[];return l&&r[s]?[...c,...r[s]]:c}}},aX=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?aX(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(AD);return(s=t.validators.find(({validator:l})=>l(a)))==null?void 0:s.classGroupId},Y6=/^\[(.+)\]$/,m1e=e=>{if(Y6.test(e)){const t=Y6.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},p1e=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return y1e(Object.entries(e.classGroups),n).forEach(([a,s])=>{vO(s,r,a,t)}),r},vO=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:K6(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(g1e(i)){vO(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,s])=>{vO(s,K6(t,a),n,r)})})},K6=(e,t)=>{let n=e;return t.split(AD).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},g1e=e=>e.isThemeGetter,y1e=(e,t)=>t?e.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,l])=>[t+s,l])):a);return[n,i]}):e,x1e=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(a,s)=>{n.set(a,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let s=n.get(a);if(s!==void 0)return s;if((s=r.get(a))!==void 0)return i(a,s),s},set(a,s){n.has(a)?n.set(a,s):i(a,s)}}},sX="!",v1e=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],a=t.length,s=l=>{const c=[];let u=0,d=0,h;for(let x=0;x<l.length;x++){let y=l[x];if(u===0){if(y===i&&(r||l.slice(x,x+a)===t)){c.push(l.slice(d,x)),d=x+a;continue}if(y==="/"){h=x;continue}}y==="["?u++:y==="]"&&u--}const f=c.length===0?l:l.substring(d),m=f.startsWith(sX),p=m?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:s}):s},b1e=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},w1e=e=>({cache:x1e(e.cacheSize),parseClassName:v1e(e),...f1e(e)}),E1e=/\s+/,S1e=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],s=e.trim().split(E1e);let l="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let p=!!m,g=r(p?f.substring(0,m):f);if(!g){if(!p){l=u+(l.length>0?" "+l:l);continue}if(g=r(f),!g){l=u+(l.length>0?" "+l:l);continue}p=!1}const x=b1e(d).join(":"),y=h?x+sX:x,v=y+g;if(a.includes(v))continue;a.push(v);const b=i(g,p);for(let E=0;E<b.length;++E){const _=b[E];a.push(y+_)}l=u+(l.length>0?" "+l:l)}return l};function _1e(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=oX(t))&&(r&&(r+=" "),r+=n);return r}const oX=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=oX(e[r]))&&(n&&(n+=" "),n+=t);return n};function C1e(e,...t){let n,r,i,a=s;function s(c){const u=t.reduce((d,h)=>h(d),e());return n=w1e(u),r=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=S1e(c,n);return i(c,d),d}return function(){return a(_1e.apply(null,arguments))}}const Vn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},lX=/^\[(?:([a-z-]+):)?(.+)\]$/i,T1e=/^\d+\/\d+$/,N1e=new Set(["px","full","screen"]),k1e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,A1e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,j1e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,O1e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,P1e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bl=e=>Hm(e)||N1e.has(e)||T1e.test(e),Yc=e=>$g(e,"length",F1e),Hm=e=>!!e&&!Number.isNaN(Number(e)),ck=e=>$g(e,"number",Hm),R0=e=>!!e&&Number.isInteger(Number(e)),M1e=e=>e.endsWith("%")&&Hm(e.slice(0,-1)),qt=e=>lX.test(e),Kc=e=>k1e.test(e),I1e=new Set(["length","size","percentage"]),R1e=e=>$g(e,I1e,cX),D1e=e=>$g(e,"position",cX),L1e=new Set(["image","url"]),$1e=e=>$g(e,L1e,U1e),B1e=e=>$g(e,"",z1e),D0=()=>!0,$g=(e,t,n)=>{const r=lX.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},F1e=e=>A1e.test(e)&&!j1e.test(e),cX=()=>!1,z1e=e=>O1e.test(e),U1e=e=>P1e.test(e),H1e=()=>{const e=Vn("colors"),t=Vn("spacing"),n=Vn("blur"),r=Vn("brightness"),i=Vn("borderColor"),a=Vn("borderRadius"),s=Vn("borderSpacing"),l=Vn("borderWidth"),c=Vn("contrast"),u=Vn("grayscale"),d=Vn("hueRotate"),h=Vn("invert"),f=Vn("gap"),m=Vn("gradientColorStops"),p=Vn("gradientColorStopPositions"),g=Vn("inset"),x=Vn("margin"),y=Vn("opacity"),v=Vn("padding"),b=Vn("saturate"),E=Vn("scale"),_=Vn("sepia"),S=Vn("skew"),C=Vn("space"),T=Vn("translate"),j=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",qt,t],M=()=>[qt,t],B=()=>["",Bl,Yc],N=()=>["auto",Hm,qt],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],P=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",qt],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Hm,qt];return{cacheSize:500,separator:":",theme:{colors:[D0],spacing:[Bl,Yc],blur:["none","",Kc,qt],brightness:W(),borderColor:[e],borderRadius:["none","","full",Kc,qt],borderSpacing:M(),borderWidth:B(),contrast:W(),grayscale:U(),hueRotate:W(),invert:U(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[M1e,Yc],inset:O(),margin:O(),opacity:W(),padding:M(),saturate:W(),scale:W(),sepia:U(),skew:W(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",qt]}],container:["container"],columns:[{columns:[Kc]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),qt]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",R0,qt]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qt]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",R0,qt]}],"grid-cols":[{"grid-cols":[D0]}],"col-start-end":[{col:["auto",{span:["full",R0,qt]},qt]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[D0]}],"row-start-end":[{row:["auto",{span:[R0,qt]},qt]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qt]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qt,t]}],"min-w":[{"min-w":[qt,t,"min","max","fit"]}],"max-w":[{"max-w":[qt,t,"none","full","min","max","fit","prose",{screen:[Kc]},Kc]}],h:[{h:[qt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Kc,Yc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ck]}],"font-family":[{font:[D0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qt]}],"line-clamp":[{"line-clamp":["none",Hm,ck]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Bl,qt]}],"list-image":[{"list-image":["none",qt]}],"list-style-type":[{list:["none","disc","decimal",qt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...P(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Bl,Yc]}],"underline-offset":[{"underline-offset":["auto",Bl,qt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),D1e]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",R1e]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$1e]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...P(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:P()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...P()]}],"outline-offset":[{"outline-offset":[Bl,qt]}],"outline-w":[{outline:[Bl,Yc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Bl,Yc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Kc,B1e]}],"shadow-color":[{shadow:[D0]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Kc,qt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qt]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",qt]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",qt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[R0,qt]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Bl,Yc,ck]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},V1e=C1e(H1e);function Be(...e){return V1e(Wt(e))}const W1e=Obe,uX=w.forwardRef(({className:e,...t},n)=>o.jsx(zK,{ref:n,className:Be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));uX.displayName=zK.displayName;const q1e=a2("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dX=w.forwardRef(({className:e,variant:t,...n},r)=>o.jsx(UK,{ref:r,className:Be(q1e({variant:t}),e),...n}));dX.displayName=UK.displayName;const G1e=w.forwardRef(({className:e,...t},n)=>o.jsx(WK,{ref:n,className:Be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));G1e.displayName=WK.displayName;const hX=w.forwardRef(({className:e,...t},n)=>o.jsx(qK,{ref:n,className:Be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(Pr,{className:"h-4 w-4"})}));hX.displayName=qK.displayName;const fX=w.forwardRef(({className:e,...t},n)=>o.jsx(HK,{ref:n,className:Be("text-sm font-semibold",e),...t}));fX.displayName=HK.displayName;const mX=w.forwardRef(({className:e,...t},n)=>o.jsx(VK,{ref:n,className:Be("text-sm opacity-90",e),...t}));mX.displayName=VK.displayName;function pX(){const{toasts:e}=za();return o.jsxs(W1e,{children:[e.map(function({id:t,title:n,description:r,action:i,...a}){return o.jsxs(dX,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(fX,{children:n}),r&&o.jsx(mX,{children:r})]}),i,o.jsx(hX,{})]},t)}),o.jsx(uX,{})]})}var X6=["light","dark"],Y1e="(prefers-color-scheme: dark)",K1e=w.createContext(void 0),X1e={setTheme:e=>{},themes:[]},Z1e=()=>{var e;return(e=w.useContext(K1e))!=null?e:X1e};w.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:s,attrs:l,nonce:c})=>{let u=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=i?X6.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(p,g=!1,x=!0)=>{let y=s?s[p]:p,v=g?p+"|| ''":`'${y}'`,b="";return i&&x&&!g&&X6.includes(p)&&(b+=`d.style.colorScheme = '${p}';`),n==="class"?g||y?b+=`c.add(${v})`:b+="null":y&&(b+=`d[s](n,${v})`),b},m=e?`!function(){${d}${f(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Y1e}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${f(s?"x[e]":"e",!0)}}${u?"":"else{"+f(a,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${f(s?"x[e]":"e",!0)}}else{${f(a,!1,!1)};}${h}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var Q1e=e=>{switch(e){case"success":return twe;case"info":return rwe;case"warning":return nwe;case"error":return iwe;default:return null}},J1e=Array(12).fill(0),ewe=({visible:e})=>q.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},q.createElement("div",{className:"sonner-spinner"},J1e.map((t,n)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),twe=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),nwe=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),rwe=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),iwe=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),awe=()=>{let[e,t]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},bO=1,swe=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:bO++,a=this.toasts.find(l=>l.id===i),s=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:n}),{...l,...e,id:i,dismissible:s,title:n}):l):this.addToast({title:n,...r,dismissible:s,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=n!==void 0;return r.then(async a=>{if(lwe(a)&&!a.ok){i=!1;let s=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:n,type:"error",message:s,description:l})}else if(t.success!==void 0){i=!1;let s=typeof t.success=="function"?await t.success(a):t.success,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:n,type:"success",message:s,description:l})}}).catch(async a=>{if(t.error!==void 0){i=!1;let s=typeof t.error=="function"?await t.error(a):t.error,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:n,type:"error",message:s,description:l})}}).finally(()=>{var a;i&&(this.dismiss(n),n=void 0),(a=t.finally)==null||a.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||bO++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},ts=new swe,owe=(e,t)=>{let n=(t==null?void 0:t.id)||bO++;return ts.addToast({title:e,...t,id:n}),n},lwe=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",cwe=owe,uwe=()=>ts.toasts;Object.assign(cwe,{success:ts.success,info:ts.info,warning:ts.warning,error:ts.error,custom:ts.custom,message:ts.message,promise:ts.promise,dismiss:ts.dismiss,loading:ts.loading},{getHistory:uwe});function dwe(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}dwe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function X1(e){return e.label!==void 0}var hwe=3,fwe="32px",mwe=4e3,pwe=356,gwe=14,ywe=20,xwe=200;function vwe(...e){return e.filter(Boolean).join(" ")}var bwe=e=>{var t,n,r,i,a,s,l,c,u,d;let{invert:h,toast:f,unstyled:m,interacting:p,setHeights:g,visibleToasts:x,heights:y,index:v,toasts:b,expanded:E,removeToast:_,defaultRichColors:S,closeButton:C,style:T,cancelButtonStyle:j,actionButtonStyle:k,className:O="",descriptionClassName:M="",duration:B,position:N,gap:D,loadingIcon:P,expandByDefault:L,classNames:I,icons:U,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:W,cn:z}=e,[R,G]=q.useState(!1),[Q,oe]=q.useState(!1),[re,pe]=q.useState(!1),[ce,me]=q.useState(!1),[ye,ae]=q.useState(0),[Ae,H]=q.useState(0),Z=q.useRef(null),he=q.useRef(null),se=v===0,V=v+1<=x,ie=f.type,ue=f.dismissible!==!1,we=f.className||"",Se=f.descriptionClassName||"",K=q.useMemo(()=>y.findIndex(pt=>pt.toastId===f.id)||0,[y,f.id]),Ce=q.useMemo(()=>{var pt;return(pt=f.closeButton)!=null?pt:C},[f.closeButton,C]),Le=q.useMemo(()=>f.duration||B||mwe,[f.duration,B]),Y=q.useRef(0),ee=q.useRef(0),be=q.useRef(0),Te=q.useRef(null),[fe,Ne]=N.split("-"),Nt=q.useMemo(()=>y.reduce((pt,on,Tt)=>Tt>=K?pt:pt+on.height,0),[y,K]),vt=awe(),an=f.invert||h,Ln=ie==="loading";ee.current=q.useMemo(()=>K*D+Nt,[K,Nt]),q.useEffect(()=>{G(!0)},[]),q.useLayoutEffect(()=>{if(!R)return;let pt=he.current,on=pt.style.height;pt.style.height="auto";let Tt=pt.getBoundingClientRect().height;pt.style.height=on,H(Tt),g(ln=>ln.find(Nr=>Nr.toastId===f.id)?ln.map(Nr=>Nr.toastId===f.id?{...Nr,height:Tt}:Nr):[{toastId:f.id,height:Tt,position:f.position},...ln])},[R,f.title,f.description,g,f.id]);let _t=q.useCallback(()=>{oe(!0),ae(ee.current),g(pt=>pt.filter(on=>on.toastId!==f.id)),setTimeout(()=>{_(f)},xwe)},[f,_,g,ee]);q.useEffect(()=>{if(f.promise&&ie==="loading"||f.duration===1/0||f.type==="loading")return;let pt,on=Le;return E||p||W&&vt?(()=>{if(be.current<Y.current){let Tt=new Date().getTime()-Y.current;on=on-Tt}be.current=new Date().getTime()})():on!==1/0&&(Y.current=new Date().getTime(),pt=setTimeout(()=>{var Tt;(Tt=f.onAutoClose)==null||Tt.call(f,f),_t()},on)),()=>clearTimeout(pt)},[E,p,L,f,Le,_t,f.promise,ie,W,vt]),q.useEffect(()=>{let pt=he.current;if(pt){let on=pt.getBoundingClientRect().height;return H(on),g(Tt=>[{toastId:f.id,height:on,position:f.position},...Tt]),()=>g(Tt=>Tt.filter(ln=>ln.toastId!==f.id))}},[g,f.id]),q.useEffect(()=>{f.delete&&_t()},[_t,f.delete]);function ri(){return U!=null&&U.loading?q.createElement("div",{className:"sonner-loader","data-visible":ie==="loading"},U.loading):P?q.createElement("div",{className:"sonner-loader","data-visible":ie==="loading"},P):q.createElement(ewe,{visible:ie==="loading"})}return q.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:he,className:z(O,we,I==null?void 0:I.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,I==null?void 0:I.default,I==null?void 0:I[ie],(n=f==null?void 0:f.classNames)==null?void 0:n[ie]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:S,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":R,"data-promise":!!f.promise,"data-removed":Q,"data-visible":V,"data-y-position":fe,"data-x-position":Ne,"data-index":v,"data-front":se,"data-swiping":re,"data-dismissible":ue,"data-type":ie,"data-invert":an,"data-swipe-out":ce,"data-expanded":!!(E||L&&R),style:{"--index":v,"--toasts-before":v,"--z-index":b.length-v,"--offset":`${Q?ye:ee.current}px`,"--initial-height":L?"auto":`${Ae}px`,...T,...f.style},onPointerDown:pt=>{Ln||!ue||(Z.current=new Date,ae(ee.current),pt.target.setPointerCapture(pt.pointerId),pt.target.tagName!=="BUTTON"&&(pe(!0),Te.current={x:pt.clientX,y:pt.clientY}))},onPointerUp:()=>{var pt,on,Tt,ln;if(ce||!ue)return;Te.current=null;let Nr=Number(((pt=he.current)==null?void 0:pt.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Uo=new Date().getTime()-((on=Z.current)==null?void 0:on.getTime()),Ho=Math.abs(Nr)/Uo;if(Math.abs(Nr)>=ywe||Ho>.11){ae(ee.current),(Tt=f.onDismiss)==null||Tt.call(f,f),_t(),me(!0);return}(ln=he.current)==null||ln.style.setProperty("--swipe-amount","0px"),pe(!1)},onPointerMove:pt=>{var on;if(!Te.current||!ue)return;let Tt=pt.clientY-Te.current.y,ln=pt.clientX-Te.current.x,Nr=(fe==="top"?Math.min:Math.max)(0,Tt),Uo=pt.pointerType==="touch"?10:2;Math.abs(Nr)>Uo?(on=he.current)==null||on.style.setProperty("--swipe-amount",`${Tt}px`):Math.abs(ln)>Uo&&(Te.current=null)}},Ce&&!f.jsx?q.createElement("button",{"aria-label":$,"data-disabled":Ln,"data-close-button":!0,onClick:Ln||!ue?()=>{}:()=>{var pt;_t(),(pt=f.onDismiss)==null||pt.call(f,f)},className:z(I==null?void 0:I.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||q.isValidElement(f.title)?f.jsx||f.title:q.createElement(q.Fragment,null,ie||f.icon||f.promise?q.createElement("div",{"data-icon":"",className:z(I==null?void 0:I.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||ri():null,f.type!=="loading"?f.icon||(U==null?void 0:U[ie])||Q1e(ie):null):null,q.createElement("div",{"data-content":"",className:z(I==null?void 0:I.content,(s=f==null?void 0:f.classNames)==null?void 0:s.content)},q.createElement("div",{"data-title":"",className:z(I==null?void 0:I.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},f.title),f.description?q.createElement("div",{"data-description":"",className:z(M,Se,I==null?void 0:I.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),q.isValidElement(f.cancel)?f.cancel:f.cancel&&X1(f.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||j,onClick:pt=>{var on,Tt;X1(f.cancel)&&ue&&((Tt=(on=f.cancel).onClick)==null||Tt.call(on,pt),_t())},className:z(I==null?void 0:I.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,q.isValidElement(f.action)?f.action:f.action&&X1(f.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||k,onClick:pt=>{var on,Tt;X1(f.action)&&(pt.defaultPrevented||((Tt=(on=f.action).onClick)==null||Tt.call(on,pt),_t()))},className:z(I==null?void 0:I.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function Z6(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var wwe=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:a,className:s,offset:l,theme:c="light",richColors:u,duration:d,style:h,visibleToasts:f=hwe,toastOptions:m,dir:p=Z6(),gap:g=gwe,loadingIcon:x,icons:y,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:b,cn:E=vwe}=e,[_,S]=q.useState([]),C=q.useMemo(()=>Array.from(new Set([n].concat(_.filter(W=>W.position).map(W=>W.position)))),[_,n]),[T,j]=q.useState([]),[k,O]=q.useState(!1),[M,B]=q.useState(!1),[N,D]=q.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),P=q.useRef(null),L=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=q.useRef(null),U=q.useRef(!1),$=q.useCallback(W=>{var z;(z=_.find(R=>R.id===W.id))!=null&&z.delete||ts.dismiss(W.id),S(R=>R.filter(({id:G})=>G!==W.id))},[_]);return q.useEffect(()=>ts.subscribe(W=>{if(W.dismiss){S(z=>z.map(R=>R.id===W.id?{...R,delete:!0}:R));return}setTimeout(()=>{gD.flushSync(()=>{S(z=>{let R=z.findIndex(G=>G.id===W.id);return R!==-1?[...z.slice(0,R),{...z[R],...W},...z.slice(R+1)]:[W,...z]})})})}),[]),q.useEffect(()=>{if(c!=="system"){D(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:W})=>{D(W?"dark":"light")})},[c]),q.useEffect(()=>{_.length<=1&&O(!1)},[_]),q.useEffect(()=>{let W=z=>{var R,G;r.every(Q=>z[Q]||z.code===Q)&&(O(!0),(R=P.current)==null||R.focus()),z.code==="Escape"&&(document.activeElement===P.current||(G=P.current)!=null&&G.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[r]),q.useEffect(()=>{if(P.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,U.current=!1)}},[P.current]),_.length?q.createElement("section",{"aria-label":`${v} ${L}`,tabIndex:-1},C.map((W,z)=>{var R;let[G,Q]=W.split("-");return q.createElement("ol",{key:W,dir:p==="auto"?Z6():p,tabIndex:-1,ref:P,className:s,"data-sonner-toaster":!0,"data-theme":N,"data-y-position":G,"data-x-position":Q,style:{"--front-toast-height":`${((R=T[0])==null?void 0:R.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||fwe,"--width":`${pwe}px`,"--gap":`${g}px`,...h},onBlur:oe=>{U.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(U.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||U.current||(U.current=!0,I.current=oe.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{M||O(!1)},onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},_.filter(oe=>!oe.position&&z===0||oe.position===W).map((oe,re)=>{var pe,ce;return q.createElement(bwe,{key:oe.id,icons:y,index:re,toast:oe,defaultRichColors:u,duration:(pe=m==null?void 0:m.duration)!=null?pe:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:f,closeButton:(ce=m==null?void 0:m.closeButton)!=null?ce:a,interacting:M,position:W,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:$,toasts:_.filter(me=>me.position==oe.position),heights:T.filter(me=>me.position==oe.position),setHeights:j,expandByDefault:i,gap:g,loadingIcon:x,expanded:k,pauseWhenPageIsHidden:b,cn:E})}))})):null};const Ewe=({...e})=>{const{theme:t="system"}=Z1e();return o.jsx(wwe,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Swe=CR.useId||(()=>{}),_we=0;function us(e){const[t,n]=w.useState(Swe());return pi(()=>{n(r=>r??String(_we++))},[e]),t?`radix-${t}`:""}const Cwe=["top","right","bottom","left"],rd=Math.min,is=Math.max,xS=Math.round,Z1=Math.floor,id=e=>({x:e,y:e}),Twe={left:"right",right:"left",bottom:"top",top:"bottom"},Nwe={start:"end",end:"start"};function wO(e,t,n){return is(e,rd(t,n))}function Cc(e,t){return typeof e=="function"?e(t):e}function Tc(e){return e.split("-")[0]}function Bg(e){return e.split("-")[1]}function jD(e){return e==="x"?"y":"x"}function OD(e){return e==="y"?"height":"width"}function ad(e){return["top","bottom"].includes(Tc(e))?"y":"x"}function PD(e){return jD(ad(e))}function kwe(e,t,n){n===void 0&&(n=!1);const r=Bg(e),i=PD(e),a=OD(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=vS(s)),[s,vS(s)]}function Awe(e){const t=vS(e);return[EO(e),t,EO(t)]}function EO(e){return e.replace(/start|end/g,t=>Nwe[t])}function jwe(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:s;default:return[]}}function Owe(e,t,n,r){const i=Bg(e);let a=jwe(Tc(e),n==="start",r);return i&&(a=a.map(s=>s+"-"+i),t&&(a=a.concat(a.map(EO)))),a}function vS(e){return e.replace(/left|right|bottom|top/g,t=>Twe[t])}function Pwe(e){return{top:0,right:0,bottom:0,left:0,...e}}function gX(e){return typeof e!="number"?Pwe(e):{top:e,right:e,bottom:e,left:e}}function bS(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Q6(e,t,n){let{reference:r,floating:i}=e;const a=ad(t),s=PD(t),l=OD(s),c=Tc(t),u=a==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[l]/2-i[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Bg(t)){case"start":m[s]-=f*(n&&u?-1:1);break;case"end":m[s]+=f*(n&&u?-1:1);break}return m}const Mwe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,l=a.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:h}=Q6(u,r,c),f=r,m={},p=0;for(let g=0;g<l.length;g++){const{name:x,fn:y}=l[g],{x:v,y:b,data:E,reset:_}=await y({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});d=v??d,h=b??h,m={...m,[x]:{...m[x],...E}},_&&p<=50&&(p++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(u=_.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):_.rects),{x:d,y:h}=Q6(u,f,c)),g=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:m}};async function qx(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:s,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Cc(t,e),p=gX(m),x=l[f?h==="floating"?"reference":"floating":h],y=bS(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(x)))==null||n?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=h==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),E=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},_=bS(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(y.top-_.top+p.top)/E.y,bottom:(_.bottom-y.bottom+p.bottom)/E.y,left:(y.left-_.left+p.left)/E.x,right:(_.right-y.right+p.right)/E.x}}const Iwe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:s,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Cc(e,t)||{};if(u==null)return{};const h=gX(d),f={x:n,y:r},m=PD(i),p=OD(m),g=await s.getDimensions(u),x=m==="y",y=x?"top":"left",v=x?"bottom":"right",b=x?"clientHeight":"clientWidth",E=a.reference[p]+a.reference[m]-f[m]-a.floating[p],_=f[m]-a.reference[m],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let C=S?S[b]:0;(!C||!await(s.isElement==null?void 0:s.isElement(S)))&&(C=l.floating[b]||a.floating[p]);const T=E/2-_/2,j=C/2-g[p]/2-1,k=rd(h[y],j),O=rd(h[v],j),M=k,B=C-g[p]-O,N=C/2-g[p]/2+T,D=wO(M,N,B),P=!c.arrow&&Bg(i)!=null&&N!==D&&a.reference[p]/2-(N<M?k:O)-g[p]/2<0,L=P?N<M?N-M:N-B:0;return{[m]:f[m]+L,data:{[m]:D,centerOffset:N-D-L,...P&&{alignmentOffset:L}},reset:P}}}),Rwe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...x}=Cc(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const y=Tc(i),v=ad(l),b=Tc(l)===l,E=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=f||(b||!g?[vS(l)]:Awe(l)),S=p!=="none";!f&&S&&_.push(...Owe(l,g,p,E));const C=[l,..._],T=await qx(t,x),j=[];let k=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&j.push(T[y]),h){const N=kwe(i,s,E);j.push(T[N[0]],T[N[1]])}if(k=[...k,{placement:i,overflows:j}],!j.every(N=>N<=0)){var O,M;const N=(((O=a.flip)==null?void 0:O.index)||0)+1,D=C[N];if(D)return{data:{index:N,overflows:k},reset:{placement:D}};let P=(M=k.filter(L=>L.overflows[0]<=0).sort((L,I)=>L.overflows[1]-I.overflows[1])[0])==null?void 0:M.placement;if(!P)switch(m){case"bestFit":{var B;const L=(B=k.filter(I=>{if(S){const U=ad(I.placement);return U===v||U==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(U=>U>0).reduce((U,$)=>U+$,0)]).sort((I,U)=>I[1]-U[1])[0])==null?void 0:B[0];L&&(P=L);break}case"initialPlacement":P=l;break}if(i!==P)return{reset:{placement:P}}}return{}}}};function J6(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function eB(e){return Cwe.some(t=>e[t]>=0)}const Dwe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Cc(e,t);switch(r){case"referenceHidden":{const a=await qx(t,{...i,elementContext:"reference"}),s=J6(a,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:eB(s)}}}case"escaped":{const a=await qx(t,{...i,altBoundary:!0}),s=J6(a,n.floating);return{data:{escapedOffsets:s,escaped:eB(s)}}}default:return{}}}}};async function Lwe(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Tc(n),l=Bg(n),c=ad(n)==="y",u=["left","top"].includes(s)?-1:1,d=a&&c?-1:1,h=Cc(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof p=="number"&&(m=l==="end"?p*-1:p),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const $we=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:s,middlewareData:l}=t,c=await Lwe(t,e);return s===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:s}}}}},Bwe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:l={fn:x=>{let{x:y,y:v}=x;return{x:y,y:v}}},...c}=Cc(e,t),u={x:n,y:r},d=await qx(t,c),h=ad(Tc(i)),f=jD(h);let m=u[f],p=u[h];if(a){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=m+d[x],b=m-d[y];m=wO(v,m,b)}if(s){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=p+d[x],b=p-d[y];p=wO(v,p,b)}const g=l.fn({...t,[f]:m,[h]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:a,[h]:s}}}}}},Fwe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:s}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Cc(e,t),d={x:n,y:r},h=ad(i),f=jD(h);let m=d[f],p=d[h];const g=Cc(l,t),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=f==="y"?"height":"width",E=a.reference[f]-a.floating[b]+x.mainAxis,_=a.reference[f]+a.reference[b]-x.mainAxis;m<E?m=E:m>_&&(m=_)}if(u){var y,v;const b=f==="y"?"width":"height",E=["top","left"].includes(Tc(i)),_=a.reference[h]-a.floating[b]+(E&&((y=s.offset)==null?void 0:y[h])||0)+(E?0:x.crossAxis),S=a.reference[h]+a.reference[b]+(E?0:((v=s.offset)==null?void 0:v[h])||0)-(E?x.crossAxis:0);p<_?p=_:p>S&&(p=S)}return{[f]:m,[h]:p}}}},zwe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:s,elements:l}=t,{apply:c=()=>{},...u}=Cc(e,t),d=await qx(t,u),h=Tc(i),f=Bg(i),m=ad(i)==="y",{width:p,height:g}=a.floating;let x,y;h==="top"||h==="bottom"?(x=h,y=f===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,x=f==="end"?"top":"bottom");const v=g-d.top-d.bottom,b=p-d.left-d.right,E=rd(g-d[x],v),_=rd(p-d[y],b),S=!t.middlewareData.shift;let C=E,T=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=v),S&&!f){const k=is(d.left,0),O=is(d.right,0),M=is(d.top,0),B=is(d.bottom,0);m?T=p-2*(k!==0||O!==0?k+O:is(d.left,d.right)):C=g-2*(M!==0||B!==0?M+B:is(d.top,d.bottom))}await c({...t,availableWidth:T,availableHeight:C});const j=await s.getDimensions(l.floating);return p!==j.width||g!==j.height?{reset:{rects:!0}}:{}}}};function c2(){return typeof window<"u"}function Fg(e){return yX(e)?(e.nodeName||"").toLowerCase():"#document"}function ds(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Nl(e){var t;return(t=(yX(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function yX(e){return c2()?e instanceof Node||e instanceof ds(e).Node:!1}function Do(e){return c2()?e instanceof Element||e instanceof ds(e).Element:!1}function wl(e){return c2()?e instanceof HTMLElement||e instanceof ds(e).HTMLElement:!1}function tB(e){return!c2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ds(e).ShadowRoot}function Cb(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Lo(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Uwe(e){return["table","td","th"].includes(Fg(e))}function u2(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function MD(e){const t=ID(),n=Do(e)?Lo(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Hwe(e){let t=sd(e);for(;wl(t)&&!jp(t);){if(MD(t))return t;if(u2(t))return null;t=sd(t)}return null}function ID(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function jp(e){return["html","body","#document"].includes(Fg(e))}function Lo(e){return ds(e).getComputedStyle(e)}function d2(e){return Do(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function sd(e){if(Fg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||tB(e)&&e.host||Nl(e);return tB(t)?t.host:t}function xX(e){const t=sd(e);return jp(t)?e.ownerDocument?e.ownerDocument.body:e.body:wl(t)&&Cb(t)?t:xX(t)}function Gx(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=xX(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),s=ds(i);if(a){const l=SO(s);return t.concat(s,s.visualViewport||[],Cb(i)?i:[],l&&n?Gx(l):[])}return t.concat(i,Gx(i,[],n))}function SO(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function vX(e){const t=Lo(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=wl(e),a=i?e.offsetWidth:n,s=i?e.offsetHeight:r,l=xS(n)!==a||xS(r)!==s;return l&&(n=a,r=s),{width:n,height:r,$:l}}function RD(e){return Do(e)?e:e.contextElement}function Vm(e){const t=RD(e);if(!wl(t))return id(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=vX(t);let s=(a?xS(n.width):n.width)/r,l=(a?xS(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const Vwe=id(0);function bX(e){const t=ds(e);return!ID()||!t.visualViewport?Vwe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Wwe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ds(e)?!1:t}function Hh(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=RD(e);let s=id(1);t&&(r?Do(r)&&(s=Vm(r)):s=Vm(e));const l=Wwe(a,n,r)?bX(a):id(0);let c=(i.left+l.x)/s.x,u=(i.top+l.y)/s.y,d=i.width/s.x,h=i.height/s.y;if(a){const f=ds(a),m=r&&Do(r)?ds(r):r;let p=f,g=SO(p);for(;g&&r&&m!==p;){const x=Vm(g),y=g.getBoundingClientRect(),v=Lo(g),b=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*x.x,E=y.top+(g.clientTop+parseFloat(v.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,h*=x.y,c+=b,u+=E,p=ds(g),g=SO(p)}}return bS({width:d,height:h,x:c,y:u})}function qwe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",s=Nl(r),l=t?u2(t.floating):!1;if(r===s||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=id(1);const d=id(0),h=wl(r);if((h||!h&&!a)&&((Fg(r)!=="body"||Cb(s))&&(c=d2(r)),wl(r))){const f=Hh(r);u=Vm(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function Gwe(e){return Array.from(e.getClientRects())}function _O(e,t){const n=d2(e).scrollLeft;return t?t.left+n:Hh(Nl(e)).left+n}function Ywe(e){const t=Nl(e),n=d2(e),r=e.ownerDocument.body,i=is(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=is(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+_O(e);const l=-n.scrollTop;return Lo(r).direction==="rtl"&&(s+=is(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:l}}function Kwe(e,t){const n=ds(e),r=Nl(e),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,l=0,c=0;if(i){a=i.width,s=i.height;const u=ID();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:s,x:l,y:c}}function Xwe(e,t){const n=Hh(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=wl(e)?Vm(e):id(1),s=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,u=r*a.y;return{width:s,height:l,x:c,y:u}}function nB(e,t,n){let r;if(t==="viewport")r=Kwe(e,n);else if(t==="document")r=Ywe(Nl(e));else if(Do(t))r=Xwe(t,n);else{const i=bX(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return bS(r)}function wX(e,t){const n=sd(e);return n===t||!Do(n)||jp(n)?!1:Lo(n).position==="fixed"||wX(n,t)}function Zwe(e,t){const n=t.get(e);if(n)return n;let r=Gx(e,[],!1).filter(l=>Do(l)&&Fg(l)!=="body"),i=null;const a=Lo(e).position==="fixed";let s=a?sd(e):e;for(;Do(s)&&!jp(s);){const l=Lo(s),c=MD(s);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Cb(s)&&!c&&wX(e,s))?r=r.filter(d=>d!==s):i=l,s=sd(s)}return t.set(e,r),r}function Qwe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?u2(t)?[]:Zwe(t,this._c):[].concat(n),r],l=s[0],c=s.reduce((u,d)=>{const h=nB(t,d,i);return u.top=is(h.top,u.top),u.right=rd(h.right,u.right),u.bottom=rd(h.bottom,u.bottom),u.left=is(h.left,u.left),u},nB(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Jwe(e){const{width:t,height:n}=vX(e);return{width:t,height:n}}function eEe(e,t,n){const r=wl(t),i=Nl(t),a=n==="fixed",s=Hh(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=id(0);if(r||!r&&!a)if((Fg(t)!=="body"||Cb(i))&&(l=d2(t)),r){const m=Hh(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else i&&(c.x=_O(i));let u=0,d=0;if(i&&!r&&!a){const m=i.getBoundingClientRect();d=m.top+l.scrollTop,u=m.left+l.scrollLeft-_O(i,m)}const h=s.left+l.scrollLeft-c.x-u,f=s.top+l.scrollTop-c.y-d;return{x:h,y:f,width:s.width,height:s.height}}function uk(e){return Lo(e).position==="static"}function rB(e,t){if(!wl(e)||Lo(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Nl(e)===n&&(n=n.ownerDocument.body),n}function EX(e,t){const n=ds(e);if(u2(e))return n;if(!wl(e)){let i=sd(e);for(;i&&!jp(i);){if(Do(i)&&!uk(i))return i;i=sd(i)}return n}let r=rB(e,t);for(;r&&Uwe(r)&&uk(r);)r=rB(r,t);return r&&jp(r)&&uk(r)&&!MD(r)?n:r||Hwe(e)||n}const tEe=async function(e){const t=this.getOffsetParent||EX,n=this.getDimensions,r=await n(e.floating);return{reference:eEe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function nEe(e){return Lo(e).direction==="rtl"}const rEe={convertOffsetParentRelativeRectToViewportRelativeRect:qwe,getDocumentElement:Nl,getClippingRect:Qwe,getOffsetParent:EX,getElementRects:tEe,getClientRects:Gwe,getDimensions:Jwe,getScale:Vm,isElement:Do,isRTL:nEe};function iEe(e,t){let n=null,r;const i=Nl(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const{left:u,top:d,width:h,height:f}=e.getBoundingClientRect();if(l||t(),!h||!f)return;const m=Z1(d),p=Z1(i.clientWidth-(u+h)),g=Z1(i.clientHeight-(d+f)),x=Z1(u),v={rootMargin:-m+"px "+-p+"px "+-g+"px "+-x+"px",threshold:is(0,rd(1,c))||1};let b=!0;function E(_){const S=_[0].intersectionRatio;if(S!==c){if(!b)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(E,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,v)}n.observe(e)}return s(!0),a}function aEe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=RD(e),d=i||a?[...u?Gx(u):[],...Gx(t)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});const h=u&&l?iEe(u,n):null;let f=-1,m=null;s&&(m=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let p,g=c?Hh(e):null;c&&x();function x(){const y=Hh(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,p=requestAnimationFrame(x)}return n(),()=>{var y;d.forEach(v=>{i&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),h==null||h(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(p)}}const sEe=$we,oEe=Bwe,lEe=Rwe,cEe=zwe,uEe=Dwe,iB=Iwe,dEe=Fwe,hEe=(e,t,n)=>{const r=new Map,i={platform:rEe,...n},a={...i.platform,_c:r};return Mwe(e,t,{...i,platform:a})};var vE=typeof document<"u"?w.useLayoutEffect:w.useEffect;function wS(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!wS(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!wS(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function SX(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function aB(e,t){const n=SX(e);return Math.round(t*n)/n}function dk(e){const t=w.useRef(e);return vE(()=>{t.current=e}),t}function fEe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=w.useState(r);wS(f,r)||m(r);const[p,g]=w.useState(null),[x,y]=w.useState(null),v=w.useCallback(I=>{I!==S.current&&(S.current=I,g(I))},[]),b=w.useCallback(I=>{I!==C.current&&(C.current=I,y(I))},[]),E=a||p,_=s||x,S=w.useRef(null),C=w.useRef(null),T=w.useRef(d),j=c!=null,k=dk(c),O=dk(i),M=dk(u),B=w.useCallback(()=>{if(!S.current||!C.current)return;const I={placement:t,strategy:n,middleware:f};O.current&&(I.platform=O.current),hEe(S.current,C.current,I).then(U=>{const $={...U,isPositioned:M.current!==!1};N.current&&!wS(T.current,$)&&(T.current=$,Dc.flushSync(()=>{h($)}))})},[f,t,n,O,M]);vE(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(I=>({...I,isPositioned:!1})))},[u]);const N=w.useRef(!1);vE(()=>(N.current=!0,()=>{N.current=!1}),[]),vE(()=>{if(E&&(S.current=E),_&&(C.current=_),E&&_){if(k.current)return k.current(E,_,B);B()}},[E,_,B,k,j]);const D=w.useMemo(()=>({reference:S,floating:C,setReference:v,setFloating:b}),[v,b]),P=w.useMemo(()=>({reference:E,floating:_}),[E,_]),L=w.useMemo(()=>{const I={position:n,left:0,top:0};if(!P.floating)return I;const U=aB(P.floating,d.x),$=aB(P.floating,d.y);return l?{...I,transform:"translate("+U+"px, "+$+"px)",...SX(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:$}},[n,l,P.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:B,refs:D,elements:P,floatingStyles:L}),[d,B,D,P,L])}const mEe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?iB({element:r.current,padding:i}).fn(n):{}:r?iB({element:r,padding:i}).fn(n):{}}}},pEe=(e,t)=>({...sEe(e),options:[e,t]}),gEe=(e,t)=>({...oEe(e),options:[e,t]}),yEe=(e,t)=>({...dEe(e),options:[e,t]}),xEe=(e,t)=>({...lEe(e),options:[e,t]}),vEe=(e,t)=>({...cEe(e),options:[e,t]}),bEe=(e,t)=>({...uEe(e),options:[e,t]}),wEe=(e,t)=>({...mEe(e),options:[e,t]});var EEe="Arrow",_X=w.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return o.jsx(rt.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});_X.displayName=EEe;var SEe=_X;function _Ee(e,t=[]){let n=[];function r(a,s){const l=w.createContext(s),c=n.length;n=[...n,s];function u(h){const{scope:f,children:m,...p}=h,g=(f==null?void 0:f[e][c])||l,x=w.useMemo(()=>p,Object.values(p));return o.jsx(g.Provider,{value:x,children:m})}function d(h,f){const m=(f==null?void 0:f[e][c])||l,p=w.useContext(m);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const i=()=>{const a=n.map(s=>w.createContext(s));return function(l){const c=(l==null?void 0:l[e])||a;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,CEe(i,...t)]}function CEe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function h2(e){const[t,n]=w.useState(void 0);return pi(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,l=u.blockSize}else s=e.offsetWidth,l=e.offsetHeight;n({width:s,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var DD="Popper",[CX,Ed]=_Ee(DD),[TEe,TX]=CX(DD),NX=e=>{const{__scopePopper:t,children:n}=e,[r,i]=w.useState(null);return o.jsx(TEe,{scope:t,anchor:r,onAnchorChange:i,children:n})};NX.displayName=DD;var kX="PopperAnchor",AX=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=TX(kX,n),s=w.useRef(null),l=jt(t,s);return w.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:o.jsx(rt.div,{...i,ref:l})});AX.displayName=kX;var LD="PopperContent",[NEe,kEe]=CX(LD),jX=w.forwardRef((e,t)=>{var re,pe,ce,me,ye,ae;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:p,...g}=e,x=TX(LD,n),[y,v]=w.useState(null),b=jt(t,Ae=>v(Ae)),[E,_]=w.useState(null),S=h2(E),C=(S==null?void 0:S.width)??0,T=(S==null?void 0:S.height)??0,j=r+(a!=="center"?"-"+a:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],M=O.length>0,B={padding:k,boundary:O.filter(jEe),altBoundary:M},{refs:N,floatingStyles:D,placement:P,isPositioned:L,middlewareData:I}=fEe({strategy:"fixed",placement:j,whileElementsMounted:(...Ae)=>aEe(...Ae,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[pEe({mainAxis:i+T,alignmentAxis:s}),c&&gEe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?yEe():void 0,...B}),c&&xEe({...B}),vEe({...B,apply:({elements:Ae,rects:H,availableWidth:Z,availableHeight:he})=>{const{width:se,height:V}=H.reference,ie=Ae.floating.style;ie.setProperty("--radix-popper-available-width",`${Z}px`),ie.setProperty("--radix-popper-available-height",`${he}px`),ie.setProperty("--radix-popper-anchor-width",`${se}px`),ie.setProperty("--radix-popper-anchor-height",`${V}px`)}}),E&&wEe({element:E,padding:l}),OEe({arrowWidth:C,arrowHeight:T}),f&&bEe({strategy:"referenceHidden",...B})]}),[U,$]=MX(P),W=lr(p);pi(()=>{L&&(W==null||W())},[L,W]);const z=(re=I.arrow)==null?void 0:re.x,R=(pe=I.arrow)==null?void 0:pe.y,G=((ce=I.arrow)==null?void 0:ce.centerOffset)!==0,[Q,oe]=w.useState();return pi(()=>{y&&oe(window.getComputedStyle(y).zIndex)},[y]),o.jsx("div",{ref:N.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:L?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(me=I.transformOrigin)==null?void 0:me.x,(ye=I.transformOrigin)==null?void 0:ye.y].join(" "),...((ae=I.hide)==null?void 0:ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(NEe,{scope:n,placedSide:U,onArrowChange:_,arrowX:z,arrowY:R,shouldHideArrow:G,children:o.jsx(rt.div,{"data-side":U,"data-align":$,...g,ref:b,style:{...g.style,animation:L?void 0:"none"}})})})});jX.displayName=LD;var OX="PopperArrow",AEe={top:"bottom",right:"left",bottom:"top",left:"right"},PX=w.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=kEe(OX,r),s=AEe[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(SEe,{...i,ref:n,style:{...i.style,display:"block"}})})});PX.displayName=OX;function jEe(e){return e!==null}var OEe=e=>({name:"transformOrigin",options:e,fn(t){var x,y,v;const{placement:n,rects:r,middlewareData:i}=t,s=((x=i.arrow)==null?void 0:x.centerOffset)!==0,l=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[u,d]=MX(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((y=i.arrow)==null?void 0:y.x)??0)+l/2,m=(((v=i.arrow)==null?void 0:v.y)??0)+c/2;let p="",g="";return u==="bottom"?(p=s?h:`${f}px`,g=`${-c}px`):u==="top"?(p=s?h:`${f}px`,g=`${r.floating.height+c}px`):u==="right"?(p=`${-c}px`,g=s?h:`${m}px`):u==="left"&&(p=`${r.floating.width+c}px`,g=s?h:`${m}px`),{data:{x:p,y:g}}}});function MX(e){const[t,n="center"]=e.split("-");return[t,n]}var $D=NX,Tb=AX,f2=jX,m2=PX,[p2,kRt]=Ua("Tooltip",[Ed]),BD=Ed(),IX="TooltipProvider",PEe=700,sB="tooltip.open",[MEe,RX]=p2(IX),DX=e=>{const{__scopeTooltip:t,delayDuration:n=PEe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,[s,l]=w.useState(!0),c=w.useRef(!1),u=w.useRef(0);return w.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),o.jsx(MEe,{scope:t,isOpenDelayed:s,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:w.useCallback(d=>{c.current=d},[]),disableHoverableContent:i,children:a})};DX.displayName=IX;var LX="Tooltip",[ARt,g2]=p2(LX),CO="TooltipTrigger",IEe=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=g2(CO,n),a=RX(CO,n),s=BD(n),l=w.useRef(null),c=jt(t,l,i.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),h=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),o.jsx(Tb,{asChild:!0,...s,children:o.jsx(rt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Ie(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ie(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Ie(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ie(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:Ie(e.onBlur,i.onClose),onClick:Ie(e.onClick,i.onClose)})})});IEe.displayName=CO;var REe="TooltipPortal",[jRt,DEe]=p2(REe,{forceMount:void 0}),Op="TooltipContent",$X=w.forwardRef((e,t)=>{const n=DEe(Op,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=e,s=g2(Op,e.__scopeTooltip);return o.jsx(ti,{present:r||s.open,children:s.disableHoverableContent?o.jsx(BX,{side:i,...a,ref:t}):o.jsx(LEe,{side:i,...a,ref:t})})}),LEe=w.forwardRef((e,t)=>{const n=g2(Op,e.__scopeTooltip),r=RX(Op,e.__scopeTooltip),i=w.useRef(null),a=jt(t,i),[s,l]=w.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:h}=r,f=w.useCallback(()=>{l(null),h(!1)},[h]),m=w.useCallback((p,g)=>{const x=p.currentTarget,y={x:p.clientX,y:p.clientY},v=zEe(y,x.getBoundingClientRect()),b=UEe(y,v),E=HEe(g.getBoundingClientRect()),_=WEe([...b,...E]);l(_),h(!0)},[h]);return w.useEffect(()=>()=>f(),[f]),w.useEffect(()=>{if(c&&d){const p=x=>m(x,d),g=x=>m(x,c);return c.addEventListener("pointerleave",p),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",p),d.removeEventListener("pointerleave",g)}}},[c,d,m,f]),w.useEffect(()=>{if(s){const p=g=>{const x=g.target,y={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),b=!VEe(y,s);v?f():b&&(f(),u())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,d,s,u,f]),o.jsx(BX,{...e,ref:a})}),[$Ee,BEe]=p2(LX,{isInside:!1}),BX=w.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...l}=e,c=g2(Op,n),u=BD(n),{onClose:d}=c;return w.useEffect(()=>(document.addEventListener(sB,d),()=>document.removeEventListener(sB,d)),[d]),w.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),o.jsx(yf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:o.jsxs(f2,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(xD,{children:r}),o.jsx($Ee,{scope:n,isInside:!0,children:o.jsx(fbe,{id:c.contentId,role:"tooltip",children:i||r})})]})})});$X.displayName=Op;var FX="TooltipArrow",FEe=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=BD(n);return BEe(FX,n).isInside?null:o.jsx(m2,{...i,...r,ref:t})});FEe.displayName=FX;function zEe(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function UEe(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function HEe(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function VEe(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const l=t[a].x,c=t[a].y,u=t[s].x,d=t[s].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(i=!i)}return i}function WEe(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),qEe(t)}function qEe(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],s=t[t.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const a=n[n.length-1],s=n[n.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var GEe=DX,zX=$X;const YEe=GEe,KEe=w.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(zX,{ref:r,sideOffset:t,className:Be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));KEe.displayName=zX.displayName;var y2=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},x2=typeof window>"u"||"Deno"in globalThis;function fo(){}function XEe(e,t){return typeof e=="function"?e(t):e}function ZEe(e){return typeof e=="number"&&e>=0&&e!==1/0}function QEe(e,t){return Math.max(e+(t||0)-Date.now(),0)}function oB(e,t){return typeof e=="function"?e(t):e}function JEe(e,t){return typeof e=="function"?e(t):e}function lB(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:s,stale:l}=e;if(s){if(r){if(t.queryHash!==FD(s,t.options))return!1}else if(!Kx(t.queryKey,s))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function cB(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Yx(t.options.mutationKey)!==Yx(a))return!1}else if(!Kx(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function FD(e,t){return((t==null?void 0:t.queryKeyHashFn)||Yx)(e)}function Yx(e){return JSON.stringify(e,(t,n)=>TO(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Kx(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Kx(e[n],t[n])):!1}function UX(e,t){if(e===t)return e;const n=uB(e)&&uB(t);if(n||TO(e)&&TO(t)){const r=n?e:Object.keys(e),i=r.length,a=n?t:Object.keys(t),s=a.length,l=n?[]:{};let c=0;for(let u=0;u<s;u++){const d=n?u:a[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=UX(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return i===s&&c===i?e:l}return t}function uB(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function TO(e){if(!dB(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!dB(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function dB(e){return Object.prototype.toString.call(e)==="[object Object]"}function eSe(e){return new Promise(t=>{setTimeout(t,e)})}function tSe(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?UX(e,t):t}function nSe(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function rSe(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var zD=Symbol();function HX(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===zD?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var wh,Eu,ip,iG,iSe=(iG=class extends y2{constructor(){super();wn(this,wh);wn(this,Eu);wn(this,ip);Kt(this,ip,t=>{if(!x2&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ke(this,Eu)||this.setEventListener(ke(this,ip))}onUnsubscribe(){var t;this.hasListeners()||((t=ke(this,Eu))==null||t.call(this),Kt(this,Eu,void 0))}setEventListener(t){var n;Kt(this,ip,t),(n=ke(this,Eu))==null||n.call(this),Kt(this,Eu,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ke(this,wh)!==t&&(Kt(this,wh,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ke(this,wh)=="boolean"?ke(this,wh):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},wh=new WeakMap,Eu=new WeakMap,ip=new WeakMap,iG),VX=new iSe,ap,Su,sp,aG,aSe=(aG=class extends y2{constructor(){super();wn(this,ap,!0);wn(this,Su);wn(this,sp);Kt(this,sp,t=>{if(!x2&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ke(this,Su)||this.setEventListener(ke(this,sp))}onUnsubscribe(){var t;this.hasListeners()||((t=ke(this,Su))==null||t.call(this),Kt(this,Su,void 0))}setEventListener(t){var n;Kt(this,sp,t),(n=ke(this,Su))==null||n.call(this),Kt(this,Su,t(this.setOnline.bind(this)))}setOnline(t){ke(this,ap)!==t&&(Kt(this,ap,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ke(this,ap)}},ap=new WeakMap,Su=new WeakMap,sp=new WeakMap,aG),ES=new aSe;function sSe(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function oSe(e){return Math.min(1e3*2**e,3e4)}function WX(e){return(e??"online")==="online"?ES.isOnline():!0}var qX=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function hk(e){return e instanceof qX}function GX(e){let t=!1,n=0,r=!1,i;const a=sSe(),s=g=>{var x;r||(f(new qX(g)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>VX.isFocused()&&(e.networkMode==="always"||ES.isOnline())&&e.canRun(),d=()=>WX(e.networkMode)&&e.canRun(),h=g=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,g),i==null||i(),a.resolve(g))},f=g=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,g),i==null||i(),a.reject(g))},m=()=>new Promise(g=>{var x;i=y=>{(r||u())&&g(y)},(x=e.onPause)==null||x.call(e)}).then(()=>{var g;i=void 0,r||(g=e.onContinue)==null||g.call(e)}),p=()=>{if(r)return;let g;const x=n===0?e.initialPromise:void 0;try{g=x??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(h).catch(y=>{var S;if(r)return;const v=e.retry??(x2?0:3),b=e.retryDelay??oSe,E=typeof b=="function"?b(n,y):b,_=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,y);if(t||!_){f(y);return}n++,(S=e.onFail)==null||S.call(e,n,y),eSe(E).then(()=>u()?void 0:m()).then(()=>{t?f(y):p()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?p():m().then(p),a)}}function lSe(){let e=[],t=0,n=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const a=l=>{t?e.push(l):i(()=>{n(l)})},s=()=>{const l=e;e=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||s()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var aa=lSe(),Eh,sG,YX=(sG=class{constructor(){wn(this,Eh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ZEe(this.gcTime)&&Kt(this,Eh,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(x2?1/0:5*60*1e3))}clearGcTimeout(){ke(this,Eh)&&(clearTimeout(ke(this,Eh)),Kt(this,Eh,void 0))}},Eh=new WeakMap,sG),op,lp,js,Ii,yb,Sh,mo,ql,oG,cSe=(oG=class extends YX{constructor(t){super();wn(this,mo);wn(this,op);wn(this,lp);wn(this,js);wn(this,Ii);wn(this,yb);wn(this,Sh);Kt(this,Sh,!1),Kt(this,yb,t.defaultOptions),this.setOptions(t.options),this.observers=[],Kt(this,js,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Kt(this,op,dSe(this.options)),this.state=t.state??ke(this,op),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ke(this,Ii))==null?void 0:t.promise}setOptions(t){this.options={...ke(this,yb),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ke(this,js).remove(this)}setData(t,n){const r=tSe(this.state.data,t,this.options);return Ai(this,mo,ql).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ai(this,mo,ql).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=ke(this,Ii))==null?void 0:r.promise;return(i=ke(this,Ii))==null||i.cancel(t),n?n.then(fo).catch(fo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ke(this,op))}isActive(){return this.observers.some(t=>JEe(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zD||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!QEe(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ke(this,Ii))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ke(this,Ii))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ke(this,js).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ke(this,Ii)&&(ke(this,Sh)?ke(this,Ii).cancel({revert:!0}):ke(this,Ii).cancelRetry()),this.scheduleGc()),ke(this,js).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ai(this,mo,ql).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ke(this,Ii))return ke(this,Ii).continueRetry(),ke(this,Ii).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Kt(this,Sh,!0),r.signal)})},a=()=>{const h=HX(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return i(f),Kt(this,Sh,!1),this.options.persister?this.options.persister(h,f,this):h(f)},s={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(s),(c=this.options.behavior)==null||c.onFetch(s,this),Kt(this,lp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&Ai(this,mo,ql).call(this,{type:"fetch",meta:(d=s.fetchOptions)==null?void 0:d.meta});const l=h=>{var f,m,p,g;hk(h)&&h.silent||Ai(this,mo,ql).call(this,{type:"error",error:h}),hk(h)||((m=(f=ke(this,js).config).onError)==null||m.call(f,h,this),(g=(p=ke(this,js).config).onSettled)==null||g.call(p,this.state.data,h,this)),this.scheduleGc()};return Kt(this,Ii,GX({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,m,p,g;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){l(x);return}(m=(f=ke(this,js).config).onSuccess)==null||m.call(f,h,this),(g=(p=ke(this,js).config).onSettled)==null||g.call(p,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{Ai(this,mo,ql).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{Ai(this,mo,ql).call(this,{type:"pause"})},onContinue:()=>{Ai(this,mo,ql).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),ke(this,Ii).start()}},op=new WeakMap,lp=new WeakMap,js=new WeakMap,Ii=new WeakMap,yb=new WeakMap,Sh=new WeakMap,mo=new WeakSet,ql=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...uSe(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return hk(i)&&i.revert&&ke(this,lp)?{...ke(this,lp),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),aa.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ke(this,js).notify({query:this,type:"updated",action:t})})},oG);function uSe(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:WX(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function dSe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Qo,lG,hSe=(lG=class extends y2{constructor(t={}){super();wn(this,Qo);this.config=t,Kt(this,Qo,new Map)}build(t,n,r){const i=n.queryKey,a=n.queryHash??FD(i,n);let s=this.get(a);return s||(s=new cSe({cache:this,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){ke(this,Qo).has(t.queryHash)||(ke(this,Qo).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ke(this,Qo).get(t.queryHash);n&&(t.destroy(),n===t&&ke(this,Qo).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){aa.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ke(this,Qo).get(t)}getAll(){return[...ke(this,Qo).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>lB(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>lB(t,r)):n}notify(t){aa.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){aa.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){aa.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Qo=new WeakMap,lG),Jo,ta,_h,el,nu,cG,fSe=(cG=class extends YX{constructor(t){super();wn(this,el);wn(this,Jo);wn(this,ta);wn(this,_h);this.mutationId=t.mutationId,Kt(this,ta,t.mutationCache),Kt(this,Jo,[]),this.state=t.state||mSe(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ke(this,Jo).includes(t)||(ke(this,Jo).push(t),this.clearGcTimeout(),ke(this,ta).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Kt(this,Jo,ke(this,Jo).filter(n=>n!==t)),this.scheduleGc(),ke(this,ta).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ke(this,Jo).length||(this.state.status==="pending"?this.scheduleGc():ke(this,ta).remove(this))}continue(){var t;return((t=ke(this,_h))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,s,l,c,u,d,h,f,m,p,g,x,y,v,b,E,_,S,C;Kt(this,_h,GX({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,j)=>{Ai(this,el,nu).call(this,{type:"failed",failureCount:T,error:j})},onPause:()=>{Ai(this,el,nu).call(this,{type:"pause"})},onContinue:()=>{Ai(this,el,nu).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ke(this,ta).canRun(this)}));const n=this.state.status==="pending",r=!ke(this,_h).canStart();try{if(!n){Ai(this,el,nu).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(i=ke(this,ta).config).onMutate)==null?void 0:a.call(i,t,this));const j=await((l=(s=this.options).onMutate)==null?void 0:l.call(s,t));j!==this.state.context&&Ai(this,el,nu).call(this,{type:"pending",context:j,variables:t,isPaused:r})}const T=await ke(this,_h).start();return await((u=(c=ke(this,ta).config).onSuccess)==null?void 0:u.call(c,T,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,T,t,this.state.context)),await((m=(f=ke(this,ta).config).onSettled)==null?void 0:m.call(f,T,null,this.state.variables,this.state.context,this)),await((g=(p=this.options).onSettled)==null?void 0:g.call(p,T,null,t,this.state.context)),Ai(this,el,nu).call(this,{type:"success",data:T}),T}catch(T){try{throw await((y=(x=ke(this,ta).config).onError)==null?void 0:y.call(x,T,t,this.state.context,this)),await((b=(v=this.options).onError)==null?void 0:b.call(v,T,t,this.state.context)),await((_=(E=ke(this,ta).config).onSettled)==null?void 0:_.call(E,void 0,T,this.state.variables,this.state.context,this)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,T,t,this.state.context)),T}finally{Ai(this,el,nu).call(this,{type:"error",error:T})}}finally{ke(this,ta).runNext(this)}}},Jo=new WeakMap,ta=new WeakMap,_h=new WeakMap,el=new WeakSet,nu=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),aa.batch(()=>{ke(this,Jo).forEach(r=>{r.onMutationUpdate(t)}),ke(this,ta).notify({mutation:this,type:"updated",action:t})})},cG);function mSe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var es,xb,uG,pSe=(uG=class extends y2{constructor(t={}){super();wn(this,es);wn(this,xb);this.config=t,Kt(this,es,new Map),Kt(this,xb,Date.now())}build(t,n,r){const i=new fSe({mutationCache:this,mutationId:++j1(this,xb)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=Q1(t),r=ke(this,es).get(n)??[];r.push(t),ke(this,es).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Q1(t);if(ke(this,es).has(n)){const i=(r=ke(this,es).get(n))==null?void 0:r.filter(a=>a!==t);i&&(i.length===0?ke(this,es).delete(n):ke(this,es).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=ke(this,es).get(Q1(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=ke(this,es).get(Q1(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){aa.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...ke(this,es).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>cB(n,r))}findAll(t={}){return this.getAll().filter(n=>cB(t,n))}notify(t){aa.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return aa.batch(()=>Promise.all(t.map(n=>n.continue().catch(fo))))}},es=new WeakMap,xb=new WeakMap,uG);function Q1(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function hB(e){return{onFetch:(t,n)=>{var d,h,f,m,p;const r=t.options,i=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,a=((m=t.state.data)==null?void 0:m.pages)||[],s=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=HX(t.options,t.fetchOptions),v=async(b,E,_)=>{if(g)return Promise.reject();if(E==null&&b.pages.length)return Promise.resolve(b);const S={queryKey:t.queryKey,pageParam:E,direction:_?"backward":"forward",meta:t.options.meta};x(S);const C=await y(S),{maxPages:T}=t.options,j=_?rSe:nSe;return{pages:j(b.pages,C,T),pageParams:j(b.pageParams,E,T)}};if(i&&a.length){const b=i==="backward",E=b?gSe:fB,_={pages:a,pageParams:s},S=E(r,_);l=await v(_,S,b)}else{const b=e??a.length;do{const E=c===0?s[0]??r.initialPageParam:fB(r,l);if(c>0&&E==null)break;l=await v(l,E),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,x;return(x=(g=t.options).persister)==null?void 0:x.call(g,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function fB(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function gSe(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var xr,_u,Cu,cp,up,Tu,dp,hp,dG,ySe=(dG=class{constructor(e={}){wn(this,xr);wn(this,_u);wn(this,Cu);wn(this,cp);wn(this,up);wn(this,Tu);wn(this,dp);wn(this,hp);Kt(this,xr,e.queryCache||new hSe),Kt(this,_u,e.mutationCache||new pSe),Kt(this,Cu,e.defaultOptions||{}),Kt(this,cp,new Map),Kt(this,up,new Map),Kt(this,Tu,0)}mount(){j1(this,Tu)._++,ke(this,Tu)===1&&(Kt(this,dp,VX.subscribe(async e=>{e&&(await this.resumePausedMutations(),ke(this,xr).onFocus())})),Kt(this,hp,ES.subscribe(async e=>{e&&(await this.resumePausedMutations(),ke(this,xr).onOnline())})))}unmount(){var e,t;j1(this,Tu)._--,ke(this,Tu)===0&&((e=ke(this,dp))==null||e.call(this),Kt(this,dp,void 0),(t=ke(this,hp))==null||t.call(this),Kt(this,hp,void 0))}isFetching(e){return ke(this,xr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ke(this,_u).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ke(this,xr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=ke(this,xr).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(oB(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return ke(this,xr).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=ke(this,xr).get(r.queryHash),a=i==null?void 0:i.state.data,s=XEe(t,a);if(s!==void 0)return ke(this,xr).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return aa.batch(()=>ke(this,xr).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ke(this,xr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ke(this,xr);aa.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ke(this,xr),r={type:"active",...e};return aa.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=aa.batch(()=>ke(this,xr).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(fo).catch(fo)}invalidateQueries(e={},t={}){return aa.batch(()=>{if(ke(this,xr).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=aa.batch(()=>ke(this,xr).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(fo)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(fo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ke(this,xr).build(this,t);return n.isStaleByTime(oB(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(fo).catch(fo)}fetchInfiniteQuery(e){return e.behavior=hB(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(fo).catch(fo)}ensureInfiniteQueryData(e){return e.behavior=hB(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ES.isOnline()?ke(this,_u).resumePausedMutations():Promise.resolve()}getQueryCache(){return ke(this,xr)}getMutationCache(){return ke(this,_u)}getDefaultOptions(){return ke(this,Cu)}setDefaultOptions(e){Kt(this,Cu,e)}setQueryDefaults(e,t){ke(this,cp).set(Yx(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ke(this,cp).values()];let n={};return t.forEach(r=>{Kx(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){ke(this,up).set(Yx(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ke(this,up).values()];let n={};return t.forEach(r=>{Kx(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ke(this,Cu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=FD(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===zD&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ke(this,Cu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ke(this,xr).clear(),ke(this,_u).clear()}},xr=new WeakMap,_u=new WeakMap,Cu=new WeakMap,cp=new WeakMap,up=new WeakMap,Tu=new WeakMap,dp=new WeakMap,hp=new WeakMap,dG),xSe=w.createContext(void 0),vSe=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(xSe.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xx(){return Xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xx.apply(this,arguments)}var Au;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Au||(Au={}));const mB="popstate";function bSe(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:s,hash:l}=r.location;return NO("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:SS(i)}return ESe(t,n,null,e)}function Ur(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function KX(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wSe(){return Math.random().toString(36).substr(2,8)}function pB(e,t){return{usr:e.state,key:e.key,idx:t}}function NO(e,t,n,r){return n===void 0&&(n=null),Xx({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?zg(t):t,{state:n,key:t&&t.key||r||wSe()})}function SS(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function zg(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ESe(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,l=Au.Pop,c=null,u=d();u==null&&(u=0,s.replaceState(Xx({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function h(){l=Au.Pop;let x=d(),y=x==null?null:x-u;u=x,c&&c({action:l,location:g.location,delta:y})}function f(x,y){l=Au.Push;let v=NO(g.location,x,y);u=d()+1;let b=pB(v,u),E=g.createHref(v);try{s.pushState(b,"",E)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(E)}a&&c&&c({action:l,location:g.location,delta:1})}function m(x,y){l=Au.Replace;let v=NO(g.location,x,y);u=d();let b=pB(v,u),E=g.createHref(v);s.replaceState(b,"",E),a&&c&&c({action:l,location:g.location,delta:0})}function p(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof x=="string"?x:SS(x);return v=v.replace(/ $/,"%20"),Ur(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return l},get location(){return e(i,s)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(mB,h),c=x,()=>{i.removeEventListener(mB,h),c=null}},createHref(x){return t(i,x)},createURL:p,encodeLocation(x){let y=p(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(x){return s.go(x)}};return g}var gB;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(gB||(gB={}));function SSe(e,t,n){return n===void 0&&(n="/"),_Se(e,t,n,!1)}function _Se(e,t,n,r){let i=typeof t=="string"?zg(t):t,a=UD(i.pathname||"/",n);if(a==null)return null;let s=XX(e);CSe(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=DSe(a);l=ISe(s[c],u,r)}return l}function XX(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(Ur(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Vu([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(Ur(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),XX(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:PSe(u,a.index),routesMeta:d})};return e.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let c of ZX(a.path))i(a,s,c)}),t}function ZX(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=ZX(r.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function CSe(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:MSe(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const TSe=/^:[\w-]+$/,NSe=3,kSe=2,ASe=1,jSe=10,OSe=-2,yB=e=>e==="*";function PSe(e,t){let n=e.split("/"),r=n.length;return n.some(yB)&&(r+=OSe),t&&(r+=kSe),n.filter(i=>!yB(i)).reduce((i,a)=>i+(TSe.test(a)?NSe:a===""?ASe:jSe),r)}function MSe(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function ISe(e,t,n){let{routesMeta:r}=e,i={},a="/",s=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=xB({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=xB({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:Vu([a,h.pathname]),pathnameBase:FSe(Vu([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Vu([a,h.pathnameBase]))}return s}function xB(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=RSe(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let g=l[h]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[h];return m&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function RSe(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),KX(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function DSe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return KX(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function UD(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function LSe(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?zg(e):e;return{pathname:n?n.startsWith("/")?n:$Se(n,t):t,search:zSe(r),hash:USe(i)}}function $Se(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function fk(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BSe(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function QX(e,t){let n=BSe(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function JX(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=zg(e):(i=Xx({},e),Ur(!i.pathname||!i.pathname.includes("?"),fk("?","pathname","search",i)),Ur(!i.pathname||!i.pathname.includes("#"),fk("#","pathname","hash",i)),Ur(!i.search||!i.search.includes("#"),fk("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=n;else{let h=t.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=LSe(i,l),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Vu=e=>e.join("/").replace(/\/\/+/g,"/"),FSe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zSe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,USe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function HSe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const eZ=["post","put","patch","delete"];new Set(eZ);const VSe=["get",...eZ];new Set(VSe);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zx.apply(this,arguments)}const HD=w.createContext(null),WSe=w.createContext(null),vf=w.createContext(null),v2=w.createContext(null),bf=w.createContext({outlet:null,matches:[],isDataRoute:!1}),tZ=w.createContext(null);function qSe(e,t){let{relative:n}=t===void 0?{}:t;Nb()||Ur(!1);let{basename:r,navigator:i}=w.useContext(vf),{hash:a,pathname:s,search:l}=rZ(e,{relative:n}),c=s;return r!=="/"&&(c=s==="/"?r:Vu([r,s])),i.createHref({pathname:c,search:l,hash:a})}function Nb(){return w.useContext(v2)!=null}function Yi(){return Nb()||Ur(!1),w.useContext(v2).location}function nZ(e){w.useContext(vf).static||w.useLayoutEffect(e)}function Dn(){let{isDataRoute:e}=w.useContext(bf);return e?a_e():GSe()}function GSe(){Nb()||Ur(!1);let e=w.useContext(HD),{basename:t,future:n,navigator:r}=w.useContext(vf),{matches:i}=w.useContext(bf),{pathname:a}=Yi(),s=JSON.stringify(QX(i,n.v7_relativeSplatPath)),l=w.useRef(!1);return nZ(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=JX(u,JSON.parse(s),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Vu([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,s,a,e])}function rZ(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(vf),{matches:i}=w.useContext(bf),{pathname:a}=Yi(),s=JSON.stringify(QX(i,r.v7_relativeSplatPath));return w.useMemo(()=>JX(e,JSON.parse(s),a,n==="path"),[e,s,a,n])}function YSe(e,t){return KSe(e,t)}function KSe(e,t,n,r){Nb()||Ur(!1);let{navigator:i}=w.useContext(vf),{matches:a}=w.useContext(bf),s=a[a.length-1],l=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=Yi(),d;if(t){var h;let x=typeof t=="string"?zg(t):t;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||Ur(!1),d=x}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let p=SSe(e,{pathname:m}),g=e_e(p&&p.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Vu([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Vu([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,n,r);return t&&g?w.createElement(v2.Provider,{value:{location:Zx({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Au.Pop}},g):g}function XSe(){let e=i_e(),t=HSe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,null)}const ZSe=w.createElement(XSe,null);class QSe extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(bf.Provider,{value:this.props.routeContext},w.createElement(tZ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JSe(e){let{routeContext:t,match:n,children:r}=e,i=w.useContext(HD);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(bf.Provider,{value:t},r)}function e_e(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=s.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Ur(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,p=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||p){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,h,f)=>{let m,p=!1,g=null,x=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||ZSe,c&&(u<0&&f===0?(p=!0,x=null):u===f&&(p=!0,x=h.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,f+1)),v=()=>{let b;return m?b=g:p?b=x:h.route.Component?b=w.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,w.createElement(JSe,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?w.createElement(QSe,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var iZ=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(iZ||{}),_S=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(_S||{});function t_e(e){let t=w.useContext(HD);return t||Ur(!1),t}function n_e(e){let t=w.useContext(WSe);return t||Ur(!1),t}function r_e(e){let t=w.useContext(bf);return t||Ur(!1),t}function aZ(e){let t=r_e(),n=t.matches[t.matches.length-1];return n.route.id||Ur(!1),n.route.id}function i_e(){var e;let t=w.useContext(tZ),n=n_e(_S.UseRouteError),r=aZ(_S.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function a_e(){let{router:e}=t_e(iZ.UseNavigateStable),t=aZ(_S.UseNavigateStable),n=w.useRef(!1);return nZ(()=>{n.current=!0}),w.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Zx({fromRouteId:t},a)))},[e,t])}function Zn(e){Ur(!1)}function s_e(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Au.Pop,navigator:a,static:s=!1,future:l}=e;Nb()&&Ur(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:a,static:s,future:Zx({v7_relativeSplatPath:!1},l)}),[c,l,a,s]);typeof r=="string"&&(r=zg(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:p="default"}=r,g=w.useMemo(()=>{let x=UD(d,c);return x==null?null:{location:{pathname:x,search:h,hash:f,state:m,key:p},navigationType:i}},[c,d,h,f,m,p,i]);return g==null?null:w.createElement(vf.Provider,{value:u},w.createElement(v2.Provider,{children:n,value:g}))}function o_e(e){let{children:t,location:n}=e;return YSe(kO(t),n)}new Promise(()=>{});function kO(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let a=[...t,i];if(r.type===w.Fragment){n.push.apply(n,kO(r.props.children,a));return}r.type!==Zn&&Ur(!1),!r.props.index||!r.props.children||Ur(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=kO(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function AO(){return AO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AO.apply(this,arguments)}function l_e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function c_e(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function u_e(e,t){return e.button===0&&(!t||t==="_self")&&!c_e(e)}function jO(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function d_e(e,t){let n=jO(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const h_e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],f_e="6";try{window.__reactRouterVersion=f_e}catch{}const m_e="startTransition",vB=CR[m_e];function p_e(e){let{basename:t,children:n,future:r,window:i}=e,a=w.useRef();a.current==null&&(a.current=bSe({window:i,v5Compat:!0}));let s=a.current,[l,c]=w.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},d=w.useCallback(h=>{u&&vB?vB(()=>c(h)):c(h)},[c,u]);return w.useLayoutEffect(()=>s.listen(d),[s,d]),w.createElement(s_e,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:s,future:r})}const g_e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",y_e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OO=w.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=l_e(t,h_e),{basename:m}=w.useContext(vf),p,g=!1;if(typeof u=="string"&&y_e.test(u)&&(p=u,g_e))try{let b=new URL(window.location.href),E=u.startsWith("//")?new URL(b.protocol+u):new URL(u),_=UD(E.pathname,m);E.origin===b.origin&&_!=null?u=_+E.search+E.hash:g=!0}catch{}let x=qSe(u,{relative:i}),y=x_e(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});function v(b){r&&r(b),b.defaultPrevented||y(b)}return w.createElement("a",AO({},f,{href:p||x,onClick:g||a?r:v,ref:n,target:c}))});var bB;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(bB||(bB={}));var wB;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wB||(wB={}));function x_e(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:l}=t===void 0?{}:t,c=Dn(),u=Yi(),d=rZ(e,{relative:s});return w.useCallback(h=>{if(u_e(h,n)){h.preventDefault();let f=r!==void 0?r:SS(u)===SS(d);c(e,{replace:f,state:i,preventScrollReset:a,relative:s,viewTransition:l})}},[u,c,d,r,i,n,e,a,s,l])}function sZ(e){let t=w.useRef(jO(e)),n=w.useRef(!1),r=Yi(),i=w.useMemo(()=>d_e(r.search,n.current?null:t.current),[r.search]),a=Dn(),s=w.useCallback((l,c)=>{const u=jO(typeof l=="function"?l(i):l);n.current=!0,a("?"+u,c)},[a,i]);return[i,s]}const Ke="http://localhost:3030",tt=()=>{const e={"Content-Type":"application/json"},t=Qa.getStoredToken();return t&&(e.Authorization=`Bearer ${t}`),e},gt=async e=>{if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error(t.message||`HTTP error! status: ${e.status}`)}return e.json()};var Sm=(e=>(e.DOLL="doll",e.SAML2="saml2",e.OIDC="oidc",e))(Sm||{});class v_e{constructor(){ot(this,"baseUrl");this.baseUrl=Ke}async loadLoginConfig(){try{const t=await fetch(`${this.baseUrl}/watchmen/auth/config`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`Failed to load login configuration: ${t.statusText}`);return await t.json()}catch(t){return console.error("Error loading login configuration:",t),{method:"doll"}}}async loginWithCredentials(t){try{const n=new FormData;n.append("username",t.username),n.append("password",t.password);const r=await fetch(`${this.baseUrl}/watchmen/login`,{method:"POST",body:n});if(!r.ok){const i=await r.json().catch(()=>({}));throw new Error(i.detail||"Login failed")}return await r.json()}catch(n){throw console.error("Error during login:",n),n}}async validateJwtToken(t){try{const n=await fetch(`${this.baseUrl}/watchmen/token/validate/jwt?token=${encodeURIComponent(t)}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error(`Token validation failed: ${n.statusText}`);return await n.json()}catch(n){throw console.error("Error validating token:",n),n}}async exchangeUser(t){try{const n=await fetch(`${this.baseUrl}/watchmen/token/exchange-user`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!n.ok){if(n.status===401)return null;throw new Error(`Failed to exchange user: ${n.statusText}`)}return await n.json()}catch(n){throw console.error("Error exchanging user:",n),n}}async handleSSORedirect(t){window.location.href=t}storeToken(t){localStorage.setItem("authToken",t.accessToken),localStorage.setItem("tokenType",t.tokenType),localStorage.setItem("userRole",t.role),localStorage.setItem("tenantId",t.tenantId)}getStoredToken(){return localStorage.getItem("authToken")}clearStoredAuth(){localStorage.removeItem("authToken"),localStorage.removeItem("tokenType"),localStorage.removeItem("userRole"),localStorage.removeItem("tenantId"),localStorage.removeItem("user")}isAuthenticated(){return!!this.getStoredToken()}}const Qa=new v_e,oZ=w.createContext(void 0),VD=()=>{const e=w.useContext(oZ);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},b_e=({children:e})=>{const[t,n]=w.useState(null),[r,i]=w.useState(null),[a,s]=w.useState(null),[l,c]=w.useState(!0);w.useEffect(()=>{u()},[]);const u=async()=>{c(!0);try{await d();const g=Qa.getStoredToken();if(g)try{const x=await Qa.exchangeUser(g);x?(n(x),i(g)):Qa.clearStoredAuth()}catch(x){console.error("Error validating stored token:",x),Qa.clearStoredAuth()}}catch(g){console.error("Error initializing auth:",g)}finally{c(!1)}},d=async()=>{try{const g=await Qa.loadLoginConfig();s(g)}catch(g){console.error("Error loading login configuration:",g),s({method:Sm.DOLL})}},p={user:t,token:r,loginConfig:a,login:async g=>{c(!0);try{const x=await Qa.loginWithCredentials(g);Qa.storeToken(x),i(x.accessToken);const y=await Qa.exchangeUser(x.accessToken);y&&(n(y),localStorage.setItem("user",JSON.stringify(y)))}catch(x){throw console.error("Login error:",x),x}finally{c(!1)}},logout:()=>{n(null),i(null),Qa.clearStoredAuth()},isLoading:l,loadLoginConfiguration:d,handleSSOLogin:async g=>{try{await Qa.handleSSORedirect(g)}catch(x){throw console.error("SSO login error:",x),x}}};return o.jsx(oZ.Provider,{value:p,children:e})},lZ=w.createContext(void 0),w_e=({children:e})=>{const[t,n]=w.useState(()=>{const i=localStorage.getItem("theme");return i||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});w.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark"),i.classList.add(t),localStorage.setItem("theme",t)},[t]);const r=()=>{n(t==="dark"?"light":"dark")};return o.jsx(lZ.Provider,{value:{theme:t,setTheme:n,toggleTheme:r},children:e})},E_e=()=>{const e=w.useContext(lZ);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},cZ=w.createContext(void 0),S_e=({children:e})=>{const[t,n]=w.useState(()=>{const i=localStorage.getItem("sidebarCollapsed");return i?JSON.parse(i):!1});w.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(t))},[t]);const r=()=>{n(!t)};return o.jsx(cZ.Provider,{value:{collapsed:t,setCollapsed:n,toggleSidebar:r},children:e})},Tr=()=>{const e=w.useContext(cZ);if(e===void 0)throw new Error("useSidebar must be used within a SidebarProvider");return e},WD=a2("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),te=w.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>{const s=r?_c:"button";return o.jsx(s,{className:Be(WD({variant:t,size:n,className:e})),ref:a,...i})});te.displayName="Button";const Xn=()=>{var u,d;const e=Dn(),t=Yi(),{user:n,logout:r}=VD(),[i,a]=w.useState(!1),s=w.useRef(null);w.useEffect(()=>{const h=f=>{s.current&&!s.current.contains(f.target)&&a(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]);const l=!!n,c=()=>{switch(t.pathname){case"/":return"Smart Console";case"/hypotheses":return"Hypothesis";case"/metrics":return"Metrics Hub";case"/analysis":return"AI Analysis";case"/login":return"Sign In";case"/settings":return"Settings";default:return"Insurance Data Analysis System"}};return o.jsxs("header",{className:"w-full bg-white/80 dark:bg-card/80 backdrop-blur-md border-b border-border/50 py-3 px-6 flex items-center justify-between z-[9997]",children:[o.jsx("h1",{className:"text-xl font-medium",children:c()}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(te,{variant:"ghost",size:"icon",className:"rounded-full",onClick:()=>e("/settings"),children:o.jsx(Wx,{className:"h-5 w-5"})}),l?o.jsxs("div",{className:"relative z-[9998]",ref:s,children:[o.jsxs("div",{className:"flex items-center gap-3 cursor-pointer hover:bg-muted/50 rounded-lg p-2 transition-colors",onClick:()=>a(!i),children:[o.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[o.jsx("span",{className:"text-sm font-medium text-foreground",children:n==null?void 0:n.name}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[n==null?void 0:n.role," ",(n==null?void 0:n.email)&&` ${n.email}`]})]}),o.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-medium text-sm",children:((u=n==null?void 0:n.name)==null?void 0:u.charAt(0).toUpperCase())||"U"}),o.jsx(xf,{className:`h-4 w-4 text-muted-foreground transition-transform ${i?"rotate-180":""}`})]}),i&&o.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white dark:bg-card border border-border rounded-lg shadow-lg z-[99999]",children:[o.jsx("div",{className:"p-4 border-b border-border",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-medium text-lg",children:((d=n==null?void 0:n.name)==null?void 0:d.charAt(0).toUpperCase())||"U"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:n==null?void 0:n.name}),(n==null?void 0:n.email)&&o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:n.email}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:n==null?void 0:n.role}),(n==null?void 0:n.isActive)&&o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Active"})]})]})]})}),o.jsxs("div",{className:"py-2",children:[o.jsxs("button",{onClick:()=>{a(!1),e("/settings")},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-foreground hover:bg-muted transition-colors",children:[o.jsx(Fbe,{className:"h-4 w-4"}),"Profile Settings"]}),o.jsxs("button",{onClick:()=>{a(!1),e("/settings")},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-foreground hover:bg-muted transition-colors",children:[o.jsx(Wx,{className:"h-4 w-4"}),"Account Settings"]})]}),o.jsx("div",{className:"border-t border-border py-2",children:o.jsxs("button",{onClick:()=>{a(!1),r()},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[o.jsx(Qbe,{className:"h-4 w-4"}),"Sign Out"]})})]})]}):o.jsxs(te,{variant:"outline",size:"sm",onClick:()=>e("/login"),children:[o.jsx(Zbe,{className:"h-4 w-4 mr-2"}),"Login"]})]})]})},__e=!1,ws=({to:e,icon:t,label:n,collapsed:r,isSubItem:i=!1})=>{const s=Yi().pathname===e;return o.jsxs(OO,{to:e,className:Be("flex items-center gap-3 py-2 rounded-lg text-sidebar-foreground/80 transition-all duration-200",i?"px-8 ml-2":"px-4",s?"bg-sidebar-accent text-sidebar-accent-foreground font-medium":"hover:bg-sidebar-accent/50 hover:text-sidebar-accent-foreground"),children:[o.jsx("div",{className:Be("w-5 h-5 flex items-center justify-center",s?"text-primary":"text-sidebar-foreground/70"),children:t}),!r&&o.jsx("span",{className:i?"text-sm":"",children:n})]})},J1=({icon:e,label:t,children:n,collapsed:r,defaultExpanded:i=!1})=>{const[a,s]=w.useState(i);return r?o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"flex items-center justify-center px-4 py-3 rounded-lg text-sidebar-foreground/80 hover:bg-sidebar-accent/50 hover:text-sidebar-accent-foreground transition-all duration-200",children:o.jsx("div",{className:"w-6 h-6 flex items-center justify-center text-sidebar-foreground/70",children:e})}),o.jsx("div",{className:"absolute left-full top-0 ml-2 bg-popover border border-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50 min-w-48",children:o.jsxs("div",{className:"p-2",children:[o.jsx("div",{className:"font-medium text-sm px-3 py-2 text-sidebar-foreground",children:t}),o.jsx("div",{className:"space-y-1",children:n})]})})]}):o.jsxs("div",{children:[o.jsxs("button",{onClick:()=>s(!a),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sidebar-foreground/80 hover:bg-sidebar-accent/50 hover:text-sidebar-accent-foreground transition-all duration-200",children:[o.jsx("div",{className:"w-6 h-6 flex items-center justify-center text-sidebar-foreground/70",children:e}),o.jsx("span",{className:"flex-1 text-left",children:t}),a?o.jsx(xf,{size:16}):o.jsx(SD,{size:16})]}),a&&o.jsx("div",{className:"mt-1 space-y-1",children:n})]})},ir=()=>{const{collapsed:e,toggleSidebar:t}=Tr();return o.jsxs("aside",{className:Be("h-screen bg-sidebar fixed top-0 left-0 border-r border-border/50 flex flex-col transition-all duration-300",e?"w-20":"w-56"),children:[o.jsxs("div",{className:"p-4 border-b border-border/50 relative",children:[o.jsxs("div",{className:Be("text-lg font-medium flex items-center gap-2 px-2",e&&"justify-center"),children:[o.jsx("div",{className:"w-6 h-6 rounded-md bg-primary flex items-center justify-center",children:o.jsx(Wi,{className:"h-4 w-4 text-white"})}),!e&&o.jsx("span",{children:"Watchmen"})]}),o.jsx("button",{onClick:t,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 rounded-lg hover:bg-sidebar-accent/50 text-sidebar-foreground/70",children:o.jsx(XK,{className:Be("h-4 w-4 transition-transform duration-300",e&&"rotate-180")})})]}),o.jsxs("nav",{className:"flex-1 px-2 py-4 space-y-2",children:[__e,o.jsxs(J1,{icon:o.jsx(xE,{size:18}),label:"Business Challenge",collapsed:e,defaultExpanded:!0,children:[o.jsx(ws,{to:"/challenges",icon:o.jsx(yS,{size:16}),label:"Challenges",collapsed:e,isSubItem:!0}),o.jsx(ws,{to:"/problems",icon:o.jsx(QK,{size:16}),label:"Problems",collapsed:e,isSubItem:!0}),o.jsx(ws,{to:"/hypotheses",icon:o.jsx(zh,{size:16}),label:"Hypothesis",collapsed:e,isSubItem:!0})]}),o.jsxs(J1,{icon:o.jsx(zi,{size:18}),label:"Metrics",collapsed:e,defaultExpanded:!0,children:[o.jsx(ws,{to:"/chat",icon:o.jsx(Lg,{size:16}),label:"Smart Metrics Chat",collapsed:e,isSubItem:!0}),o.jsx(ws,{to:"/metrics/semantic-models",icon:o.jsx(JK,{size:16}),label:"Semantic Model Management",collapsed:e,isSubItem:!0}),o.jsx(ws,{to:"/metrics/management",icon:o.jsx(hi,{size:16}),label:"Metrics Management",collapsed:e,isSubItem:!0})]}),o.jsx(J1,{icon:o.jsx(ss,{size:18}),label:"Data Catalog",collapsed:e,defaultExpanded:!0,children:o.jsx(ws,{to:"/data-catalog",icon:o.jsx(qbe,{size:16}),label:"Data Catalog",collapsed:e,isSubItem:!0})}),o.jsxs(J1,{icon:o.jsx(Ube,{size:18}),label:"Evaluation",collapsed:e,defaultExpanded:!0,children:[o.jsx(ws,{to:"/evaluation/offline",icon:o.jsx(ss,{size:16}),label:"Offline Evaluation",collapsed:e,isSubItem:!0}),o.jsx(ws,{to:"/evaluation/datasets",icon:o.jsx(ss,{size:16}),label:"Dataset Management",collapsed:e,isSubItem:!0}),o.jsx(ws,{to:"/evaluation/scenarios",icon:o.jsx(ND,{size:16}),label:"Scenario Evaluation",collapsed:e,isSubItem:!0})]})]}),o.jsxs("div",{className:"p-4 border-t border-border/50 space-y-1",children:[o.jsx(ws,{to:"/settings",icon:o.jsx(Wx,{size:18}),label:"Settings",collapsed:e}),o.jsx(ws,{to:"/help",icon:o.jsx(ZK,{size:18}),label:"Help",collapsed:e})]})]})};function C_e(e,t){let n=null;return function(...r){n&&clearTimeout(n),n=setTimeout(()=>{e.apply(this,r),n=null},t)}}const T_e=({onSendMessage:e,onReportGenerated:t,chatHistory:n})=>{const[r,i]=w.useState(""),[a,s]=w.useState(!1),[l,c]=w.useState(new Set),u=w.useRef(null),d=w.useRef(null),h=w.useCallback(v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),r.trim()&&(e(r),i("")),s(!1))},[r,e]),f=w.useCallback(v=>{var b;i(v),s(!1),(b=u.current)==null||b.focus()},[]),m=w.useCallback(v=>{i(v.target.value)},[]),p=w.useCallback(v=>{c(b=>{const E=new Set(b);return E.has(v)?E.delete(v):E.add(v),E})},[]),g=w.useCallback(()=>{r.trim()&&(e(r),i(""),s(!1))},[r,e]),x=w.useMemo(()=>C_e(v=>{v.trim()===""?s(!0):s(!1)},150),[]),y=w.useMemo(()=>n.length>50?n.slice(-50):n,[n]);return w.useEffect(()=>{const v=b=>{d.current&&!d.current.contains(b.target)&&u.current&&!u.current.contains(b.target)&&s(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]),w.useEffect(()=>{var b;if(!t||!n.length)return;const v=n.filter(E=>E.type==="assistant").pop();((b=v==null?void 0:v.metadata)==null?void 0:b.intent)==="report_generation"&&t(v.content)},[n,t]),{inputValue:r,setInputValue:i,showSuggestions:a,setShowSuggestions:s,expandedMessages:l,inputRef:u,suggestionsRef:d,visibleMessages:y,handleKeyPress:h,handleSuggestionClick:f,handleInputChange:m,toggleMessageExpansion:p,handleSendButtonClick:g,debouncedSuggestionUpdate:x}},N_e=({onBack:e,onClose:t,title:n="AI Assistant"})=>o.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[e&&o.jsx(te,{variant:"ghost",size:"sm",onClick:e,className:"rounded-full h-8 w-8 p-0 hover:bg-gray-100",children:o.jsx(xl,{className:"h-4 w-4"})}),o.jsx("h2",{className:"text-lg font-semibold",children:n})]}),t&&o.jsx(te,{variant:"ghost",size:"sm",onClick:t,className:"rounded-full h-8 w-8 p-0 hover:bg-gray-100",title:"Back to Dashboard",children:o.jsx(Pr,{className:"h-4 w-4"})})]});function EB(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,a=!1;for(;!a;){r===-1&&(r=n.length,a=!0);const s=n.slice(i,r).trim();(s||!a)&&t.push(s),i=r+1,r=n.indexOf(",",i)}return t}function uZ(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const k_e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,A_e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,j_e={};function SB(e,t){return(j_e.jsx?A_e:k_e).test(e)}const O_e=/[ \t\n\f\r]/g;function P_e(e){return typeof e=="object"?e.type==="text"?_B(e.value):!1:_B(e)}function _B(e){return e.replace(O_e,"")===""}let kb=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};kb.prototype.normal={};kb.prototype.property={};kb.prototype.space=void 0;function dZ(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new kb(n,r,t)}function Qx(e){return e.toLowerCase()}let Ha=class{constructor(t,n){this.attribute=n,this.property=t}};Ha.prototype.attribute="";Ha.prototype.booleanish=!1;Ha.prototype.boolean=!1;Ha.prototype.commaOrSpaceSeparated=!1;Ha.prototype.commaSeparated=!1;Ha.prototype.defined=!1;Ha.prototype.mustUseProperty=!1;Ha.prototype.number=!1;Ha.prototype.overloadedBoolean=!1;Ha.prototype.property="";Ha.prototype.spaceSeparated=!1;Ha.prototype.space=void 0;let M_e=0;const Ht=wf(),Dr=wf(),hZ=wf(),He=wf(),$n=wf(),Wm=wf(),Ka=wf();function wf(){return 2**++M_e}const PO=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ht,booleanish:Dr,commaOrSpaceSeparated:Ka,commaSeparated:Wm,number:He,overloadedBoolean:hZ,spaceSeparated:$n},Symbol.toStringTag,{value:"Module"})),mk=Object.keys(PO);let qD=class extends Ha{constructor(t,n,r,i){let a=-1;if(super(t,n),CB(this,"space",i),typeof r=="number")for(;++a<mk.length;){const s=mk[a];CB(this,mk[a],(r&PO[s])===PO[s])}}};qD.prototype.defined=!0;function CB(e,t,n){n&&(e[t]=n)}function Ug(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new qD(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[Qx(r)]=r,n[Qx(a.attribute)]=r}return new kb(t,n,e.space)}const fZ=Ug({properties:{ariaActiveDescendant:null,ariaAtomic:Dr,ariaAutoComplete:null,ariaBusy:Dr,ariaChecked:Dr,ariaColCount:He,ariaColIndex:He,ariaColSpan:He,ariaControls:$n,ariaCurrent:null,ariaDescribedBy:$n,ariaDetails:null,ariaDisabled:Dr,ariaDropEffect:$n,ariaErrorMessage:null,ariaExpanded:Dr,ariaFlowTo:$n,ariaGrabbed:Dr,ariaHasPopup:null,ariaHidden:Dr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:$n,ariaLevel:He,ariaLive:null,ariaModal:Dr,ariaMultiLine:Dr,ariaMultiSelectable:Dr,ariaOrientation:null,ariaOwns:$n,ariaPlaceholder:null,ariaPosInSet:He,ariaPressed:Dr,ariaReadOnly:Dr,ariaRelevant:null,ariaRequired:Dr,ariaRoleDescription:$n,ariaRowCount:He,ariaRowIndex:He,ariaRowSpan:He,ariaSelected:Dr,ariaSetSize:He,ariaSort:null,ariaValueMax:He,ariaValueMin:He,ariaValueNow:He,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function mZ(e,t){return t in e?e[t]:t}function pZ(e,t){return mZ(e,t.toLowerCase())}const I_e=Ug({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Wm,acceptCharset:$n,accessKey:$n,action:null,allow:null,allowFullScreen:Ht,allowPaymentRequest:Ht,allowUserMedia:Ht,alt:null,as:null,async:Ht,autoCapitalize:null,autoComplete:$n,autoFocus:Ht,autoPlay:Ht,blocking:$n,capture:null,charSet:null,checked:Ht,cite:null,className:$n,cols:He,colSpan:null,content:null,contentEditable:Dr,controls:Ht,controlsList:$n,coords:He|Wm,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ht,defer:Ht,dir:null,dirName:null,disabled:Ht,download:hZ,draggable:Dr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ht,formTarget:null,headers:$n,height:He,hidden:Ht,high:He,href:null,hrefLang:null,htmlFor:$n,httpEquiv:$n,id:null,imageSizes:null,imageSrcSet:null,inert:Ht,inputMode:null,integrity:null,is:null,isMap:Ht,itemId:null,itemProp:$n,itemRef:$n,itemScope:Ht,itemType:$n,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ht,low:He,manifest:null,max:null,maxLength:He,media:null,method:null,min:null,minLength:He,multiple:Ht,muted:Ht,name:null,nonce:null,noModule:Ht,noValidate:Ht,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ht,optimum:He,pattern:null,ping:$n,placeholder:null,playsInline:Ht,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ht,referrerPolicy:null,rel:$n,required:Ht,reversed:Ht,rows:He,rowSpan:He,sandbox:$n,scope:null,scoped:Ht,seamless:Ht,selected:Ht,shadowRootClonable:Ht,shadowRootDelegatesFocus:Ht,shadowRootMode:null,shape:null,size:He,sizes:null,slot:null,span:He,spellCheck:Dr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:He,step:null,style:null,tabIndex:He,target:null,title:null,translate:null,type:null,typeMustMatch:Ht,useMap:null,value:Dr,width:He,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:$n,axis:null,background:null,bgColor:null,border:He,borderColor:null,bottomMargin:He,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ht,declare:Ht,event:null,face:null,frame:null,frameBorder:null,hSpace:He,leftMargin:He,link:null,longDesc:null,lowSrc:null,marginHeight:He,marginWidth:He,noResize:Ht,noHref:Ht,noShade:Ht,noWrap:Ht,object:null,profile:null,prompt:null,rev:null,rightMargin:He,rules:null,scheme:null,scrolling:Dr,standby:null,summary:null,text:null,topMargin:He,valueType:null,version:null,vAlign:null,vLink:null,vSpace:He,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ht,disableRemotePlayback:Ht,prefix:null,property:null,results:He,security:null,unselectable:null},space:"html",transform:pZ}),R_e=Ug({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ka,accentHeight:He,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:He,amplitude:He,arabicForm:null,ascent:He,attributeName:null,attributeType:null,azimuth:He,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:He,by:null,calcMode:null,capHeight:He,className:$n,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:He,diffuseConstant:He,direction:null,display:null,dur:null,divisor:He,dominantBaseline:null,download:Ht,dx:null,dy:null,edgeMode:null,editable:null,elevation:He,enableBackground:null,end:null,event:null,exponent:He,externalResourcesRequired:null,fill:null,fillOpacity:He,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Wm,g2:Wm,glyphName:Wm,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:He,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:He,horizOriginX:He,horizOriginY:He,id:null,ideographic:He,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:He,k:He,k1:He,k2:He,k3:He,k4:He,kernelMatrix:Ka,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:He,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:He,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:He,overlineThickness:He,paintOrder:null,panose1:null,path:null,pathLength:He,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:$n,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:He,pointsAtY:He,pointsAtZ:He,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ka,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ka,rev:Ka,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ka,requiredFeatures:Ka,requiredFonts:Ka,requiredFormats:Ka,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:He,specularExponent:He,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:He,strikethroughThickness:He,string:null,stroke:null,strokeDashArray:Ka,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:He,strokeOpacity:He,strokeWidth:null,style:null,surfaceScale:He,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ka,tabIndex:He,tableValues:null,target:null,targetX:He,targetY:He,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ka,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:He,underlineThickness:He,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:He,values:null,vAlphabetic:He,vMathematical:He,vectorEffect:null,vHanging:He,vIdeographic:He,version:null,vertAdvY:He,vertOriginX:He,vertOriginY:He,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:He,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:mZ}),gZ=Ug({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),yZ=Ug({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:pZ}),xZ=Ug({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),D_e={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},L_e=/[A-Z]/g,TB=/-[a-z]/g,$_e=/^data[-\w.:]+$/i;function GD(e,t){const n=Qx(t);let r=t,i=Ha;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&$_e.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(TB,F_e);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!TB.test(a)){let s=a.replace(L_e,B_e);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=qD}return new i(r,t)}function B_e(e){return"-"+e.toLowerCase()}function F_e(e){return e.charAt(1).toUpperCase()}const b2=dZ([fZ,I_e,gZ,yZ,xZ],"html"),Hg=dZ([fZ,R_e,gZ,yZ,xZ],"svg");function NB(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function vZ(e){return e.join(" ").trim()}var YD={},kB=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,z_e=/\n/g,U_e=/^\s*/,H_e=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,V_e=/^:\s*/,W_e=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,q_e=/^[;\s]*/,G_e=/^\s+|\s+$/g,Y_e=`
`,AB="/",jB="*",eh="",K_e="comment",X_e="declaration",Z_e=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(z_e);g&&(n+=g.length);var x=p.lastIndexOf(Y_e);r=~x?p.length-x:r+p.length}function a(){var p={line:n,column:r};return function(g){return g.position=new s(p),u(),g}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function l(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function c(p){var g=p.exec(e);if(g){var x=g[0];return i(x),e=e.slice(x.length),g}}function u(){c(U_e)}function d(p){var g;for(p=p||[];g=h();)g!==!1&&p.push(g);return p}function h(){var p=a();if(!(AB!=e.charAt(0)||jB!=e.charAt(1))){for(var g=2;eh!=e.charAt(g)&&(jB!=e.charAt(g)||AB!=e.charAt(g+1));)++g;if(g+=2,eh===e.charAt(g-1))return l("End of comment missing");var x=e.slice(2,g-2);return r+=2,i(x),e=e.slice(g),r+=2,p({type:K_e,comment:x})}}function f(){var p=a(),g=c(H_e);if(g){if(h(),!c(V_e))return l("property missing ':'");var x=c(W_e),y=p({type:X_e,property:OB(g[0].replace(kB,eh)),value:x?OB(x[0].replace(kB,eh)):eh});return c(q_e),y}}function m(){var p=[];d(p);for(var g;g=f();)g!==!1&&(p.push(g),d(p));return p}return u(),m()};function OB(e){return e?e.replace(G_e,eh):eh}var Q_e=Co&&Co.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(YD,"__esModule",{value:!0});YD.default=eCe;var J_e=Q_e(Z_e);function eCe(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,J_e.default)(e),i=typeof t=="function";return r.forEach(function(a){if(a.type==="declaration"){var s=a.property,l=a.value;i?t(s,l,a):l&&(n=n||{},n[s]=l)}}),n}var w2={};Object.defineProperty(w2,"__esModule",{value:!0});w2.camelCase=void 0;var tCe=/^--[a-zA-Z0-9_-]+$/,nCe=/-([a-z])/g,rCe=/^[^-]+$/,iCe=/^-(webkit|moz|ms|o|khtml)-/,aCe=/^-(ms)-/,sCe=function(e){return!e||rCe.test(e)||tCe.test(e)},oCe=function(e,t){return t.toUpperCase()},PB=function(e,t){return"".concat(t,"-")},lCe=function(e,t){return t===void 0&&(t={}),sCe(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(aCe,PB):e=e.replace(iCe,PB),e.replace(nCe,oCe))};w2.camelCase=lCe;var cCe=Co&&Co.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},uCe=cCe(YD),dCe=w2;function MO(e,t){var n={};return!e||typeof e!="string"||(0,uCe.default)(e,function(r,i){r&&i&&(n[(0,dCe.camelCase)(r,t)]=i)}),n}MO.default=MO;var hCe=MO;const fCe=sn(hCe),E2=bZ("end"),kl=bZ("start");function bZ(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function wZ(e){const t=kl(e),n=E2(e);if(t&&n)return{start:t,end:n}}function qy(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?MB(e.position):"start"in e||"end"in e?MB(e):"line"in e||"column"in e?IO(e):""}function IO(e){return IB(e&&e.line)+":"+IB(e&&e.column)}function MB(e){return IO(e&&e.start)+"-"+IO(e&&e.end)}function IB(e){return e&&typeof e=="number"?e:1}class Ki extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?a.ruleId=r:(a.source=r.slice(0,c),a.ruleId=r.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const l=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=l?l.line:void 0,this.name=qy(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}Ki.prototype.file="";Ki.prototype.name="";Ki.prototype.reason="";Ki.prototype.message="";Ki.prototype.stack="";Ki.prototype.column=void 0;Ki.prototype.line=void 0;Ki.prototype.ancestors=void 0;Ki.prototype.cause=void 0;Ki.prototype.fatal=void 0;Ki.prototype.place=void 0;Ki.prototype.ruleId=void 0;Ki.prototype.source=void 0;const KD={}.hasOwnProperty,mCe=new Map,pCe=/[A-Z]/g,gCe=new Set(["table","tbody","thead","tfoot","tr"]),yCe=new Set(["td","th"]),EZ="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function xCe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=TCe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=CCe(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Hg:b2,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=SZ(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function SZ(e,t,n){if(t.type==="element")return vCe(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return bCe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return ECe(e,t,n);if(t.type==="mdxjsEsm")return wCe(e,t);if(t.type==="root")return SCe(e,t,n);if(t.type==="text")return _Ce(e,t)}function vCe(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Hg,e.schema=i),e.ancestors.push(t);const a=CZ(e,t.tagName,!1),s=NCe(e,t);let l=ZD(e,t);return gCe.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!P_e(c):!0})),_Z(e,s,a,t),XD(s,l),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function bCe(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Jx(e,t.position)}function wCe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Jx(e,t.position)}function ECe(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Hg,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:CZ(e,t.name,!0),s=kCe(e,t),l=ZD(e,t);return _Z(e,s,a,t),XD(s,l),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function SCe(e,t,n){const r={};return XD(r,ZD(e,t)),e.create(t,e.Fragment,r,n)}function _Ce(e,t){return t.value}function _Z(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function XD(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function CCe(e,t,n){return r;function r(i,a,s,l){const u=Array.isArray(s.children)?n:t;return l?u(a,s,l):u(a,s)}}function TCe(e,t){return n;function n(r,i,a,s){const l=Array.isArray(a.children),c=kl(r);return t(i,a,s,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function NCe(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&KD.call(t.properties,i)){const a=ACe(e,i,t.properties[i]);if(a){const[s,l]=a;e.tableCellAlignToStyle&&s==="align"&&typeof l=="string"&&yCe.has(t.tagName)?r=l:n[s]=l}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function kCe(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const l=s.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else Jx(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,a=e.evaluater.evaluateExpression(l.expression)}else Jx(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function ZD(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:mCe;for(;++r<t.children.length;){const a=t.children[r];let s;if(e.passKeys){const c=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(c){const u=i.get(c)||0;s=c+"-"+u,i.set(c,u+1)}}const l=SZ(e,a,s);l!==void 0&&n.push(l)}return n}function ACe(e,t,n){const r=GD(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?uZ(n):vZ(n)),r.property==="style"){let i=typeof n=="object"?n:jCe(e,String(n));return e.stylePropertyNameCase==="css"&&(i=OCe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?D_e[r.property]||r.property:r.attribute,n]}}function jCe(e,t){try{return fCe(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Ki("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=EZ+"#cannot-parse-style-attribute",i}}function CZ(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const l=SB(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:l,computed:!!(a&&l.type==="Literal"),optional:!1}:l}r=s}else r=SB(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return KD.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Jx(e)}function Jx(e,t){const n=new Ki("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=EZ+"#cannot-handle-mdx-estrees-without-createevaluater",n}function OCe(e){const t={};let n;for(n in e)KD.call(e,n)&&(t[PCe(n)]=e[n]);return t}function PCe(e){let t=e.replace(pCe,MCe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function MCe(e){return"-"+e.toLowerCase()}const pk={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},ICe={};function QD(e,t){const n=ICe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return TZ(e,r,i)}function TZ(e,t,n){if(RCe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return RB(e.children,t,n)}return Array.isArray(e)?RB(e,t,n):""}function RB(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=TZ(e[i],t,n);return r.join("")}function RCe(e){return!!(e&&typeof e=="object")}const DB=document.createElement("i");function JD(e){const t="&"+e+";";DB.innerHTML=t;const n=DB.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function hs(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function Ms(e,t){return e.length>0?(hs(e,e.length,0,t),e):t}const LB={}.hasOwnProperty;function NZ(e){const t={};let n=-1;for(;++n<e.length;)DCe(t,e[n]);return t}function DCe(e,t){let n;for(n in t){const i=(LB.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;if(a)for(s in a){LB.call(i,s)||(i[s]=[]);const l=a[s];LCe(i[s],Array.isArray(l)?l:l?[l]:[])}}}function LCe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);hs(e,0,0,r)}function kZ(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function jo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const sa=Sd(/[A-Za-z]/),Ui=Sd(/[\dA-Za-z]/),$Ce=Sd(/[#-'*+\--9=?A-Z^-~]/);function CS(e){return e!==null&&(e<32||e===127)}const RO=Sd(/\d/),BCe=Sd(/[\dA-Fa-f]/),FCe=Sd(/[!-/:-@[-`{-~]/);function kt(e){return e!==null&&e<-2}function Rn(e){return e!==null&&(e<0||e===32)}function nn(e){return e===-2||e===-1||e===32}const S2=Sd(new RegExp("\\p{P}|\\p{S}","u")),Vh=Sd(/\s/);function Sd(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Vg(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let s="";if(a===37&&Ui(e.charCodeAt(n+1))&&Ui(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const l=e.charCodeAt(n+1);a<56320&&l>56319&&l<57344?(s=String.fromCharCode(a,l),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function un(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(c){return nn(c)?(e.enter(n),l(c)):t(c)}function l(c){return nn(c)&&a++<i?(e.consume(c),l):(e.exit(n),t(c))}}const zCe={tokenize:UCe};function UCe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),un(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),a(l)}function a(l){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,s(l)}function s(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return kt(l)?(e.consume(l),e.exit("chunkText"),a):(e.consume(l),s)}}const HCe={tokenize:VCe},$B={tokenize:WCe};function VCe(e){const t=this,n=[];let r=0,i,a,s;return l;function l(b){if(r<n.length){const E=n[r];return t.containerState=E[1],e.attempt(E[0].continuation,c,u)(b)}return u(b)}function c(b){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const E=t.events.length;let _=E,S;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){S=t.events[_][1].end;break}y(r);let C=E;for(;C<t.events.length;)t.events[C][1].end={...S},C++;return hs(t.events,_+1,0,t.events.slice(E)),t.events.length=C,u(b)}return l(b)}function u(b){if(r===n.length){if(!i)return f(b);if(i.currentConstruct&&i.currentConstruct.concrete)return p(b);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check($B,d,h)(b)}function d(b){return i&&v(),y(r),f(b)}function h(b){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(b)}function f(b){return t.containerState={},e.attempt($B,m,p)(b)}function m(b){return r++,n.push([t.currentConstruct,t.containerState]),f(b)}function p(b){if(b===null){i&&v(),y(0),e.consume(b);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(b)}function g(b){if(b===null){x(e.exit("chunkFlow"),!0),y(0),e.consume(b);return}return kt(b)?(e.consume(b),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(b),g)}function x(b,E){const _=t.sliceStream(b);if(E&&_.push(null),b.previous=a,a&&(a.next=b),a=b,i.defineSkip(b.start),i.write(_),t.parser.lazy[b.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<s&&(!i.events[S][1].end||i.events[S][1].end.offset>s))return;const C=t.events.length;let T=C,j,k;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if(j){k=t.events[T][1].end;break}j=!0}for(y(r),S=C;S<t.events.length;)t.events[S][1].end={...k},S++;hs(t.events,T+1,0,t.events.slice(C)),t.events.length=S}}function y(b){let E=n.length;for(;E-- >b;){const _=n[E];t.containerState=_[1],_[0].exit.call(t,e)}n.length=b}function v(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function WCe(e,t,n){return un(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Pp(e){if(e===null||Rn(e)||Vh(e))return 1;if(S2(e))return 2}function _2(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const DO={name:"attention",resolveAll:qCe,tokenize:GCe};function qCe(e,t){let n=-1,r,i,a,s,l,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},f={...e[n][1].start};BB(h,-c),BB(f,c),s={type:c>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},a={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...s.start},end:{...l.end}},e[r][1].end={...s.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Ms(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Ms(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),u=Ms(u,_2(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Ms(u,[["exit",a,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=Ms(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,hs(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function GCe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Pp(r);let a;return s;function s(c){return a=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===a)return e.consume(c),l;const u=e.exit("attentionSequence"),d=Pp(c),h=!d||d===2&&i||n.includes(c),f=!i||i===2&&d||n.includes(r);return u._open=!!(a===42?h:h&&(i||!f)),u._close=!!(a===42?f:f&&(d||!h)),t(c)}}function BB(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const YCe={name:"autolink",tokenize:KCe};function KCe(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return sa(m)?(e.consume(m),s):m===64?n(m):u(m)}function s(m){return m===43||m===45||m===46||Ui(m)?(r=1,l(m)):u(m)}function l(m){return m===58?(e.consume(m),r=0,c):(m===43||m===45||m===46||Ui(m))&&r++<32?(e.consume(m),l):(r=0,u(m))}function c(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||CS(m)?n(m):(e.consume(m),c)}function u(m){return m===64?(e.consume(m),d):$Ce(m)?(e.consume(m),u):n(m)}function d(m){return Ui(m)?h(m):n(m)}function h(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):f(m)}function f(m){if((m===45||Ui(m))&&r++<63){const p=m===45?f:h;return e.consume(m),p}return n(m)}}const Ab={partial:!0,tokenize:XCe};function XCe(e,t,n){return r;function r(a){return nn(a)?un(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||kt(a)?t(a):n(a)}}const AZ={continuation:{tokenize:QCe},exit:JCe,name:"blockQuote",tokenize:ZCe};function ZCe(e,t,n){const r=this;return i;function i(s){if(s===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return n(s)}function a(s){return nn(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function QCe(e,t,n){const r=this;return i;function i(s){return nn(s)?un(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(AZ,t,n)(s)}}function JCe(e){e.exit("blockQuote")}const jZ={name:"characterEscape",tokenize:e2e};function e2e(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return FCe(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const OZ={name:"characterReference",tokenize:t2e};function t2e(e,t,n){const r=this;let i=0,a,s;return l;function l(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),c}function c(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,s=Ui,d(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=BCe,d):(e.enter("characterReferenceValue"),a=7,s=RO,d(h))}function d(h){if(h===59&&i){const f=e.exit("characterReferenceValue");return s===Ui&&!JD(r.sliceSerialize(f))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(h)&&i++<a?(e.consume(h),d):n(h)}}const FB={partial:!0,tokenize:r2e},zB={concrete:!0,name:"codeFenced",tokenize:n2e};function n2e(e,t,n){const r=this,i={partial:!0,tokenize:_};let a=0,s=0,l;return c;function c(S){return u(S)}function u(S){const C=r.events[r.events.length-1];return a=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,l=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(S)}function d(S){return S===l?(s++,e.consume(S),d):s<3?n(S):(e.exit("codeFencedFenceSequence"),nn(S)?un(e,h,"whitespace")(S):h(S))}function h(S){return S===null||kt(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(FB,g,E)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(S))}function f(S){return S===null||kt(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(S)):nn(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),un(e,m,"whitespace")(S)):S===96&&S===l?n(S):(e.consume(S),f)}function m(S){return S===null||kt(S)?h(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||kt(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(S)):S===96&&S===l?n(S):(e.consume(S),p)}function g(S){return e.attempt(i,E,x)(S)}function x(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),y}function y(S){return a>0&&nn(S)?un(e,v,"linePrefix",a+1)(S):v(S)}function v(S){return S===null||kt(S)?e.check(FB,g,E)(S):(e.enter("codeFlowValue"),b(S))}function b(S){return S===null||kt(S)?(e.exit("codeFlowValue"),v(S)):(e.consume(S),b)}function E(S){return e.exit("codeFenced"),t(S)}function _(S,C,T){let j=0;return k;function k(D){return S.enter("lineEnding"),S.consume(D),S.exit("lineEnding"),O}function O(D){return S.enter("codeFencedFence"),nn(D)?un(S,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):M(D)}function M(D){return D===l?(S.enter("codeFencedFenceSequence"),B(D)):T(D)}function B(D){return D===l?(j++,S.consume(D),B):j>=s?(S.exit("codeFencedFenceSequence"),nn(D)?un(S,N,"whitespace")(D):N(D)):T(D)}function N(D){return D===null||kt(D)?(S.exit("codeFencedFence"),C(D)):T(D)}}}function r2e(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const gk={name:"codeIndented",tokenize:a2e},i2e={partial:!0,tokenize:s2e};function a2e(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),un(e,a,"linePrefix",5)(u)}function a(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?c(u):kt(u)?e.attempt(i2e,s,c)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||kt(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),l)}function c(u){return e.exit("codeIndented"),t(u)}}function s2e(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):kt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):un(e,a,"linePrefix",5)(s)}function a(s){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(s):kt(s)?i(s):n(s)}}const o2e={name:"codeText",previous:c2e,resolve:l2e,tokenize:u2e};function l2e(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function c2e(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function u2e(e,t,n){let r=0,i,a;return s;function s(h){return e.enter("codeText"),e.enter("codeTextSequence"),l(h)}function l(h){return h===96?(e.consume(h),r++,l):(e.exit("codeTextSequence"),c(h))}function c(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),c):h===96?(a=e.enter("codeTextSequence"),i=0,d(h)):kt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||kt(h)?(e.exit("codeTextData"),c(h)):(e.consume(h),u)}function d(h){return h===96?(e.consume(h),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(a.type="codeTextData",u(h))}}class d2e{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&L0(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),L0(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),L0(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);L0(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);L0(this.left,n.reverse())}}}function L0(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function PZ(e){const t={};let n=-1,r,i,a,s,l,c,u;const d=new d2e(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,h2e(d,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},l=d.slice(i,n),l.unshift(r),d.splice(i,n-i+1,l))}}return hs(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function h2e(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const l=s.events,c=[],u={};let d,h,f=-1,m=n,p=0,g=0;const x=[g];for(;m;){for(;e.get(++i)[1]!==m;);a.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),h&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=n;++f<l.length;)l[f][0]==="exit"&&l[f-1][0]==="enter"&&l[f][1].type===l[f-1][1].type&&l[f][1].start.line!==l[f][1].end.line&&(g=f+1,x.push(g),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):x.pop(),f=x.length;f--;){const y=l.slice(x[f],x[f+1]),v=a.pop();c.push([v,v+y.length-1]),e.splice(v,2,y)}for(c.reverse(),f=-1;++f<c.length;)u[p+c[f][0]]=p+c[f][1],p+=c[f][1]-c[f][0]-1;return u}const f2e={resolve:p2e,tokenize:g2e},m2e={partial:!0,tokenize:y2e};function p2e(e){return PZ(e),e}function g2e(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?a(l):kt(l)?e.check(m2e,s,a)(l):(e.consume(l),i)}function a(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function s(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function y2e(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),un(e,a,"linePrefix")}function a(s){if(s===null||kt(s))return n(s);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function MZ(e,t,n,r,i,a,s,l,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return h;function h(y){return y===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(y),e.exit(a),f):y===null||y===32||y===41||CS(y)?n(y):(e.enter(r),e.enter(s),e.enter(l),e.enter("chunkString",{contentType:"string"}),g(y))}function f(y){return y===62?(e.enter(a),e.consume(y),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===62?(e.exit("chunkString"),e.exit(l),f(y)):y===null||y===60||kt(y)?n(y):(e.consume(y),y===92?p:m)}function p(y){return y===60||y===62||y===92?(e.consume(y),m):m(y)}function g(y){return!d&&(y===null||y===41||Rn(y))?(e.exit("chunkString"),e.exit(l),e.exit(s),e.exit(r),t(y)):d<u&&y===40?(e.consume(y),d++,g):y===41?(e.consume(y),d--,g):y===null||y===32||y===40||CS(y)?n(y):(e.consume(y),y===92?x:g)}function x(y){return y===40||y===41||y===92?(e.consume(y),g):g(y)}}function IZ(e,t,n,r,i,a){const s=this;let l=0,c;return u;function u(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),d}function d(m){return l>999||m===null||m===91||m===93&&!c||m===94&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?n(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):kt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||kt(m)||l++>999?(e.exit("chunkString"),d(m)):(e.consume(m),c||(c=!nn(m)),m===92?f:h)}function f(m){return m===91||m===92||m===93?(e.consume(m),l++,h):h(m)}}function RZ(e,t,n,r,i,a){let s;return l;function l(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),s=f===40?41:f,c):n(f)}function c(f){return f===s?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(a),u(f))}function u(f){return f===s?(e.exit(a),c(s)):f===null?n(f):kt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),un(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===s||f===null||kt(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?h:d)}function h(f){return f===s||f===92?(e.consume(f),d):d(f)}}function Gy(e,t){let n;return r;function r(i){return kt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):nn(i)?un(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const x2e={name:"definition",tokenize:b2e},v2e={partial:!0,tokenize:w2e};function b2e(e,t,n){const r=this;let i;return a;function a(m){return e.enter("definition"),s(m)}function s(m){return IZ.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function l(m){return i=jo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),c):n(m)}function c(m){return Rn(m)?Gy(e,u)(m):u(m)}function u(m){return MZ(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(v2e,h,h)(m)}function h(m){return nn(m)?un(e,f,"whitespace")(m):f(m)}function f(m){return m===null||kt(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function w2e(e,t,n){return r;function r(l){return Rn(l)?Gy(e,i)(l):n(l)}function i(l){return RZ(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return nn(l)?un(e,s,"whitespace")(l):s(l)}function s(l){return l===null||kt(l)?t(l):n(l)}}const E2e={name:"hardBreakEscape",tokenize:S2e};function S2e(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return kt(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const _2e={name:"headingAtx",resolve:C2e,tokenize:T2e};function C2e(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},hs(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function T2e(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(e.consume(d),s):d===null||Rn(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||kt(d)?(e.exit("atxHeading"),t(d)):nn(d)?un(e,l,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||Rn(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),u)}}const N2e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],UB=["pre","script","style","textarea"],k2e={concrete:!0,name:"htmlFlow",resolveTo:O2e,tokenize:P2e},A2e={partial:!0,tokenize:I2e},j2e={partial:!0,tokenize:M2e};function O2e(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function P2e(e,t,n){const r=this;let i,a,s,l,c;return u;function u(R){return d(R)}function d(R){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(R),h}function h(R){return R===33?(e.consume(R),f):R===47?(e.consume(R),a=!0,g):R===63?(e.consume(R),i=3,r.interrupt?t:$):sa(R)?(e.consume(R),s=String.fromCharCode(R),x):n(R)}function f(R){return R===45?(e.consume(R),i=2,m):R===91?(e.consume(R),i=5,l=0,p):sa(R)?(e.consume(R),i=4,r.interrupt?t:$):n(R)}function m(R){return R===45?(e.consume(R),r.interrupt?t:$):n(R)}function p(R){const G="CDATA[";return R===G.charCodeAt(l++)?(e.consume(R),l===G.length?r.interrupt?t:M:p):n(R)}function g(R){return sa(R)?(e.consume(R),s=String.fromCharCode(R),x):n(R)}function x(R){if(R===null||R===47||R===62||Rn(R)){const G=R===47,Q=s.toLowerCase();return!G&&!a&&UB.includes(Q)?(i=1,r.interrupt?t(R):M(R)):N2e.includes(s.toLowerCase())?(i=6,G?(e.consume(R),y):r.interrupt?t(R):M(R)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(R):a?v(R):b(R))}return R===45||Ui(R)?(e.consume(R),s+=String.fromCharCode(R),x):n(R)}function y(R){return R===62?(e.consume(R),r.interrupt?t:M):n(R)}function v(R){return nn(R)?(e.consume(R),v):k(R)}function b(R){return R===47?(e.consume(R),k):R===58||R===95||sa(R)?(e.consume(R),E):nn(R)?(e.consume(R),b):k(R)}function E(R){return R===45||R===46||R===58||R===95||Ui(R)?(e.consume(R),E):_(R)}function _(R){return R===61?(e.consume(R),S):nn(R)?(e.consume(R),_):b(R)}function S(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(e.consume(R),c=R,C):nn(R)?(e.consume(R),S):T(R)}function C(R){return R===c?(e.consume(R),c=null,j):R===null||kt(R)?n(R):(e.consume(R),C)}function T(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||Rn(R)?_(R):(e.consume(R),T)}function j(R){return R===47||R===62||nn(R)?b(R):n(R)}function k(R){return R===62?(e.consume(R),O):n(R)}function O(R){return R===null||kt(R)?M(R):nn(R)?(e.consume(R),O):n(R)}function M(R){return R===45&&i===2?(e.consume(R),P):R===60&&i===1?(e.consume(R),L):R===62&&i===4?(e.consume(R),W):R===63&&i===3?(e.consume(R),$):R===93&&i===5?(e.consume(R),U):kt(R)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(A2e,z,B)(R)):R===null||kt(R)?(e.exit("htmlFlowData"),B(R)):(e.consume(R),M)}function B(R){return e.check(j2e,N,z)(R)}function N(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),D}function D(R){return R===null||kt(R)?B(R):(e.enter("htmlFlowData"),M(R))}function P(R){return R===45?(e.consume(R),$):M(R)}function L(R){return R===47?(e.consume(R),s="",I):M(R)}function I(R){if(R===62){const G=s.toLowerCase();return UB.includes(G)?(e.consume(R),W):M(R)}return sa(R)&&s.length<8?(e.consume(R),s+=String.fromCharCode(R),I):M(R)}function U(R){return R===93?(e.consume(R),$):M(R)}function $(R){return R===62?(e.consume(R),W):R===45&&i===2?(e.consume(R),$):M(R)}function W(R){return R===null||kt(R)?(e.exit("htmlFlowData"),z(R)):(e.consume(R),W)}function z(R){return e.exit("htmlFlow"),t(R)}}function M2e(e,t,n){const r=this;return i;function i(s){return kt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function I2e(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Ab,t,n)}}const R2e={name:"htmlText",tokenize:D2e};function D2e(e,t,n){const r=this;let i,a,s;return l;function l($){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume($),c}function c($){return $===33?(e.consume($),u):$===47?(e.consume($),_):$===63?(e.consume($),b):sa($)?(e.consume($),T):n($)}function u($){return $===45?(e.consume($),d):$===91?(e.consume($),a=0,p):sa($)?(e.consume($),v):n($)}function d($){return $===45?(e.consume($),m):n($)}function h($){return $===null?n($):$===45?(e.consume($),f):kt($)?(s=h,L($)):(e.consume($),h)}function f($){return $===45?(e.consume($),m):h($)}function m($){return $===62?P($):$===45?f($):h($)}function p($){const W="CDATA[";return $===W.charCodeAt(a++)?(e.consume($),a===W.length?g:p):n($)}function g($){return $===null?n($):$===93?(e.consume($),x):kt($)?(s=g,L($)):(e.consume($),g)}function x($){return $===93?(e.consume($),y):g($)}function y($){return $===62?P($):$===93?(e.consume($),y):g($)}function v($){return $===null||$===62?P($):kt($)?(s=v,L($)):(e.consume($),v)}function b($){return $===null?n($):$===63?(e.consume($),E):kt($)?(s=b,L($)):(e.consume($),b)}function E($){return $===62?P($):b($)}function _($){return sa($)?(e.consume($),S):n($)}function S($){return $===45||Ui($)?(e.consume($),S):C($)}function C($){return kt($)?(s=C,L($)):nn($)?(e.consume($),C):P($)}function T($){return $===45||Ui($)?(e.consume($),T):$===47||$===62||Rn($)?j($):n($)}function j($){return $===47?(e.consume($),P):$===58||$===95||sa($)?(e.consume($),k):kt($)?(s=j,L($)):nn($)?(e.consume($),j):P($)}function k($){return $===45||$===46||$===58||$===95||Ui($)?(e.consume($),k):O($)}function O($){return $===61?(e.consume($),M):kt($)?(s=O,L($)):nn($)?(e.consume($),O):j($)}function M($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(e.consume($),i=$,B):kt($)?(s=M,L($)):nn($)?(e.consume($),M):(e.consume($),N)}function B($){return $===i?(e.consume($),i=void 0,D):$===null?n($):kt($)?(s=B,L($)):(e.consume($),B)}function N($){return $===null||$===34||$===39||$===60||$===61||$===96?n($):$===47||$===62||Rn($)?j($):(e.consume($),N)}function D($){return $===47||$===62||Rn($)?j($):n($)}function P($){return $===62?(e.consume($),e.exit("htmlTextData"),e.exit("htmlText"),t):n($)}function L($){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),I}function I($){return nn($)?un(e,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):U($)}function U($){return e.enter("htmlTextData"),s($)}}const e3={name:"labelEnd",resolveAll:F2e,resolveTo:z2e,tokenize:U2e},L2e={tokenize:H2e},$2e={tokenize:V2e},B2e={tokenize:W2e};function F2e(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&hs(e,0,e.length,n),e}function z2e(e,t){let n=e.length,r=0,i,a,s,l;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const c={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[s-2][1].start}};return l=[["enter",c,t],["enter",u,t]],l=Ms(l,e.slice(a+1,a+r+3)),l=Ms(l,[["enter",d,t]]),l=Ms(l,_2(t.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),t)),l=Ms(l,[["exit",d,t],e[s-2],e[s-1],["exit",u,t]]),l=Ms(l,e.slice(s+1)),l=Ms(l,[["exit",c,t]]),hs(e,a,e.length,l),e}function U2e(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return l;function l(f){return a?a._inactive?h(f):(s=r.parser.defined.includes(jo(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),c):n(f)}function c(f){return f===40?e.attempt(L2e,d,s?d:h)(f):f===91?e.attempt($2e,d,s?u:h)(f):s?d(f):h(f)}function u(f){return e.attempt(B2e,d,h)(f)}function d(f){return t(f)}function h(f){return a._balanced=!0,n(f)}}function H2e(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return Rn(h)?Gy(e,a)(h):a(h)}function a(h){return h===41?d(h):MZ(e,s,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function s(h){return Rn(h)?Gy(e,c)(h):d(h)}function l(h){return n(h)}function c(h){return h===34||h===39||h===40?RZ(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return Rn(h)?Gy(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function V2e(e,t,n){const r=this;return i;function i(l){return IZ.call(r,e,a,s,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(jo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function s(l){return n(l)}}function W2e(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const q2e={name:"labelStartImage",resolveAll:e3.resolveAll,tokenize:G2e};function G2e(e,t,n){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),a}function a(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),s):n(l)}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const Y2e={name:"labelStartLink",resolveAll:e3.resolveAll,tokenize:K2e};function K2e(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const yk={name:"lineEnding",tokenize:X2e};function X2e(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),un(e,t,"linePrefix")}}const bE={name:"thematicBreak",tokenize:Z2e};function Z2e(e,t,n){let r=0,i;return a;function a(u){return e.enter("thematicBreak"),s(u)}function s(u){return i=u,l(u)}function l(u){return u===i?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||kt(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===i?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),nn(u)?un(e,l,"whitespace")(u):l(u))}}const Na={continuation:{tokenize:tTe},exit:rTe,name:"list",tokenize:eTe},Q2e={partial:!0,tokenize:iTe},J2e={partial:!0,tokenize:nTe};function eTe(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return l;function l(m){const p=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:RO(m)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(bE,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(m)}return n(m)}function c(m){return RO(m)&&++s<10?(e.consume(m),c):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Ab,r.interrupt?n:d,e.attempt(Q2e,f,h))}function d(m){return r.containerState.initialBlankLine=!0,a++,f(m)}function h(m){return nn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),f):n(m)}function f(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function tTe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ab,i,a);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,un(e,t,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!nn(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(J2e,t,s)(l))}function s(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,un(e,e.attempt(Na,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function nTe(e,t,n){const r=this;return un(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(a):n(a)}}function rTe(e){e.exit(this.containerState.type)}function iTe(e,t,n){const r=this;return un(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!nn(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const HB={name:"setextUnderline",resolveTo:aTe,tokenize:sTe};function aTe(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function sTe(e,t,n){const r=this;let i;return a;function a(u){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),nn(u)?un(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||kt(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const oTe={tokenize:lTe};function lTe(e){const t=this,n=e.attempt(Ab,r,e.attempt(this.parser.constructs.flowInitial,i,un(e,e.attempt(this.parser.constructs.flow,i,e.attempt(f2e,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const cTe={resolveAll:LZ()},uTe=DZ("string"),dTe=DZ("text");function DZ(e){return{resolveAll:LZ(e==="text"?hTe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,s,l);return s;function s(d){return u(d)?a(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),a(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const h=i[d];let f=-1;if(h)for(;++f<h.length;){const m=h[f];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function LZ(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function hTe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,s=-1,l=0,c;for(;a--;){const u=i[a];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(u===-2)c=!0,l++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const fTe={42:Na,43:Na,45:Na,48:Na,49:Na,50:Na,51:Na,52:Na,53:Na,54:Na,55:Na,56:Na,57:Na,62:AZ},mTe={91:x2e},pTe={[-2]:gk,[-1]:gk,32:gk},gTe={35:_2e,42:bE,45:[HB,bE],60:k2e,61:HB,95:bE,96:zB,126:zB},yTe={38:OZ,92:jZ},xTe={[-5]:yk,[-4]:yk,[-3]:yk,33:q2e,38:OZ,42:DO,60:[YCe,R2e],91:Y2e,92:[E2e,jZ],93:e3,95:DO,96:o2e},vTe={null:[DO,cTe]},bTe={null:[42,95]},wTe={null:[]},ETe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:bTe,contentInitial:mTe,disable:wTe,document:fTe,flow:gTe,flowInitial:pTe,insideSpan:vTe,string:yTe,text:xTe},Symbol.toStringTag,{value:"Module"}));function STe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],l=[];const c={attempt:C(_),check:C(S),consume:v,enter:b,exit:E,interrupt:C(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:p,parser:e,previous:null,sliceSerialize:f,sliceStream:m,write:h};let d=t.tokenize.call(u,c);return t.resolveAll&&a.push(t),u;function h(O){return s=Ms(s,O),x(),s[s.length-1]!==null?[]:(T(t,0),u.events=_2(a,u.events,u),u.events)}function f(O,M){return CTe(m(O),M)}function m(O){return _Te(s,O)}function p(){const{_bufferIndex:O,_index:M,line:B,column:N,offset:D}=r;return{_bufferIndex:O,_index:M,line:B,column:N,offset:D}}function g(O){i[O.line]=O.column,k()}function x(){let O;for(;r._index<s.length;){const M=s[r._index];if(typeof M=="string")for(O=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===O&&r._bufferIndex<M.length;)y(M.charCodeAt(r._bufferIndex));else y(M)}}function y(O){d=d(O)}function v(O){kt(O)?(r.line++,r.column=1,r.offset+=O===-3?2:1,k()):O!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=O}function b(O,M){const B=M||{};return B.type=O,B.start=p(),u.events.push(["enter",B,u]),l.push(B),B}function E(O){const M=l.pop();return M.end=p(),u.events.push(["exit",M,u]),M}function _(O,M){T(O,M.from)}function S(O,M){M.restore()}function C(O,M){return B;function B(N,D,P){let L,I,U,$;return Array.isArray(N)?z(N):"tokenize"in N?z([N]):W(N);function W(oe){return re;function re(pe){const ce=pe!==null&&oe[pe],me=pe!==null&&oe.null,ye=[...Array.isArray(ce)?ce:ce?[ce]:[],...Array.isArray(me)?me:me?[me]:[]];return z(ye)(pe)}}function z(oe){return L=oe,I=0,oe.length===0?P:R(oe[I])}function R(oe){return re;function re(pe){return $=j(),U=oe,oe.partial||(u.currentConstruct=oe),oe.name&&u.parser.constructs.disable.null.includes(oe.name)?Q():oe.tokenize.call(M?Object.assign(Object.create(u),M):u,c,G,Q)(pe)}}function G(oe){return O(U,$),D}function Q(oe){return $.restore(),++I<L.length?R(L[I]):P}}}function T(O,M){O.resolveAll&&!a.includes(O)&&a.push(O),O.resolve&&hs(u.events,M,u.events.length-M,O.resolve(u.events.slice(M),u)),O.resolveTo&&(u.events=O.resolveTo(u.events,u))}function j(){const O=p(),M=u.previous,B=u.currentConstruct,N=u.events.length,D=Array.from(l);return{from:N,restore:P};function P(){r=O,u.previous=M,u.currentConstruct=B,u.events.length=N,l=D,k()}}function k(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function _Te(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,a)];else{if(s=e.slice(n,i),r>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function CTe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function TTe(e){const r={constructs:NZ([ETe,...(e||{}).extensions||[]]),content:i(zCe),defined:[],document:i(HCe),flow:i(oTe),lazy:{},string:i(uTe),text:i(dTe)};return r;function i(a){return s;function s(l){return STe(r,a,l)}}}function NTe(e){for(;!PZ(e););return e}const VB=/[\0\t\n\r]/g;function kTe(){let e=1,t="",n=!0,r;return i;function i(a,s,l){const c=[];let u,d,h,f,m;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),h=0,t="",n&&(a.charCodeAt(0)===65279&&h++,n=void 0);h<a.length;){if(VB.lastIndex=h,u=VB.exec(a),f=u&&u.index!==void 0?u.index:a.length,m=a.charCodeAt(f),!u){t=a.slice(h);break}if(m===10&&h===f&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),h<f&&(c.push(a.slice(h,f)),e+=f-h),m){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}h=f+1}return l&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const ATe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function jTe(e){return e.replace(ATe,OTe)}function OTe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return kZ(n.slice(a?2:1),a?16:10)}return JD(n)||e}const $Z={}.hasOwnProperty;function PTe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),MTe(n)(NTe(TTe(n).document().write(kTe()(e,t,!0))))}function MTe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(ie),autolinkProtocol:j,autolinkEmail:j,atxHeading:a(Z),blockQuote:a(me),characterEscape:j,characterReference:j,codeFenced:a(ye),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(ye,s),codeText:a(ae,s),codeTextData:j,data:j,codeFlowValue:j,definition:a(Ae),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(H),hardBreakEscape:a(he),hardBreakTrailing:a(he),htmlFlow:a(se,s),htmlFlowData:j,htmlText:a(se,s),htmlTextData:j,image:a(V),label:s,link:a(ie),listItem:a(we),listItemValue:f,listOrdered:a(ue,h),listUnordered:a(ue),paragraph:a(Se),reference:R,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(Z),strong:a(K),thematicBreak:a(Le)},exit:{atxHeading:c(),atxHeadingSequence:_,autolink:c(),autolinkEmail:ce,autolinkProtocol:pe,blockQuote:c(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:Q,characterReferenceMarkerNumeric:Q,characterReferenceValue:oe,characterReference:re,codeFenced:c(x),codeFencedFence:g,codeFencedFenceInfo:m,codeFencedFenceMeta:p,codeFlowValue:k,codeIndented:c(y),codeText:c(D),codeTextData:k,data:k,definition:c(),definitionDestinationString:E,definitionLabelString:v,definitionTitleString:b,emphasis:c(),hardBreakEscape:c(M),hardBreakTrailing:c(M),htmlFlow:c(B),htmlFlowData:k,htmlText:c(N),htmlTextData:k,image:c(L),label:U,labelText:I,lineEnding:O,link:c(P),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:G,resourceDestinationString:$,resourceTitleString:W,resource:z,setextHeading:c(T),setextHeadingLineSequence:C,setextHeadingText:S,strong:c(),thematicBreak:c()}};BZ(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Y){let ee={type:"root",children:[]};const be={stack:[ee],tokenStack:[],config:t,enter:l,exit:u,buffer:s,resume:d,data:n},Te=[];let fe=-1;for(;++fe<Y.length;)if(Y[fe][1].type==="listOrdered"||Y[fe][1].type==="listUnordered")if(Y[fe][0]==="enter")Te.push(fe);else{const Ne=Te.pop();fe=i(Y,Ne,fe)}for(fe=-1;++fe<Y.length;){const Ne=t[Y[fe][0]];$Z.call(Ne,Y[fe][1].type)&&Ne[Y[fe][1].type].call(Object.assign({sliceSerialize:Y[fe][2].sliceSerialize},be),Y[fe][1])}if(be.tokenStack.length>0){const Ne=be.tokenStack[be.tokenStack.length-1];(Ne[1]||WB).call(be,void 0,Ne[0])}for(ee.position={start:Xc(Y.length>0?Y[0][1].start:{line:1,column:1,offset:0}),end:Xc(Y.length>0?Y[Y.length-2][1].end:{line:1,column:1,offset:0})},fe=-1;++fe<t.transforms.length;)ee=t.transforms[fe](ee)||ee;return ee}function i(Y,ee,be){let Te=ee-1,fe=-1,Ne=!1,Nt,vt,an,Ln;for(;++Te<=be;){const _t=Y[Te];switch(_t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{_t[0]==="enter"?fe++:fe--,Ln=void 0;break}case"lineEndingBlank":{_t[0]==="enter"&&(Nt&&!Ln&&!fe&&!an&&(an=Te),Ln=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ln=void 0}if(!fe&&_t[0]==="enter"&&_t[1].type==="listItemPrefix"||fe===-1&&_t[0]==="exit"&&(_t[1].type==="listUnordered"||_t[1].type==="listOrdered")){if(Nt){let ri=Te;for(vt=void 0;ri--;){const pt=Y[ri];if(pt[1].type==="lineEnding"||pt[1].type==="lineEndingBlank"){if(pt[0]==="exit")continue;vt&&(Y[vt][1].type="lineEndingBlank",Ne=!0),pt[1].type="lineEnding",vt=ri}else if(!(pt[1].type==="linePrefix"||pt[1].type==="blockQuotePrefix"||pt[1].type==="blockQuotePrefixWhitespace"||pt[1].type==="blockQuoteMarker"||pt[1].type==="listItemIndent"))break}an&&(!vt||an<vt)&&(Nt._spread=!0),Nt.end=Object.assign({},vt?Y[vt][1].start:_t[1].end),Y.splice(vt||Te,0,["exit",Nt,_t[2]]),Te++,be++}if(_t[1].type==="listItemPrefix"){const ri={type:"listItem",_spread:!1,start:Object.assign({},_t[1].start),end:void 0};Nt=ri,Y.splice(Te,0,["enter",ri,_t[2]]),Te++,be++,an=void 0,Ln=!0}}}return Y[ee][1]._spread=Ne,be}function a(Y,ee){return be;function be(Te){l.call(this,Y(Te),Te),ee&&ee.call(this,Te)}}function s(){this.stack.push({type:"fragment",children:[]})}function l(Y,ee,be){this.stack[this.stack.length-1].children.push(Y),this.stack.push(Y),this.tokenStack.push([ee,be||void 0]),Y.position={start:Xc(ee.start),end:void 0}}function c(Y){return ee;function ee(be){Y&&Y.call(this,be),u.call(this,be)}}function u(Y,ee){const be=this.stack.pop(),Te=this.tokenStack.pop();if(Te)Te[0].type!==Y.type&&(ee?ee.call(this,Y,Te[0]):(Te[1]||WB).call(this,Y,Te[0]));else throw new Error("Cannot close `"+Y.type+"` ("+qy({start:Y.start,end:Y.end})+"): its not open");be.position.end=Xc(Y.end)}function d(){return QD(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(Y){if(this.data.expectingFirstListItemValue){const ee=this.stack[this.stack.length-2];ee.start=Number.parseInt(this.sliceSerialize(Y),10),this.data.expectingFirstListItemValue=void 0}}function m(){const Y=this.resume(),ee=this.stack[this.stack.length-1];ee.lang=Y}function p(){const Y=this.resume(),ee=this.stack[this.stack.length-1];ee.meta=Y}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const Y=this.resume(),ee=this.stack[this.stack.length-1];ee.value=Y.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const Y=this.resume(),ee=this.stack[this.stack.length-1];ee.value=Y.replace(/(\r?\n|\r)$/g,"")}function v(Y){const ee=this.resume(),be=this.stack[this.stack.length-1];be.label=ee,be.identifier=jo(this.sliceSerialize(Y)).toLowerCase()}function b(){const Y=this.resume(),ee=this.stack[this.stack.length-1];ee.title=Y}function E(){const Y=this.resume(),ee=this.stack[this.stack.length-1];ee.url=Y}function _(Y){const ee=this.stack[this.stack.length-1];if(!ee.depth){const be=this.sliceSerialize(Y).length;ee.depth=be}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function C(Y){const ee=this.stack[this.stack.length-1];ee.depth=this.sliceSerialize(Y).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function j(Y){const be=this.stack[this.stack.length-1].children;let Te=be[be.length-1];(!Te||Te.type!=="text")&&(Te=Ce(),Te.position={start:Xc(Y.start),end:void 0},be.push(Te)),this.stack.push(Te)}function k(Y){const ee=this.stack.pop();ee.value+=this.sliceSerialize(Y),ee.position.end=Xc(Y.end)}function O(Y){const ee=this.stack[this.stack.length-1];if(this.data.atHardBreak){const be=ee.children[ee.children.length-1];be.position.end=Xc(Y.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ee.type)&&(j.call(this,Y),k.call(this,Y))}function M(){this.data.atHardBreak=!0}function B(){const Y=this.resume(),ee=this.stack[this.stack.length-1];ee.value=Y}function N(){const Y=this.resume(),ee=this.stack[this.stack.length-1];ee.value=Y}function D(){const Y=this.resume(),ee=this.stack[this.stack.length-1];ee.value=Y}function P(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=ee,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function L(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=ee,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function I(Y){const ee=this.sliceSerialize(Y),be=this.stack[this.stack.length-2];be.label=jTe(ee),be.identifier=jo(ee).toLowerCase()}function U(){const Y=this.stack[this.stack.length-1],ee=this.resume(),be=this.stack[this.stack.length-1];if(this.data.inReference=!0,be.type==="link"){const Te=Y.children;be.children=Te}else be.alt=ee}function $(){const Y=this.resume(),ee=this.stack[this.stack.length-1];ee.url=Y}function W(){const Y=this.resume(),ee=this.stack[this.stack.length-1];ee.title=Y}function z(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function G(Y){const ee=this.resume(),be=this.stack[this.stack.length-1];be.label=ee,be.identifier=jo(this.sliceSerialize(Y)).toLowerCase(),this.data.referenceType="full"}function Q(Y){this.data.characterReferenceType=Y.type}function oe(Y){const ee=this.sliceSerialize(Y),be=this.data.characterReferenceType;let Te;be?(Te=kZ(ee,be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Te=JD(ee);const fe=this.stack[this.stack.length-1];fe.value+=Te}function re(Y){const ee=this.stack.pop();ee.position.end=Xc(Y.end)}function pe(Y){k.call(this,Y);const ee=this.stack[this.stack.length-1];ee.url=this.sliceSerialize(Y)}function ce(Y){k.call(this,Y);const ee=this.stack[this.stack.length-1];ee.url="mailto:"+this.sliceSerialize(Y)}function me(){return{type:"blockquote",children:[]}}function ye(){return{type:"code",lang:null,meta:null,value:""}}function ae(){return{type:"inlineCode",value:""}}function Ae(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function H(){return{type:"emphasis",children:[]}}function Z(){return{type:"heading",depth:0,children:[]}}function he(){return{type:"break"}}function se(){return{type:"html",value:""}}function V(){return{type:"image",title:null,url:"",alt:null}}function ie(){return{type:"link",title:null,url:"",children:[]}}function ue(Y){return{type:"list",ordered:Y.type==="listOrdered",start:null,spread:Y._spread,children:[]}}function we(Y){return{type:"listItem",spread:Y._spread,checked:null,children:[]}}function Se(){return{type:"paragraph",children:[]}}function K(){return{type:"strong",children:[]}}function Ce(){return{type:"text",value:""}}function Le(){return{type:"thematicBreak"}}}function Xc(e){return{line:e.line,column:e.column,offset:e.offset}}function BZ(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?BZ(e,r):ITe(e,r)}}function ITe(e,t){let n;for(n in t)if($Z.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function WB(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+qy({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+qy({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+qy({start:t.start,end:t.end})+") is still open")}function RTe(e){const t=this;t.parser=n;function n(r){return PTe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function DTe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function LTe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function $Te(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function BTe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function FTe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function zTe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Vg(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let s,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=a+1,l+=1,e.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function UTe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function HTe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function FZ(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function VTe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return FZ(e,t);const i={src:Vg(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function WTe(e,t){const n={src:Vg(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function qTe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function GTe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return FZ(e,t);const i={href:Vg(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function YTe(e,t){const n={href:Vg(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function KTe(e,t,n){const r=e.all(t),i=n?XTe(n):zZ(t),a={},s=[];if(typeof t.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(i||l!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,u),e.applyData(t,u)}function XTe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=zZ(n[r])}return t}function zZ(e){const t=e.spread;return t??e.children.length>1}function ZTe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function QTe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function JTe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function eNe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function tNe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=kl(t.children[1]),c=E2(t.children[t.children.length-1]);l&&c&&(s.position={start:l,end:c}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function nNe(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,l=s?s.length:t.children.length;let c=-1;const u=[];for(;++c<l;){const h=t.children[c],f={},m=s?s[c]:void 0;m&&(f.align=m);let p={type:"element",tagName:a,properties:f,children:[]};h&&(p.children=e.all(h),e.patch(h,p),p=e.applyData(h,p)),u.push(p)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function rNe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const qB=9,GB=32;function iNe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(YB(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(YB(t.slice(i),i>0,!1)),a.join("")}function YB(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===qB||a===GB;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===qB||a===GB;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function aNe(e,t){const n={type:"text",value:iNe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function sNe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const oNe={blockquote:DTe,break:LTe,code:$Te,delete:BTe,emphasis:FTe,footnoteReference:zTe,heading:UTe,html:HTe,imageReference:VTe,image:WTe,inlineCode:qTe,linkReference:GTe,link:YTe,listItem:KTe,list:ZTe,paragraph:QTe,root:JTe,strong:eNe,table:tNe,tableCell:rNe,tableRow:nNe,text:aNe,thematicBreak:sNe,toml:ew,yaml:ew,definition:ew,footnoteDefinition:ew};function ew(){}const UZ=-1,C2=0,Yy=1,TS=2,t3=3,n3=4,r3=5,i3=6,HZ=7,VZ=8,KB=typeof self=="object"?self:globalThis,lNe=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case C2:case UZ:return n(s,i);case Yy:{const l=n([],i);for(const c of s)l.push(r(c));return l}case TS:{const l=n({},i);for(const[c,u]of s)l[r(c)]=r(u);return l}case t3:return n(new Date(s),i);case n3:{const{source:l,flags:c}=s;return n(new RegExp(l,c),i)}case r3:{const l=n(new Map,i);for(const[c,u]of s)l.set(r(c),r(u));return l}case i3:{const l=n(new Set,i);for(const c of s)l.add(r(c));return l}case HZ:{const{name:l,message:c}=s;return n(new KB[l](c),i)}case VZ:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:l}=new Uint8Array(s);return n(new DataView(l),s)}}return n(new KB[a](s),i)};return r},XB=e=>lNe(new Map,e)(0),zf="",{toString:cNe}={},{keys:uNe}=Object,$0=e=>{const t=typeof e;if(t!=="object"||!e)return[C2,t];const n=cNe.call(e).slice(8,-1);switch(n){case"Array":return[Yy,zf];case"Object":return[TS,zf];case"Date":return[t3,zf];case"RegExp":return[n3,zf];case"Map":return[r3,zf];case"Set":return[i3,zf];case"DataView":return[Yy,n]}return n.includes("Array")?[Yy,n]:n.includes("Error")?[HZ,n]:[TS,n]},tw=([e,t])=>e===C2&&(t==="function"||t==="symbol"),dNe=(e,t,n,r)=>{const i=(s,l)=>{const c=r.push(s)-1;return n.set(l,c),c},a=s=>{if(n.has(s))return n.get(s);let[l,c]=$0(s);switch(l){case C2:{let d=s;switch(c){case"bigint":l=VZ,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([UZ],s)}return i([l,d],s)}case Yy:{if(c){let f=s;return c==="DataView"?f=new Uint8Array(s.buffer):c==="ArrayBuffer"&&(f=new Uint8Array(s)),i([c,[...f]],s)}const d=[],h=i([l,d],s);for(const f of s)d.push(a(f));return h}case TS:{if(c)switch(c){case"BigInt":return i([c,s.toString()],s);case"Boolean":case"Number":case"String":return i([c,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const d=[],h=i([l,d],s);for(const f of uNe(s))(e||!tw($0(s[f])))&&d.push([a(f),a(s[f])]);return h}case t3:return i([l,s.toISOString()],s);case n3:{const{source:d,flags:h}=s;return i([l,{source:d,flags:h}],s)}case r3:{const d=[],h=i([l,d],s);for(const[f,m]of s)(e||!(tw($0(f))||tw($0(m))))&&d.push([a(f),a(m)]);return h}case i3:{const d=[],h=i([l,d],s);for(const f of s)(e||!tw($0(f)))&&d.push(a(f));return h}}const{message:u}=s;return i([l,{name:c,message:u}],s)};return a},ZB=(e,{json:t,lossy:n}={})=>{const r=[];return dNe(!(t||n),!!t,new Map,r)(e),r},Wh=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?XB(ZB(e,t)):structuredClone(e):(e,t)=>XB(ZB(e,t));function hNe(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function fNe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function mNe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||hNe,r=e.options.footnoteBackLabel||fNe,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),h=String(u.identifier).toUpperCase(),f=Vg(h.toLowerCase());let m=0;const p=[],g=e.footnoteCounts.get(h);for(;g!==void 0&&++m<=g;){p.length>0&&p.push({type:"text",value:" "});let v=typeof n=="string"?n:n(c,m);typeof v=="string"&&(v={type:"text",value:v}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,m),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const x=d[d.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const v=x.children[x.children.length-1];v&&v.type==="text"?v.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...p)}else d.push(...p);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(d,!0)};e.patch(u,y),l.push(y)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Wh(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const jb=function(e){if(e==null)return xNe;if(typeof e=="function")return T2(e);if(typeof e=="object")return Array.isArray(e)?pNe(e):gNe(e);if(typeof e=="string")return yNe(e);throw new Error("Expected function, string, or object as test")};function pNe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=jb(e[n]);return T2(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function gNe(e){const t=e;return T2(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function yNe(e){return T2(t);function t(n){return n&&n.type===e}}function T2(e){return t;function t(n,r,i){return!!(vNe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function xNe(){return!0}function vNe(e){return e!==null&&typeof e=="object"&&"type"in e}const WZ=[],bNe=!0,LO=!1,wNe="skip";function qZ(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=jb(i),s=r?-1:1;l(e,void 0,[])();function l(c,u,d){const h=c&&typeof c=="object"?c:{};if(typeof h.type=="string"){const m=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(c.type+(m?"<"+m+">":""))+")"})}return f;function f(){let m=WZ,p,g,x;if((!t||a(c,u,d[d.length-1]||void 0))&&(m=ENe(n(c,d)),m[0]===LO))return m;if("children"in c&&c.children){const y=c;if(y.children&&m[0]!==wNe)for(g=(r?y.children.length:-1)+s,x=d.concat(y);g>-1&&g<y.children.length;){const v=y.children[g];if(p=l(v,g,x)(),p[0]===LO)return p;g=typeof p[1]=="number"?p[1]:g+s}}return m}}}function ENe(e){return Array.isArray(e)?e:typeof e=="number"?[bNe,e]:e==null?WZ:[e]}function Ob(e,t,n,r){let i,a,s;typeof t=="function"&&typeof n!="function"?(a=void 0,s=t,i=n):(a=t,s=n,i=r),qZ(e,a,l,i);function l(c,u){const d=u[u.length-1],h=d?d.children.indexOf(c):void 0;return s(c,h,d)}}const $O={}.hasOwnProperty,SNe={};function _Ne(e,t){const n=t||SNe,r=new Map,i=new Map,a=new Map,s={...oNe,...n.handlers},l={all:u,applyData:TNe,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:c,options:n,patch:CNe,wrap:kNe};return Ob(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:i,f=String(d.identifier).toUpperCase();h.has(f)||h.set(f,d)}}),l;function c(d,h){const f=d.type,m=l.handlers[f];if($O.call(l.handlers,f)&&m)return m(l,d,h);if(l.options.passThrough&&l.options.passThrough.includes(f)){if("children"in d){const{children:g,...x}=d,y=Wh(x);return y.children=l.all(d),y}return Wh(d)}return(l.options.unknownHandler||NNe)(l,d,h)}function u(d){const h=[];if("children"in d){const f=d.children;let m=-1;for(;++m<f.length;){const p=l.one(f[m],d);if(p){if(m&&f[m-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=QB(p.value)),!Array.isArray(p)&&p.type==="element")){const g=p.children[0];g&&g.type==="text"&&(g.value=QB(g.value))}Array.isArray(p)?h.push(...p):h.push(p)}}}return h}}function CNe(e,t){e.position&&(t.position=wZ(e))}function TNe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,Wh(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function NNe(e,t){const n=t.data||{},r="value"in t&&!($O.call(n,"hProperties")||$O.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function kNe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function QB(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function JB(e,t){const n=_Ne(e,t),r=n.one(e,void 0),i=mNe(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function ANe(e,t){return e&&"run"in e?async function(n,r){const i=JB(n,{file:r,...t});await e.run(i,r)}:function(n,r){return JB(n,{file:r,...e||t})}}function eF(e){if(e)throw e}var wE=Object.prototype.hasOwnProperty,GZ=Object.prototype.toString,tF=Object.defineProperty,nF=Object.getOwnPropertyDescriptor,rF=function(t){return typeof Array.isArray=="function"?Array.isArray(t):GZ.call(t)==="[object Array]"},iF=function(t){if(!t||GZ.call(t)!=="[object Object]")return!1;var n=wE.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&wE.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||wE.call(t,i)},aF=function(t,n){tF&&n.name==="__proto__"?tF(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},sF=function(t,n){if(n==="__proto__")if(wE.call(t,n)){if(nF)return nF(t,n).value}else return;return t[n]},jNe=function e(){var t,n,r,i,a,s,l=arguments[0],c=1,u=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=sF(l,n),i=sF(t,n),l!==i&&(d&&i&&(iF(i)||(a=rF(i)))?(a?(a=!1,s=r&&rF(r)?r:[]):s=r&&iF(r)?r:{},aF(l,{name:n,newValue:e(d,s,i)})):typeof i<"u"&&aF(l,{name:n,newValue:i}));return l};const xk=sn(jNe);function BO(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ONe(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...i);function l(c,...u){const d=e[++a];let h=-1;if(c){s(c);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,d?PNe(d,l)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function PNe(e,t){let n;return r;function r(...s){const l=e.length>s.length;let c;l&&s.push(i);try{c=e.apply(this,s)}catch(u){const d=u;if(l&&n)throw d;return i(d)}l||(c&&c.then&&typeof c.then=="function"?c.then(a,i):c instanceof Error?i(c):a(c))}function i(s,...l){n||(n=!0,t(s,...l))}function a(s){i(null,s)}}const Ko={basename:MNe,dirname:INe,extname:RNe,join:DNe,sep:"/"};function MNe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Pb(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(r=i):(l=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function INe(e){if(Pb(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function RNe(e){Pb(e);let t=e.length,n=-1,r=0,i=-1,a=0,s;for(;t--;){const l=e.codePointAt(t);if(l===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),l===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function DNe(...e){let t=-1,n;for(;++t<e.length;)Pb(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":LNe(n)}function LNe(e){Pb(e);const t=e.codePointAt(0)===47;let n=$Ne(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function $Ne(e,t){let n="",r=0,i=-1,a=0,s=-1,l,c;for(;++s<=e.length;){if(s<e.length)l=e.codePointAt(s);else{if(l===47)break;l=47}if(l===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else l===46&&a>-1?a++:a=-1}return n}function Pb(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const BNe={cwd:FNe};function FNe(){return"/"}function FO(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function zNe(e){if(typeof e=="string")e=new URL(e);else if(!FO(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return UNe(e)}function UNe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const vk=["history","path","basename","stem","extname","dirname"];class YZ{constructor(t){let n;t?FO(t)?n={path:t}:typeof t=="string"||HNe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":BNe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<vk.length;){const a=vk[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)vk.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ko.basename(this.path):void 0}set basename(t){wk(t,"basename"),bk(t,"basename"),this.path=Ko.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ko.dirname(this.path):void 0}set dirname(t){oF(this.basename,"dirname"),this.path=Ko.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ko.extname(this.path):void 0}set extname(t){if(bk(t,"extname"),oF(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ko.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){FO(t)&&(t=zNe(t)),wk(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ko.basename(this.path,this.extname):void 0}set stem(t){wk(t,"stem"),bk(t,"stem"),this.path=Ko.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Ki(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function bk(e,t){if(e&&e.includes(Ko.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ko.sep+"`")}function wk(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function oF(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function HNe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const VNe=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},WNe={}.hasOwnProperty;class a3 extends VNe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ONe()}copy(){const t=new a3;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(xk(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(_k("data",this.frozen),this.namespace[t]=n,this):WNe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(_k("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=nw(t),r=this.parser||this.Parser;return Ek("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Ek("process",this.parser||this.Parser),Sk("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const l=nw(t),c=r.parse(l);r.run(c,l,function(d,h,f){if(d||!h||!f)return u(d);const m=h,p=r.stringify(m,f);YNe(p)?f.value=p:f.result=p,u(d,f)});function u(d,h){d||!h?s(d):a?a(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),Ek("processSync",this.parser||this.Parser),Sk("processSync",this.compiler||this.Compiler),this.process(t,i),cF("processSync","process",n),r;function i(a,s){n=!0,eF(a),r=s}}run(t,n,r){lF(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,l){const c=nw(n);i.run(t,c,u);function u(d,h,f){const m=h||t;d?l(d):s?s(m):r(void 0,m,f)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),cF("runSync","run",r),i;function a(s,l){eF(s),i=l,r=!0}}stringify(t,n){this.freeze();const r=nw(n),i=this.compiler||this.Compiler;return Sk("stringify",i),lF(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(_k("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;c(d,h)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(i.settings=xk(!0,i.settings,u.settings))}function l(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];a(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let h=-1,f=-1;for(;++h<r.length;)if(r[h][0]===u){f=h;break}if(f===-1)r.push([u,...d]);else if(d.length>0){let[m,...p]=d;const g=r[f][1];BO(g)&&BO(m)&&(m=xk(!0,g,m)),r[f]=[u,m,...p]}}}}const qNe=new a3().freeze();function Ek(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Sk(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function _k(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function lF(e){if(!BO(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function cF(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function nw(e){return GNe(e)?e:new YZ(e)}function GNe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function YNe(e){return typeof e=="string"||KNe(e)}function KNe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const XNe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",uF=[],dF={allowDangerousHtml:!0},ZNe=/^(https?|ircs?|mailto|xmpp)$/i,QNe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Mp(e){const t=JNe(e),n=eke(e);return tke(t.runSync(t.parse(n),n),e)}function JNe(e){const t=e.rehypePlugins||uF,n=e.remarkPlugins||uF,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...dF}:dF;return qNe().use(RTe).use(n).use(ANe,r).use(t)}function eke(e){const t=e.children||"",n=new YZ;return typeof t=="string"&&(n.value=t),n}function tke(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||nke;for(const d of QNe)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+XNe+d.id,void 0);return Ob(e,u),xCe(e,{Fragment:o.Fragment,components:i,ignoreInvalidStyle:!0,jsx:o.jsx,jsxs:o.jsxs,passKeys:!0,passNode:!0});function u(d,h,f){if(d.type==="raw"&&f&&typeof h=="number")return s?f.children.splice(h,1):f.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let m;for(m in pk)if(Object.hasOwn(pk,m)&&Object.hasOwn(d.properties,m)){const p=d.properties[m],g=pk[m];(g===null||g.includes(d.tagName))&&(d.properties[m]=c(String(p||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!m&&r&&typeof h=="number"&&(m=!r(d,h,f)),m&&f&&typeof h=="number")return l&&d.children?f.children.splice(h,1,...d.children):f.children.splice(h,1),h}}}function nke(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||ZNe.test(e.slice(0,t))?e:""}const hF=function(e,t,n){const r=jb(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]},Ef=function(e){if(e==null)return ake;if(typeof e=="string")return ike(e);if(typeof e=="object")return rke(e);if(typeof e=="function")return s3(e);throw new Error("Expected function, string, or array as `test`")};function rke(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Ef(e[n]);return s3(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function ike(e){return s3(t);function t(n){return n.tagName===e}}function s3(e){return t;function t(n,r,i){return!!(ske(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function ake(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function ske(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const fF=/\n/g,mF=/[\t ]+/g,zO=Ef("br"),pF=Ef(mke),oke=Ef("p"),gF=Ef("tr"),lke=Ef(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",fke,pke]),KZ=Ef(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function cke(e,t){const n=t||{},r="children"in e?e.children:[],i=KZ(e),a=QZ(e,{whitespace:n.whitespace||"normal",breakBefore:!1,breakAfter:!1}),s=[];(e.type==="text"||e.type==="comment")&&s.push(...ZZ(e,{whitespace:a,breakBefore:!0,breakAfter:!0}));let l=-1;for(;++l<r.length;)s.push(...XZ(r[l],e,{whitespace:a,breakBefore:l?void 0:i,breakAfter:l<r.length-1?zO(r[l+1]):i}));const c=[];let u;for(l=-1;++l<s.length;){const d=s[l];typeof d=="number"?u!==void 0&&d>u&&(u=d):d&&(u!==void 0&&u>-1&&c.push(`
`.repeat(u)||" "),u=-1,c.push(d))}return c.join("")}function XZ(e,t,n){return e.type==="element"?uke(e,t,n):e.type==="text"?n.whitespace==="normal"?ZZ(e,n):dke(e):[]}function uke(e,t,n){const r=QZ(e,n),i=e.children||[];let a=-1,s=[];if(lke(e))return s;let l,c;for(zO(e)||gF(e)&&hF(t,e,gF)?c=`
`:oke(e)?(l=2,c=2):KZ(e)&&(l=1,c=1);++a<i.length;)s=s.concat(XZ(i[a],e,{whitespace:r,breakBefore:a?void 0:l,breakAfter:a<i.length-1?zO(i[a+1]):c}));return pF(e)&&hF(t,e,pF)&&s.push("	"),l&&s.unshift(l),c&&s.push(c),s}function ZZ(e,t){const n=String(e.value),r=[],i=[];let a=0;for(;a<=n.length;){fF.lastIndex=a;const c=fF.exec(n),u=c&&"index"in c?c.index:n.length;r.push(hke(n.slice(a,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),a===0?t.breakBefore:!0,u===n.length?t.breakAfter:!0)),a=u+1}let s=-1,l;for(;++s<r.length;)r[s].charCodeAt(r[s].length-1)===8203||s<r.length-1&&r[s+1].charCodeAt(0)===8203?(i.push(r[s]),l=void 0):r[s]?(typeof l=="number"&&i.push(l),i.push(r[s]),l=0):(s===0||s===r.length-1)&&i.push(0);return i}function dke(e){return[String(e.value)]}function hke(e,t,n){const r=[];let i=0,a;for(;i<e.length;){mF.lastIndex=i;const s=mF.exec(e);a=s?s.index:e.length,!i&&!a&&s&&!t&&r.push(""),i!==a&&r.push(e.slice(i,a)),i=s?a+s[0].length:a}return i!==a&&!n&&r.push(""),r.join(" ")}function QZ(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function fke(e){return!!(e.properties||{}).hidden}function mke(e){return e.tagName==="td"||e.tagName==="th"}function pke(e){return e.tagName==="dialog"&&!(e.properties||{}).open}function gke(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",s="(?!struct)("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",l={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},m=t.optional(i)+e.IDENT_RE+"\\s*\\(",p=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],g=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],x=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],E={type:g,keyword:p,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:x},_={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},S=[_,h,l,n,e.C_BLOCK_COMMENT_MODE,d,u],C={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:E,contains:S.concat([{begin:/\(/,end:/\)/,keywords:E,contains:S.concat(["self"]),relevance:0}]),relevance:0},T={className:"function",begin:"("+s+"[\\*&\\s]+)+"+m,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:E,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:E,relevance:0},{begin:m,returnBegin:!0,contains:[f],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:E,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,u,d,l,{begin:/\(/,end:/\)/,keywords:E,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,u,d,l]}]},l,n,e.C_BLOCK_COMMENT_MODE,h]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:E,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(C,T,_,S,[h,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:E,contains:["self",l]},{begin:e.IDENT_RE+"::",keywords:E},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function yke(e){const t={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=gke(e),r=n.keywords;return r.type=[...r.type,...t.type],r.literal=[...r.literal,...t.literal],r.built_in=[...r.built_in,...t.built_in],r._hints=t._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function xke(e){const t=e.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},a=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),s={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},l={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,i]};i.contains.push(l);const c={match:/\\"/},u={className:"string",begin:/'/,end:/'/},d={match:/\\'/},h={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},f=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],m=e.SHEBANG({binary:`(${f.join("|")})`,relevance:10}),p={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},g=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],x=["true","false"],y={match:/(\/[a-z._-]+)+/},v=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],b=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],E=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],_=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:g,literal:x,built_in:[...v,...b,"set","shopt",...E,..._]},contains:[m,e.SHEBANG(),p,h,a,s,y,l,c,u,d,n]}}function vke(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",s="("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",l={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},m=t.optional(i)+e.IDENT_RE+"\\s*\\(",x={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},y=[h,l,n,e.C_BLOCK_COMMENT_MODE,d,u],v={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:x,contains:y.concat([{begin:/\(/,end:/\)/,keywords:x,contains:y.concat(["self"]),relevance:0}]),relevance:0},b={begin:"("+s+"[\\*&\\s]+)+"+m,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:x,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:x,relevance:0},{begin:m,returnBegin:!0,contains:[e.inherit(f,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:x,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,u,d,l,{begin:/\(/,end:/\)/,keywords:x,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,u,d,l]}]},l,n,e.C_BLOCK_COMMENT_MODE,h]};return{name:"C",aliases:["h"],keywords:x,disableAutodetect:!0,illegal:"</",contains:[].concat(v,b,y,[h,{begin:e.IDENT_RE+"::",keywords:x},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:h,strings:u,keywords:x}}}function bke(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",s="(?!struct)("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",l={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},m=t.optional(i)+e.IDENT_RE+"\\s*\\(",p=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],g=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],x=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],E={type:g,keyword:p,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:x},_={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},S=[_,h,l,n,e.C_BLOCK_COMMENT_MODE,d,u],C={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:E,contains:S.concat([{begin:/\(/,end:/\)/,keywords:E,contains:S.concat(["self"]),relevance:0}]),relevance:0},T={className:"function",begin:"("+s+"[\\*&\\s]+)+"+m,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:E,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:E,relevance:0},{begin:m,returnBegin:!0,contains:[f],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:E,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,u,d,l,{begin:/\(/,end:/\)/,keywords:E,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,u,d,l]}]},l,n,e.C_BLOCK_COMMENT_MODE,h]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:E,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(C,T,_,S,[h,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:E,contains:["self",l]},{begin:e.IDENT_RE+"::",keywords:E},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function wke(e){const t=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],a=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],s={keyword:i.concat(a),built_in:t,literal:r},l=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),c={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},u={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},d={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},h=e.inherit(d,{illegal:/\n/}),f={className:"subst",begin:/\{/,end:/\}/,keywords:s},m=e.inherit(f,{illegal:/\n/}),p={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,m]},g={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},f]},x=e.inherit(g,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},m]});f.contains=[g,p,d,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,c,e.C_BLOCK_COMMENT_MODE],m.contains=[x,p,h,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,c,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const y={variants:[u,g,p,d,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},v={begin:"<",end:">",contains:[{beginKeywords:"in out"},l]},b=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",E={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:s,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},y,c,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},l,v,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[l,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[l,v,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+b+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:s,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,v],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,relevance:0,contains:[y,c,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},E]}}const Eke=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Ske=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],_ke=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Cke=[...Ske,..._ke],Tke=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Nke=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),kke=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Ake=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function jke(e){const t=e.regex,n=Eke(e),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",a=/@-?\w[\w]*(-\w+)*/,s="[a-zA-Z-][a-zA-Z0-9_-]*",l=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+s,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Nke.join("|")+")"},{begin:":(:)?("+kke.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Ake.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...l,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...l,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:a},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:Tke.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...l,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Cke.join("|")+")\\b"}]}}function Oke(e){const t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function Pke(e){const a={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:a,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:a,illegal:/["']/}]}]}}function Mke(e){const t=e.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:t.concat(n,t.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function Ike(e){const t=e.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},r=e.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},a={className:"literal",begin:/\bon|off|true|false|yes|no\b/},s={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},l={begin:/\[/,end:/\]/,contains:[r,a,i,s,n,"self"],relevance:0},c=/[A-Za-z0-9_-]+/,u=/"(\\"|[^"])*"/,d=/'[^']*'/,h=t.either(c,u,d),f=t.concat(h,"(\\s*\\.\\s*",h,")*",t.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:f,className:"attr",starts:{end:/$/,contains:[r,l,a,i,s,n]}}]}}var im="[0-9](_*[0-9])*",rw=`\\.(${im})`,iw="[0-9a-fA-F](_*[0-9a-fA-F])*",yF={className:"number",variants:[{begin:`(\\b(${im})((${rw})|\\.)?|(${rw}))[eE][+-]?(${im})[fFdD]?\\b`},{begin:`\\b(${im})((${rw})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${rw})[fFdD]?\\b`},{begin:`\\b(${im})[fFdD]\\b`},{begin:`\\b0[xX]((${iw})\\.?|(${iw})?\\.(${iw}))[pP][+-]?(${im})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${iw})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function JZ(e,t,n){return n===-1?"":e.replace(t,r=>JZ(e,t,n-1))}function Rke(e){const t=e.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+JZ("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),c={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},u={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},d={className:"params",begin:/\(/,end:/\)/,keywords:c,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:c,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[d,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:c,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:c,relevance:0,contains:[u,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,yF,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},yF,u]}}const xF="[A-Za-z$_][0-9A-Za-z$_]*",Dke=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Lke=["true","false","null","undefined","NaN","Infinity"],eQ=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],tQ=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],nQ=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],$ke=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Bke=[].concat(nQ,eQ,tQ);function Fke(e){const t=e.regex,n=(I,{after:U})=>{const $="</"+I[0].slice(1);return I.input.indexOf($,U)!==-1},r=xF,i={begin:"<>",end:"</>"},a=/<[A-Za-z0-9\\._:-]+\s*\/>/,s={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(I,U)=>{const $=I[0].length+I.index,W=I.input[$];if(W==="<"||W===","){U.ignoreMatch();return}W===">"&&(n(I,{after:$})||U.ignoreMatch());let z;const R=I.input.substring($);if(z=R.match(/^\s*=/)){U.ignoreMatch();return}if((z=R.match(/^\s+extends\s+/))&&z.index===0){U.ignoreMatch();return}}},l={$pattern:xF,keyword:Dke,literal:Lke,built_in:Bke,"variable.language":$ke},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},m={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},p={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"css"}},g={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},x={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,f]},v={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},b=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,m,p,g,x,{match:/\$\d+/},h];f.contains=b.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(b)});const E=[].concat(v,f.contains),_=E.concat([{begin:/(\s*)\(/,end:/\)/,keywords:l,contains:["self"].concat(E)}]),S={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:_},C={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},T={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...eQ,...tQ]}},j={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},k={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[S],illegal:/%/},O={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function M(I){return t.concat("(?!",I.join("|"),")")}const B={match:t.concat(/\b/,M([...nQ,"super","import"].map(I=>`${I}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},N={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},D={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},S]},P="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",L={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(P)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[S]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:_,CLASS_REFERENCE:T},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),j,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,m,p,g,x,v,{match:/\$\d+/},h,T,{scope:"attr",match:r+t.lookahead(":"),relevance:0},L,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[v,e.REGEXP_MODE,{className:"function",begin:P,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:_}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:a},{begin:s.begin,"on:begin":s.isTrulyOpeningTag,end:s.end}],subLanguage:"xml",contains:[{begin:s.begin,end:s.end,skip:!0,contains:["self"]}]}]},k,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[S,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},N,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[S]},B,O,C,D,{match:/\$[(.]/}]}}function zke(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[t,n,e.QUOTE_STRING_MODE,i,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var am="[0-9](_*[0-9])*",aw=`\\.(${am})`,sw="[0-9a-fA-F](_*[0-9a-fA-F])*",Uke={className:"number",variants:[{begin:`(\\b(${am})((${aw})|\\.)?|(${aw}))[eE][+-]?(${am})[fFdD]?\\b`},{begin:`\\b(${am})((${aw})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${aw})[fFdD]?\\b`},{begin:`\\b(${am})[fFdD]\\b`},{begin:`\\b0[xX]((${sw})\\.?|(${sw})?\\.(${sw}))[pP][+-]?(${am})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${sw})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Hke(e){const t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},a={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},s={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[a,i]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,a,i]}]};i.contains.push(s);const l={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},c={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(s,{className:"string"}),"self"]}]},u=Uke,d=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),h={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},f=h;return f.variants[1].contains=[h],h.variants[1].contains=[f],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,d,n,r,l,c,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[h,e.C_LINE_COMMENT_MODE,d],relevance:0},e.C_LINE_COMMENT_MODE,d,l,c,s,e.C_NUMBER_MODE]},d]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},l,c]},s,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},u]}}const Vke=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Wke=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],qke=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Gke=[...Wke,...qke],Yke=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),rQ=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),iQ=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Kke=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),Xke=rQ.concat(iQ).sort().reverse();function Zke(e){const t=Vke(e),n=Xke,r="and or not only",i="[\\w-]+",a="("+i+"|@\\{"+i+"\\})",s=[],l=[],c=function(b){return{className:"string",begin:"~?"+b+".*?"+b}},u=function(b,E,_){return{className:b,begin:E,relevance:_}},d={$pattern:/[a-z-]+/,keyword:r,attribute:Yke.join(" ")},h={begin:"\\(",end:"\\)",contains:l,keywords:d,relevance:0};l.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,c("'"),c('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,h,u("variable","@@?"+i,10),u("variable","@\\{"+i+"\\}"),u("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const f=l.concat({begin:/\{/,end:/\}/,contains:s}),m={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(l)},p={begin:a+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Kke.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:l}}]},g={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:d,returnEnd:!0,contains:l,relevance:0}},x={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:f}},y={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:a,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,m,u("keyword","all\\b"),u("variable","@\\{"+i+"\\}"),{begin:"\\b("+Gke.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,u("selector-tag",a,0),u("selector-id","#"+a),u("selector-class","\\."+a,0),u("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+rQ.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+iQ.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:f},{begin:"!important"},t.FUNCTION_DISPATCH]},v={begin:i+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[y]};return s.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,g,x,v,p,y,m,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:s}}function Qke(e){const t="\\[=*\\[",n="\\]=*\\]",r={begin:t,end:n,contains:["self"]},i=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:n,contains:[r],relevance:5}])}}function Jke(e){const t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[t,n]},i={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},a={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},s={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,t,n,r,i,a,s]}}function eAe(e){const t=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},a={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},s={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},l=/[A-Za-z][A-Za-z0-9+.-]*/,c={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,l,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},u={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},d={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},h=e.inherit(u,{contains:[]}),f=e.inherit(d,{contains:[]});u.contains.push(f),d.contains.push(h);let m=[n,c];return[u,d,h,f].forEach(y=>{y.contains=y.contains.concat(m)}),m=m.concat(u,d),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:m},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:m}]}]},n,a,u,d,{className:"quote",begin:"^>\\s+",contains:m,end:"$"},i,r,c,s,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function tAe(e){const t={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,l={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},c={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:l,illegal:"</",contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+c.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:c,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}function nAe(e){const t=e.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:n.join(" ")},a={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},s={begin:/->\{/,end:/\}/},l={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},c={scope:"variable",variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[l]},u={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},d=[e.BACKSLASH_ESCAPE,a,c],h=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],f=(g,x,y="\\1")=>{const v=y==="\\1"?y:t.concat(y,x);return t.concat(t.concat("(?:",g,")"),x,/(?:\\.|[^\\\/])*?/,v,/(?:\\.|[^\\\/])*?/,y,r)},m=(g,x,y)=>t.concat(t.concat("(?:",g,")"),x,/(?:\\.|[^\\\/])*?/,y,r),p=[c,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),s,{className:"string",contains:d,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},u,{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:f("s|tr|y",t.either(...h,{capture:!0}))},{begin:f("s|tr|y","\\(","\\)")},{begin:f("s|tr|y","\\[","\\]")},{begin:f("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:m("(?:m|qr)?",/\//,/\//)},{begin:m("m|qr",t.either(...h,{capture:!0}),/\1/)},{begin:m("m|qr",/\(/,/\)/)},{begin:m("m|qr",/\[/,/\]/)},{begin:m("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,l]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,l,u]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return a.contains=p,s.contains=p,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:p}}function rAe(e){const t=e.regex,n=/(?![A-Za-z0-9])(?![$])/,r=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),a=t.concat(/[A-Z]+/,n),s={scope:"variable",match:"\\$+"+r},l={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},c={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},u=e.inherit(e.APOS_STRING_MODE,{illegal:null}),d=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(c)}),h={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(c),"on:begin":(N,D)=>{D.data._beginMatch=N[1]||N[2]},"on:end":(N,D)=>{D.data._beginMatch!==N[1]&&D.ignoreMatch()}},f=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),m=`[ 	
]`,p={scope:"string",variants:[d,u,h,f]},g={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},x=["false","null","true"],y=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],v=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],E={keyword:y,literal:(N=>{const D=[];return N.forEach(P=>{D.push(P),P.toLowerCase()===P?D.push(P.toUpperCase()):D.push(P.toLowerCase())}),D})(x),built_in:v},_=N=>N.map(D=>D.replace(/\|\d+$/,"")),S={variants:[{match:[/new/,t.concat(m,"+"),t.concat("(?!",_(v).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},C=t.concat(r,"\\b(?!\\()"),T={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),C],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,t.concat(/::/,t.lookahead(/(?!class\b)/)),C],scope:{1:"title.class",3:"variable.constant"}},{match:[i,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},j={scope:"attr",match:t.concat(r,t.lookahead(":"),t.lookahead(/(?!::)/))},k={relevance:0,begin:/\(/,end:/\)/,keywords:E,contains:[j,s,T,e.C_BLOCK_COMMENT_MODE,p,g,S]},O={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",_(y).join("\\b|"),"|",_(v).join("\\b|"),"\\b)"),r,t.concat(m,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[k]};k.contains.push(O);const M=[j,T,e.C_BLOCK_COMMENT_MODE,p,g,S],B={begin:t.concat(/#\[\s*\\?/,t.either(i,a)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:x,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:x,keyword:["new","array"]},contains:["self",...M]},...M,{scope:"meta",variants:[{match:i},{match:a}]}]};return{case_insensitive:!1,keywords:E,contains:[B,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},l,{scope:"variable.language",match:/\$this\b/},s,O,T,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},S,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:E,contains:["self",B,s,T,e.C_BLOCK_COMMENT_MODE,p,g]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},p,g]}}function iAe(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function aAe(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function sAe(e){const t=e.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],l={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},c={className:"meta",begin:/^(>>>|\.\.\.) /},u={className:"subst",begin:/\{/,end:/\}/,keywords:l,illegal:/#/},d={begin:/\{\{/,relevance:0},h={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,c,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,c,d,u]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,d,u]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},f="[0-9](_?[0-9])*",m=`(\\b(${f}))?\\.(${f})|\\b(${f})\\.`,p=`\\b|${r.join("|")}`,g={className:"number",relevance:0,variants:[{begin:`(\\b(${f})|(${m}))[eE][+-]?(${f})[jJ]?(?=${p})`},{begin:`(${m})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${p})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${p})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${p})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${p})`},{begin:`\\b(${f})[jJ](?=${p})`}]},x={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:l,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},y={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:["self",c,g,h,e.HASH_COMMENT_MODE]}]};return u.contains=[h,g,c],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:l,illegal:/(<\/|\?)|=>/,contains:[c,g,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},h,x,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[y]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[g,y,h]}]}}function oAe(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function lAe(e){const t=e.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=t.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,a=t.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:t.lookahead(t.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[a,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:a},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function cAe(e){const t=e.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=t.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=t.concat(r,/(::\w+)*/),s={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},l={className:"doctag",begin:"@[A-Za-z]+"},c={begin:"#<",end:">"},u=[e.COMMENT("#","$",{contains:[l]}),e.COMMENT("^=begin","^=end",{contains:[l],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],d={className:"subst",begin:/#\{/,end:/\}/,keywords:s},h={className:"string",contains:[e.BACKSLASH_ESCAPE,d],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:t.concat(/<<[-~]?'?/,t.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,d]})]}]},f="[1-9](_?[0-9])*|0",m="[0-9](_?[0-9])*",p={className:"number",relevance:0,variants:[{begin:`\\b(${f})(\\.(${m}))?([eE][+-]?(${m})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},g={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:s}]},S=[h,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:s},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:s},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[g]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[h,{begin:n}],relevance:0},p,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:s},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,d],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(c,u),relevance:0}].concat(c,u);d.contains=S,g.contains=S;const k=[{begin:/^\s*=>/,starts:{end:"$",contains:S}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:s,contains:S}}];return u.unshift(c),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:s,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(k).concat(u).concat(S)}}function uAe(e){const t=e.regex,n=/(r#)?/,r=t.concat(n,e.UNDERSCORE_IDENT_RE),i=t.concat(n,e.IDENT_RE),a={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,t.lookahead(/\s*\(/))},s="([ui](8|16|32|64|128|size)|f(32|64))?",l=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],c=["true","false","Some","None","Ok","Err"],u=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],d=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:d,keyword:l,literal:c,built_in:u},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+s},{begin:"\\b0o([0-7_]+)"+s},{begin:"\\b0x([A-Fa-f0-9_]+)"+s},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+s}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:u,type:d}},{className:"punctuation",begin:"->"},a]}}const dAe=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),hAe=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],fAe=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],mAe=[...hAe,...fAe],pAe=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),gAe=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),yAe=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),xAe=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function vAe(e){const t=dAe(e),n=yAe,r=gAe,i="@[a-z-]+",a="and or not only",l={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+mAe.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},l,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+xAe.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,l,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:a,attribute:pAe.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},l,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}}function bAe(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function wAe(e){const t=e.regex,n=e.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},a=["true","false","unknown"],s=["double precision","large object","with timezone","without timezone"],l=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],c=["add","asc","collation","desc","final","first","last","view"],u=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],d=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],h=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],f=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],m=d,p=[...u,...c].filter(_=>!d.includes(_)),g={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},x={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},y={match:t.concat(/\b/,t.either(...m),/\s*\(/),relevance:0,keywords:{built_in:m}};function v(_){return t.concat(/\b/,t.either(..._.map(S=>S.replace(/\s+/,"\\s+"))),/\b/)}const b={scope:"keyword",match:v(f),relevance:0};function E(_,{exceptions:S,when:C}={}){const T=C;return S=S||[],_.map(j=>j.match(/\|\d+$/)||S.includes(j)?j:T(j)?`${j}|0`:j)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:E(p,{when:_=>_.length<3}),literal:a,type:l,built_in:h},contains:[{scope:"type",match:v(s)},b,y,g,r,i,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,x]}}function aQ(e){return e?typeof e=="string"?e:e.source:null}function B0(e){return An("(?=",e,")")}function An(...e){return e.map(n=>aQ(n)).join("")}function EAe(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function na(...e){return"("+(EAe(e).capture?"":"?:")+e.map(r=>aQ(r)).join("|")+")"}const o3=e=>An(/\b/,e,/\w$/.test(e)?/\b/:/\B/),SAe=["Protocol","Type"].map(o3),vF=["init","self"].map(o3),_Ae=["Any","Self"],Ck=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],bF=["false","nil","true"],CAe=["assignment","associativity","higherThan","left","lowerThan","none","right"],TAe=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],wF=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],sQ=na(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),oQ=na(sQ,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),Tk=An(sQ,oQ,"*"),lQ=na(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),NS=na(lQ,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Wo=An(lQ,NS,"*"),ow=An(/[A-Z]/,NS,"*"),NAe=["attached","autoclosure",An(/convention\(/,na("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",An(/objc\(/,Wo,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],kAe=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function AAe(e){const t={match:/\s+/,relevance:0},n=e.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[e.C_LINE_COMMENT_MODE,n],i={match:[/\./,na(...SAe,...vF)],className:{2:"keyword"}},a={match:An(/\./,na(...Ck)),relevance:0},s=Ck.filter(he=>typeof he=="string").concat(["_|0"]),l=Ck.filter(he=>typeof he!="string").concat(_Ae).map(o3),c={variants:[{className:"keyword",match:na(...l,...vF)}]},u={$pattern:na(/\b\w+/,/#\w+/),keyword:s.concat(TAe),literal:bF},d=[i,a,c],h={match:An(/\./,na(...wF)),relevance:0},f={className:"built_in",match:An(/\b/,na(...wF),/(?=\()/)},m=[h,f],p={match:/->/,relevance:0},g={className:"operator",relevance:0,variants:[{match:Tk},{match:`\\.(\\.|${oQ})+`}]},x=[p,g],y="([0-9]_*)+",v="([0-9a-fA-F]_*)+",b={className:"number",relevance:0,variants:[{match:`\\b(${y})(\\.(${y}))?([eE][+-]?(${y}))?\\b`},{match:`\\b0x(${v})(\\.(${v}))?([pP][+-]?(${y}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},E=(he="")=>({className:"subst",variants:[{match:An(/\\/,he,/[0\\tnr"']/)},{match:An(/\\/,he,/u\{[0-9a-fA-F]{1,8}\}/)}]}),_=(he="")=>({className:"subst",match:An(/\\/,he,/[\t ]*(?:[\r\n]|\r\n)/)}),S=(he="")=>({className:"subst",label:"interpol",begin:An(/\\/,he,/\(/),end:/\)/}),C=(he="")=>({begin:An(he,/"""/),end:An(/"""/,he),contains:[E(he),_(he),S(he)]}),T=(he="")=>({begin:An(he,/"/),end:An(/"/,he),contains:[E(he),S(he)]}),j={className:"string",variants:[C(),C("#"),C("##"),C("###"),T(),T("#"),T("##"),T("###")]},k=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}],O={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:k},M=he=>{const se=An(he,/\//),V=An(/\//,he);return{begin:se,end:V,contains:[...k,{scope:"comment",begin:`#(?!.*${V})`,end:/$/}]}},B={scope:"regexp",variants:[M("###"),M("##"),M("#"),O]},N={match:An(/`/,Wo,/`/)},D={className:"variable",match:/\$\d+/},P={className:"variable",match:`\\$${NS}+`},L=[N,D,P],I={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:kAe,contains:[...x,b,j]}]}},U={scope:"keyword",match:An(/@/,na(...NAe),B0(na(/\(/,/\s+/)))},$={scope:"meta",match:An(/@/,Wo)},W=[I,U,$],z={match:B0(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:An(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,NS,"+")},{className:"type",match:ow,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:An(/\s+&\s+/,B0(ow)),relevance:0}]},R={begin:/</,end:/>/,keywords:u,contains:[...r,...d,...W,p,z]};z.contains.push(R);const G={match:An(Wo,/\s*:/),keywords:"_|0",relevance:0},Q={begin:/\(/,end:/\)/,relevance:0,keywords:u,contains:["self",G,...r,B,...d,...m,...x,b,j,...L,...W,z]},oe={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,z]},re={begin:na(B0(An(Wo,/\s*:/)),B0(An(Wo,/\s+/,Wo,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Wo}]},pe={begin:/\(/,end:/\)/,keywords:u,contains:[re,...r,...d,...x,b,j,...W,z,Q],endsParent:!0,illegal:/["']/},ce={match:[/(func|macro)/,/\s+/,na(N.match,Wo,Tk)],className:{1:"keyword",3:"title.function"},contains:[oe,pe,t],illegal:[/\[/,/%/]},me={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[oe,pe,t],illegal:/\[|%/},ye={match:[/operator/,/\s+/,Tk],className:{1:"keyword",3:"title"}},ae={begin:[/precedencegroup/,/\s+/,ow],className:{1:"keyword",3:"title"},contains:[z],keywords:[...CAe,...bF],end:/}/},Ae={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},H={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},Z={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,Wo,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:u,contains:[oe,...d,{begin:/:/,end:/\{/,keywords:u,contains:[{scope:"title.class.inherited",match:ow},...d],relevance:0}]};for(const he of j.variants){const se=he.contains.find(ie=>ie.label==="interpol");se.keywords=u;const V=[...d,...m,...x,b,j,...L];se.contains=[...V,{begin:/\(/,end:/\)/,contains:["self",...V]}]}return{name:"Swift",keywords:u,contains:[...r,ce,me,Ae,H,Z,ye,ae,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},B,...d,...m,...x,b,j,...L,...W,z,Q]}}const kS="[A-Za-z$_][0-9A-Za-z$_]*",cQ=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],uQ=["true","false","null","undefined","NaN","Infinity"],dQ=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],hQ=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],fQ=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],mQ=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],pQ=[].concat(fQ,dQ,hQ);function jAe(e){const t=e.regex,n=(I,{after:U})=>{const $="</"+I[0].slice(1);return I.input.indexOf($,U)!==-1},r=kS,i={begin:"<>",end:"</>"},a=/<[A-Za-z0-9\\._:-]+\s*\/>/,s={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(I,U)=>{const $=I[0].length+I.index,W=I.input[$];if(W==="<"||W===","){U.ignoreMatch();return}W===">"&&(n(I,{after:$})||U.ignoreMatch());let z;const R=I.input.substring($);if(z=R.match(/^\s*=/)){U.ignoreMatch();return}if((z=R.match(/^\s+extends\s+/))&&z.index===0){U.ignoreMatch();return}}},l={$pattern:kS,keyword:cQ,literal:uQ,built_in:pQ,"variable.language":mQ},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},m={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},p={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"css"}},g={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},x={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,f]},v={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},b=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,m,p,g,x,{match:/\$\d+/},h];f.contains=b.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(b)});const E=[].concat(v,f.contains),_=E.concat([{begin:/(\s*)\(/,end:/\)/,keywords:l,contains:["self"].concat(E)}]),S={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:_},C={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},T={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...dQ,...hQ]}},j={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},k={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[S],illegal:/%/},O={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function M(I){return t.concat("(?!",I.join("|"),")")}const B={match:t.concat(/\b/,M([...fQ,"super","import"].map(I=>`${I}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},N={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},D={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},S]},P="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",L={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(P)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[S]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:_,CLASS_REFERENCE:T},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),j,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,m,p,g,x,v,{match:/\$\d+/},h,T,{scope:"attr",match:r+t.lookahead(":"),relevance:0},L,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[v,e.REGEXP_MODE,{className:"function",begin:P,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:_}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:a},{begin:s.begin,"on:begin":s.isTrulyOpeningTag,end:s.end}],subLanguage:"xml",contains:[{begin:s.begin,end:s.end,skip:!0,contains:["self"]}]}]},k,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[S,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},N,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[S]},B,O,C,D,{match:/\$[(.]/}]}}function OAe(e){const t=e.regex,n=jAe(e),r=kS,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],a={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},s={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[n.exports.CLASS_REFERENCE]},l={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},c=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],u={$pattern:kS,keyword:cQ.concat(c),literal:uQ,built_in:pQ.concat(i),"variable.language":mQ},d={className:"meta",begin:"@"+r},h=(g,x,y)=>{const v=g.contains.findIndex(b=>b.label===x);if(v===-1)throw new Error("can not find mode to replace");g.contains.splice(v,1,y)};Object.assign(n.keywords,u),n.exports.PARAMS_CONTAINS.push(d);const f=n.contains.find(g=>g.scope==="attr"),m=Object.assign({},f,{match:t.concat(r,t.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,f,m]),n.contains=n.contains.concat([d,a,s,m]),h(n,"shebang",e.SHEBANG()),h(n,"use_strict",l);const p=n.contains.find(g=>g.label==="func.def");return p.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function PAe(e){const t=e.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,a=/\d{4}-\d{1,2}-\d{1,2}/,s=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,l=/\d{1,2}(:\d{1,2}){1,2}/,c={className:"literal",variants:[{begin:t.concat(/# */,t.either(a,i),/ *#/)},{begin:t.concat(/# */,l,/ *#/)},{begin:t.concat(/# */,s,/ *#/)},{begin:t.concat(/# */,t.either(a,i),/ +/,t.either(s,l),/ *#/)}]},u={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},d={className:"label",begin:/^\w+:/},h=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),f=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,c,u,d,h,f,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[f]}]}}function MAe(e){e.regex;const t=e.COMMENT(/\(;/,/;\)/);t.contains.push("self");const n=e.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},a={className:"variable",begin:/\$[\w_]+/},s={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},l={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},c={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},u={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,t,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},a,s,i,e.QUOTE_STRING_MODE,c,u,l]}}function IAe(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},a={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},s=e.inherit(a,{begin:/\(/,end:/\)/}),l=e.inherit(e.APOS_STRING_MODE,{className:"string"}),c=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[a,c,l,s,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[a,s,c,l]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[c]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:u}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function RAe(e){const t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},a={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},s={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,i]},l=e.inherit(s,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),f={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},m={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},p={begin:/\{/,end:/\}/,contains:[m],illegal:"\\n",relevance:0},g={begin:"\\[",end:"\\]",contains:[m],illegal:"\\n",relevance:0},x=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},f,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},p,g,a,s],y=[...x];return y.pop(),y.push(l),m.contains=y,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:x}}const DAe={arduino:yke,bash:xke,c:vke,cpp:bke,csharp:wke,css:jke,diff:Oke,go:Pke,graphql:Mke,ini:Ike,java:Rke,javascript:Fke,json:zke,kotlin:Hke,less:Zke,lua:Qke,makefile:Jke,markdown:eAe,objectivec:tAe,perl:nAe,php:rAe,"php-template":iAe,plaintext:aAe,python:sAe,"python-repl":oAe,r:lAe,ruby:cAe,rust:uAe,scss:vAe,shell:bAe,sql:wAe,swift:AAe,typescript:OAe,vbnet:PAe,wasm:MAe,xml:IAe,yaml:RAe};function gQ(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const n=e[t],r=typeof n;(r==="object"||r==="function")&&!Object.isFrozen(n)&&gQ(n)}),e}class EF{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function yQ(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function ju(e,...t){const n=Object.create(null);for(const r in e)n[r]=e[r];return t.forEach(function(r){for(const i in r)n[i]=r[i]}),n}const LAe="</span>",SF=e=>!!e.scope,$Ae=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((r,i)=>`${r}${"_".repeat(i+1)}`)].join(" ")}return`${t}${e}`};class BAe{constructor(t,n){this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}addText(t){this.buffer+=yQ(t)}openNode(t){if(!SF(t))return;const n=$Ae(t.scope,{prefix:this.classPrefix});this.span(n)}closeNode(t){SF(t)&&(this.buffer+=LAe)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const _F=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class l3{constructor(){this.rootNode=_F(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const n=_F({scope:t});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,n){return typeof n=="string"?t.addText(n):n.children&&(t.openNode(n),n.children.forEach(r=>this._walk(t,r)),t.closeNode(n)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(n=>typeof n=="string")?t.children=[t.children.join("")]:t.children.forEach(n=>{l3._collapse(n)}))}}class FAe extends l3{constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,n){const r=t.root;n&&(r.scope=`language:${n}`),this.add(r)}toHTML(){return new BAe(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function ev(e){return e?typeof e=="string"?e:e.source:null}function xQ(e){return Sf("(?=",e,")")}function zAe(e){return Sf("(?:",e,")*")}function UAe(e){return Sf("(?:",e,")?")}function Sf(...e){return e.map(n=>ev(n)).join("")}function HAe(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function c3(...e){return"("+(HAe(e).capture?"":"?:")+e.map(r=>ev(r)).join("|")+")"}function vQ(e){return new RegExp(e.toString()+"|").exec("").length-1}function VAe(e,t){const n=e&&e.exec(t);return n&&n.index===0}const WAe=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function u3(e,{joinWith:t}){let n=0;return e.map(r=>{n+=1;const i=n;let a=ev(r),s="";for(;a.length>0;){const l=WAe.exec(a);if(!l){s+=a;break}s+=a.substring(0,l.index),a=a.substring(l.index+l[0].length),l[0][0]==="\\"&&l[1]?s+="\\"+String(Number(l[1])+i):(s+=l[0],l[0]==="("&&n++)}return s}).map(r=>`(${r})`).join(t)}const qAe=/\b\B/,bQ="[a-zA-Z]\\w*",d3="[a-zA-Z_]\\w*",wQ="\\b\\d+(\\.\\d+)?",EQ="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",SQ="\\b(0b[01]+)",GAe="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",YAe=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=Sf(t,/.*\b/,e.binary,/\b.*/)),ju({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},e)},tv={begin:"\\\\[\\s\\S]",relevance:0},KAe={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[tv]},XAe={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[tv]},ZAe={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},N2=function(e,t,n={}){const r=ju({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=c3("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:Sf(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},QAe=N2("//","$"),JAe=N2("/\\*","\\*/"),eje=N2("#","$"),tje={scope:"number",begin:wQ,relevance:0},nje={scope:"number",begin:EQ,relevance:0},rje={scope:"number",begin:SQ,relevance:0},ije={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[tv,{begin:/\[/,end:/\]/,relevance:0,contains:[tv]}]},aje={scope:"title",begin:bQ,relevance:0},sje={scope:"title",begin:d3,relevance:0},oje={begin:"\\.\\s*"+d3,relevance:0},lje=function(e){return Object.assign(e,{"on:begin":(t,n)=>{n.data._beginMatch=t[1]},"on:end":(t,n)=>{n.data._beginMatch!==t[1]&&n.ignoreMatch()}})};var lw=Object.freeze({__proto__:null,APOS_STRING_MODE:KAe,BACKSLASH_ESCAPE:tv,BINARY_NUMBER_MODE:rje,BINARY_NUMBER_RE:SQ,COMMENT:N2,C_BLOCK_COMMENT_MODE:JAe,C_LINE_COMMENT_MODE:QAe,C_NUMBER_MODE:nje,C_NUMBER_RE:EQ,END_SAME_AS_BEGIN:lje,HASH_COMMENT_MODE:eje,IDENT_RE:bQ,MATCH_NOTHING_RE:qAe,METHOD_GUARD:oje,NUMBER_MODE:tje,NUMBER_RE:wQ,PHRASAL_WORDS_MODE:ZAe,QUOTE_STRING_MODE:XAe,REGEXP_MODE:ije,RE_STARTERS_RE:GAe,SHEBANG:YAe,TITLE_MODE:aje,UNDERSCORE_IDENT_RE:d3,UNDERSCORE_TITLE_MODE:sje});function cje(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function uje(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function dje(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=cje,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function hje(e,t){Array.isArray(e.illegal)&&(e.illegal=c3(...e.illegal))}function fje(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function mje(e,t){e.relevance===void 0&&(e.relevance=1)}const pje=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(r=>{delete e[r]}),e.keywords=n.keywords,e.begin=Sf(n.beforeMatch,xQ(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},gje=["of","and","for","in","not","or","if","then","parent","list","value"],yje="keyword";function _Q(e,t,n=yje){const r=Object.create(null);return typeof e=="string"?i(n,e.split(" ")):Array.isArray(e)?i(n,e):Object.keys(e).forEach(function(a){Object.assign(r,_Q(e[a],t,a))}),r;function i(a,s){t&&(s=s.map(l=>l.toLowerCase())),s.forEach(function(l){const c=l.split("|");r[c[0]]=[a,xje(c[0],c[1])]})}}function xje(e,t){return t?Number(t):vje(e)?0:1}function vje(e){return gje.includes(e.toLowerCase())}const CF={},Nh=e=>{console.error(e)},TF=(e,...t)=>{console.log(`WARN: ${e}`,...t)},Uf=(e,t)=>{CF[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),CF[`${e}/${t}`]=!0)},AS=new Error;function CQ(e,t,{key:n}){let r=0;const i=e[n],a={},s={};for(let l=1;l<=t.length;l++)s[l+r]=i[l],a[l+r]=!0,r+=vQ(t[l-1]);e[n]=s,e[n]._emit=a,e[n]._multi=!0}function bje(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Nh("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),AS;if(typeof e.beginScope!="object"||e.beginScope===null)throw Nh("beginScope must be object"),AS;CQ(e,e.begin,{key:"beginScope"}),e.begin=u3(e.begin,{joinWith:""})}}function wje(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Nh("skip, excludeEnd, returnEnd not compatible with endScope: {}"),AS;if(typeof e.endScope!="object"||e.endScope===null)throw Nh("endScope must be object"),AS;CQ(e,e.end,{key:"endScope"}),e.end=u3(e.end,{joinWith:""})}}function Eje(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function Sje(e){Eje(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),bje(e),wje(e)}function _je(e){function t(s,l){return new RegExp(ev(s),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(l?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(l,c){c.position=this.position++,this.matchIndexes[this.matchAt]=c,this.regexes.push([c,l]),this.matchAt+=vQ(l)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const l=this.regexes.map(c=>c[1]);this.matcherRe=t(u3(l,{joinWith:"|"}),!0),this.lastIndex=0}exec(l){this.matcherRe.lastIndex=this.lastIndex;const c=this.matcherRe.exec(l);if(!c)return null;const u=c.findIndex((h,f)=>f>0&&h!==void 0),d=this.matchIndexes[u];return c.splice(0,u),Object.assign(c,d)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(l){if(this.multiRegexes[l])return this.multiRegexes[l];const c=new n;return this.rules.slice(l).forEach(([u,d])=>c.addRule(u,d)),c.compile(),this.multiRegexes[l]=c,c}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(l,c){this.rules.push([l,c]),c.type==="begin"&&this.count++}exec(l){const c=this.getMatcher(this.regexIndex);c.lastIndex=this.lastIndex;let u=c.exec(l);if(this.resumingScanAtSamePosition()&&!(u&&u.index===this.lastIndex)){const d=this.getMatcher(0);d.lastIndex=this.lastIndex+1,u=d.exec(l)}return u&&(this.regexIndex+=u.position+1,this.regexIndex===this.count&&this.considerAll()),u}}function i(s){const l=new r;return s.contains.forEach(c=>l.addRule(c.begin,{rule:c,type:"begin"})),s.terminatorEnd&&l.addRule(s.terminatorEnd,{type:"end"}),s.illegal&&l.addRule(s.illegal,{type:"illegal"}),l}function a(s,l){const c=s;if(s.isCompiled)return c;[uje,fje,Sje,pje].forEach(d=>d(s,l)),e.compilerExtensions.forEach(d=>d(s,l)),s.__beforeBegin=null,[dje,hje,mje].forEach(d=>d(s,l)),s.isCompiled=!0;let u=null;return typeof s.keywords=="object"&&s.keywords.$pattern&&(s.keywords=Object.assign({},s.keywords),u=s.keywords.$pattern,delete s.keywords.$pattern),u=u||/\w+/,s.keywords&&(s.keywords=_Q(s.keywords,e.case_insensitive)),c.keywordPatternRe=t(u,!0),l&&(s.begin||(s.begin=/\B|\b/),c.beginRe=t(c.begin),!s.end&&!s.endsWithParent&&(s.end=/\B|\b/),s.end&&(c.endRe=t(c.end)),c.terminatorEnd=ev(c.end)||"",s.endsWithParent&&l.terminatorEnd&&(c.terminatorEnd+=(s.end?"|":"")+l.terminatorEnd)),s.illegal&&(c.illegalRe=t(s.illegal)),s.contains||(s.contains=[]),s.contains=[].concat(...s.contains.map(function(d){return Cje(d==="self"?s:d)})),s.contains.forEach(function(d){a(d,c)}),s.starts&&a(s.starts,l),c.matcher=i(c),c}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=ju(e.classNameAliases||{}),a(e)}function TQ(e){return e?e.endsWithParent||TQ(e.starts):!1}function Cje(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return ju(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:TQ(e)?ju(e,{starts:e.starts?ju(e.starts):null}):Object.isFrozen(e)?ju(e):e}var Tje="11.11.1";class Nje extends Error{constructor(t,n){super(t),this.name="HTMLInjectionError",this.html=n}}const Nk=yQ,NF=ju,kF=Symbol("nomatch"),kje=7,NQ=function(e){const t=Object.create(null),n=Object.create(null),r=[];let i=!0;const a="Could not find the language '{}', did you forget to load/include a language module?",s={disableAutodetect:!0,name:"Plain text",contains:[]};let l={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:FAe};function c(P){return l.noHighlightRe.test(P)}function u(P){let L=P.className+" ";L+=P.parentNode?P.parentNode.className:"";const I=l.languageDetectRe.exec(L);if(I){const U=T(I[1]);return U||(TF(a.replace("{}",I[1])),TF("Falling back to no-highlight mode for this block.",P)),U?I[1]:"no-highlight"}return L.split(/\s+/).find(U=>c(U)||T(U))}function d(P,L,I){let U="",$="";typeof L=="object"?(U=P,I=L.ignoreIllegals,$=L.language):(Uf("10.7.0","highlight(lang, code, ...args) has been deprecated."),Uf("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),$=P,U=L),I===void 0&&(I=!0);const W={code:U,language:$};N("before:highlight",W);const z=W.result?W.result:h(W.language,W.code,I);return z.code=W.code,N("after:highlight",z),z}function h(P,L,I,U){const $=Object.create(null);function W(Y,ee){return Y.keywords[ee]}function z(){if(!V.keywords){ue.addText(we);return}let Y=0;V.keywordPatternRe.lastIndex=0;let ee=V.keywordPatternRe.exec(we),be="";for(;ee;){be+=we.substring(Y,ee.index);const Te=Z.case_insensitive?ee[0].toLowerCase():ee[0],fe=W(V,Te);if(fe){const[Ne,Nt]=fe;if(ue.addText(be),be="",$[Te]=($[Te]||0)+1,$[Te]<=kje&&(Se+=Nt),Ne.startsWith("_"))be+=ee[0];else{const vt=Z.classNameAliases[Ne]||Ne;Q(ee[0],vt)}}else be+=ee[0];Y=V.keywordPatternRe.lastIndex,ee=V.keywordPatternRe.exec(we)}be+=we.substring(Y),ue.addText(be)}function R(){if(we==="")return;let Y=null;if(typeof V.subLanguage=="string"){if(!t[V.subLanguage]){ue.addText(we);return}Y=h(V.subLanguage,we,!0,ie[V.subLanguage]),ie[V.subLanguage]=Y._top}else Y=m(we,V.subLanguage.length?V.subLanguage:null);V.relevance>0&&(Se+=Y.relevance),ue.__addSublanguage(Y._emitter,Y.language)}function G(){V.subLanguage!=null?R():z(),we=""}function Q(Y,ee){Y!==""&&(ue.startScope(ee),ue.addText(Y),ue.endScope())}function oe(Y,ee){let be=1;const Te=ee.length-1;for(;be<=Te;){if(!Y._emit[be]){be++;continue}const fe=Z.classNameAliases[Y[be]]||Y[be],Ne=ee[be];fe?Q(Ne,fe):(we=Ne,z(),we=""),be++}}function re(Y,ee){return Y.scope&&typeof Y.scope=="string"&&ue.openNode(Z.classNameAliases[Y.scope]||Y.scope),Y.beginScope&&(Y.beginScope._wrap?(Q(we,Z.classNameAliases[Y.beginScope._wrap]||Y.beginScope._wrap),we=""):Y.beginScope._multi&&(oe(Y.beginScope,ee),we="")),V=Object.create(Y,{parent:{value:V}}),V}function pe(Y,ee,be){let Te=VAe(Y.endRe,be);if(Te){if(Y["on:end"]){const fe=new EF(Y);Y["on:end"](ee,fe),fe.isMatchIgnored&&(Te=!1)}if(Te){for(;Y.endsParent&&Y.parent;)Y=Y.parent;return Y}}if(Y.endsWithParent)return pe(Y.parent,ee,be)}function ce(Y){return V.matcher.regexIndex===0?(we+=Y[0],1):(Le=!0,0)}function me(Y){const ee=Y[0],be=Y.rule,Te=new EF(be),fe=[be.__beforeBegin,be["on:begin"]];for(const Ne of fe)if(Ne&&(Ne(Y,Te),Te.isMatchIgnored))return ce(ee);return be.skip?we+=ee:(be.excludeBegin&&(we+=ee),G(),!be.returnBegin&&!be.excludeBegin&&(we=ee)),re(be,Y),be.returnBegin?0:ee.length}function ye(Y){const ee=Y[0],be=L.substring(Y.index),Te=pe(V,Y,be);if(!Te)return kF;const fe=V;V.endScope&&V.endScope._wrap?(G(),Q(ee,V.endScope._wrap)):V.endScope&&V.endScope._multi?(G(),oe(V.endScope,Y)):fe.skip?we+=ee:(fe.returnEnd||fe.excludeEnd||(we+=ee),G(),fe.excludeEnd&&(we=ee));do V.scope&&ue.closeNode(),!V.skip&&!V.subLanguage&&(Se+=V.relevance),V=V.parent;while(V!==Te.parent);return Te.starts&&re(Te.starts,Y),fe.returnEnd?0:ee.length}function ae(){const Y=[];for(let ee=V;ee!==Z;ee=ee.parent)ee.scope&&Y.unshift(ee.scope);Y.forEach(ee=>ue.openNode(ee))}let Ae={};function H(Y,ee){const be=ee&&ee[0];if(we+=Y,be==null)return G(),0;if(Ae.type==="begin"&&ee.type==="end"&&Ae.index===ee.index&&be===""){if(we+=L.slice(ee.index,ee.index+1),!i){const Te=new Error(`0 width match regex (${P})`);throw Te.languageName=P,Te.badRule=Ae.rule,Te}return 1}if(Ae=ee,ee.type==="begin")return me(ee);if(ee.type==="illegal"&&!I){const Te=new Error('Illegal lexeme "'+be+'" for mode "'+(V.scope||"<unnamed>")+'"');throw Te.mode=V,Te}else if(ee.type==="end"){const Te=ye(ee);if(Te!==kF)return Te}if(ee.type==="illegal"&&be==="")return we+=`
`,1;if(Ce>1e5&&Ce>ee.index*3)throw new Error("potential infinite loop, way more iterations than matches");return we+=be,be.length}const Z=T(P);if(!Z)throw Nh(a.replace("{}",P)),new Error('Unknown language: "'+P+'"');const he=_je(Z);let se="",V=U||he;const ie={},ue=new l.__emitter(l);ae();let we="",Se=0,K=0,Ce=0,Le=!1;try{if(Z.__emitTokens)Z.__emitTokens(L,ue);else{for(V.matcher.considerAll();;){Ce++,Le?Le=!1:V.matcher.considerAll(),V.matcher.lastIndex=K;const Y=V.matcher.exec(L);if(!Y)break;const ee=L.substring(K,Y.index),be=H(ee,Y);K=Y.index+be}H(L.substring(K))}return ue.finalize(),se=ue.toHTML(),{language:P,value:se,relevance:Se,illegal:!1,_emitter:ue,_top:V}}catch(Y){if(Y.message&&Y.message.includes("Illegal"))return{language:P,value:Nk(L),illegal:!0,relevance:0,_illegalBy:{message:Y.message,index:K,context:L.slice(K-100,K+100),mode:Y.mode,resultSoFar:se},_emitter:ue};if(i)return{language:P,value:Nk(L),illegal:!1,relevance:0,errorRaised:Y,_emitter:ue,_top:V};throw Y}}function f(P){const L={value:Nk(P),illegal:!1,relevance:0,_top:s,_emitter:new l.__emitter(l)};return L._emitter.addText(P),L}function m(P,L){L=L||l.languages||Object.keys(t);const I=f(P),U=L.filter(T).filter(k).map(G=>h(G,P,!1));U.unshift(I);const $=U.sort((G,Q)=>{if(G.relevance!==Q.relevance)return Q.relevance-G.relevance;if(G.language&&Q.language){if(T(G.language).supersetOf===Q.language)return 1;if(T(Q.language).supersetOf===G.language)return-1}return 0}),[W,z]=$,R=W;return R.secondBest=z,R}function p(P,L,I){const U=L&&n[L]||I;P.classList.add("hljs"),P.classList.add(`language-${U}`)}function g(P){let L=null;const I=u(P);if(c(I))return;if(N("before:highlightElement",{el:P,language:I}),P.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",P);return}if(P.children.length>0&&(l.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(P)),l.throwUnescapedHTML))throw new Nje("One of your code blocks includes unescaped HTML.",P.innerHTML);L=P;const U=L.textContent,$=I?d(U,{language:I,ignoreIllegals:!0}):m(U);P.innerHTML=$.value,P.dataset.highlighted="yes",p(P,I,$.language),P.result={language:$.language,re:$.relevance,relevance:$.relevance},$.secondBest&&(P.secondBest={language:$.secondBest.language,relevance:$.secondBest.relevance}),N("after:highlightElement",{el:P,result:$,text:U})}function x(P){l=NF(l,P)}const y=()=>{E(),Uf("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function v(){E(),Uf("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let b=!1;function E(){function P(){E()}if(document.readyState==="loading"){b||window.addEventListener("DOMContentLoaded",P,!1),b=!0;return}document.querySelectorAll(l.cssSelector).forEach(g)}function _(P,L){let I=null;try{I=L(e)}catch(U){if(Nh("Language definition for '{}' could not be registered.".replace("{}",P)),i)Nh(U);else throw U;I=s}I.name||(I.name=P),t[P]=I,I.rawDefinition=L.bind(null,e),I.aliases&&j(I.aliases,{languageName:P})}function S(P){delete t[P];for(const L of Object.keys(n))n[L]===P&&delete n[L]}function C(){return Object.keys(t)}function T(P){return P=(P||"").toLowerCase(),t[P]||t[n[P]]}function j(P,{languageName:L}){typeof P=="string"&&(P=[P]),P.forEach(I=>{n[I.toLowerCase()]=L})}function k(P){const L=T(P);return L&&!L.disableAutodetect}function O(P){P["before:highlightBlock"]&&!P["before:highlightElement"]&&(P["before:highlightElement"]=L=>{P["before:highlightBlock"](Object.assign({block:L.el},L))}),P["after:highlightBlock"]&&!P["after:highlightElement"]&&(P["after:highlightElement"]=L=>{P["after:highlightBlock"](Object.assign({block:L.el},L))})}function M(P){O(P),r.push(P)}function B(P){const L=r.indexOf(P);L!==-1&&r.splice(L,1)}function N(P,L){const I=P;r.forEach(function(U){U[I]&&U[I](L)})}function D(P){return Uf("10.7.0","highlightBlock will be removed entirely in v12.0"),Uf("10.7.0","Please use highlightElement now."),g(P)}Object.assign(e,{highlight:d,highlightAuto:m,highlightAll:E,highlightElement:g,highlightBlock:D,configure:x,initHighlighting:y,initHighlightingOnLoad:v,registerLanguage:_,unregisterLanguage:S,listLanguages:C,getLanguage:T,registerAliases:j,autoDetection:k,inherit:NF,addPlugin:M,removePlugin:B}),e.debugMode=function(){i=!1},e.safeMode=function(){i=!0},e.versionString=Tje,e.regex={concat:Sf,lookahead:xQ,either:c3,optional:UAe,anyNumberOfTimes:zAe};for(const P in lw)typeof lw[P]=="object"&&gQ(lw[P]);return Object.assign(e,lw),e},Ip=NQ({});Ip.newInstance=()=>NQ({});var Aje=Ip;Ip.HighlightJS=Ip;Ip.default=Ip;const jje=sn(Aje),AF={},Oje="hljs-";function Pje(e){const t=jje.newInstance();return e&&a(e),{highlight:n,highlightAuto:r,listLanguages:i,register:a,registerAlias:s,registered:l};function n(c,u,d){const h=d||AF,f=typeof h.prefix=="string"?h.prefix:Oje;if(!t.getLanguage(c))throw new Error("Unknown language: `"+c+"` is not registered");t.configure({__emitter:Mje,classPrefix:f});const m=t.highlight(u,{ignoreIllegals:!0,language:c});if(m.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:m.errorRaised});const p=m._emitter.root,g=p.data;return g.language=m.language,g.relevance=m.relevance,p}function r(c,u){const h=(u||AF).subset||i();let f=-1,m=0,p;for(;++f<h.length;){const g=h[f];if(!t.getLanguage(g))continue;const x=n(g,c,u);x.data&&x.data.relevance!==void 0&&x.data.relevance>m&&(m=x.data.relevance,p=x)}return p||{type:"root",children:[],data:{language:void 0,relevance:m}}}function i(){return t.listLanguages()}function a(c,u){if(typeof c=="string")t.registerLanguage(c,u);else{let d;for(d in c)Object.hasOwn(c,d)&&t.registerLanguage(d,c[d])}}function s(c,u){if(typeof c=="string")t.registerAliases(typeof u=="string"?u:[...u],{languageName:c});else{let d;for(d in c)if(Object.hasOwn(c,d)){const h=c[d];t.registerAliases(typeof h=="string"?h:[...h],{languageName:d})}}}function l(c){return!!t.getLanguage(c)}}class Mje{constructor(t){this.options=t,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(t){if(t==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=t:n.children.push({type:"text",value:t})}startScope(t){this.openNode(String(t))}endScope(){this.closeNode()}__addSublanguage(t,n){const r=this.stack[this.stack.length-1],i=t.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):r.children.push(...i)}openNode(t){const n=this,r=t.split(".").map(function(s,l){return l?s+"_".repeat(l):n.options.classPrefix+s}),i=this.stack[this.stack.length-1],a={type:"element",tagName:"span",properties:{className:r},children:[]};i.children.push(a),this.stack.push(a)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const Ije={};function Rje(e){const t=e||Ije,n=t.aliases,r=t.detect||!1,i=t.languages||DAe,a=t.plainText,s=t.prefix,l=t.subset;let c="hljs";const u=Pje(i);if(n&&u.registerAlias(n),s){const d=s.indexOf("-");c=d===-1?s:s.slice(0,d)}return function(d,h){Ob(d,"element",function(f,m,p){if(f.tagName!=="code"||!p||p.type!=="element"||p.tagName!=="pre")return;const g=Dje(f);if(g===!1||!g&&!r||g&&a&&a.includes(g))return;Array.isArray(f.properties.className)||(f.properties.className=[]),f.properties.className.includes(c)||f.properties.className.unshift(c);const x=cke(f,{whitespace:"pre"});let y;try{y=g?u.highlight(g,x,{prefix:s}):u.highlightAuto(x,{prefix:s,subset:l})}catch(v){const b=v;if(g&&/Unknown language/.test(b.message)){h.message("Cannot highlight as `"+g+"`, its not registered",{ancestors:[p,f],cause:b,place:f.position,ruleId:"missing-language",source:"rehype-highlight"});return}throw b}!g&&y.data&&y.data.language&&f.properties.className.push("language-"+y.data.language),y.children.length>0&&(f.children=y.children)})}}function Dje(e){const t=e.properties.className;let n=-1;if(!Array.isArray(t))return;let r;for(;++n<t.length;){const i=String(t[n]);if(i==="no-highlight"||i==="nohighlight")return!1;!r&&i.slice(0,5)==="lang-"&&(r=i.slice(5)),!r&&i.slice(0,9)==="language-"&&(r=i.slice(9))}return r}const jF=/[#.]/g;function Lje(e,t){const n=e||"",r={};let i=0,a,s;for(;i<n.length;){jF.lastIndex=i;const l=jF.exec(n),c=n.slice(i,l?l.index:n.length);c&&(a?a==="#"?r.id=c:Array.isArray(r.className)?r.className.push(c):r.className=[c]:s=c,i+=c.length),l&&(a=l[0],i++)}return{type:"element",tagName:s||t||"div",properties:r,children:[]}}function kQ(e,t,n){const r=n?zje(n):void 0;function i(a,s,...l){let c;if(a==null){c={type:"root",children:[]};const u=s;l.unshift(u)}else{c=Lje(a,t);const u=c.tagName.toLowerCase(),d=r?r.get(u):void 0;if(c.tagName=d||u,$je(s))l.unshift(s);else for(const[h,f]of Object.entries(s))Bje(e,c.properties,h,f)}for(const u of l)UO(c.children,u);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return i}function $je(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const i=t[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const a=i;for(const s of a)if(typeof s!="number"&&typeof s!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function Bje(e,t,n,r){const i=GD(e,n);let a;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;a=r}else typeof r=="boolean"?a=r:typeof r=="string"?i.spaceSeparated?a=NB(r):i.commaSeparated?a=EB(r):i.commaOrSpaceSeparated?a=NB(EB(r).join(" ")):a=OF(i,i.property,r):Array.isArray(r)?a=[...r]:a=i.property==="style"?Fje(r):String(r);if(Array.isArray(a)){const s=[];for(const l of a)s.push(OF(i,i.property,l));a=s}i.property==="className"&&Array.isArray(t.className)&&(a=t.className.concat(a)),t[i.property]=a}}function UO(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)UO(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?UO(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function OF(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Qx(n)===Qx(t)))return!0}return n}function Fje(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function zje(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const Uje=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Hje=kQ(b2,"div"),Vje=kQ(Hg,"g",Uje);function Wje(e){const t=String(e),n=[];return{toOffset:i,toPoint:r};function r(a){if(typeof a=="number"&&a>-1&&a<=t.length){let s=0;for(;;){let l=n[s];if(l===void 0){const c=PF(t,n[s-1]);l=c===-1?t.length+1:c+1,n[s]=l}if(l>a)return{line:s+1,column:a-(s>0?n[s-1]:0)+1,offset:a};s++}}}function i(a){if(a&&typeof a.line=="number"&&typeof a.column=="number"&&!Number.isNaN(a.line)&&!Number.isNaN(a.column)){for(;n.length<a.line;){const l=n[n.length-1],c=PF(t,l),u=c===-1?t.length+1:c+1;if(l===u)break;n.push(u)}const s=(a.line>1?n[a.line-2]:0)+a.column-1;if(s<n[a.line-1])return s}}}function PF(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const lh={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},AQ={}.hasOwnProperty,qje=Object.prototype;function Gje(e,t){const n=t||{};return h3({file:n.file||void 0,location:!1,schema:n.space==="svg"?Hg:b2,verbose:n.verbose||!1},e)}function h3(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},EE(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:jQ(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const a=String(e.file),s=Wje(a),l=s.toPoint(0),c=s.toPoint(a.length);n.position={start:l,end:c}}return n}case"#documentType":{const r=t;return n={type:"doctype"},EE(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},EE(e,r,n),n}default:return n=Yje(e,t),n}}function jQ(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=h3(e,t[n]);r.push(i)}return r}function Yje(e,t){const n=e.schema;e.schema=t.namespaceURI===lh.svg?Hg:b2;let r=-1;const i={};for(;++r<t.attrs.length;){const l=t.attrs[r],c=(l.prefix?l.prefix+":":"")+l.name;AQ.call(qje,c)||(i[c]=l.value)}const s=(e.schema.space==="svg"?Vje:Hje)(t.tagName,i,jQ(e,t.childNodes));if(EE(e,t,s),s.tagName==="template"){const l=t,c=l.sourceCodeLocation,u=c&&c.startTag&&_m(c.startTag),d=c&&c.endTag&&_m(c.endTag),h=h3(e,l.content);u&&d&&e.file&&(h.position={start:u.end,end:d.start}),s.content=h}return e.schema=n,s}function EE(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=Kje(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function Kje(e,t,n){const r=_m(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const a={};let s;if(n.attrs)for(s in n.attrs)AQ.call(n.attrs,s)&&(a[GD(e.schema,s).property]=_m(n.attrs[s]));n.startTag;const l=_m(n.startTag),c=n.endTag?_m(n.endTag):void 0,u={opening:l};c&&(u.closing=c),u.properties=a,t.data={position:u}}}return r}function _m(e){const t=MF({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=MF({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function MF(e){return e.line&&e.column?e:void 0}class Mb{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}Mb.prototype.property={};Mb.prototype.normal={};Mb.prototype.space=null;function OQ(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new Mb(n,r,t)}function HO(e){return e.toLowerCase()}class Xs{constructor(t,n){this.property=t,this.attribute=n}}Xs.prototype.space=null;Xs.prototype.boolean=!1;Xs.prototype.booleanish=!1;Xs.prototype.overloadedBoolean=!1;Xs.prototype.number=!1;Xs.prototype.commaSeparated=!1;Xs.prototype.spaceSeparated=!1;Xs.prototype.commaOrSpaceSeparated=!1;Xs.prototype.mustUseProperty=!1;Xs.prototype.defined=!1;let Xje=0;const Vt=_f(),Lr=_f(),PQ=_f(),Ve=_f(),Bn=_f(),qm=_f(),Xa=_f();function _f(){return 2**++Xje}const VO=Object.freeze(Object.defineProperty({__proto__:null,boolean:Vt,booleanish:Lr,commaOrSpaceSeparated:Xa,commaSeparated:qm,number:Ve,overloadedBoolean:PQ,spaceSeparated:Bn},Symbol.toStringTag,{value:"Module"})),kk=Object.keys(VO);class f3 extends Xs{constructor(t,n,r,i){let a=-1;if(super(t,n),IF(this,"space",i),typeof r=="number")for(;++a<kk.length;){const s=kk[a];IF(this,kk[a],(r&VO[s])===VO[s])}}}f3.prototype.defined=!0;function IF(e,t,n){n&&(e[t]=n)}const Zje={}.hasOwnProperty;function Wg(e){const t={},n={};let r;for(r in e.properties)if(Zje.call(e.properties,r)){const i=e.properties[r],a=new f3(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[HO(r)]=r,n[HO(a.attribute)]=r}return new Mb(t,n,e.space)}const MQ=Wg({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),IQ=Wg({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function RQ(e,t){return t in e?e[t]:t}function DQ(e,t){return RQ(e,t.toLowerCase())}const LQ=Wg({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:DQ,properties:{xmlns:null,xmlnsXLink:null}}),$Q=Wg({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Lr,ariaAutoComplete:null,ariaBusy:Lr,ariaChecked:Lr,ariaColCount:Ve,ariaColIndex:Ve,ariaColSpan:Ve,ariaControls:Bn,ariaCurrent:null,ariaDescribedBy:Bn,ariaDetails:null,ariaDisabled:Lr,ariaDropEffect:Bn,ariaErrorMessage:null,ariaExpanded:Lr,ariaFlowTo:Bn,ariaGrabbed:Lr,ariaHasPopup:null,ariaHidden:Lr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Bn,ariaLevel:Ve,ariaLive:null,ariaModal:Lr,ariaMultiLine:Lr,ariaMultiSelectable:Lr,ariaOrientation:null,ariaOwns:Bn,ariaPlaceholder:null,ariaPosInSet:Ve,ariaPressed:Lr,ariaReadOnly:Lr,ariaRelevant:null,ariaRequired:Lr,ariaRoleDescription:Bn,ariaRowCount:Ve,ariaRowIndex:Ve,ariaRowSpan:Ve,ariaSelected:Lr,ariaSetSize:Ve,ariaSort:null,ariaValueMax:Ve,ariaValueMin:Ve,ariaValueNow:Ve,ariaValueText:null,role:null}}),Qje=Wg({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:DQ,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:qm,acceptCharset:Bn,accessKey:Bn,action:null,allow:null,allowFullScreen:Vt,allowPaymentRequest:Vt,allowUserMedia:Vt,alt:null,as:null,async:Vt,autoCapitalize:null,autoComplete:Bn,autoFocus:Vt,autoPlay:Vt,blocking:Bn,capture:null,charSet:null,checked:Vt,cite:null,className:Bn,cols:Ve,colSpan:null,content:null,contentEditable:Lr,controls:Vt,controlsList:Bn,coords:Ve|qm,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Vt,defer:Vt,dir:null,dirName:null,disabled:Vt,download:PQ,draggable:Lr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Vt,formTarget:null,headers:Bn,height:Ve,hidden:Vt,high:Ve,href:null,hrefLang:null,htmlFor:Bn,httpEquiv:Bn,id:null,imageSizes:null,imageSrcSet:null,inert:Vt,inputMode:null,integrity:null,is:null,isMap:Vt,itemId:null,itemProp:Bn,itemRef:Bn,itemScope:Vt,itemType:Bn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Vt,low:Ve,manifest:null,max:null,maxLength:Ve,media:null,method:null,min:null,minLength:Ve,multiple:Vt,muted:Vt,name:null,nonce:null,noModule:Vt,noValidate:Vt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Vt,optimum:Ve,pattern:null,ping:Bn,placeholder:null,playsInline:Vt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Vt,referrerPolicy:null,rel:Bn,required:Vt,reversed:Vt,rows:Ve,rowSpan:Ve,sandbox:Bn,scope:null,scoped:Vt,seamless:Vt,selected:Vt,shadowRootClonable:Vt,shadowRootDelegatesFocus:Vt,shadowRootMode:null,shape:null,size:Ve,sizes:null,slot:null,span:Ve,spellCheck:Lr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ve,step:null,style:null,tabIndex:Ve,target:null,title:null,translate:null,type:null,typeMustMatch:Vt,useMap:null,value:Lr,width:Ve,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Bn,axis:null,background:null,bgColor:null,border:Ve,borderColor:null,bottomMargin:Ve,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Vt,declare:Vt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ve,leftMargin:Ve,link:null,longDesc:null,lowSrc:null,marginHeight:Ve,marginWidth:Ve,noResize:Vt,noHref:Vt,noShade:Vt,noWrap:Vt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ve,rules:null,scheme:null,scrolling:Lr,standby:null,summary:null,text:null,topMargin:Ve,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ve,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Vt,disableRemotePlayback:Vt,prefix:null,property:null,results:Ve,security:null,unselectable:null}}),Jje=Wg({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:RQ,properties:{about:Xa,accentHeight:Ve,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ve,amplitude:Ve,arabicForm:null,ascent:Ve,attributeName:null,attributeType:null,azimuth:Ve,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ve,by:null,calcMode:null,capHeight:Ve,className:Bn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ve,diffuseConstant:Ve,direction:null,display:null,dur:null,divisor:Ve,dominantBaseline:null,download:Vt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ve,enableBackground:null,end:null,event:null,exponent:Ve,externalResourcesRequired:null,fill:null,fillOpacity:Ve,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:qm,g2:qm,glyphName:qm,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ve,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ve,horizOriginX:Ve,horizOriginY:Ve,id:null,ideographic:Ve,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ve,k:Ve,k1:Ve,k2:Ve,k3:Ve,k4:Ve,kernelMatrix:Xa,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ve,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ve,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ve,overlineThickness:Ve,paintOrder:null,panose1:null,path:null,pathLength:Ve,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Bn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ve,pointsAtY:Ve,pointsAtZ:Ve,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Xa,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Xa,rev:Xa,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Xa,requiredFeatures:Xa,requiredFonts:Xa,requiredFormats:Xa,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ve,specularExponent:Ve,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ve,strikethroughThickness:Ve,string:null,stroke:null,strokeDashArray:Xa,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ve,strokeOpacity:Ve,strokeWidth:null,style:null,surfaceScale:Ve,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Xa,tabIndex:Ve,tableValues:null,target:null,targetX:Ve,targetY:Ve,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Xa,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ve,underlineThickness:Ve,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ve,values:null,vAlphabetic:Ve,vMathematical:Ve,vectorEffect:null,vHanging:Ve,vIdeographic:Ve,version:null,vertAdvY:Ve,vertOriginX:Ve,vertOriginY:Ve,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ve,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),eOe=/^data[-\w.:]+$/i,RF=/-[a-z]/g,tOe=/[A-Z]/g;function nOe(e,t){const n=HO(t);let r=t,i=Xs;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&eOe.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(RF,iOe);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!RF.test(a)){let s=a.replace(tOe,rOe);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=f3}return new i(r,t)}function rOe(e){return"-"+e.toLowerCase()}function iOe(e){return e.charAt(1).toUpperCase()}const aOe=OQ([IQ,MQ,LQ,$Q,Qje],"html"),BQ=OQ([IQ,MQ,LQ,$Q,Jje],"svg"),DF={}.hasOwnProperty;function FQ(e,t){const n=t||{};function r(i,...a){let s=r.invalid;const l=r.handlers;if(i&&DF.call(i,e)){const c=String(i[e]);s=DF.call(l,c)?l[c]:r.unknown}if(s)return s.call(this,i,...a)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const sOe={},oOe={}.hasOwnProperty,zQ=FQ("type",{handlers:{root:cOe,element:mOe,text:hOe,comment:fOe,doctype:dOe}});function lOe(e,t){const r=(t||sOe).space;return zQ(e,r==="svg"?BQ:aOe)}function cOe(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=m3(e.children,n,t),qg(e,n),n}function uOe(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=m3(e.children,n,t),qg(e,n),n}function dOe(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return qg(e,t),t}function hOe(e){const t={nodeName:"#text",value:e.value,parentNode:null};return qg(e,t),t}function fOe(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return qg(e,t),t}function mOe(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=BQ);const i=[];let a;if(e.properties){for(a in e.properties)if(a!=="children"&&oOe.call(e.properties,a)){const c=pOe(r,a,e.properties[a]);c&&i.push(c)}}const s=r.space,l={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:lh[s],childNodes:[],parentNode:null};return l.childNodes=m3(e.children,l,r),qg(e,l),e.tagName==="template"&&e.content&&(l.content=uOe(e.content,r)),l}function pOe(e,t,n){const r=nOe(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?uZ(n):vZ(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const a=i.name.indexOf(":");a<0?i.prefix="":(i.name=i.name.slice(a+1),i.prefix=r.attribute.slice(0,a)),i.namespace=lh[r.space]}return i}function m3(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const a=zQ(e[r],n);a.parentNode=t,i.push(a)}return i}function qg(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const gOe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],yOe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Qn="";var X;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(X||(X={}));const Ca={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function UQ(e){return e>=55296&&e<=57343}function xOe(e){return e>=56320&&e<=57343}function vOe(e,t){return(e-55296)*1024+9216+t}function HQ(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function VQ(e){return e>=64976&&e<=65007||yOe.has(e)}var Ee;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(Ee||(Ee={}));const bOe=65536;class wOe{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=bOe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:i,offset:a}=this,s=i+n,l=a+n;return{code:t,startLine:r,endLine:r,startCol:s,endCol:s,startOffset:l,endOffset:l}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(xOe(n))return this.pos++,this._addGap(),vOe(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,X.EOF;return this._err(Ee.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,X.EOF;const r=this.html.charCodeAt(n);return r===X.CARRIAGE_RETURN?X.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,X.EOF;let t=this.html.charCodeAt(this.pos);return t===X.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,X.LINE_FEED):t===X.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,UQ(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===X.LINE_FEED||t===X.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){HQ(t)?this._err(Ee.controlCharacterInInputStream):VQ(t)&&this._err(Ee.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Jt;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Jt||(Jt={}));function WQ(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const qQ=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),EOe=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var Ak;const SOe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),_Oe=(Ak=String.fromCodePoint)!==null&&Ak!==void 0?Ak:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function COe(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=SOe.get(e))!==null&&t!==void 0?t:e}var fi;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(fi||(fi={}));const TOe=32;var Ou;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Ou||(Ou={}));function WO(e){return e>=fi.ZERO&&e<=fi.NINE}function NOe(e){return e>=fi.UPPER_A&&e<=fi.UPPER_F||e>=fi.LOWER_A&&e<=fi.LOWER_F}function kOe(e){return e>=fi.UPPER_A&&e<=fi.UPPER_Z||e>=fi.LOWER_A&&e<=fi.LOWER_Z||WO(e)}function AOe(e){return e===fi.EQUALS||kOe(e)}var si;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(si||(si={}));var Jl;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Jl||(Jl={}));class GQ{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=si.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Jl.Strict}startEntity(t){this.decodeMode=t,this.state=si.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case si.EntityStart:return t.charCodeAt(n)===fi.NUM?(this.state=si.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=si.NamedEntity,this.stateNamedEntity(t,n));case si.NumericStart:return this.stateNumericStart(t,n);case si.NumericDecimal:return this.stateNumericDecimal(t,n);case si.NumericHex:return this.stateNumericHex(t,n);case si.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|TOe)===fi.LOWER_X?(this.state=si.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=si.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const a=r-n;this.result=this.result*Math.pow(i,a)+parseInt(t.substr(n,a),i),this.consumed+=a}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(WO(i)||NOe(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(WO(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===fi.SEMI)this.consumed+=1;else if(this.decodeMode===Jl.Strict)return 0;return this.emitCodePoint(COe(this.result),this.consumed),this.errors&&(t!==fi.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],a=(i&Ou.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const s=t.charCodeAt(n);if(this.treeIndex=jOe(r,i,this.treeIndex+Math.max(1,a),s),this.treeIndex<0)return this.result===0||this.decodeMode===Jl.Attribute&&(a===0||AOe(s))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],a=(i&Ou.VALUE_LENGTH)>>14,a!==0){if(s===fi.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==Jl.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&Ou.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~Ou.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case si.NamedEntity:return this.result!==0&&(this.decodeMode!==Jl.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case si.NumericDecimal:return this.emitNumericEntity(0,2);case si.NumericHex:return this.emitNumericEntity(0,3);case si.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case si.EntityStart:return 0}}}function YQ(e){let t="";const n=new GQ(e,r=>t+=_Oe(r));return function(i,a){let s=0,l=0;for(;(l=i.indexOf("&",l))>=0;){t+=i.slice(s,l),n.startEntity(a);const u=n.write(i,l+1);if(u<0){s=l+n.end();break}s=l+u,l=u===0?s+1:s}const c=t+i.slice(s);return t="",c}}function jOe(e,t,n,r){const i=(t&Ou.BRANCH_LENGTH)>>7,a=t&Ou.JUMP_TABLE;if(i===0)return a!==0&&r===a?n:-1;if(a){const c=r-a;return c<0||c>=i?-1:e[n+c]-1}let s=n,l=s+i-1;for(;s<=l;){const c=s+l>>>1,u=e[c];if(u<r)s=c+1;else if(u>r)l=c-1;else return e[c+i]}return-1}YQ(qQ);YQ(EOe);var Re;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Re||(Re={}));var kh;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(kh||(kh={}));var Is;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Is||(Is={}));var xe;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(xe||(xe={}));var A;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(A||(A={}));const OOe=new Map([[xe.A,A.A],[xe.ADDRESS,A.ADDRESS],[xe.ANNOTATION_XML,A.ANNOTATION_XML],[xe.APPLET,A.APPLET],[xe.AREA,A.AREA],[xe.ARTICLE,A.ARTICLE],[xe.ASIDE,A.ASIDE],[xe.B,A.B],[xe.BASE,A.BASE],[xe.BASEFONT,A.BASEFONT],[xe.BGSOUND,A.BGSOUND],[xe.BIG,A.BIG],[xe.BLOCKQUOTE,A.BLOCKQUOTE],[xe.BODY,A.BODY],[xe.BR,A.BR],[xe.BUTTON,A.BUTTON],[xe.CAPTION,A.CAPTION],[xe.CENTER,A.CENTER],[xe.CODE,A.CODE],[xe.COL,A.COL],[xe.COLGROUP,A.COLGROUP],[xe.DD,A.DD],[xe.DESC,A.DESC],[xe.DETAILS,A.DETAILS],[xe.DIALOG,A.DIALOG],[xe.DIR,A.DIR],[xe.DIV,A.DIV],[xe.DL,A.DL],[xe.DT,A.DT],[xe.EM,A.EM],[xe.EMBED,A.EMBED],[xe.FIELDSET,A.FIELDSET],[xe.FIGCAPTION,A.FIGCAPTION],[xe.FIGURE,A.FIGURE],[xe.FONT,A.FONT],[xe.FOOTER,A.FOOTER],[xe.FOREIGN_OBJECT,A.FOREIGN_OBJECT],[xe.FORM,A.FORM],[xe.FRAME,A.FRAME],[xe.FRAMESET,A.FRAMESET],[xe.H1,A.H1],[xe.H2,A.H2],[xe.H3,A.H3],[xe.H4,A.H4],[xe.H5,A.H5],[xe.H6,A.H6],[xe.HEAD,A.HEAD],[xe.HEADER,A.HEADER],[xe.HGROUP,A.HGROUP],[xe.HR,A.HR],[xe.HTML,A.HTML],[xe.I,A.I],[xe.IMG,A.IMG],[xe.IMAGE,A.IMAGE],[xe.INPUT,A.INPUT],[xe.IFRAME,A.IFRAME],[xe.KEYGEN,A.KEYGEN],[xe.LABEL,A.LABEL],[xe.LI,A.LI],[xe.LINK,A.LINK],[xe.LISTING,A.LISTING],[xe.MAIN,A.MAIN],[xe.MALIGNMARK,A.MALIGNMARK],[xe.MARQUEE,A.MARQUEE],[xe.MATH,A.MATH],[xe.MENU,A.MENU],[xe.META,A.META],[xe.MGLYPH,A.MGLYPH],[xe.MI,A.MI],[xe.MO,A.MO],[xe.MN,A.MN],[xe.MS,A.MS],[xe.MTEXT,A.MTEXT],[xe.NAV,A.NAV],[xe.NOBR,A.NOBR],[xe.NOFRAMES,A.NOFRAMES],[xe.NOEMBED,A.NOEMBED],[xe.NOSCRIPT,A.NOSCRIPT],[xe.OBJECT,A.OBJECT],[xe.OL,A.OL],[xe.OPTGROUP,A.OPTGROUP],[xe.OPTION,A.OPTION],[xe.P,A.P],[xe.PARAM,A.PARAM],[xe.PLAINTEXT,A.PLAINTEXT],[xe.PRE,A.PRE],[xe.RB,A.RB],[xe.RP,A.RP],[xe.RT,A.RT],[xe.RTC,A.RTC],[xe.RUBY,A.RUBY],[xe.S,A.S],[xe.SCRIPT,A.SCRIPT],[xe.SEARCH,A.SEARCH],[xe.SECTION,A.SECTION],[xe.SELECT,A.SELECT],[xe.SOURCE,A.SOURCE],[xe.SMALL,A.SMALL],[xe.SPAN,A.SPAN],[xe.STRIKE,A.STRIKE],[xe.STRONG,A.STRONG],[xe.STYLE,A.STYLE],[xe.SUB,A.SUB],[xe.SUMMARY,A.SUMMARY],[xe.SUP,A.SUP],[xe.TABLE,A.TABLE],[xe.TBODY,A.TBODY],[xe.TEMPLATE,A.TEMPLATE],[xe.TEXTAREA,A.TEXTAREA],[xe.TFOOT,A.TFOOT],[xe.TD,A.TD],[xe.TH,A.TH],[xe.THEAD,A.THEAD],[xe.TITLE,A.TITLE],[xe.TR,A.TR],[xe.TRACK,A.TRACK],[xe.TT,A.TT],[xe.U,A.U],[xe.UL,A.UL],[xe.SVG,A.SVG],[xe.VAR,A.VAR],[xe.WBR,A.WBR],[xe.XMP,A.XMP]]);function Gg(e){var t;return(t=OOe.get(e))!==null&&t!==void 0?t:A.UNKNOWN}const $e=A,POe={[Re.HTML]:new Set([$e.ADDRESS,$e.APPLET,$e.AREA,$e.ARTICLE,$e.ASIDE,$e.BASE,$e.BASEFONT,$e.BGSOUND,$e.BLOCKQUOTE,$e.BODY,$e.BR,$e.BUTTON,$e.CAPTION,$e.CENTER,$e.COL,$e.COLGROUP,$e.DD,$e.DETAILS,$e.DIR,$e.DIV,$e.DL,$e.DT,$e.EMBED,$e.FIELDSET,$e.FIGCAPTION,$e.FIGURE,$e.FOOTER,$e.FORM,$e.FRAME,$e.FRAMESET,$e.H1,$e.H2,$e.H3,$e.H4,$e.H5,$e.H6,$e.HEAD,$e.HEADER,$e.HGROUP,$e.HR,$e.HTML,$e.IFRAME,$e.IMG,$e.INPUT,$e.LI,$e.LINK,$e.LISTING,$e.MAIN,$e.MARQUEE,$e.MENU,$e.META,$e.NAV,$e.NOEMBED,$e.NOFRAMES,$e.NOSCRIPT,$e.OBJECT,$e.OL,$e.P,$e.PARAM,$e.PLAINTEXT,$e.PRE,$e.SCRIPT,$e.SECTION,$e.SELECT,$e.SOURCE,$e.STYLE,$e.SUMMARY,$e.TABLE,$e.TBODY,$e.TD,$e.TEMPLATE,$e.TEXTAREA,$e.TFOOT,$e.TH,$e.THEAD,$e.TITLE,$e.TR,$e.TRACK,$e.UL,$e.WBR,$e.XMP]),[Re.MATHML]:new Set([$e.MI,$e.MO,$e.MN,$e.MS,$e.MTEXT,$e.ANNOTATION_XML]),[Re.SVG]:new Set([$e.TITLE,$e.FOREIGN_OBJECT,$e.DESC]),[Re.XLINK]:new Set,[Re.XML]:new Set,[Re.XMLNS]:new Set},qO=new Set([$e.H1,$e.H2,$e.H3,$e.H4,$e.H5,$e.H6]);xe.STYLE,xe.SCRIPT,xe.XMP,xe.IFRAME,xe.NOEMBED,xe.NOFRAMES,xe.PLAINTEXT;var J;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(J||(J={}));const Mr={DATA:J.DATA,RCDATA:J.RCDATA,RAWTEXT:J.RAWTEXT,SCRIPT_DATA:J.SCRIPT_DATA,PLAINTEXT:J.PLAINTEXT,CDATA_SECTION:J.CDATA_SECTION};function MOe(e){return e>=X.DIGIT_0&&e<=X.DIGIT_9}function Sy(e){return e>=X.LATIN_CAPITAL_A&&e<=X.LATIN_CAPITAL_Z}function IOe(e){return e>=X.LATIN_SMALL_A&&e<=X.LATIN_SMALL_Z}function ru(e){return IOe(e)||Sy(e)}function LF(e){return ru(e)||MOe(e)}function cw(e){return e+32}function KQ(e){return e===X.SPACE||e===X.LINE_FEED||e===X.TABULATION||e===X.FORM_FEED}function $F(e){return KQ(e)||e===X.SOLIDUS||e===X.GREATER_THAN_SIGN}function ROe(e){return e===X.NULL?Ee.nullCharacterReference:e>1114111?Ee.characterReferenceOutsideUnicodeRange:UQ(e)?Ee.surrogateCharacterReference:VQ(e)?Ee.noncharacterCharacterReference:HQ(e)||e===X.CARRIAGE_RETURN?Ee.controlCharacterReference:null}class DOe{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=J.DATA,this.returnState=J.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new wOe(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new GQ(qQ,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(Ee.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(Ee.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=ROe(r);i&&this._err(i,1)}}:void 0)}_err(t,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Jt.START_TAG,tagName:"",tagID:A.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Jt.END_TAG,tagName:"",tagID:A.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Jt.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Jt.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(WQ(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(Ee.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Gg(t.tagName),t.type===Jt.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(Ee.endTagWithAttributes),t.selfClosing&&this._err(Ee.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Jt.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Jt.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Jt.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Jt.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=KQ(t)?Jt.WHITESPACE_CHARACTER:t===X.NULL?Jt.NULL_CHARACTER:Jt.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Jt.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=J.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Jl.Attribute:Jl.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===J.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===J.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===J.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case J.DATA:{this._stateData(t);break}case J.RCDATA:{this._stateRcdata(t);break}case J.RAWTEXT:{this._stateRawtext(t);break}case J.SCRIPT_DATA:{this._stateScriptData(t);break}case J.PLAINTEXT:{this._statePlaintext(t);break}case J.TAG_OPEN:{this._stateTagOpen(t);break}case J.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case J.TAG_NAME:{this._stateTagName(t);break}case J.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case J.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case J.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case J.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case J.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case J.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case J.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case J.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case J.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case J.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case J.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case J.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case J.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case J.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case J.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case J.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case J.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case J.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case J.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case J.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case J.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case J.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case J.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case J.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case J.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case J.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case J.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case J.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case J.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case J.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case J.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case J.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case J.BOGUS_COMMENT:{this._stateBogusComment(t);break}case J.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case J.COMMENT_START:{this._stateCommentStart(t);break}case J.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case J.COMMENT:{this._stateComment(t);break}case J.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case J.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case J.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case J.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case J.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case J.COMMENT_END:{this._stateCommentEnd(t);break}case J.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case J.DOCTYPE:{this._stateDoctype(t);break}case J.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case J.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case J.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case J.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case J.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case J.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case J.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case J.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case J.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case J.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case J.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case J.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case J.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case J.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case J.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case J.CDATA_SECTION:{this._stateCdataSection(t);break}case J.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case J.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case J.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case J.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case X.LESS_THAN_SIGN:{this.state=J.TAG_OPEN;break}case X.AMPERSAND:{this._startCharacterReference();break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this._emitCodePoint(t);break}case X.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case X.AMPERSAND:{this._startCharacterReference();break}case X.LESS_THAN_SIGN:{this.state=J.RCDATA_LESS_THAN_SIGN;break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this._emitChars(Qn);break}case X.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case X.LESS_THAN_SIGN:{this.state=J.RAWTEXT_LESS_THAN_SIGN;break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this._emitChars(Qn);break}case X.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case X.LESS_THAN_SIGN:{this.state=J.SCRIPT_DATA_LESS_THAN_SIGN;break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this._emitChars(Qn);break}case X.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case X.NULL:{this._err(Ee.unexpectedNullCharacter),this._emitChars(Qn);break}case X.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(ru(t))this._createStartTagToken(),this.state=J.TAG_NAME,this._stateTagName(t);else switch(t){case X.EXCLAMATION_MARK:{this.state=J.MARKUP_DECLARATION_OPEN;break}case X.SOLIDUS:{this.state=J.END_TAG_OPEN;break}case X.QUESTION_MARK:{this._err(Ee.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=J.BOGUS_COMMENT,this._stateBogusComment(t);break}case X.EOF:{this._err(Ee.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(Ee.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=J.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(ru(t))this._createEndTagToken(),this.state=J.TAG_NAME,this._stateTagName(t);else switch(t){case X.GREATER_THAN_SIGN:{this._err(Ee.missingEndTagName),this.state=J.DATA;break}case X.EOF:{this._err(Ee.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(Ee.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=J.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this.state=J.BEFORE_ATTRIBUTE_NAME;break}case X.SOLIDUS:{this.state=J.SELF_CLOSING_START_TAG;break}case X.GREATER_THAN_SIGN:{this.state=J.DATA,this.emitCurrentTagToken();break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),n.tagName+=Qn;break}case X.EOF:{this._err(Ee.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Sy(t)?cw(t):t)}}_stateRcdataLessThanSign(t){t===X.SOLIDUS?this.state=J.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=J.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){ru(t)?(this.state=J.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=J.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=J.BEFORE_ATTRIBUTE_NAME,!1;case X.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=J.SELF_CLOSING_START_TAG,!1;case X.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=J.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=J.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===X.SOLIDUS?this.state=J.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=J.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){ru(t)?(this.state=J.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=J.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=J.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case X.SOLIDUS:{this.state=J.SCRIPT_DATA_END_TAG_OPEN;break}case X.EXCLAMATION_MARK:{this.state=J.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=J.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){ru(t)?(this.state=J.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=J.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=J.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===X.HYPHEN_MINUS?(this.state=J.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=J.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===X.HYPHEN_MINUS?(this.state=J.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=J.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case X.HYPHEN_MINUS:{this.state=J.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case X.LESS_THAN_SIGN:{this.state=J.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this._emitChars(Qn);break}case X.EOF:{this._err(Ee.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case X.HYPHEN_MINUS:{this.state=J.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case X.LESS_THAN_SIGN:{this.state=J.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this.state=J.SCRIPT_DATA_ESCAPED,this._emitChars(Qn);break}case X.EOF:{this._err(Ee.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=J.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case X.HYPHEN_MINUS:{this._emitChars("-");break}case X.LESS_THAN_SIGN:{this.state=J.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case X.GREATER_THAN_SIGN:{this.state=J.SCRIPT_DATA,this._emitChars(">");break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this.state=J.SCRIPT_DATA_ESCAPED,this._emitChars(Qn);break}case X.EOF:{this._err(Ee.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=J.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===X.SOLIDUS?this.state=J.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ru(t)?(this._emitChars("<"),this.state=J.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=J.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){ru(t)?(this.state=J.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=J.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=J.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Ca.SCRIPT,!1)&&$F(this.preprocessor.peek(Ca.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ca.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=J.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case X.HYPHEN_MINUS:{this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case X.LESS_THAN_SIGN:{this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this._emitChars(Qn);break}case X.EOF:{this._err(Ee.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case X.HYPHEN_MINUS:{this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case X.LESS_THAN_SIGN:{this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Qn);break}case X.EOF:{this._err(Ee.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case X.HYPHEN_MINUS:{this._emitChars("-");break}case X.LESS_THAN_SIGN:{this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case X.GREATER_THAN_SIGN:{this.state=J.SCRIPT_DATA,this._emitChars(">");break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Qn);break}case X.EOF:{this._err(Ee.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===X.SOLIDUS?(this.state=J.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Ca.SCRIPT,!1)&&$F(this.preprocessor.peek(Ca.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ca.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=J.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=J.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.SOLIDUS:case X.GREATER_THAN_SIGN:case X.EOF:{this.state=J.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case X.EQUALS_SIGN:{this._err(Ee.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=J.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=J.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:case X.SOLIDUS:case X.GREATER_THAN_SIGN:case X.EOF:{this._leaveAttrName(),this.state=J.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case X.EQUALS_SIGN:{this._leaveAttrName(),this.state=J.BEFORE_ATTRIBUTE_VALUE;break}case X.QUOTATION_MARK:case X.APOSTROPHE:case X.LESS_THAN_SIGN:{this._err(Ee.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this.currentAttr.name+=Qn;break}default:this.currentAttr.name+=String.fromCodePoint(Sy(t)?cw(t):t)}}_stateAfterAttributeName(t){switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.SOLIDUS:{this.state=J.SELF_CLOSING_START_TAG;break}case X.EQUALS_SIGN:{this.state=J.BEFORE_ATTRIBUTE_VALUE;break}case X.GREATER_THAN_SIGN:{this.state=J.DATA,this.emitCurrentTagToken();break}case X.EOF:{this._err(Ee.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=J.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.QUOTATION_MARK:{this.state=J.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case X.APOSTROPHE:{this.state=J.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case X.GREATER_THAN_SIGN:{this._err(Ee.missingAttributeValue),this.state=J.DATA,this.emitCurrentTagToken();break}default:this.state=J.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case X.QUOTATION_MARK:{this.state=J.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case X.AMPERSAND:{this._startCharacterReference();break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this.currentAttr.value+=Qn;break}case X.EOF:{this._err(Ee.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case X.APOSTROPHE:{this.state=J.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case X.AMPERSAND:{this._startCharacterReference();break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this.currentAttr.value+=Qn;break}case X.EOF:{this._err(Ee.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this._leaveAttrValue(),this.state=J.BEFORE_ATTRIBUTE_NAME;break}case X.AMPERSAND:{this._startCharacterReference();break}case X.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=J.DATA,this.emitCurrentTagToken();break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this.currentAttr.value+=Qn;break}case X.QUOTATION_MARK:case X.APOSTROPHE:case X.LESS_THAN_SIGN:case X.EQUALS_SIGN:case X.GRAVE_ACCENT:{this._err(Ee.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case X.EOF:{this._err(Ee.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this._leaveAttrValue(),this.state=J.BEFORE_ATTRIBUTE_NAME;break}case X.SOLIDUS:{this._leaveAttrValue(),this.state=J.SELF_CLOSING_START_TAG;break}case X.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=J.DATA,this.emitCurrentTagToken();break}case X.EOF:{this._err(Ee.eofInTag),this._emitEOFToken();break}default:this._err(Ee.missingWhitespaceBetweenAttributes),this.state=J.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case X.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=J.DATA,this.emitCurrentTagToken();break}case X.EOF:{this._err(Ee.eofInTag),this._emitEOFToken();break}default:this._err(Ee.unexpectedSolidusInTag),this.state=J.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case X.GREATER_THAN_SIGN:{this.state=J.DATA,this.emitCurrentComment(n);break}case X.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),n.data+=Qn;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Ca.DASH_DASH,!0)?(this._createCommentToken(Ca.DASH_DASH.length+1),this.state=J.COMMENT_START):this._consumeSequenceIfMatch(Ca.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Ca.DOCTYPE.length+1),this.state=J.DOCTYPE):this._consumeSequenceIfMatch(Ca.CDATA_START,!0)?this.inForeignNode?this.state=J.CDATA_SECTION:(this._err(Ee.cdataInHtmlContent),this._createCommentToken(Ca.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=J.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Ee.incorrectlyOpenedComment),this._createCommentToken(2),this.state=J.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case X.HYPHEN_MINUS:{this.state=J.COMMENT_START_DASH;break}case X.GREATER_THAN_SIGN:{this._err(Ee.abruptClosingOfEmptyComment),this.state=J.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=J.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case X.HYPHEN_MINUS:{this.state=J.COMMENT_END;break}case X.GREATER_THAN_SIGN:{this._err(Ee.abruptClosingOfEmptyComment),this.state=J.DATA,this.emitCurrentComment(n);break}case X.EOF:{this._err(Ee.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=J.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case X.HYPHEN_MINUS:{this.state=J.COMMENT_END_DASH;break}case X.LESS_THAN_SIGN:{n.data+="<",this.state=J.COMMENT_LESS_THAN_SIGN;break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),n.data+=Qn;break}case X.EOF:{this._err(Ee.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case X.EXCLAMATION_MARK:{n.data+="!",this.state=J.COMMENT_LESS_THAN_SIGN_BANG;break}case X.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=J.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===X.HYPHEN_MINUS?this.state=J.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=J.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===X.HYPHEN_MINUS?this.state=J.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=J.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==X.GREATER_THAN_SIGN&&t!==X.EOF&&this._err(Ee.nestedComment),this.state=J.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case X.HYPHEN_MINUS:{this.state=J.COMMENT_END;break}case X.EOF:{this._err(Ee.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=J.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case X.GREATER_THAN_SIGN:{this.state=J.DATA,this.emitCurrentComment(n);break}case X.EXCLAMATION_MARK:{this.state=J.COMMENT_END_BANG;break}case X.HYPHEN_MINUS:{n.data+="-";break}case X.EOF:{this._err(Ee.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=J.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case X.HYPHEN_MINUS:{n.data+="--!",this.state=J.COMMENT_END_DASH;break}case X.GREATER_THAN_SIGN:{this._err(Ee.incorrectlyClosedComment),this.state=J.DATA,this.emitCurrentComment(n);break}case X.EOF:{this._err(Ee.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=J.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this.state=J.BEFORE_DOCTYPE_NAME;break}case X.GREATER_THAN_SIGN:{this.state=J.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case X.EOF:{this._err(Ee.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ee.missingWhitespaceBeforeDoctypeName),this.state=J.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Sy(t))this._createDoctypeToken(String.fromCharCode(cw(t))),this.state=J.DOCTYPE_NAME;else switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.NULL:{this._err(Ee.unexpectedNullCharacter),this._createDoctypeToken(Qn),this.state=J.DOCTYPE_NAME;break}case X.GREATER_THAN_SIGN:{this._err(Ee.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=J.DATA;break}case X.EOF:{this._err(Ee.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=J.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this.state=J.AFTER_DOCTYPE_NAME;break}case X.GREATER_THAN_SIGN:{this.state=J.DATA,this.emitCurrentDoctype(n);break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),n.name+=Qn;break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Sy(t)?cw(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.GREATER_THAN_SIGN:{this.state=J.DATA,this.emitCurrentDoctype(n);break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Ca.PUBLIC,!1)?this.state=J.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Ca.SYSTEM,!1)?this.state=J.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Ee.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this.state=J.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case X.QUOTATION_MARK:{this._err(Ee.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=J.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case X.APOSTROPHE:{this._err(Ee.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=J.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case X.GREATER_THAN_SIGN:{this._err(Ee.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=J.DATA,this.emitCurrentDoctype(n);break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ee.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.QUOTATION_MARK:{n.publicId="",this.state=J.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case X.APOSTROPHE:{n.publicId="",this.state=J.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case X.GREATER_THAN_SIGN:{this._err(Ee.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=J.DATA,this.emitCurrentDoctype(n);break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ee.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case X.QUOTATION_MARK:{this.state=J.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),n.publicId+=Qn;break}case X.GREATER_THAN_SIGN:{this._err(Ee.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=J.DATA;break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case X.APOSTROPHE:{this.state=J.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),n.publicId+=Qn;break}case X.GREATER_THAN_SIGN:{this._err(Ee.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=J.DATA;break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this.state=J.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case X.GREATER_THAN_SIGN:{this.state=J.DATA,this.emitCurrentDoctype(n);break}case X.QUOTATION_MARK:{this._err(Ee.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case X.APOSTROPHE:{this._err(Ee.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ee.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=J.DATA;break}case X.QUOTATION_MARK:{n.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case X.APOSTROPHE:{n.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ee.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this.state=J.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case X.QUOTATION_MARK:{this._err(Ee.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case X.APOSTROPHE:{this._err(Ee.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case X.GREATER_THAN_SIGN:{this._err(Ee.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=J.DATA,this.emitCurrentDoctype(n);break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ee.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.QUOTATION_MARK:{n.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case X.APOSTROPHE:{n.systemId="",this.state=J.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case X.GREATER_THAN_SIGN:{this._err(Ee.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=J.DATA,this.emitCurrentDoctype(n);break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ee.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case X.QUOTATION_MARK:{this.state=J.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),n.systemId+=Qn;break}case X.GREATER_THAN_SIGN:{this._err(Ee.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=J.DATA;break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case X.APOSTROPHE:{this.state=J.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),n.systemId+=Qn;break}case X.GREATER_THAN_SIGN:{this._err(Ee.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=J.DATA;break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=J.DATA;break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ee.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=J.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case X.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=J.DATA;break}case X.NULL:{this._err(Ee.unexpectedNullCharacter);break}case X.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case X.RIGHT_SQUARE_BRACKET:{this.state=J.CDATA_SECTION_BRACKET;break}case X.EOF:{this._err(Ee.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===X.RIGHT_SQUARE_BRACKET?this.state=J.CDATA_SECTION_END:(this._emitChars("]"),this.state=J.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case X.GREATER_THAN_SIGN:{this.state=J.DATA;break}case X.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=J.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(X.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&LF(this.preprocessor.peek(1))?J.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){LF(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===X.SEMICOLON&&this._err(Ee.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const XQ=new Set([A.DD,A.DT,A.LI,A.OPTGROUP,A.OPTION,A.P,A.RB,A.RP,A.RT,A.RTC]),BF=new Set([...XQ,A.CAPTION,A.COLGROUP,A.TBODY,A.TD,A.TFOOT,A.TH,A.THEAD,A.TR]),jS=new Set([A.APPLET,A.CAPTION,A.HTML,A.MARQUEE,A.OBJECT,A.TABLE,A.TD,A.TEMPLATE,A.TH]),LOe=new Set([...jS,A.OL,A.UL]),$Oe=new Set([...jS,A.BUTTON]),FF=new Set([A.ANNOTATION_XML,A.MI,A.MN,A.MO,A.MS,A.MTEXT]),zF=new Set([A.DESC,A.FOREIGN_OBJECT,A.TITLE]),BOe=new Set([A.TR,A.TEMPLATE,A.HTML]),FOe=new Set([A.TBODY,A.TFOOT,A.THEAD,A.TEMPLATE,A.HTML]),zOe=new Set([A.TABLE,A.TEMPLATE,A.HTML]),UOe=new Set([A.TD,A.TH]);class HOe{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=A.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===A.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Re.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Re.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(qO,Re.HTML)}popUntilTableCellPopped(){this.popUntilPopped(UOe,Re.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(zOe,Re.HTML)}clearBackToTableBodyContext(){this.clearBackTo(FOe,Re.HTML)}clearBackToTableRowContext(){this.clearBackTo(BOe,Re.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===A.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===A.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case Re.HTML:{if(i===t)return!0;if(n.has(i))return!1;break}case Re.SVG:{if(zF.has(i))return!1;break}case Re.MATHML:{if(FF.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,jS)}hasInListItemScope(t){return this.hasInDynamicScope(t,LOe)}hasInButtonScope(t){return this.hasInDynamicScope(t,$Oe)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case Re.HTML:{if(qO.has(n))return!0;if(jS.has(n))return!1;break}case Re.SVG:{if(zF.has(n))return!1;break}case Re.MATHML:{if(FF.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Re.HTML)switch(this.tagIDs[n]){case t:return!0;case A.TABLE:case A.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===Re.HTML)switch(this.tagIDs[t]){case A.TBODY:case A.THEAD:case A.TFOOT:return!0;case A.TABLE:case A.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Re.HTML)switch(this.tagIDs[n]){case t:return!0;case A.OPTION:case A.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;XQ.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;BF.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&BF.has(this.currentTagId);)this.pop()}}const jk=3;var tl;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(tl||(tl={}));const UF={type:tl.Marker};class VOe{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,a=this.treeAdapter.getTagName(t),s=this.treeAdapter.getNamespaceURI(t);for(let l=0;l<this.entries.length;l++){const c=this.entries[l];if(c.type===tl.Marker)break;const{element:u}=c;if(this.treeAdapter.getTagName(u)===a&&this.treeAdapter.getNamespaceURI(u)===s){const d=this.treeAdapter.getAttrList(u);d.length===i&&r.push({idx:l,attrs:d})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<jk)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<jk)return;const i=new Map(n.map(s=>[s.name,s.value]));let a=0;for(let s=0;s<r.length;s++){const l=r[s];l.attrs.every(c=>i.get(c.name)===c.value)&&(a+=1,a>=jk&&this.entries.splice(l.idx,1))}}insertMarker(){this.entries.unshift(UF)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:tl.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:tl.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(UF);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===tl.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===tl.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===tl.Element&&n.element===t)}}const iu={createDocument(){return{nodeName:"#document",mode:Is.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(a=>a.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const a={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};iu.appendChild(e,a)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(iu.isTextNode(n)){n.value+=t;return}}iu.appendChild(e,iu.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&iu.isTextNode(r)?r.value+=t:iu.insertBefore(e,iu.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},ZQ="html",WOe="about:legacy-compat",qOe="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",QQ=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],GOe=[...QQ,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],YOe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),JQ=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],KOe=[...JQ,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function HF(e,t){return t.some(n=>e.startsWith(n))}function XOe(e){return e.name===ZQ&&e.publicId===null&&(e.systemId===null||e.systemId===WOe)}function ZOe(e){if(e.name!==ZQ)return Is.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===qOe)return Is.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),YOe.has(n))return Is.QUIRKS;let r=t===null?GOe:QQ;if(HF(n,r))return Is.QUIRKS;if(r=t===null?JQ:KOe,HF(n,r))return Is.LIMITED_QUIRKS}return Is.NO_QUIRKS}const VF={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},QOe="definitionurl",JOe="definitionURL",ePe=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),tPe=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Re.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Re.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Re.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Re.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Re.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Re.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Re.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Re.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Re.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Re.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Re.XMLNS}]]),nPe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),rPe=new Set([A.B,A.BIG,A.BLOCKQUOTE,A.BODY,A.BR,A.CENTER,A.CODE,A.DD,A.DIV,A.DL,A.DT,A.EM,A.EMBED,A.H1,A.H2,A.H3,A.H4,A.H5,A.H6,A.HEAD,A.HR,A.I,A.IMG,A.LI,A.LISTING,A.MENU,A.META,A.NOBR,A.OL,A.P,A.PRE,A.RUBY,A.S,A.SMALL,A.SPAN,A.STRONG,A.STRIKE,A.SUB,A.SUP,A.TABLE,A.TT,A.U,A.UL,A.VAR]);function iPe(e){const t=e.tagID;return t===A.FONT&&e.attrs.some(({name:r})=>r===kh.COLOR||r===kh.SIZE||r===kh.FACE)||rPe.has(t)}function eJ(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===QOe){e.attrs[t].name=JOe;break}}function tJ(e){for(let t=0;t<e.attrs.length;t++){const n=ePe.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function p3(e){for(let t=0;t<e.attrs.length;t++){const n=tPe.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function aPe(e){const t=nPe.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Gg(e.tagName))}function sPe(e,t){return t===Re.MATHML&&(e===A.MI||e===A.MO||e===A.MN||e===A.MS||e===A.MTEXT)}function oPe(e,t,n){if(t===Re.MATHML&&e===A.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===kh.ENCODING){const i=n[r].value.toLowerCase();return i===VF.TEXT_HTML||i===VF.APPLICATION_XML}}return t===Re.SVG&&(e===A.FOREIGN_OBJECT||e===A.DESC||e===A.TITLE)}function lPe(e,t,n,r){return(!r||r===Re.HTML)&&oPe(e,t,n)||(!r||r===Re.MATHML)&&sPe(e,t)}const cPe="hidden",uPe=8,dPe=3;var ne;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(ne||(ne={}));const hPe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},nJ=new Set([A.TABLE,A.TBODY,A.TFOOT,A.THEAD,A.TR]),WF={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:iu,onParseError:null};class qF{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=ne.INITIAL,this.originalInsertionMode=ne.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...WF,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new DOe(this.options,this),this.activeFormattingElements=new VOe(this.treeAdapter),this.fragmentContextID=r?Gg(this.treeAdapter.getTagName(r)):A.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new HOe(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...WF,...n};t??(t=r.treeAdapter.createElement(xe.TEMPLATE,Re.HTML,[]));const i=r.treeAdapter.createElement("documentmock",Re.HTML,[]),a=new this(r,i,t);return a.fragmentContextID===A.TEMPLATE&&a.tmplInsertionModeStack.unshift(ne.IN_TEMPLATE),a._initTokenizerForFragmentParsing(),a._insertFakeRootElement(),a._resetInsertionMode(),a._findFormInFragmentContext(),a}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const a=(i=t.location)!==null&&i!==void 0?i:hPe,s={code:n,startLine:a.startLine,startCol:a.startCol,startOffset:a.startOffset,endLine:r?a.startLine:a.endLine,endCol:r?a.startCol:a.endCol,endOffset:r?a.startOffset:a.endOffset};this.onParseError(s)}onItemPush(t,n,r){var i,a;(a=(i=this.treeAdapter).onItemPush)===null||a===void 0||a.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let a,s;this.openElements.stackTop===0&&this.fragmentContext?(a=this.fragmentContext,s=this.fragmentContextID):{current:a,currentTagId:s}=this.openElements,this._setContextModes(a,s)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===Re.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Re.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=ne.TEXT}switchToPlaintextParsing(){this.insertionMode=ne.TEXT,this.originalInsertionMode=ne.IN_BODY,this.tokenizer.state=Mr.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===xe.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Re.HTML))switch(this.fragmentContextID){case A.TITLE:case A.TEXTAREA:{this.tokenizer.state=Mr.RCDATA;break}case A.STYLE:case A.XMP:case A.IFRAME:case A.NOEMBED:case A.NOFRAMES:case A.NOSCRIPT:{this.tokenizer.state=Mr.RAWTEXT;break}case A.SCRIPT:{this.tokenizer.state=Mr.SCRIPT_DATA;break}case A.PLAINTEXT:{this.tokenizer.state=Mr.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const s=this.treeAdapter.getChildNodes(this.document).find(l=>this.treeAdapter.isDocumentTypeNode(l));s&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Re.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Re.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(xe.HTML,Re.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,A.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),a=r?i.lastIndexOf(r):i.length,s=i[a-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){const{endLine:c,endCol:u,endOffset:d}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:c,endCol:u,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),a=n.type===Jt.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,a)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===A.SVG&&this.treeAdapter.getTagName(n)===xe.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Re.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===A.MGLYPH||t.tagID===A.MALIGNMARK)&&!this._isIntegrationPoint(r,n,Re.HTML)}_processToken(t){switch(t.type){case Jt.CHARACTER:{this.onCharacter(t);break}case Jt.NULL_CHARACTER:{this.onNullCharacter(t);break}case Jt.COMMENT:{this.onComment(t);break}case Jt.DOCTYPE:{this.onDoctype(t);break}case Jt.START_TAG:{this._processStartTag(t);break}case Jt.END_TAG:{this.onEndTag(t);break}case Jt.EOF:{this.onEof(t);break}case Jt.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),a=this.treeAdapter.getAttrList(n);return lPe(t,i,a,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===tl.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const a=this.activeFormattingElements.entries[i];this._insertElement(a.token,this.treeAdapter.getNamespaceURI(a.element)),a.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=ne.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(A.P),this.openElements.popUntilTagNamePopped(A.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case A.TR:{this.insertionMode=ne.IN_ROW;return}case A.TBODY:case A.THEAD:case A.TFOOT:{this.insertionMode=ne.IN_TABLE_BODY;return}case A.CAPTION:{this.insertionMode=ne.IN_CAPTION;return}case A.COLGROUP:{this.insertionMode=ne.IN_COLUMN_GROUP;return}case A.TABLE:{this.insertionMode=ne.IN_TABLE;return}case A.BODY:{this.insertionMode=ne.IN_BODY;return}case A.FRAMESET:{this.insertionMode=ne.IN_FRAMESET;return}case A.SELECT:{this._resetInsertionModeForSelect(t);return}case A.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case A.HTML:{this.insertionMode=this.headElement?ne.AFTER_HEAD:ne.BEFORE_HEAD;return}case A.TD:case A.TH:{if(t>0){this.insertionMode=ne.IN_CELL;return}break}case A.HEAD:{if(t>0){this.insertionMode=ne.IN_HEAD;return}break}}this.insertionMode=ne.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===A.TEMPLATE)break;if(r===A.TABLE){this.insertionMode=ne.IN_SELECT_IN_TABLE;return}}this.insertionMode=ne.IN_SELECT}_isElementCausesFosterParenting(t){return nJ.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case A.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Re.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case A.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return POe[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){UMe(this,t);return}switch(this.insertionMode){case ne.INITIAL:{F0(this,t);break}case ne.BEFORE_HTML:{Ky(this,t);break}case ne.BEFORE_HEAD:{Xy(this,t);break}case ne.IN_HEAD:{Zy(this,t);break}case ne.IN_HEAD_NO_SCRIPT:{Qy(this,t);break}case ne.AFTER_HEAD:{Jy(this,t);break}case ne.IN_BODY:case ne.IN_CAPTION:case ne.IN_CELL:case ne.IN_TEMPLATE:{iJ(this,t);break}case ne.TEXT:case ne.IN_SELECT:case ne.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case ne.IN_TABLE:case ne.IN_TABLE_BODY:case ne.IN_ROW:{Ok(this,t);break}case ne.IN_TABLE_TEXT:{uJ(this,t);break}case ne.IN_COLUMN_GROUP:{OS(this,t);break}case ne.AFTER_BODY:{PS(this,t);break}case ne.AFTER_AFTER_BODY:{SE(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){zMe(this,t);return}switch(this.insertionMode){case ne.INITIAL:{F0(this,t);break}case ne.BEFORE_HTML:{Ky(this,t);break}case ne.BEFORE_HEAD:{Xy(this,t);break}case ne.IN_HEAD:{Zy(this,t);break}case ne.IN_HEAD_NO_SCRIPT:{Qy(this,t);break}case ne.AFTER_HEAD:{Jy(this,t);break}case ne.TEXT:{this._insertCharacters(t);break}case ne.IN_TABLE:case ne.IN_TABLE_BODY:case ne.IN_ROW:{Ok(this,t);break}case ne.IN_COLUMN_GROUP:{OS(this,t);break}case ne.AFTER_BODY:{PS(this,t);break}case ne.AFTER_AFTER_BODY:{SE(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){GO(this,t);return}switch(this.insertionMode){case ne.INITIAL:case ne.BEFORE_HTML:case ne.BEFORE_HEAD:case ne.IN_HEAD:case ne.IN_HEAD_NO_SCRIPT:case ne.AFTER_HEAD:case ne.IN_BODY:case ne.IN_TABLE:case ne.IN_CAPTION:case ne.IN_COLUMN_GROUP:case ne.IN_TABLE_BODY:case ne.IN_ROW:case ne.IN_CELL:case ne.IN_SELECT:case ne.IN_SELECT_IN_TABLE:case ne.IN_TEMPLATE:case ne.IN_FRAMESET:case ne.AFTER_FRAMESET:{GO(this,t);break}case ne.IN_TABLE_TEXT:{z0(this,t);break}case ne.AFTER_BODY:{vPe(this,t);break}case ne.AFTER_AFTER_BODY:case ne.AFTER_AFTER_FRAMESET:{bPe(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case ne.INITIAL:{wPe(this,t);break}case ne.BEFORE_HEAD:case ne.IN_HEAD:case ne.IN_HEAD_NO_SCRIPT:case ne.AFTER_HEAD:{this._err(t,Ee.misplacedDoctype);break}case ne.IN_TABLE_TEXT:{z0(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,Ee.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?HMe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case ne.INITIAL:{F0(this,t);break}case ne.BEFORE_HTML:{EPe(this,t);break}case ne.BEFORE_HEAD:{_Pe(this,t);break}case ne.IN_HEAD:{$o(this,t);break}case ne.IN_HEAD_NO_SCRIPT:{NPe(this,t);break}case ne.AFTER_HEAD:{APe(this,t);break}case ne.IN_BODY:{Xi(this,t);break}case ne.IN_TABLE:{Rp(this,t);break}case ne.IN_TABLE_TEXT:{z0(this,t);break}case ne.IN_CAPTION:{CMe(this,t);break}case ne.IN_COLUMN_GROUP:{x3(this,t);break}case ne.IN_TABLE_BODY:{j2(this,t);break}case ne.IN_ROW:{O2(this,t);break}case ne.IN_CELL:{kMe(this,t);break}case ne.IN_SELECT:{fJ(this,t);break}case ne.IN_SELECT_IN_TABLE:{jMe(this,t);break}case ne.IN_TEMPLATE:{PMe(this,t);break}case ne.AFTER_BODY:{IMe(this,t);break}case ne.IN_FRAMESET:{RMe(this,t);break}case ne.AFTER_FRAMESET:{LMe(this,t);break}case ne.AFTER_AFTER_BODY:{BMe(this,t);break}case ne.AFTER_AFTER_FRAMESET:{FMe(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?VMe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case ne.INITIAL:{F0(this,t);break}case ne.BEFORE_HTML:{SPe(this,t);break}case ne.BEFORE_HEAD:{CPe(this,t);break}case ne.IN_HEAD:{TPe(this,t);break}case ne.IN_HEAD_NO_SCRIPT:{kPe(this,t);break}case ne.AFTER_HEAD:{jPe(this,t);break}case ne.IN_BODY:{A2(this,t);break}case ne.TEXT:{pMe(this,t);break}case ne.IN_TABLE:{nv(this,t);break}case ne.IN_TABLE_TEXT:{z0(this,t);break}case ne.IN_CAPTION:{TMe(this,t);break}case ne.IN_COLUMN_GROUP:{NMe(this,t);break}case ne.IN_TABLE_BODY:{YO(this,t);break}case ne.IN_ROW:{hJ(this,t);break}case ne.IN_CELL:{AMe(this,t);break}case ne.IN_SELECT:{mJ(this,t);break}case ne.IN_SELECT_IN_TABLE:{OMe(this,t);break}case ne.IN_TEMPLATE:{MMe(this,t);break}case ne.AFTER_BODY:{gJ(this,t);break}case ne.IN_FRAMESET:{DMe(this,t);break}case ne.AFTER_FRAMESET:{$Me(this,t);break}case ne.AFTER_AFTER_BODY:{SE(this,t);break}}}onEof(t){switch(this.insertionMode){case ne.INITIAL:{F0(this,t);break}case ne.BEFORE_HTML:{Ky(this,t);break}case ne.BEFORE_HEAD:{Xy(this,t);break}case ne.IN_HEAD:{Zy(this,t);break}case ne.IN_HEAD_NO_SCRIPT:{Qy(this,t);break}case ne.AFTER_HEAD:{Jy(this,t);break}case ne.IN_BODY:case ne.IN_TABLE:case ne.IN_CAPTION:case ne.IN_COLUMN_GROUP:case ne.IN_TABLE_BODY:case ne.IN_ROW:case ne.IN_CELL:case ne.IN_SELECT:case ne.IN_SELECT_IN_TABLE:{lJ(this,t);break}case ne.TEXT:{gMe(this,t);break}case ne.IN_TABLE_TEXT:{z0(this,t);break}case ne.IN_TEMPLATE:{pJ(this,t);break}case ne.AFTER_BODY:case ne.IN_FRAMESET:case ne.AFTER_FRAMESET:case ne.AFTER_AFTER_BODY:case ne.AFTER_AFTER_FRAMESET:{y3(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===X.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case ne.IN_HEAD:case ne.IN_HEAD_NO_SCRIPT:case ne.AFTER_HEAD:case ne.TEXT:case ne.IN_COLUMN_GROUP:case ne.IN_SELECT:case ne.IN_SELECT_IN_TABLE:case ne.IN_FRAMESET:case ne.AFTER_FRAMESET:{this._insertCharacters(t);break}case ne.IN_BODY:case ne.IN_CAPTION:case ne.IN_CELL:case ne.IN_TEMPLATE:case ne.AFTER_BODY:case ne.AFTER_AFTER_BODY:case ne.AFTER_AFTER_FRAMESET:{rJ(this,t);break}case ne.IN_TABLE:case ne.IN_TABLE_BODY:case ne.IN_ROW:{Ok(this,t);break}case ne.IN_TABLE_TEXT:{cJ(this,t);break}}}}function fPe(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):oJ(e,t),n}function mPe(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function pPe(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let a=0,s=i;s!==n;a++,s=i){i=e.openElements.getCommonAncestor(s);const l=e.activeFormattingElements.getElementEntry(s),c=l&&a>=dPe;!l||c?(c&&e.activeFormattingElements.removeEntry(l),e.openElements.remove(s)):(s=gPe(e,l),r===t&&(e.activeFormattingElements.bookmark=l),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(s,r),r=s)}return r}function gPe(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function yPe(e,t,n){const r=e.treeAdapter.getTagName(t),i=Gg(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const a=e.treeAdapter.getNamespaceURI(t);i===A.TEMPLATE&&a===Re.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function xPe(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,a=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,a),e.treeAdapter.appendChild(t,a),e.activeFormattingElements.insertElementAfterBookmark(a,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,a,i.tagID)}function g3(e,t){for(let n=0;n<uPe;n++){const r=fPe(e,t);if(!r)break;const i=mPe(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const a=pPe(e,i,r.element),s=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(a),s&&yPe(e,s,a),xPe(e,i,r)}}function GO(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function vPe(e,t){e._appendCommentNode(t,e.openElements.items[0])}function bPe(e,t){e._appendCommentNode(t,e.document)}function y3(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const a=e.openElements.items[1],s=e.treeAdapter.getNodeSourceCodeLocation(a);s&&!s.endTag&&e._setEndLocation(a,t)}}}}function wPe(e,t){e._setDocumentType(t);const n=t.forceQuirks?Is.QUIRKS:ZOe(t);XOe(t)||e._err(t,Ee.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=ne.BEFORE_HTML}function F0(e,t){e._err(t,Ee.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Is.QUIRKS),e.insertionMode=ne.BEFORE_HTML,e._processToken(t)}function EPe(e,t){t.tagID===A.HTML?(e._insertElement(t,Re.HTML),e.insertionMode=ne.BEFORE_HEAD):Ky(e,t)}function SPe(e,t){const n=t.tagID;(n===A.HTML||n===A.HEAD||n===A.BODY||n===A.BR)&&Ky(e,t)}function Ky(e,t){e._insertFakeRootElement(),e.insertionMode=ne.BEFORE_HEAD,e._processToken(t)}function _Pe(e,t){switch(t.tagID){case A.HTML:{Xi(e,t);break}case A.HEAD:{e._insertElement(t,Re.HTML),e.headElement=e.openElements.current,e.insertionMode=ne.IN_HEAD;break}default:Xy(e,t)}}function CPe(e,t){const n=t.tagID;n===A.HEAD||n===A.BODY||n===A.HTML||n===A.BR?Xy(e,t):e._err(t,Ee.endTagWithoutMatchingOpenElement)}function Xy(e,t){e._insertFakeElement(xe.HEAD,A.HEAD),e.headElement=e.openElements.current,e.insertionMode=ne.IN_HEAD,e._processToken(t)}function $o(e,t){switch(t.tagID){case A.HTML:{Xi(e,t);break}case A.BASE:case A.BASEFONT:case A.BGSOUND:case A.LINK:case A.META:{e._appendElement(t,Re.HTML),t.ackSelfClosing=!0;break}case A.TITLE:{e._switchToTextParsing(t,Mr.RCDATA);break}case A.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Mr.RAWTEXT):(e._insertElement(t,Re.HTML),e.insertionMode=ne.IN_HEAD_NO_SCRIPT);break}case A.NOFRAMES:case A.STYLE:{e._switchToTextParsing(t,Mr.RAWTEXT);break}case A.SCRIPT:{e._switchToTextParsing(t,Mr.SCRIPT_DATA);break}case A.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=ne.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(ne.IN_TEMPLATE);break}case A.HEAD:{e._err(t,Ee.misplacedStartTagForHeadElement);break}default:Zy(e,t)}}function TPe(e,t){switch(t.tagID){case A.HEAD:{e.openElements.pop(),e.insertionMode=ne.AFTER_HEAD;break}case A.BODY:case A.BR:case A.HTML:{Zy(e,t);break}case A.TEMPLATE:{Cf(e,t);break}default:e._err(t,Ee.endTagWithoutMatchingOpenElement)}}function Cf(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==A.TEMPLATE&&e._err(t,Ee.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(A.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,Ee.endTagWithoutMatchingOpenElement)}function Zy(e,t){e.openElements.pop(),e.insertionMode=ne.AFTER_HEAD,e._processToken(t)}function NPe(e,t){switch(t.tagID){case A.HTML:{Xi(e,t);break}case A.BASEFONT:case A.BGSOUND:case A.HEAD:case A.LINK:case A.META:case A.NOFRAMES:case A.STYLE:{$o(e,t);break}case A.NOSCRIPT:{e._err(t,Ee.nestedNoscriptInHead);break}default:Qy(e,t)}}function kPe(e,t){switch(t.tagID){case A.NOSCRIPT:{e.openElements.pop(),e.insertionMode=ne.IN_HEAD;break}case A.BR:{Qy(e,t);break}default:e._err(t,Ee.endTagWithoutMatchingOpenElement)}}function Qy(e,t){const n=t.type===Jt.EOF?Ee.openElementsLeftAfterEof:Ee.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=ne.IN_HEAD,e._processToken(t)}function APe(e,t){switch(t.tagID){case A.HTML:{Xi(e,t);break}case A.BODY:{e._insertElement(t,Re.HTML),e.framesetOk=!1,e.insertionMode=ne.IN_BODY;break}case A.FRAMESET:{e._insertElement(t,Re.HTML),e.insertionMode=ne.IN_FRAMESET;break}case A.BASE:case A.BASEFONT:case A.BGSOUND:case A.LINK:case A.META:case A.NOFRAMES:case A.SCRIPT:case A.STYLE:case A.TEMPLATE:case A.TITLE:{e._err(t,Ee.abandonedHeadElementChild),e.openElements.push(e.headElement,A.HEAD),$o(e,t),e.openElements.remove(e.headElement);break}case A.HEAD:{e._err(t,Ee.misplacedStartTagForHeadElement);break}default:Jy(e,t)}}function jPe(e,t){switch(t.tagID){case A.BODY:case A.HTML:case A.BR:{Jy(e,t);break}case A.TEMPLATE:{Cf(e,t);break}default:e._err(t,Ee.endTagWithoutMatchingOpenElement)}}function Jy(e,t){e._insertFakeElement(xe.BODY,A.BODY),e.insertionMode=ne.IN_BODY,k2(e,t)}function k2(e,t){switch(t.type){case Jt.CHARACTER:{iJ(e,t);break}case Jt.WHITESPACE_CHARACTER:{rJ(e,t);break}case Jt.COMMENT:{GO(e,t);break}case Jt.START_TAG:{Xi(e,t);break}case Jt.END_TAG:{A2(e,t);break}case Jt.EOF:{lJ(e,t);break}}}function rJ(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function iJ(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function OPe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function PPe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function MPe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Re.HTML),e.insertionMode=ne.IN_FRAMESET)}function IPe(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,Re.HTML)}function RPe(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),qO.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Re.HTML)}function DPe(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,Re.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function LPe(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,Re.HTML),n||(e.formElement=e.openElements.current))}function $Pe(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===A.LI&&i===A.LI||(n===A.DD||n===A.DT)&&(i===A.DD||i===A.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==A.ADDRESS&&i!==A.DIV&&i!==A.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,Re.HTML)}function BPe(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,Re.HTML),e.tokenizer.state=Mr.PLAINTEXT}function FPe(e,t){e.openElements.hasInScope(A.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(A.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Re.HTML),e.framesetOk=!1}function zPe(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(xe.A);n&&(g3(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Re.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function UPe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Re.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function HPe(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(A.NOBR)&&(g3(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Re.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function VPe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Re.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function WPe(e,t){e.treeAdapter.getDocumentMode(e.document)!==Is.QUIRKS&&e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._insertElement(t,Re.HTML),e.framesetOk=!1,e.insertionMode=ne.IN_TABLE}function aJ(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Re.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function sJ(e){const t=WQ(e,kh.TYPE);return t!=null&&t.toLowerCase()===cPe}function qPe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Re.HTML),sJ(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function GPe(e,t){e._appendElement(t,Re.HTML),t.ackSelfClosing=!0}function YPe(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._appendElement(t,Re.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function KPe(e,t){t.tagName=xe.IMG,t.tagID=A.IMG,aJ(e,t)}function XPe(e,t){e._insertElement(t,Re.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Mr.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=ne.TEXT}function ZPe(e,t){e.openElements.hasInButtonScope(A.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Mr.RAWTEXT)}function QPe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Mr.RAWTEXT)}function GF(e,t){e._switchToTextParsing(t,Mr.RAWTEXT)}function JPe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Re.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===ne.IN_TABLE||e.insertionMode===ne.IN_CAPTION||e.insertionMode===ne.IN_TABLE_BODY||e.insertionMode===ne.IN_ROW||e.insertionMode===ne.IN_CELL?ne.IN_SELECT_IN_TABLE:ne.IN_SELECT}function eMe(e,t){e.openElements.currentTagId===A.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Re.HTML)}function tMe(e,t){e.openElements.hasInScope(A.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Re.HTML)}function nMe(e,t){e.openElements.hasInScope(A.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(A.RTC),e._insertElement(t,Re.HTML)}function rMe(e,t){e._reconstructActiveFormattingElements(),eJ(t),p3(t),t.selfClosing?e._appendElement(t,Re.MATHML):e._insertElement(t,Re.MATHML),t.ackSelfClosing=!0}function iMe(e,t){e._reconstructActiveFormattingElements(),tJ(t),p3(t),t.selfClosing?e._appendElement(t,Re.SVG):e._insertElement(t,Re.SVG),t.ackSelfClosing=!0}function YF(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Re.HTML)}function Xi(e,t){switch(t.tagID){case A.I:case A.S:case A.B:case A.U:case A.EM:case A.TT:case A.BIG:case A.CODE:case A.FONT:case A.SMALL:case A.STRIKE:case A.STRONG:{UPe(e,t);break}case A.A:{zPe(e,t);break}case A.H1:case A.H2:case A.H3:case A.H4:case A.H5:case A.H6:{RPe(e,t);break}case A.P:case A.DL:case A.OL:case A.UL:case A.DIV:case A.DIR:case A.NAV:case A.MAIN:case A.MENU:case A.ASIDE:case A.CENTER:case A.FIGURE:case A.FOOTER:case A.HEADER:case A.HGROUP:case A.DIALOG:case A.DETAILS:case A.ADDRESS:case A.ARTICLE:case A.SEARCH:case A.SECTION:case A.SUMMARY:case A.FIELDSET:case A.BLOCKQUOTE:case A.FIGCAPTION:{IPe(e,t);break}case A.LI:case A.DD:case A.DT:{$Pe(e,t);break}case A.BR:case A.IMG:case A.WBR:case A.AREA:case A.EMBED:case A.KEYGEN:{aJ(e,t);break}case A.HR:{YPe(e,t);break}case A.RB:case A.RTC:{tMe(e,t);break}case A.RT:case A.RP:{nMe(e,t);break}case A.PRE:case A.LISTING:{DPe(e,t);break}case A.XMP:{ZPe(e,t);break}case A.SVG:{iMe(e,t);break}case A.HTML:{OPe(e,t);break}case A.BASE:case A.LINK:case A.META:case A.STYLE:case A.TITLE:case A.SCRIPT:case A.BGSOUND:case A.BASEFONT:case A.TEMPLATE:{$o(e,t);break}case A.BODY:{PPe(e,t);break}case A.FORM:{LPe(e,t);break}case A.NOBR:{HPe(e,t);break}case A.MATH:{rMe(e,t);break}case A.TABLE:{WPe(e,t);break}case A.INPUT:{qPe(e,t);break}case A.PARAM:case A.TRACK:case A.SOURCE:{GPe(e,t);break}case A.IMAGE:{KPe(e,t);break}case A.BUTTON:{FPe(e,t);break}case A.APPLET:case A.OBJECT:case A.MARQUEE:{VPe(e,t);break}case A.IFRAME:{QPe(e,t);break}case A.SELECT:{JPe(e,t);break}case A.OPTION:case A.OPTGROUP:{eMe(e,t);break}case A.NOEMBED:case A.NOFRAMES:{GF(e,t);break}case A.FRAMESET:{MPe(e,t);break}case A.TEXTAREA:{XPe(e,t);break}case A.NOSCRIPT:{e.options.scriptingEnabled?GF(e,t):YF(e,t);break}case A.PLAINTEXT:{BPe(e,t);break}case A.COL:case A.TH:case A.TD:case A.TR:case A.HEAD:case A.FRAME:case A.TBODY:case A.TFOOT:case A.THEAD:case A.CAPTION:case A.COLGROUP:break;default:YF(e,t)}}function aMe(e,t){if(e.openElements.hasInScope(A.BODY)&&(e.insertionMode=ne.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function sMe(e,t){e.openElements.hasInScope(A.BODY)&&(e.insertionMode=ne.AFTER_BODY,gJ(e,t))}function oMe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function lMe(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(A.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(A.FORM):n&&e.openElements.remove(n))}function cMe(e){e.openElements.hasInButtonScope(A.P)||e._insertFakeElement(xe.P,A.P),e._closePElement()}function uMe(e){e.openElements.hasInListItemScope(A.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(A.LI),e.openElements.popUntilTagNamePopped(A.LI))}function dMe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function hMe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function fMe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function mMe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(xe.BR,A.BR),e.openElements.pop(),e.framesetOk=!1}function oJ(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const a=e.openElements.items[i],s=e.openElements.tagIDs[i];if(r===s&&(r!==A.UNKNOWN||e.treeAdapter.getTagName(a)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(a,s))break}}function A2(e,t){switch(t.tagID){case A.A:case A.B:case A.I:case A.S:case A.U:case A.EM:case A.TT:case A.BIG:case A.CODE:case A.FONT:case A.NOBR:case A.SMALL:case A.STRIKE:case A.STRONG:{g3(e,t);break}case A.P:{cMe(e);break}case A.DL:case A.UL:case A.OL:case A.DIR:case A.DIV:case A.NAV:case A.PRE:case A.MAIN:case A.MENU:case A.ASIDE:case A.BUTTON:case A.CENTER:case A.FIGURE:case A.FOOTER:case A.HEADER:case A.HGROUP:case A.DIALOG:case A.ADDRESS:case A.ARTICLE:case A.DETAILS:case A.SEARCH:case A.SECTION:case A.SUMMARY:case A.LISTING:case A.FIELDSET:case A.BLOCKQUOTE:case A.FIGCAPTION:{oMe(e,t);break}case A.LI:{uMe(e);break}case A.DD:case A.DT:{dMe(e,t);break}case A.H1:case A.H2:case A.H3:case A.H4:case A.H5:case A.H6:{hMe(e);break}case A.BR:{mMe(e);break}case A.BODY:{aMe(e,t);break}case A.HTML:{sMe(e,t);break}case A.FORM:{lMe(e);break}case A.APPLET:case A.OBJECT:case A.MARQUEE:{fMe(e,t);break}case A.TEMPLATE:{Cf(e,t);break}default:oJ(e,t)}}function lJ(e,t){e.tmplInsertionModeStack.length>0?pJ(e,t):y3(e,t)}function pMe(e,t){var n;t.tagID===A.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function gMe(e,t){e._err(t,Ee.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Ok(e,t){if(nJ.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=ne.IN_TABLE_TEXT,t.type){case Jt.CHARACTER:{uJ(e,t);break}case Jt.WHITESPACE_CHARACTER:{cJ(e,t);break}}else Ib(e,t)}function yMe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Re.HTML),e.insertionMode=ne.IN_CAPTION}function xMe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Re.HTML),e.insertionMode=ne.IN_COLUMN_GROUP}function vMe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(xe.COLGROUP,A.COLGROUP),e.insertionMode=ne.IN_COLUMN_GROUP,x3(e,t)}function bMe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Re.HTML),e.insertionMode=ne.IN_TABLE_BODY}function wMe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(xe.TBODY,A.TBODY),e.insertionMode=ne.IN_TABLE_BODY,j2(e,t)}function EMe(e,t){e.openElements.hasInTableScope(A.TABLE)&&(e.openElements.popUntilTagNamePopped(A.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function SMe(e,t){sJ(t)?e._appendElement(t,Re.HTML):Ib(e,t),t.ackSelfClosing=!0}function _Me(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Re.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Rp(e,t){switch(t.tagID){case A.TD:case A.TH:case A.TR:{wMe(e,t);break}case A.STYLE:case A.SCRIPT:case A.TEMPLATE:{$o(e,t);break}case A.COL:{vMe(e,t);break}case A.FORM:{_Me(e,t);break}case A.TABLE:{EMe(e,t);break}case A.TBODY:case A.TFOOT:case A.THEAD:{bMe(e,t);break}case A.INPUT:{SMe(e,t);break}case A.CAPTION:{yMe(e,t);break}case A.COLGROUP:{xMe(e,t);break}default:Ib(e,t)}}function nv(e,t){switch(t.tagID){case A.TABLE:{e.openElements.hasInTableScope(A.TABLE)&&(e.openElements.popUntilTagNamePopped(A.TABLE),e._resetInsertionMode());break}case A.TEMPLATE:{Cf(e,t);break}case A.BODY:case A.CAPTION:case A.COL:case A.COLGROUP:case A.HTML:case A.TBODY:case A.TD:case A.TFOOT:case A.TH:case A.THEAD:case A.TR:break;default:Ib(e,t)}}function Ib(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,k2(e,t),e.fosterParentingEnabled=n}function cJ(e,t){e.pendingCharacterTokens.push(t)}function uJ(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function z0(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Ib(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const dJ=new Set([A.CAPTION,A.COL,A.COLGROUP,A.TBODY,A.TD,A.TFOOT,A.TH,A.THEAD,A.TR]);function CMe(e,t){const n=t.tagID;dJ.has(n)?e.openElements.hasInTableScope(A.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(A.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ne.IN_TABLE,Rp(e,t)):Xi(e,t)}function TMe(e,t){const n=t.tagID;switch(n){case A.CAPTION:case A.TABLE:{e.openElements.hasInTableScope(A.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(A.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ne.IN_TABLE,n===A.TABLE&&nv(e,t));break}case A.BODY:case A.COL:case A.COLGROUP:case A.HTML:case A.TBODY:case A.TD:case A.TFOOT:case A.TH:case A.THEAD:case A.TR:break;default:A2(e,t)}}function x3(e,t){switch(t.tagID){case A.HTML:{Xi(e,t);break}case A.COL:{e._appendElement(t,Re.HTML),t.ackSelfClosing=!0;break}case A.TEMPLATE:{$o(e,t);break}default:OS(e,t)}}function NMe(e,t){switch(t.tagID){case A.COLGROUP:{e.openElements.currentTagId===A.COLGROUP&&(e.openElements.pop(),e.insertionMode=ne.IN_TABLE);break}case A.TEMPLATE:{Cf(e,t);break}case A.COL:break;default:OS(e,t)}}function OS(e,t){e.openElements.currentTagId===A.COLGROUP&&(e.openElements.pop(),e.insertionMode=ne.IN_TABLE,e._processToken(t))}function j2(e,t){switch(t.tagID){case A.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Re.HTML),e.insertionMode=ne.IN_ROW;break}case A.TH:case A.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(xe.TR,A.TR),e.insertionMode=ne.IN_ROW,O2(e,t);break}case A.CAPTION:case A.COL:case A.COLGROUP:case A.TBODY:case A.TFOOT:case A.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ne.IN_TABLE,Rp(e,t));break}default:Rp(e,t)}}function YO(e,t){const n=t.tagID;switch(t.tagID){case A.TBODY:case A.TFOOT:case A.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ne.IN_TABLE);break}case A.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ne.IN_TABLE,nv(e,t));break}case A.BODY:case A.CAPTION:case A.COL:case A.COLGROUP:case A.HTML:case A.TD:case A.TH:case A.TR:break;default:nv(e,t)}}function O2(e,t){switch(t.tagID){case A.TH:case A.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Re.HTML),e.insertionMode=ne.IN_CELL,e.activeFormattingElements.insertMarker();break}case A.CAPTION:case A.COL:case A.COLGROUP:case A.TBODY:case A.TFOOT:case A.THEAD:case A.TR:{e.openElements.hasInTableScope(A.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ne.IN_TABLE_BODY,j2(e,t));break}default:Rp(e,t)}}function hJ(e,t){switch(t.tagID){case A.TR:{e.openElements.hasInTableScope(A.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ne.IN_TABLE_BODY);break}case A.TABLE:{e.openElements.hasInTableScope(A.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ne.IN_TABLE_BODY,YO(e,t));break}case A.TBODY:case A.TFOOT:case A.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(A.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ne.IN_TABLE_BODY,YO(e,t));break}case A.BODY:case A.CAPTION:case A.COL:case A.COLGROUP:case A.HTML:case A.TD:case A.TH:break;default:nv(e,t)}}function kMe(e,t){const n=t.tagID;dJ.has(n)?(e.openElements.hasInTableScope(A.TD)||e.openElements.hasInTableScope(A.TH))&&(e._closeTableCell(),O2(e,t)):Xi(e,t)}function AMe(e,t){const n=t.tagID;switch(n){case A.TD:case A.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ne.IN_ROW);break}case A.TABLE:case A.TBODY:case A.TFOOT:case A.THEAD:case A.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),hJ(e,t));break}case A.BODY:case A.CAPTION:case A.COL:case A.COLGROUP:case A.HTML:break;default:A2(e,t)}}function fJ(e,t){switch(t.tagID){case A.HTML:{Xi(e,t);break}case A.OPTION:{e.openElements.currentTagId===A.OPTION&&e.openElements.pop(),e._insertElement(t,Re.HTML);break}case A.OPTGROUP:{e.openElements.currentTagId===A.OPTION&&e.openElements.pop(),e.openElements.currentTagId===A.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Re.HTML);break}case A.HR:{e.openElements.currentTagId===A.OPTION&&e.openElements.pop(),e.openElements.currentTagId===A.OPTGROUP&&e.openElements.pop(),e._appendElement(t,Re.HTML),t.ackSelfClosing=!0;break}case A.INPUT:case A.KEYGEN:case A.TEXTAREA:case A.SELECT:{e.openElements.hasInSelectScope(A.SELECT)&&(e.openElements.popUntilTagNamePopped(A.SELECT),e._resetInsertionMode(),t.tagID!==A.SELECT&&e._processStartTag(t));break}case A.SCRIPT:case A.TEMPLATE:{$o(e,t);break}}}function mJ(e,t){switch(t.tagID){case A.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===A.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===A.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===A.OPTGROUP&&e.openElements.pop();break}case A.OPTION:{e.openElements.currentTagId===A.OPTION&&e.openElements.pop();break}case A.SELECT:{e.openElements.hasInSelectScope(A.SELECT)&&(e.openElements.popUntilTagNamePopped(A.SELECT),e._resetInsertionMode());break}case A.TEMPLATE:{Cf(e,t);break}}}function jMe(e,t){const n=t.tagID;n===A.CAPTION||n===A.TABLE||n===A.TBODY||n===A.TFOOT||n===A.THEAD||n===A.TR||n===A.TD||n===A.TH?(e.openElements.popUntilTagNamePopped(A.SELECT),e._resetInsertionMode(),e._processStartTag(t)):fJ(e,t)}function OMe(e,t){const n=t.tagID;n===A.CAPTION||n===A.TABLE||n===A.TBODY||n===A.TFOOT||n===A.THEAD||n===A.TR||n===A.TD||n===A.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(A.SELECT),e._resetInsertionMode(),e.onEndTag(t)):mJ(e,t)}function PMe(e,t){switch(t.tagID){case A.BASE:case A.BASEFONT:case A.BGSOUND:case A.LINK:case A.META:case A.NOFRAMES:case A.SCRIPT:case A.STYLE:case A.TEMPLATE:case A.TITLE:{$o(e,t);break}case A.CAPTION:case A.COLGROUP:case A.TBODY:case A.TFOOT:case A.THEAD:{e.tmplInsertionModeStack[0]=ne.IN_TABLE,e.insertionMode=ne.IN_TABLE,Rp(e,t);break}case A.COL:{e.tmplInsertionModeStack[0]=ne.IN_COLUMN_GROUP,e.insertionMode=ne.IN_COLUMN_GROUP,x3(e,t);break}case A.TR:{e.tmplInsertionModeStack[0]=ne.IN_TABLE_BODY,e.insertionMode=ne.IN_TABLE_BODY,j2(e,t);break}case A.TD:case A.TH:{e.tmplInsertionModeStack[0]=ne.IN_ROW,e.insertionMode=ne.IN_ROW,O2(e,t);break}default:e.tmplInsertionModeStack[0]=ne.IN_BODY,e.insertionMode=ne.IN_BODY,Xi(e,t)}}function MMe(e,t){t.tagID===A.TEMPLATE&&Cf(e,t)}function pJ(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(A.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):y3(e,t)}function IMe(e,t){t.tagID===A.HTML?Xi(e,t):PS(e,t)}function gJ(e,t){var n;if(t.tagID===A.HTML){if(e.fragmentContext||(e.insertionMode=ne.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===A.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else PS(e,t)}function PS(e,t){e.insertionMode=ne.IN_BODY,k2(e,t)}function RMe(e,t){switch(t.tagID){case A.HTML:{Xi(e,t);break}case A.FRAMESET:{e._insertElement(t,Re.HTML);break}case A.FRAME:{e._appendElement(t,Re.HTML),t.ackSelfClosing=!0;break}case A.NOFRAMES:{$o(e,t);break}}}function DMe(e,t){t.tagID===A.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==A.FRAMESET&&(e.insertionMode=ne.AFTER_FRAMESET))}function LMe(e,t){switch(t.tagID){case A.HTML:{Xi(e,t);break}case A.NOFRAMES:{$o(e,t);break}}}function $Me(e,t){t.tagID===A.HTML&&(e.insertionMode=ne.AFTER_AFTER_FRAMESET)}function BMe(e,t){t.tagID===A.HTML?Xi(e,t):SE(e,t)}function SE(e,t){e.insertionMode=ne.IN_BODY,k2(e,t)}function FMe(e,t){switch(t.tagID){case A.HTML:{Xi(e,t);break}case A.NOFRAMES:{$o(e,t);break}}}function zMe(e,t){t.chars=Qn,e._insertCharacters(t)}function UMe(e,t){e._insertCharacters(t),e.framesetOk=!1}function yJ(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Re.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function HMe(e,t){if(iPe(t))yJ(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Re.MATHML?eJ(t):r===Re.SVG&&(aPe(t),tJ(t)),p3(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function VMe(e,t){if(t.tagID===A.P||t.tagID===A.BR){yJ(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Re.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}xe.AREA,xe.BASE,xe.BASEFONT,xe.BGSOUND,xe.BR,xe.COL,xe.EMBED,xe.FRAME,xe.HR,xe.IMG,xe.INPUT,xe.KEYGEN,xe.LINK,xe.META,xe.PARAM,xe.SOURCE,xe.TRACK,xe.WBR;const WMe=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,qMe=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),KF={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function xJ(e,t){const n=nIe(e),r=FQ("type",{handlers:{root:GMe,element:YMe,text:KMe,comment:bJ,doctype:XMe,raw:QMe},unknown:JMe}),i={parser:n?new qF(KF):qF.getFragmentParser(void 0,KF),handle(l){r(l,i)},stitches:!1,options:t||{}};r(e,i),Yg(i,kl());const a=n?i.parser.document:i.parser.getFragment(),s=Gje(a,{file:i.options.file});return i.stitches&&Ob(s,"comment",function(l,c,u){const d=l;if(d.value.stitch&&u&&c!==void 0){const h=u.children;return h[c]=d.value.stitch,c}}),s.type==="root"&&s.children.length===1&&s.children[0].type===e.type?s.children[0]:s}function vJ(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function GMe(e,t){vJ(e.children,t)}function YMe(e,t){eIe(e,t),vJ(e.children,t),tIe(e,t)}function KMe(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:Jt.CHARACTER,chars:e.value,location:Rb(e)};Yg(t,kl(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function XMe(e,t){const n={type:Jt.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Rb(e)};Yg(t,kl(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function ZMe(e,t){t.stitches=!0;const n=rIe(e);if("children"in e&&"children"in n){const r=xJ({type:"root",children:e.children},t.options);n.children=r.children}bJ({type:"comment",value:{stitch:n}},t)}function bJ(e,t){const n=e.value,r={type:Jt.COMMENT,data:n,location:Rb(e)};Yg(t,kl(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function QMe(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,wJ(t,kl(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(WMe,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function JMe(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))ZMe(n,t);else{let r="";throw qMe.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Yg(e,t){wJ(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Mr.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function wJ(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function eIe(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Mr.PLAINTEXT)return;Yg(t,kl(e));const r=t.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:lh.html;i===lh.html&&n==="svg"&&(i=lh.svg);const a=lOe({...e,children:[]},{space:i===lh.svg?"svg":"html"}),s={type:Jt.START_TAG,tagName:n,tagID:Gg(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in a?a.attrs:[],location:Rb(e)};t.parser.currentToken=s,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function tIe(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&gOe.includes(n)||t.parser.tokenizer.state===Mr.PLAINTEXT)return;Yg(t,E2(e));const r={type:Jt.END_TAG,tagName:n,tagID:Gg(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Rb(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Mr.RCDATA||t.parser.tokenizer.state===Mr.RAWTEXT||t.parser.tokenizer.state===Mr.SCRIPT_DATA)&&(t.parser.tokenizer.state=Mr.DATA)}function nIe(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function Rb(e){const t=kl(e)||{line:void 0,column:void 0,offset:void 0},n=E2(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function rIe(e){return"children"in e?Wh({...e,children:[]}):Wh(e)}function iIe(e){return function(t,n){return xJ(t,{...e,file:n})}}const Ld=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],XF={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...Ld,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...Ld],h2:[["className","sr-only"]],img:[...Ld,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...Ld,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...Ld],table:[...Ld],ul:[...Ld,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},du={}.hasOwnProperty;function aIe(e,t){let n={type:"root",children:[]};const r={schema:t?{...XF,...t}:XF,stack:[]},i=EJ(r,e);return i&&(Array.isArray(i)?i.length===1?n=i[0]:n.children=i:n=i),n}function EJ(e,t){if(t&&typeof t=="object"){const n=t;switch(typeof n.type=="string"?n.type:""){case"comment":return sIe(e,n);case"doctype":return oIe(e,n);case"element":return lIe(e,n);case"root":return cIe(e,n);case"text":return uIe(e,n)}}}function sIe(e,t){if(e.schema.allowComments){const n=typeof t.value=="string"?t.value:"",r=n.indexOf("-->"),a={type:"comment",value:r<0?n:n.slice(0,r)};return Db(a,t),a}}function oIe(e,t){if(e.schema.allowDoctypes){const n={type:"doctype"};return Db(n,t),n}}function lIe(e,t){const n=typeof t.tagName=="string"?t.tagName:"";e.stack.push(n);const r=SJ(e,t.children),i=dIe(e,t.properties);e.stack.pop();let a=!1;if(n&&n!=="*"&&(!e.schema.tagNames||e.schema.tagNames.includes(n))&&(a=!0,e.schema.ancestors&&du.call(e.schema.ancestors,n))){const l=e.schema.ancestors[n];let c=-1;for(a=!1;++c<l.length;)e.stack.includes(l[c])&&(a=!0)}if(!a)return e.schema.strip&&!e.schema.strip.includes(n)?r:void 0;const s={type:"element",tagName:n,properties:i,children:r};return Db(s,t),s}function cIe(e,t){const r={type:"root",children:SJ(e,t.children)};return Db(r,t),r}function uIe(e,t){const r={type:"text",value:typeof t.value=="string"?t.value:""};return Db(r,t),r}function SJ(e,t){const n=[];if(Array.isArray(t)){const r=t;let i=-1;for(;++i<r.length;){const a=EJ(e,r[i]);a&&(Array.isArray(a)?n.push(...a):n.push(a))}}return n}function dIe(e,t){const n=e.stack[e.stack.length-1],r=e.schema.attributes,i=e.schema.required,a=r&&du.call(r,n)?r[n]:void 0,s=r&&du.call(r,"*")?r["*"]:void 0,l=t&&typeof t=="object"?t:{},c={};let u;for(u in l)if(du.call(l,u)){const d=l[u];let h=ZF(e,QF(a,u),u,d);h==null&&(h=ZF(e,QF(s,u),u,d)),h!=null&&(c[u]=h)}if(i&&du.call(i,n)){const d=i[n];for(u in d)du.call(d,u)&&!du.call(c,u)&&(c[u]=d[u])}return c}function ZF(e,t,n,r){return t?Array.isArray(r)?hIe(e,t,n,r):_J(e,t,n,r):void 0}function hIe(e,t,n,r){let i=-1;const a=[];for(;++i<r.length;){const s=_J(e,t,n,r[i]);(typeof s=="number"||typeof s=="string")&&a.push(s)}return a}function _J(e,t,n,r){if(!(typeof r!="boolean"&&typeof r!="number"&&typeof r!="string")&&fIe(e,n,r)){if(typeof t=="object"&&t.length>1){let i=!1,a=0;for(;++a<t.length;){const s=t[a];if(s&&typeof s=="object"&&"flags"in s){if(s.test(String(r))){i=!0;break}}else if(s===r){i=!0;break}}if(!i)return}return e.schema.clobber&&e.schema.clobberPrefix&&e.schema.clobber.includes(n)?e.schema.clobberPrefix+r:r}}function fIe(e,t,n){const r=e.schema.protocols&&du.call(e.schema.protocols,t)?e.schema.protocols[t]:void 0;if(!r||r.length===0)return!0;const i=String(n),a=i.indexOf(":"),s=i.indexOf("?"),l=i.indexOf("#"),c=i.indexOf("/");if(a<0||c>-1&&a>c||s>-1&&a>s||l>-1&&a>l)return!0;let u=-1;for(;++u<r.length;){const d=r[u];if(a===d.length&&i.slice(0,d.length)===d)return!0}return!1}function Db(e,t){const n=wZ(t);t.data&&(e.data=Wh(t.data)),n&&(e.position=n)}function QF(e,t){let n,r=-1;if(e)for(;++r<e.length;){const i=e[r],a=typeof i=="string"?i:i[0];if(a===t)return i;a==="data*"&&(n=i)}if(t.length>4&&t.slice(0,4).toLowerCase()==="data")return n}function mIe(e){return function(t){return aIe(t,e)}}const pIe={code:({node:e,className:t,children:n,...r})=>!/language-(\w+)/.exec(t||"")?o.jsx("code",{className:"bg-gray-100 px-1 rounded text-sm",...r,children:n}):o.jsx("pre",{className:"bg-gray-100 rounded p-2 overflow-x-auto text-sm",children:o.jsx("code",{className:t,...r,children:n})}),p:({children:e})=>o.jsx("p",{className:"mb-2 last:mb-0",children:e}),ul:({children:e})=>o.jsx("ul",{className:"list-disc list-inside mb-2",children:e}),ol:({children:e})=>o.jsx("ol",{className:"list-decimal list-inside mb-2",children:e}),h1:({children:e})=>o.jsx("h1",{className:"text-lg font-bold mb-2",children:e}),h2:({children:e})=>o.jsx("h2",{className:"text-base font-bold mb-2",children:e}),h3:({children:e})=>o.jsx("h3",{className:"text-sm font-bold mb-1",children:e})},JF=({content:e,isExpanded:t,onToggleExpand:n,isLongContent:r})=>{const i=r&&!t?e.substring(0,300)+"...":e;return o.jsxs("div",{className:"markdown-content prose prose-sm max-w-none text-inherit",children:[o.jsx(Mp,{rehypePlugins:[Rje,iIe,mIe],components:pIe,children:i}),r&&o.jsx(te,{variant:"ghost",size:"sm",onClick:n,className:"mt-2 h-6 px-2 text-xs hover:bg-gray-200",children:t?o.jsxs(o.Fragment,{children:[o.jsx(_D,{className:"h-3 w-3 mr-1"}),"Collapse"]}):o.jsxs(o.Fragment,{children:[o.jsx(xf,{className:"h-3 w-3 mr-1"}),"Expand"]})})]})},gIe=({message:e,isExpanded:t,onToggleExpand:n})=>{const r=e.metadata||{};w.useState(!1);const i=()=>{if(r.chartData){const s=JSON.stringify(r.chartData,null,2),l=new Blob([s],{type:"application/json"}),c=URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download=`${r.title||"chart-data"}.json`,u.click(),URL.revokeObjectURL(c)}};return(()=>{const{chartType:s,chartData:l,chartOptions:c}=r;if(!l||l.length===0)return o.jsx("div",{className:"flex items-center justify-center h-64 bg-gray-50 rounded-lg",children:o.jsx("div",{className:"text-gray-500",children:"No data available"})});const u=()=>{switch(s){case"bar":return d();case"line":return h();case"pie":return f();default:return m()}},d=()=>{const p=Math.max(...l.map(g=>g.value||0));return o.jsx("div",{className:"space-y-2",children:l.map((g,x)=>{const y=p>0?g.value/p*200:0;return o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-20 text-sm text-gray-600 truncate",children:g.label}),o.jsx("div",{className:"flex-1 bg-gray-200 rounded",children:o.jsx("div",{className:"bg-blue-500 rounded transition-all duration-300",style:{height:"20px",width:`${y}%`}})}),o.jsx("div",{className:"w-12 text-sm text-gray-600",children:g.value})]},x)})})},h=()=>{const p=l.map((x,y)=>({x:y*40,y:150-x.value/Math.max(...l.map(v=>v.value))*100})),g=p.reduce((x,y,v)=>x+(v===0?`M ${y.x} ${y.y}`:` L ${y.x} ${y.y}`),"");return o.jsxs("svg",{width:"100%",height:"200",viewBox:"0 0 400 200",className:"border rounded",children:[o.jsx("path",{d:g,stroke:"#3b82f6",strokeWidth:"2",fill:"none"}),p.map((x,y)=>o.jsx("circle",{cx:x.x,cy:x.y,r:"4",fill:"#3b82f6"},y))]})},f=()=>{const p=l.reduce((E,_)=>E+(_.value||0),0);let g=0;const x=80,y=100,v=100,b=l.map((E,_)=>{const S=E.value/p*360,C=g,T=g+S;g+=S;const j=y+x*Math.cos((C-90)*Math.PI/180),k=v+x*Math.sin((C-90)*Math.PI/180),O=y+x*Math.cos((T-90)*Math.PI/180),M=v+x*Math.sin((T-90)*Math.PI/180),B=S>180?1:0;return{path:`M ${y} ${v} L ${j} ${k} A ${x} ${x} 0 ${B} 1 ${O} ${M} Z`,color:`hsl(${_*360/l.length}, 70%, 50%)`,label:E.label,value:E.value}});return o.jsx("div",{className:"flex justify-center",children:o.jsx("svg",{width:"200",height:"200",viewBox:"0 0 200 200",children:b.map((E,_)=>o.jsx("g",{children:o.jsx("path",{d:E.path,fill:E.color,stroke:"white",strokeWidth:"1"})},_))})})},m=()=>o.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-semibold text-gray-700",children:r.title||"Data Visualization"}),o.jsx("div",{className:"text-sm text-gray-500 mt-2",children:r.description||e.content}),o.jsxs("div",{className:"mt-4 text-xs text-gray-400",children:["Chart Type: ",s||"unknown"]})]})});return o.jsxs("div",{className:`bg-white border rounded-lg p-4 ${t?"w-full":"w-full max-w-md"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:r.title||"Chart"}),o.jsx("p",{className:"text-sm text-gray-600",children:r.description||e.content})]}),o.jsxs("div",{className:"flex space-x-2",children:[r.exportable&&o.jsx(te,{variant:"ghost",size:"sm",onClick:i,className:"p-1 h-6 w-6",children:o.jsx(rc,{className:"h-3 w-3"})}),o.jsx(te,{variant:"ghost",size:"sm",onClick:n,className:"p-1 h-6 w-6",children:t?o.jsx(CD,{className:"h-3 w-3"}):o.jsx(tX,{className:"h-3 w-3"})})]})]}),o.jsx("div",{className:"overflow-x-auto",children:u()}),r.dataSource&&o.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Data Source: ",r.dataSource]})]})})()},Me=w.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,className:Be("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Me.displayName="Input";const yIe=({message:e,isExpanded:t,onToggleExpand:n})=>{const r=e.metadata||{},[i,a]=w.useState(null),[s,l]=w.useState("asc"),[c,u]=w.useState(""),[d,h]=w.useState(1),{tableData:f=[],tableHeaders:m=[],title:p="Data Table",description:g=e.content,sortable:x=!0,filterable:y=!0,exportable:v=!0,pagination:b=!0,pageSize:E=10}=r,_=M=>{i===M?l(s==="asc"?"desc":"asc"):(a(M),l("asc"))},S=w.useMemo(()=>{let M=f.filter(B=>c?Object.values(B).some(N=>String(N).toLowerCase().includes(c.toLowerCase())):!0);return i&&M.sort((B,N)=>{const D=B[i],P=N[i];return typeof D=="number"&&typeof P=="number"?s==="asc"?D-P:P-D:s==="asc"?String(D).localeCompare(String(P)):String(P).localeCompare(String(D))}),M},[f,c,i,s]),C=Math.ceil(S.length/E),T=(d-1)*E,j=S.slice(T,T+E),k=()=>{const M={headers:m,data:S,title:p,description:g,exportDate:new Date().toISOString()},B=JSON.stringify(M,null,2),N=new Blob([B],{type:"application/json"}),D=URL.createObjectURL(N),P=document.createElement("a");P.href=D,P.download=`${p.replace(/\s+/g,"-").toLowerCase()}-${Date.now()}.json`,P.click(),URL.revokeObjectURL(D)},O=()=>{if(S.length===0)return;const M=m.join(","),B=S.map(I=>m.map(U=>String(I[U]||"").replace(/,/g,";")).join(",")),N=[M,...B].join(`
`),D=new Blob([N],{type:"text/csv;charset=utf-8;"}),P=URL.createObjectURL(D),L=document.createElement("a");L.href=P,L.download=`${p.replace(/\s+/g,"-").toLowerCase()}-${Date.now()}.csv`,L.click(),URL.revokeObjectURL(P)};return o.jsxs("div",{className:`bg-white border rounded-lg ${t?"w-full":"w-full max-w-4xl"}`,children:[o.jsxs("div",{className:"p-4 border-b",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:p}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g})]}),o.jsxs("div",{className:"flex space-x-2",children:[v&&o.jsxs(o.Fragment,{children:[o.jsx(te,{variant:"ghost",size:"sm",onClick:k,className:"p-1 h-6 w-6",title:"Export as JSON",children:o.jsx(rc,{className:"h-3 w-3"})}),o.jsx(te,{variant:"ghost",size:"sm",onClick:O,className:"text-xs px-2 h-6",title:"Export as CSV",children:"CSV"})]}),o.jsx(te,{variant:"ghost",size:"sm",onClick:n,className:"p-1 h-6 w-6",children:t?"":"+"})]})]}),y&&o.jsx("div",{className:"mt-3",children:o.jsx(Me,{type:"text",placeholder:"Filter data...",value:c,onChange:M=>{u(M.target.value),h(1)},className:"max-w-xs"})})]}),o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsx("tr",{children:m.map((M,B)=>o.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-700 border-b",children:o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:M}),x&&o.jsx(te,{variant:"ghost",size:"sm",onClick:()=>_(M),className:"p-0 h-4 w-4",children:o.jsx(KK,{className:"h-3 w-3"})})]})},B))})}),o.jsx("tbody",{children:j.map((M,B)=>o.jsx("tr",{className:"hover:bg-gray-50",children:m.map((N,D)=>o.jsx("td",{className:"px-4 py-2 border-b text-gray-800",children:M[N]!==null&&M[N]!==void 0?String(M[N]):"-"},D))},B))})]}),S.length===0&&o.jsxs("div",{className:"text-center py-8 text-gray-500",children:["No data available",c&&" matching your filter"]})]}),b&&S.length>E&&o.jsxs("div",{className:"flex justify-between items-center p-4 border-t",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",T+1,"-",Math.min(T+E,S.length)," of ",S.length," entries"]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(te,{variant:"outline",size:"sm",onClick:()=>h(Math.max(1,d-1)),disabled:d===1,children:o.jsx(XK,{className:"h-4 w-4"})}),o.jsxs("span",{className:"px-2 py-1 text-sm",children:["Page ",d," of ",C]}),o.jsx(te,{variant:"outline",size:"sm",onClick:()=>h(Math.min(C,d+1)),disabled:d===C,children:o.jsx(SD,{className:"h-4 w-4"})})]})]})]})},xIe=({message:e})=>o.jsx("div",{className:"w-full max-w-md",children:o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-2",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),o.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),o.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),o.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Thinking..."})]})})}),vIe=({message:e})=>{const t=e.metadata||{};return o.jsx("div",{className:"w-full max-w-md",children:o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),o.jsx("span",{className:"text-sm font-medium text-blue-800",children:"System Message"}),t.priority&&o.jsx("span",{className:`text-xs px-2 py-1 rounded ${t.priority==="critical"?"bg-red-100 text-red-700":t.priority==="high"?"bg-orange-100 text-orange-700":t.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:t.priority})]}),o.jsx("div",{className:"text-sm text-blue-700",children:e.content}),t.timestamp&&o.jsx("div",{className:"text-xs text-blue-500 mt-1",children:new Date(t.timestamp).toLocaleTimeString()})]})})},bIe=({message:e})=>{const t=e.metadata||{};return o.jsx("div",{className:"w-full max-w-md",children:o.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3 mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),o.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Developer Info"})]}),o.jsxs("div",{className:"text-sm text-purple-700 space-y-2",children:[o.jsx("div",{children:e.content}),t.debugInfo&&o.jsxs("div",{className:"bg-purple-100 p-2 rounded text-xs",children:[o.jsx("div",{className:"font-medium mb-1",children:"Debug Info:"}),o.jsx("pre",{className:"whitespace-pre-wrap",children:t.debugInfo})]}),t.stackTrace&&t.stackTrace.length>0&&o.jsxs("div",{className:"bg-purple-100 p-2 rounded text-xs",children:[o.jsx("div",{className:"font-medium mb-1",children:"Stack Trace:"}),o.jsx("pre",{className:"whitespace-pre-wrap",children:t.stackTrace.join(`
`)})]})]})]})})},wIe=({message:e})=>{const t=e.metadata||{};return o.jsx("div",{className:"w-full max-w-md",children:o.jsxs("div",{className:`border rounded-lg p-3 mb-2 ${t.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${t.success?"bg-green-400":"bg-red-400"}`}),o.jsxs("span",{className:`text-sm font-medium ${t.success?"text-green-800":"text-red-800"}`,children:["Tool: ",t.toolName||"Unknown"]}),o.jsx("span",{className:`text-xs px-2 py-1 rounded ${t.success?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:t.success?"Success":"Failed"})]}),o.jsx("div",{className:`text-sm ${t.success?"text-green-700":"text-red-700"}`,children:e.content}),t.toolResult&&o.jsxs("div",{className:`mt-2 p-2 rounded text-xs ${t.success?"bg-green-100":"bg-red-100"}`,children:[o.jsx("div",{className:"font-medium mb-1",children:"Result:"}),o.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(t.toolResult,null,2)})]}),t.errorMessage&&o.jsxs("div",{className:"mt-2 p-2 bg-red-100 rounded text-xs",children:[o.jsx("div",{className:"font-medium mb-1 text-red-700",children:"Error:"}),o.jsx("div",{className:"text-red-600",children:t.errorMessage})]})]})})},EIe=({message:e,isExpanded:t,onToggleExpand:n,onShowAnalysis:r})=>{var s;const i=e.metadata||{},a=e.content.length>300;return e.type==="chart"?o.jsx(gIe,{message:e,isExpanded:t,onToggleExpand:n}):e.type==="table"?o.jsx(yIe,{message:e,isExpanded:t,onToggleExpand:n}):o.jsx("div",{className:`max-w-xs lg:max-w-md px-4 py-3 rounded-2xl shadow-lg border transition-all duration-300 hover:shadow-xl transform hover:scale-[1.02] ${e.type==="user"?"bg-gradient-to-r from-blue-500 via-blue-600 to-indigo-600 text-white border-blue-200 shadow-blue-100":"bg-gradient-to-r from-white to-slate-50 text-slate-800 border-slate-200 hover:border-slate-300 shadow-slate-100"}`,children:e.type==="assistant"?o.jsxs("div",{children:[o.jsx(JF,{content:e.content,isExpanded:t,onToggleExpand:n,isLongContent:a}),e.content.includes("[Click to view detailed analysis]")&&r&&o.jsx("button",{onClick:l=>{l.preventDefault(),r()},className:"mt-3 px-4 py-2 text-sm bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-600 hover:from-blue-100 hover:to-indigo-100 hover:text-blue-700 rounded-lg border border-blue-200 hover:border-blue-300 transition-all duration-200 font-medium shadow-sm hover:shadow-md",children:" "}),i.confidence&&o.jsxs("div",{className:"text-xs mt-3 text-slate-600 flex items-center",children:[o.jsx("span",{className:"inline-block w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),": ",(i.confidence*100).toFixed(1),"%"]}),e.timestamp&&o.jsxs("div",{className:"text-xs mt-2 text-slate-500 flex items-center",children:[o.jsx("span",{className:"inline-block w-2 h-2 bg-slate-400 rounded-full mr-2"}),new Date(e.timestamp).toLocaleTimeString()]})]}):o.jsxs("div",{children:[o.jsx(JF,{content:e.content,isExpanded:t,onToggleExpand:n,isLongContent:a}),((s=e.metadata)==null?void 0:s.timestamp)&&o.jsxs("div",{className:"text-xs mt-2 text-white/80 flex items-center",children:[o.jsx("span",{className:"inline-block w-2 h-2 bg-white/50 rounded-full mr-2"}),new Date(e.metadata.timestamp).toLocaleTimeString()]})]})})},e8=({message:e,index:t,isExpanded:n,onToggleExpand:r,onShowAnalysis:i})=>{const a=()=>{switch(e.type){case"thinking":return o.jsx(xIe,{message:e,isExpanded:n,onToggleExpand:()=>r(t),onShowAnalysis:i});case"system":return o.jsx(vIe,{message:e,isExpanded:n,onToggleExpand:()=>r(t),onShowAnalysis:i});case"developer":return o.jsx(bIe,{message:e,isExpanded:n,onToggleExpand:()=>r(t),onShowAnalysis:i});case"tool":return o.jsx(wIe,{message:e,isExpanded:n,onToggleExpand:()=>r(t),onShowAnalysis:i});default:return o.jsx(EIe,{message:e,isExpanded:n,onToggleExpand:()=>r(t),onShowAnalysis:i})}};return o.jsx("div",{className:`flex ${e.type==="user"?"justify-end":"justify-start"}`,children:a()})},t8=({inputValue:e,onInputChange:t,onKeyPress:n,onSend:r,isSubmitting:i,placeholder:a="Ask anything, create anything",inputRef:s})=>o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-gradient-to-r from-white to-slate-50 border border-slate-200 rounded-2xl shadow-lg p-4 flex items-center gap-3 transition-all duration-300 hover:shadow-xl focus-within:border-blue-300 focus-within:shadow-blue-100/50 transform hover:scale-[1.01]",children:[o.jsx("div",{className:"flex-1",children:o.jsx("input",{ref:s,type:"text",value:e,onChange:t,onKeyDown:n,placeholder:a,className:"w-full bg-transparent border-none outline-none text-slate-800 placeholder-slate-400 text-sm leading-relaxed transition-all duration-200 focus:placeholder-slate-600",disabled:i})}),o.jsx(te,{onClick:r,disabled:i||!e.trim(),size:"sm",className:`rounded-full h-10 w-10 p-0 transition-all duration-300 transform hover:scale-110 active:scale-95 ${e.trim()&&!i?"bg-gradient-to-r from-blue-500 via-blue-600 to-indigo-600 hover:from-blue-600 hover:via-blue-700 hover:to-indigo-700 text-white shadow-md hover:shadow-lg":"bg-slate-100 text-slate-400 cursor-not-allowed hover:bg-slate-200"}`,children:i?o.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):o.jsx(l2,{className:"h-4 w-4"})})]})}),SIe=({inputValue:e,onInputChange:t,onKeyPress:n,onSend:r,isSubmitting:i,placeholder:a="Ask about your analysis report",inputRef:s,suggestions:l,onSuggestionClick:c})=>o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsx("div",{className:"bg-gradient-to-r from-white to-slate-50 border border-slate-200 rounded-2xl shadow-lg p-4 flex items-center gap-3 transition-all duration-300 hover:shadow-xl focus-within:border-blue-300 focus-within:shadow-blue-100/50 transform hover:scale-[1.01]",children:o.jsx("div",{className:"flex-1 relative",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{ref:s,type:"text",value:e,onChange:t,onKeyDown:n,placeholder:a,className:"w-full bg-transparent border-none outline-none text-slate-800 placeholder-slate-400 text-base py-2 pr-8 transition-all duration-200 focus:placeholder-slate-600",disabled:i}),o.jsx(te,{onClick:r,disabled:i||!e.trim(),size:"sm",className:`rounded-full h-8 w-8 p-0 transition-all duration-300 transform hover:scale-110 active:scale-95 ${e.trim()&&!i?"bg-gradient-to-r from-blue-500 via-blue-600 to-indigo-600 hover:from-blue-600 hover:via-blue-700 hover:to-indigo-700 text-white shadow-md hover:shadow-lg":"bg-slate-100 text-slate-400 cursor-not-allowed hover:bg-slate-200"}`,children:i?o.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):o.jsx(l2,{className:"h-4 w-4"})})]})})}),l&&l.length>0&&o.jsx("div",{className:"mt-4",children:o.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:l.map((u,d)=>o.jsx("button",{onClick:()=>c==null?void 0:c(u),className:"px-4 py-2 bg-gradient-to-r from-slate-100 to-slate-50 text-slate-700 rounded-full text-sm hover:from-slate-200 hover:to-slate-100 transition-all duration-200 border border-slate-200 hover:border-slate-300 shadow-sm hover:shadow-md transform hover:scale-105 active:scale-95",children:u},d))})})]}),CJ=({isSubmitting:e,chatHistory:t,onSendMessage:n,showSplitView:r,onBack:i,onClose:a,onShowAnalysis:s,suggestions:l,onLoadSuggestions:c,onReportGenerated:u})=>{const{inputValue:d,setInputValue:h,expandedMessages:f,inputRef:m,visibleMessages:p,handleKeyPress:g,handleInputChange:x,toggleMessageExpansion:y,handleSendButtonClick:v}=T_e({onSendMessage:n,onReportGenerated:u,chatHistory:t});return r?o.jsx("div",{className:"flex h-full bg-gradient-to-br from-slate-50 via-white to-blue-50",children:o.jsxs("div",{className:"flex-1 border-r border-slate-200 flex flex-col",children:[o.jsx(N_e,{onBack:i,onClose:a}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:p.map((b,E)=>o.jsx(e8,{message:b,index:E,isExpanded:f.has(E),onToggleExpand:y,onShowAnalysis:s},`${b.type}-${E}-${b.content.slice(0,50)}`))}),o.jsx(t8,{inputRef:m,inputValue:d,onInputChange:x,onKeyPress:g,onSend:v,isSubmitting:e})]})}):t.length===0?o.jsx("div",{className:"flex flex-col h-full bg-gradient-to-br from-slate-50 via-white to-blue-50",children:o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs("div",{className:"text-center p-8",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-purple-100 p-4 rounded-full shadow-lg",children:o.jsx(ga,{className:"w-12 h-12 text-blue-600"})})}),o.jsx("h1",{className:"text-4xl font-bold mb-3 text-slate-800 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Intelligent Conversation Assistant"}),o.jsx(SIe,{inputRef:m,inputValue:d,onInputChange:x,onKeyPress:g,onSend:v,isSubmitting:e,suggestions:l,onSuggestionClick:b=>{var E;h(b),(E=m.current)==null||E.focus()}})]})})}):o.jsxs("div",{className:"flex flex-col h-full bg-gradient-to-br from-slate-50 via-white to-blue-50",children:[o.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[p.map((b,E)=>o.jsx(e8,{message:b,index:E,isExpanded:f.has(E),onToggleExpand:y,onShowAnalysis:s},`${b.type}-${E}-${b.content.slice(0,50)}`)),e&&o.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-white rounded-xl border border-slate-200 shadow-lg transform transition-all duration-300 hover:shadow-xl",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 p-3 rounded-full shadow-sm",children:o.jsx(yE,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),o.jsx("span",{className:"text-sm font-medium",children:"AI ..."})]})]})]}),o.jsx(t8,{inputRef:m,inputValue:d,onInputChange:x,onKeyPress:g,onSend:v,isSubmitting:e})]})};function n8(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function _Ie(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function CIe(e,t,n){const i=jb((n||{}).ignore||[]),a=TIe(t);let s=-1;for(;++s<a.length;)qZ(e,"text",l);function l(u,d){let h=-1,f;for(;++h<d.length;){const m=d[h],p=f?f.children:void 0;if(i(m,p?p.indexOf(m):void 0,f))return;f=m}if(f)return c(u,d)}function c(u,d){const h=d[d.length-1],f=a[s][0],m=a[s][1];let p=0;const x=h.children.indexOf(u);let y=!1,v=[];f.lastIndex=0;let b=f.exec(u.value);for(;b;){const E=b.index,_={index:b.index,input:b.input,stack:[...d,u]};let S=m(...b,_);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=E+1:(p!==E&&v.push({type:"text",value:u.value.slice(p,E)}),Array.isArray(S)?v.push(...S):S&&v.push(S),p=E+b[0].length,y=!0),!f.global)break;b=f.exec(u.value)}return y?(p<u.value.length&&v.push({type:"text",value:u.value.slice(p)}),h.children.splice(x,1,...v)):v=[u],x+v.length}}function TIe(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([NIe(i[0]),kIe(i[1])])}return t}function NIe(e){return typeof e=="string"?new RegExp(_Ie(e),"g"):e}function kIe(e){return typeof e=="function"?e:function(){return e}}const Pk="phrasing",Mk=["autolink","link","image","label"];function AIe(){return{transforms:[DIe],enter:{literalAutolink:OIe,literalAutolinkEmail:Ik,literalAutolinkHttp:Ik,literalAutolinkWww:Ik},exit:{literalAutolink:RIe,literalAutolinkEmail:IIe,literalAutolinkHttp:PIe,literalAutolinkWww:MIe}}}function jIe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Pk,notInConstruct:Mk},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Pk,notInConstruct:Mk},{character:":",before:"[ps]",after:"\\/",inConstruct:Pk,notInConstruct:Mk}]}}function OIe(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Ik(e){this.config.enter.autolinkProtocol.call(this,e)}function PIe(e){this.config.exit.autolinkProtocol.call(this,e)}function MIe(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function IIe(e){this.config.exit.autolinkEmail.call(this,e)}function RIe(e){this.exit(e)}function DIe(e){CIe(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,LIe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),$Ie]],{ignore:["link","linkReference"]})}function LIe(e,t,n,r,i){let a="";if(!TJ(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!BIe(n)))return!1;const s=FIe(n+r);if(!s[0])return!1;const l={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[l,{type:"text",value:s[1]}]:l}function $Ie(e,t,n,r){return!TJ(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function BIe(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function FIe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=n8(e,"(");let a=n8(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function TJ(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Vh(n)||S2(n))&&(!t||n!==47)}NJ.peek=KIe;function zIe(){this.buffer()}function UIe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function HIe(){this.buffer()}function VIe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function WIe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=jo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function qIe(e){this.exit(e)}function GIe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=jo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function YIe(e){this.exit(e)}function KIe(){return"["}function NJ(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const s=n.enter("footnoteReference"),l=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),l(),s(),a+=i.move("]"),a}function XIe(){return{enter:{gfmFootnoteCallString:zIe,gfmFootnoteCall:UIe,gfmFootnoteDefinitionLabelString:HIe,gfmFootnoteDefinition:VIe},exit:{gfmFootnoteCallString:WIe,gfmFootnoteCall:qIe,gfmFootnoteDefinitionLabelString:GIe,gfmFootnoteDefinition:YIe}}}function ZIe(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:NJ},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,s){const l=a.createTracker(s);let c=l.move("[^");const u=a.enter("footnoteDefinition"),d=a.enter("label");return c+=l.move(a.safe(a.associationId(r),{before:c,after:"]"})),d(),c+=l.move("]:"),r.children&&r.children.length>0&&(l.shift(4),c+=l.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,l.current()),t?kJ:QIe))),u(),c}}function QIe(e,t,n){return t===0?e:kJ(e,t,n)}function kJ(e,t,n){return(n?"":"    ")+e}const JIe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];AJ.peek=iRe;function eRe(){return{canContainEols:["delete"],enter:{strikethrough:nRe},exit:{strikethrough:rRe}}}function tRe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:JIe}],handlers:{delete:AJ}}}function nRe(e){this.enter({type:"delete",children:[]},e)}function rRe(e){this.exit(e)}function AJ(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function iRe(){return"~"}function aRe(e){return e.length}function sRe(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||aRe,a=[],s=[],l=[],c=[];let u=0,d=-1;for(;++d<e.length;){const g=[],x=[];let y=-1;for(e[d].length>u&&(u=e[d].length);++y<e[d].length;){const v=oRe(e[d][y]);if(n.alignDelimiters!==!1){const b=i(v);x[y]=b,(c[y]===void 0||b>c[y])&&(c[y]=b)}g.push(v)}s[d]=g,l[d]=x}let h=-1;if(typeof r=="object"&&"length"in r)for(;++h<u;)a[h]=r8(r[h]);else{const g=r8(r);for(;++h<u;)a[h]=g}h=-1;const f=[],m=[];for(;++h<u;){const g=a[h];let x="",y="";g===99?(x=":",y=":"):g===108?x=":":g===114&&(y=":");let v=n.alignDelimiters===!1?1:Math.max(1,c[h]-x.length-y.length);const b=x+"-".repeat(v)+y;n.alignDelimiters!==!1&&(v=x.length+v+y.length,v>c[h]&&(c[h]=v),m[h]=v),f[h]=b}s.splice(1,0,f),l.splice(1,0,m),d=-1;const p=[];for(;++d<s.length;){const g=s[d],x=l[d];h=-1;const y=[];for(;++h<u;){const v=g[h]||"";let b="",E="";if(n.alignDelimiters!==!1){const _=c[h]-(x[h]||0),S=a[h];S===114?b=" ".repeat(_):S===99?_%2?(b=" ".repeat(_/2+.5),E=" ".repeat(_/2-.5)):(b=" ".repeat(_/2),E=b):E=" ".repeat(_)}n.delimiterStart!==!1&&!h&&y.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&v==="")&&(n.delimiterStart!==!1||h)&&y.push(" "),n.alignDelimiters!==!1&&y.push(b),y.push(v),n.alignDelimiters!==!1&&y.push(E),n.padding!==!1&&y.push(" "),(n.delimiterEnd!==!1||h!==u-1)&&y.push("|")}p.push(n.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return p.join(`
`)}function oRe(e){return e==null?"":String(e)}function r8(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function lRe(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const s=n.indentLines(n.containerFlow(e,a.current()),cRe);return i(),s}function cRe(e,t,n){return">"+(n?"":" ")+e}function uRe(e,t){return i8(e,t.inConstruct,!0)&&!i8(e,t.notInConstruct,!1)}function i8(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function a8(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&uRe(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function dRe(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>s&&(s=a):a=1,i=r+t.length,r=n.indexOf(t,i);return s}function hRe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function fRe(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function mRe(e,t,n,r){const i=fRe(n),a=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(hRe(e,n)){const h=n.enter("codeIndented"),f=n.indentLines(a,pRe);return h(),f}const l=n.createTracker(r),c=i.repeat(Math.max(dRe(a,i)+1,3)),u=n.enter("codeFenced");let d=l.move(c);if(e.lang){const h=n.enter(`codeFencedLang${s}`);d+=l.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...l.current()})),h()}if(e.lang&&e.meta){const h=n.enter(`codeFencedMeta${s}`);d+=l.move(" "),d+=l.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...l.current()})),h()}return d+=l.move(`
`),a&&(d+=l.move(a+`
`)),d+=l.move(c),u(),d}function pRe(e,t,n){return(n?"":"    ")+e}function v3(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function gRe(e,t,n,r){const i=v3(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("[");return u+=c.move(n.safe(n.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),l(),e.title&&(l=n.enter(`title${a}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),l()),s(),u}function yRe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function rv(e){return"&#x"+e.toString(16).toUpperCase()+";"}function MS(e,t,n){const r=Pp(e),i=Pp(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}jJ.peek=xRe;function jJ(e,t,n,r){const i=yRe(n),a=n.enter("emphasis"),s=n.createTracker(r),l=s.move(i);let c=s.move(n.containerPhrasing(e,{after:i,before:l,...s.current()}));const u=c.charCodeAt(0),d=MS(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(c=rv(u)+c.slice(1));const h=c.charCodeAt(c.length-1),f=MS(r.after.charCodeAt(0),h,i);f.inside&&(c=c.slice(0,-1)+rv(h));const m=s.move(i);return a(),n.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},l+c+m}function xRe(e,t,n){return n.options.emphasis||"*"}function vRe(e,t){let n=!1;return Ob(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,LO}),!!((!e.depth||e.depth<3)&&QD(e)&&(t.options.setext||n))}function bRe(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(vRe(e,n)){const d=n.enter("headingSetext"),h=n.enter("phrasing"),f=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return h(),d(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const s="#".repeat(i),l=n.enter("headingAtx"),c=n.enter("phrasing");a.move(s+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(u)&&(u=rv(u.charCodeAt(0))+u.slice(1)),u=u?s+" "+u:s,n.options.closeAtx&&(u+=" "+s),c(),l(),u}OJ.peek=wRe;function OJ(e){return e.value||""}function wRe(){return"<"}PJ.peek=ERe;function PJ(e,t,n,r){const i=v3(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("![");return u+=c.move(n.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),l(),e.title&&(l=n.enter(`title${a}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),l()),u+=c.move(")"),s(),u}function ERe(){return"!"}MJ.peek=SRe;function MJ(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");const u=n.safe(e.alt,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const h=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return s(),n.stack=d,a(),i==="full"||!u||u!==h?c+=l.move(h+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function SRe(){return"!"}IJ.peek=_Re;function IJ(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const s=n.unsafe[a],l=n.compilePattern(s);let c;if(s.atBreak)for(;c=l.exec(r);){let u=c.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(c.index+1)}}return i+r+i}function _Re(){return"`"}function RJ(e,t){const n=QD(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}DJ.peek=CRe;function DJ(e,t,n,r){const i=v3(n),a=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let l,c;if(RJ(e,n)){const d=n.stack;n.stack=[],l=n.enter("autolink");let h=s.move("<");return h+=s.move(n.containerPhrasing(e,{before:h,after:">",...s.current()})),h+=s.move(">"),l(),n.stack=d,h}l=n.enter("link"),c=n.enter("label");let u=s.move("[");return u+=s.move(n.containerPhrasing(e,{before:u,after:"](",...s.current()})),u+=s.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(c=n.enter("destinationRaw"),u+=s.move(n.safe(e.url,{before:u,after:e.title?" ":")",...s.current()}))),c(),e.title&&(c=n.enter(`title${a}`),u+=s.move(" "+i),u+=s.move(n.safe(e.title,{before:u,after:i,...s.current()})),u+=s.move(i),c()),u+=s.move(")"),l(),u}function CRe(e,t,n){return RJ(e,n)?"<":"["}LJ.peek=TRe;function LJ(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");const u=n.containerPhrasing(e,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const h=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return s(),n.stack=d,a(),i==="full"||!u||u!==h?c+=l.move(h+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function TRe(){return"["}function b3(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function NRe(e){const t=b3(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function kRe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function $J(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function ARe(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let s=e.ordered?kRe(n):b3(n);const l=e.ordered?s==="."?")":".":NRe(n);let c=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),$J(n)===s&&d){let h=-1;for(;++h<e.children.length;){const f=e.children[h];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(s=l),n.bulletCurrent=s;const u=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=a,i(),u}function jRe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function ORe(e,t,n,r){const i=jRe(n);let a=n.bulletCurrent||b3(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const l=n.createTracker(r);l.move(a+" ".repeat(s-a.length)),l.shift(s);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,l.current()),d);return c(),u;function d(h,f,m){return f?(m?"":" ".repeat(s))+h:(m?a:a+" ".repeat(s-a.length))+h}}function PRe(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),s=n.containerPhrasing(e,r);return a(),i(),s}const MRe=jb(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function IRe(e,t,n,r){return(e.children.some(function(s){return MRe(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function RRe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}BJ.peek=DRe;function BJ(e,t,n,r){const i=RRe(n),a=n.enter("strong"),s=n.createTracker(r),l=s.move(i+i);let c=s.move(n.containerPhrasing(e,{after:i,before:l,...s.current()}));const u=c.charCodeAt(0),d=MS(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(c=rv(u)+c.slice(1));const h=c.charCodeAt(c.length-1),f=MS(r.after.charCodeAt(0),h,i);f.inside&&(c=c.slice(0,-1)+rv(h));const m=s.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},l+c+m}function DRe(e,t,n){return n.options.strong||"*"}function LRe(e,t,n,r){return n.safe(e.value,r)}function $Re(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function BRe(e,t,n){const r=($J(n)+(n.options.ruleSpaces?" ":"")).repeat($Re(n));return n.options.ruleSpaces?r.slice(0,-1):r}const FJ={blockquote:lRe,break:a8,code:mRe,definition:gRe,emphasis:jJ,hardBreak:a8,heading:bRe,html:OJ,image:PJ,imageReference:MJ,inlineCode:IJ,link:DJ,linkReference:LJ,list:ARe,listItem:ORe,paragraph:PRe,root:IRe,strong:BJ,text:LRe,thematicBreak:BRe};function FRe(){return{enter:{table:zRe,tableData:s8,tableHeader:s8,tableRow:HRe},exit:{codeText:VRe,table:URe,tableData:Rk,tableHeader:Rk,tableRow:Rk}}}function zRe(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function URe(e){this.exit(e),this.data.inTable=void 0}function HRe(e){this.enter({type:"tableRow",children:[]},e)}function Rk(e){this.exit(e)}function s8(e){this.enter({type:"tableCell",children:[]},e)}function VRe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,WRe));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function WRe(e,t){return t==="|"?t:e}function qRe(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:s,tableCell:c,tableRow:l}};function s(m,p,g,x){return u(d(m,g,x),m.align)}function l(m,p,g,x){const y=h(m,g,x),v=u([y]);return v.slice(0,v.indexOf(`
`))}function c(m,p,g,x){const y=g.enter("tableCell"),v=g.enter("phrasing"),b=g.containerPhrasing(m,{...x,before:a,after:a});return v(),y(),b}function u(m,p){return sRe(m,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function d(m,p,g){const x=m.children;let y=-1;const v=[],b=p.enter("table");for(;++y<x.length;)v[y]=h(x[y],p,g);return b(),v}function h(m,p,g){const x=m.children;let y=-1;const v=[],b=p.enter("tableRow");for(;++y<x.length;)v[y]=c(x[y],m,p,g);return b(),v}function f(m,p,g){let x=FJ.inlineCode(m,p,g);return g.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}function GRe(){return{exit:{taskListCheckValueChecked:o8,taskListCheckValueUnchecked:o8,paragraph:KRe}}}function YRe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:XRe}}}function o8(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function KRe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const l=i[a];if(l.type==="paragraph"){s=l;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function XRe(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",l=n.createTracker(r);a&&l.move(s);let c=FJ.listItem(e,t,n,{...r,...l.current()});return a&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+s}}function ZRe(){return[AIe(),XIe(),eRe(),FRe(),GRe()]}function QRe(e){return{extensions:[jIe(),ZIe(e),tRe(),qRe(e),YRe()]}}const JRe={tokenize:aDe,partial:!0},zJ={tokenize:sDe,partial:!0},UJ={tokenize:oDe,partial:!0},HJ={tokenize:lDe,partial:!0},eDe={tokenize:cDe,partial:!0},VJ={name:"wwwAutolink",tokenize:rDe,previous:qJ},WJ={name:"protocolAutolink",tokenize:iDe,previous:GJ},Lc={name:"emailAutolink",tokenize:nDe,previous:YJ},Al={};function tDe(){return{text:Al}}let $d=48;for(;$d<123;)Al[$d]=Lc,$d++,$d===58?$d=65:$d===91&&($d=97);Al[43]=Lc;Al[45]=Lc;Al[46]=Lc;Al[95]=Lc;Al[72]=[Lc,WJ];Al[104]=[Lc,WJ];Al[87]=[Lc,VJ];Al[119]=[Lc,VJ];function nDe(e,t,n){const r=this;let i,a;return s;function s(h){return!KO(h)||!YJ.call(r,r.previous)||w3(r.events)?n(h):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(h))}function l(h){return KO(h)?(e.consume(h),l):h===64?(e.consume(h),c):n(h)}function c(h){return h===46?e.check(eDe,d,u)(h):h===45||h===95||Ui(h)?(a=!0,e.consume(h),c):d(h)}function u(h){return e.consume(h),i=!0,c}function d(h){return a&&i&&sa(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(h)):n(h)}}function rDe(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!qJ.call(r,r.previous)||w3(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(JRe,e.attempt(zJ,e.attempt(UJ,a),n),n)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function iDe(e,t,n){const r=this;let i="",a=!1;return s;function s(h){return(h===72||h===104)&&GJ.call(r,r.previous)&&!w3(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),e.consume(h),l):n(h)}function l(h){if(sa(h)&&i.length<5)return i+=String.fromCodePoint(h),e.consume(h),l;if(h===58){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(h),c}return n(h)}function c(h){return h===47?(e.consume(h),a?u:(a=!0,c)):n(h)}function u(h){return h===null||CS(h)||Rn(h)||Vh(h)||S2(h)?n(h):e.attempt(zJ,e.attempt(UJ,d),n)(h)}function d(h){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(h)}}function aDe(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),a):n(s)}function a(s){return s===null?n(s):t(s)}}function sDe(e,t,n){let r,i,a;return s;function s(u){return u===46||u===95?e.check(HJ,c,l)(u):u===null||Rn(u)||Vh(u)||u!==45&&S2(u)?c(u):(a=!0,e.consume(u),s)}function l(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),s}function c(u){return i||r||!a?n(u):t(u)}}function oDe(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(HJ,t,a)(s):s===null||Rn(s)||Vh(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&r++,e.consume(s),i}}function lDe(e,t,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),r):l===38?(e.consume(l),a):l===93?(e.consume(l),i):l===60||l===null||Rn(l)||Vh(l)?t(l):n(l)}function i(l){return l===null||l===40||l===91||Rn(l)||Vh(l)?t(l):r(l)}function a(l){return sa(l)?s(l):n(l)}function s(l){return l===59?(e.consume(l),r):sa(l)?(e.consume(l),s):n(l)}}function cDe(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return Ui(a)?n(a):t(a)}}function qJ(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Rn(e)}function GJ(e){return!sa(e)}function YJ(e){return!(e===47||KO(e))}function KO(e){return e===43||e===45||e===46||e===95||Ui(e)}function w3(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const uDe={tokenize:xDe,partial:!0};function dDe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:pDe,continuation:{tokenize:gDe},exit:yDe}},text:{91:{name:"gfmFootnoteCall",tokenize:mDe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:hDe,resolveTo:fDe}}}}function hDe(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){s=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return l;function l(c){if(!s||!s._balanced)return n(c);const u=jo(r.sliceSerialize({start:s.end,end:r.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function fDe(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},l=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...l),e}function mDe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,s;return l;function l(h){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),c}function c(h){return h!==94?n(h):(e.enter("gfmFootnoteCallMarker"),e.consume(h),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(h){if(a>999||h===93&&!s||h===null||h===91||Rn(h))return n(h);if(h===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes(jo(r.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(h)}return Rn(h)||(s=!0),a++,e.consume(h),h===92?d:u}function d(h){return h===91||h===92||h===93?(e.consume(h),a++,u):u(h)}}function pDe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0,l;return c;function c(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(p)}function d(p){if(s>999||p===93&&!l||p===null||p===91||Rn(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return a=jo(r.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return Rn(p)||(l=!0),s++,e.consume(p),p===92?h:d}function h(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}function f(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(a)||i.push(a),un(e,m,"gfmFootnoteDefinitionWhitespace")):n(p)}function m(p){return t(p)}}function gDe(e,t,n){return e.check(Ab,t,e.attempt(uDe,t,n))}function yDe(e){e.exit("gfmFootnoteDefinition")}function xDe(e,t,n){const r=this;return un(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):n(a)}}function vDe(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,l){let c=-1;for(;++c<s.length;)if(s[c][0]==="enter"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._close){let u=c;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[c][1].end.offset-s[c][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[c][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[c][1].end)},h={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[c][1].start)},f=[["enter",d,l],["enter",s[u][1],l],["exit",s[u][1],l],["enter",h,l]],m=l.parser.constructs.insideSpan.null;m&&hs(f,f.length,0,_2(m,s.slice(u+1,c),l)),hs(f,f.length,0,[["exit",h,l],["enter",s[c][1],l],["exit",s[c][1],l],["exit",d,l]]),hs(s,u-1,c-u+3,f),c=u+f.length-2;break}}for(c=-1;++c<s.length;)s[c][1].type==="strikethroughSequenceTemporary"&&(s[c][1].type="data");return s}function a(s,l,c){const u=this.previous,d=this.events;let h=0;return f;function f(p){return u===126&&d[d.length-1][1].type!=="characterEscape"?c(p):(s.enter("strikethroughSequenceTemporary"),m(p))}function m(p){const g=Pp(u);if(p===126)return h>1?c(p):(s.consume(p),h++,m);if(h<2&&!n)return c(p);const x=s.exit("strikethroughSequenceTemporary"),y=Pp(p);return x._open=!y||y===2&&!!g,x._close=!g||g===2&&!!y,l(p)}}}class bDe{constructor(){this.map=[]}add(t,n,r){wDe(this,t,n,r)}consume(t){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function wDe(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function EDe(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function SDe(){return{flow:{null:{name:"table",tokenize:_De,resolveAll:CDe}}}}function _De(e,t,n){const r=this;let i=0,a=0,s;return l;function l(k){let O=r.events.length-1;for(;O>-1;){const N=r.events[O][1].type;if(N==="lineEnding"||N==="linePrefix")O--;else break}const M=O>-1?r.events[O][1].type:null,B=M==="tableHead"||M==="tableRow"?S:c;return B===S&&r.parser.lazy[r.now().line]?n(k):B(k)}function c(k){return e.enter("tableHead"),e.enter("tableRow"),u(k)}function u(k){return k===124||(s=!0,a+=1),d(k)}function d(k){return k===null?n(k):kt(k)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),m):n(k):nn(k)?un(e,d,"whitespace")(k):(a+=1,s&&(s=!1,i+=1),k===124?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),s=!0,d):(e.enter("data"),h(k)))}function h(k){return k===null||k===124||Rn(k)?(e.exit("data"),d(k)):(e.consume(k),k===92?f:h)}function f(k){return k===92||k===124?(e.consume(k),h):h(k)}function m(k){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(k):(e.enter("tableDelimiterRow"),s=!1,nn(k)?un(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):p(k))}function p(k){return k===45||k===58?x(k):k===124?(s=!0,e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),g):_(k)}function g(k){return nn(k)?un(e,x,"whitespace")(k):x(k)}function x(k){return k===58?(a+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),y):k===45?(a+=1,y(k)):k===null||kt(k)?E(k):_(k)}function y(k){return k===45?(e.enter("tableDelimiterFiller"),v(k)):_(k)}function v(k){return k===45?(e.consume(k),v):k===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),b):(e.exit("tableDelimiterFiller"),b(k))}function b(k){return nn(k)?un(e,E,"whitespace")(k):E(k)}function E(k){return k===124?p(k):k===null||kt(k)?!s||i!==a?_(k):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(k)):_(k)}function _(k){return n(k)}function S(k){return e.enter("tableRow"),C(k)}function C(k){return k===124?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),C):k===null||kt(k)?(e.exit("tableRow"),t(k)):nn(k)?un(e,C,"whitespace")(k):(e.enter("data"),T(k))}function T(k){return k===null||k===124||Rn(k)?(e.exit("data"),C(k)):(e.consume(k),k===92?j:T)}function j(k){return k===92||k===124?(e.consume(k),T):T(k)}}function CDe(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],l=!1,c=0,u,d,h;const f=new bDe;for(;++n<e.length;){const m=e[n],p=m[1];m[0]==="enter"?p.type==="tableHead"?(l=!1,c!==0&&(l8(f,t,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",u,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,h=void 0,a=[0,0,0,0],s=[0,n+1,0,0],l&&(l=!1,d={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",d,t]])),i=p.type==="tableDelimiterRow"?2:d?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],h=uw(f,t,a,i,void 0,h),a=[0,0,0,0]),s[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(s[0]=s[1],h=uw(f,t,a,i,void 0,h)),a=s,s=[a[1],n,0,0])):p.type==="tableHead"?(l=!0,c=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(c=n,a[1]!==0?(s[0]=s[1],h=uw(f,t,a,i,n,h)):s[1]!==0&&(h=uw(f,t,s,i,n,h)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=n)}for(c!==0&&l8(f,t,c,u,d),f.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=EDe(t.events,n))}return e}function uw(e,t,n,r,i,a){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(a.end=Object.assign({},sm(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const c=sm(t.events,n[1]);if(a={type:s,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const u=sm(t.events,n[2]),d=sm(t.events,n[3]),h={type:l,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",h,t]]),r!==2){const f=t.events[n[2]],m=t.events[n[3]];if(f[1].end=Object.assign({},m[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,g=n[3]-n[2]-1;e.add(p,g,[])}}e.add(n[3]+1,0,[["exit",h,t]])}return i!==void 0&&(a.end=Object.assign({},sm(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function l8(e,t,n,r,i){const a=[],s=sm(t.events,n);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),r.end=Object.assign({},s),a.push(["exit",r,t]),e.add(n+1,0,a)}function sm(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const TDe={name:"tasklistCheck",tokenize:kDe};function NDe(){return{text:{91:TDe}}}function kDe(e,t,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),a)}function a(c){return Rn(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),s):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),s):n(c)}function s(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):n(c)}function l(c){return kt(c)?t(c):nn(c)?e.check({tokenize:ADe},t,n)(c):n(c)}}function ADe(e,t,n){return un(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function jDe(e){return NZ([tDe(),dDe(),vDe(e),SDe(),NDe()])}const ODe={};function KJ(e){const t=this,n=e||ODe,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(jDe(n)),a.push(ZRe()),s.push(QRe(n))}const PDe=()=>o.jsx("div",{className:"flex items-center justify-center h-full bg-gradient-to-br from-slate-50 to-blue-50",children:o.jsxs("div",{className:"text-center p-8 bg-white rounded-2xl shadow-xl border border-slate-200 transform transition-all duration-300 hover:shadow-2xl",children:[o.jsxs("div",{className:"relative mb-6",children:[o.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-100 border-t-blue-500 mx-auto"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx(ga,{className:"w-6 h-6 text-blue-500 animate-pulse"})})]}),o.jsx("h3",{className:"text-2xl font-bold mb-2 text-slate-800 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Analyzing..."}),o.jsx("p",{className:"text-slate-600 text-lg",children:"AI is generating a professional analysis report. Please wait."}),o.jsx("div",{className:"mt-4 flex justify-center",children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"0s"}}),o.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),IS={remarkPlugins:[KJ],components:{p:({children:e})=>o.jsx("p",{className:"text-slate-700 mb-3 leading-relaxed",children:e}),ul:({children:e})=>o.jsx("ul",{className:"list-disc list-inside text-slate-700 mb-3 space-y-1",children:e}),ol:({children:e})=>o.jsx("ol",{className:"list-decimal list-inside text-slate-700 mb-3 space-y-1",children:e}),h1:({children:e})=>o.jsx("h1",{className:"text-xl font-bold text-slate-800 mb-3",children:e}),h2:({children:e})=>o.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-2",children:e}),h3:({children:e})=>o.jsx("h3",{className:"text-base font-bold text-slate-700 mb-2",children:e}),strong:({children:e})=>o.jsx("strong",{className:"text-slate-800 font-semibold",children:e}),code:({children:e})=>o.jsx("code",{className:"bg-slate-100 px-2 py-1 rounded text-sm text-slate-800 border",children:e}),blockquote:({children:e})=>o.jsx("blockquote",{className:"border-l-4 border-blue-300 pl-4 italic text-slate-600 my-3 bg-blue-50 py-2 rounded-r",children:e})}},MDe=({data:e})=>{const t=({report:r,index:i})=>o.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50 rounded-xl p-6 border border-slate-200 hover:shadow-lg transition-all duration-300 hover:border-blue-300 group",children:[o.jsx("div",{className:"flex justify-between items-start mb-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2 group-hover:text-blue-700 transition-colors",children:r.title}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm px-3 py-1 bg-gradient-to-r from-blue-100 to-indigo-100 text-blue-700 rounded-full font-medium shadow-sm",children:r.contentType||"Report"}),r.relevanceScore!==void 0&&o.jsxs("span",{className:"text-sm px-3 py-1 bg-gradient-to-r from-green-100 to-emerald-100 text-green-700 rounded-full font-medium shadow-sm flex items-center",children:[o.jsx(hi,{className:"w-3 h-3 mr-1"}),"Relevance: ",(r.relevanceScore*100).toFixed(1),"%"]})]})]})}),r.content&&o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Full Content:"}),o.jsx("button",{onClick:()=>{const a=document.getElementById(`full-content-preview-${i}`);a&&a.requestFullscreen()},className:"text-slate-500 hover:text-slate-700 text-sm px-3 py-1 bg-white rounded-lg border border-slate-200 hover:border-slate-300 transition-colors",children:"Full Screen"})]}),o.jsx("div",{className:"relative",children:o.jsx("div",{id:`full-content-preview-${i}`,className:"bg-white rounded-lg border border-slate-200 max-h-96 w-full lg:max-w-2xl xl:max-w-3xl overflow-hidden",children:o.jsx("div",{className:"p-4 text-sm text-slate-700 overflow-y-auto h-full",children:o.jsx("div",{className:"prose prose-slate prose-sm max-w-none",children:o.jsx(Mp,{...IS,children:r.content})})})})})]}),r.semanticSection&&o.jsxs("div",{className:"text-xs text-slate-500 bg-white px-3 py-1 rounded-lg inline-block",children:["Section: ",r.semanticSection]})]}),n=({title:r,value:i,icon:a,colorClass:s})=>o.jsxs("div",{className:`flex items-center justify-between p-4 bg-gradient-to-r ${s} rounded-lg border shadow-sm`,children:[o.jsxs("span",{className:"font-medium text-slate-700 flex items-center",children:[a,r]}),o.jsx("span",{className:"font-bold bg-white px-3 py-1 rounded-full shadow-sm",children:i})]});return o.jsxs("div",{className:"space-y-6 overflow-y-auto",children:[o.jsxs("div",{className:"text-center mb-8 bg-white rounded-2xl p-8 shadow-lg border border-slate-200 transform transition-all duration-300 hover:shadow-xl",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-purple-100 p-4 rounded-full shadow-lg",children:o.jsx(Fa,{className:"w-10 h-10 text-blue-600"})})}),o.jsx("h1",{className:"text-4xl font-bold mb-3 text-slate-800 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Document Search"}),o.jsx("p",{className:"text-slate-600 text-lg",children:"AI-powered document discovery and analysis"}),o.jsxs("div",{className:"flex justify-between items-center mt-8 pt-4 border-t border-slate-100",children:[o.jsxs("div",{className:"flex items-center text-sm text-slate-500",children:[o.jsx(bl,{className:"w-4 h-4 mr-2"}),o.jsxs("span",{children:["Generated at: ",new Date().toLocaleString()]})]}),o.jsx("div",{className:"flex items-center",children:o.jsx("span",{className:"text-sm px-4 py-2 bg-gradient-to-r from-blue-100 to-purple-100 text-blue-700 rounded-full font-medium shadow-sm",children:"Document Search"})})]})]}),e.historicalReports&&e.historicalReports.length>0&&o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200 transform transition-all duration-300 hover:shadow-xl",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-indigo-100 p-3 rounded-full mr-3 shadow-sm",children:o.jsx(ic,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Found Documents"}),o.jsxs("p",{className:"text-slate-600 mt-1",children:["Found ",o.jsx("span",{className:"font-bold text-blue-600",children:e.historicalReports.length})," relevant documents based on your search criteria"]})]})]}),o.jsx("div",{className:"space-y-4",children:e.historicalReports.map((r,i)=>o.jsx(t,{report:r,index:i},r.id||i))})]})}),e.conversationContext&&o.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200 transform transition-all duration-300 hover:shadow-xl",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 p-2 rounded-full mr-3 shadow-sm",children:o.jsx(Fh,{className:"w-5 h-5 text-purple-600"})}),o.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Search Context Analysis"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.conversationContext.hasHistoricalReports&&o.jsx(n,{title:"Historical Reports",value:"Available",icon:o.jsx(Fh,{className:"w-4 h-4 mr-2 text-green-500"}),colorClass:"from-green-50 to-emerald-50 border-green-200"}),e.conversationContext.reportsCount!==void 0&&o.jsx(n,{title:"Reports Found",value:e.conversationContext.reportsCount,icon:o.jsx(hi,{className:"w-4 h-4 mr-2 text-blue-500"}),colorClass:"from-blue-50 to-indigo-50 border-blue-200"}),e.conversationContext.hasMetrics!==void 0&&o.jsx(n,{title:"Metrics Data",value:e.conversationContext.hasMetrics?"Available":"Unavailable",icon:o.jsx(hi,{className:"w-4 h-4 mr-2"}),colorClass:e.conversationContext.hasMetrics?"from-green-50 to-emerald-50 border-green-200":"from-gray-50 to-slate-50 border-gray-200"})]})]})]})},IDe=({answer:e})=>o.jsxs("div",{className:"space-y-6 overflow-y-auto",children:[o.jsxs("div",{className:"text-center mb-8 bg-white rounded-2xl p-8 shadow-lg border border-slate-200 transform transition-all duration-300 hover:shadow-xl",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 p-4 rounded-full shadow-lg",children:o.jsx(Lg,{className:"w-10 h-10 text-purple-600"})})}),o.jsx("h1",{className:"text-4xl font-bold mb-3 text-slate-800 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Deep Conversation Analysis"}),o.jsx("p",{className:"text-slate-600 text-lg",children:"Intelligent insights and analysis based on conversation content"})]}),o.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200 transform transition-all duration-300 hover:shadow-xl",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-indigo-100 p-2 rounded-full mr-3 shadow-sm",children:o.jsx(Fh,{className:"w-5 h-5 text-blue-600"})}),o.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Analysis Results"})]}),o.jsx("div",{className:"prose prose-slate prose-sm max-w-none",children:o.jsx(Mp,{...IS,children:e.answer})})]}),o.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[o.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Reason"]}),o.jsx("div",{className:"prose prose-slate prose-sm max-w-none",children:o.jsx(Mp,{...IS,children:e.reason})})]})]}),RDe=({type:e,content:t})=>{const n=()=>{switch(e){case"hypothesis":return"Hypothesis Validation Analysis";case"challenge":return"Challenge Identification Analysis";case"business":return"Business Insight Analysis";default:return"Comprehensive Analysis Report"}},r=()=>{switch(e){case"hypothesis":return"Hypothesis Validation";case"challenge":return"Challenge Identification";case"business":return"Business Insight";default:return"Comprehensive Analysis"}};return o.jsxs("div",{className:"space-y-6 overflow-y-auto",children:[o.jsxs("div",{className:"text-center mb-8 bg-white rounded-2xl p-8 shadow-lg border border-slate-200 transform transition-all duration-300 hover:shadow-xl",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx("div",{className:"bg-gradient-to-br from-indigo-100 to-purple-100 p-4 rounded-full shadow-lg",children:o.jsx(ga,{className:"w-10 h-10 text-indigo-600"})})}),o.jsx("h1",{className:"text-4xl font-bold mb-3 text-slate-800 bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:n()}),o.jsx("p",{className:"text-slate-600 text-lg",children:n()}),o.jsxs("div",{className:"flex justify-between items-center mt-8 pt-4 border-t border-slate-100",children:[o.jsxs("div",{className:"flex items-center text-sm text-slate-500",children:[o.jsx(bl,{className:"w-4 h-4 mr-2"}),o.jsxs("span",{children:["Generated at: ",new Date().toLocaleString()]})]}),o.jsx("div",{className:"flex items-center",children:o.jsx("span",{className:"text-sm px-4 py-2 bg-gradient-to-r from-indigo-100 to-purple-100 text-indigo-700 rounded-full font-medium shadow-sm",children:r()})})]})]}),o.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200 transform transition-all duration-300 hover:shadow-xl",children:o.jsx("div",{className:"prose prose-slate max-w-none",children:o.jsx(Mp,{remarkPlugins:[KJ],components:{...IS.components,p:({children:i})=>o.jsx("p",{className:"text-slate-700 mb-4 leading-relaxed text-base",children:i}),ul:({children:i})=>o.jsx("ul",{className:"list-disc list-inside text-slate-700 mb-4 space-y-2",children:i}),h1:({children:i})=>o.jsx("h1",{className:"text-2xl font-bold mb-4 border-b border-slate-200 pb-2",children:i}),h2:({children:i})=>o.jsx("h2",{className:"text-xl font-bold mb-3",children:i}),h3:({children:i})=>o.jsx("h3",{className:"text-lg font-bold mb-2",children:i}),table:({children:i})=>o.jsx("div",{className:"overflow-x-auto my-4",children:o.jsx("table",{className:"min-w-full divide-y divide-slate-200 border border-slate-200 rounded-lg",children:i})}),thead:({children:i})=>o.jsx("thead",{className:"bg-gradient-to-r from-slate-50 to-slate-100",children:i}),th:({children:i})=>o.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-700",children:i}),td:({children:i})=>o.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 border-t border-slate-200",children:i})},children:t})})})]})},DDe=()=>o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center bg-white rounded-2xl p-8 shadow-sm border border-slate-200",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("div",{className:"bg-gray-100 p-4 rounded-full",children:o.jsx(ic,{className:"w-12 h-12 text-gray-400"})})}),o.jsx("h2",{className:"text-2xl font-semibold text-slate-800 mb-2",children:"Analysis Panel"}),o.jsx("p",{className:"text-slate-600",children:"Your analysis report will appear here."})]})}),LDe=({isLoading:e,conversationStage:t,documentSearchData:n,analysisAnswer:r,currentAnalysisType:i,dynamicReportContent:a,onClearReport:s})=>{if(e)return o.jsx(PDe,{});const l=()=>t==="document_search"&&n?o.jsx(MDe,{data:n}):t==="deep_conversation"&&r?o.jsx(IDe,{answer:r}):i?o.jsx(RDe,{type:i,content:a}):o.jsx(DDe,{});return o.jsx("div",{className:"h-full bg-gradient-to-br from-slate-50 to-blue-50",children:o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsx(te,{onClick:s,variant:"outline",className:"bg-white hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 text-red-600 border-red-200 hover:border-red-300 hover:text-red-700 hover:shadow-md transition-all duration-200 transform hover:scale-105",children:"Clear Report"})}),l()]})})},$De=({isSubmitting:e,chatHistory:t,onSendMessage:n,onBack:r,onClose:i,suggestions:a,onLoadSuggestions:s,onReportGenerated:l,isLoading:c,conversationStage:u,documentSearchData:d,analysisAnswer:h,currentAnalysisType:f,dynamicReportContent:m,onClearReport:p})=>{const[g,x]=w.useState(!1);return o.jsxs("div",{className:"flex h-screen bg-white w-full",children:[o.jsx("div",{className:"flex flex-col transition-all duration-300 ease-in-out flex-1",children:o.jsx(CJ,{isSubmitting:e,chatHistory:t,onSendMessage:n,showSplitView:!0,onBack:r,onClose:i,onShowAnalysis:()=>x(!1),suggestions:a,onLoadSuggestions:s,onReportGenerated:l})}),o.jsx("div",{className:"flex items-center justify-center flex-none w-6 bg-slate-200 hover:bg-slate-300 transition-colors duration-200 cursor-pointer group",onClick:()=>x(!g),children:o.jsx("div",{className:"flex flex-col items-center space-y-1 text-slate-600 group-hover:text-slate-800",children:g?o.jsx("svg",{className:"w-4 h-4 transform rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}):o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})}),o.jsx("div",{className:`flex flex-col bg-gradient-to-br from-slate-50 to-blue-50 shadow-2xl transition-all duration-300 ease-in-out relative ${g?"flex-none w-0 overflow-hidden":"flex-1"}`,children:o.jsx("div",{className:"h-full overflow-y-auto",children:o.jsx(LDe,{isLoading:c,conversationStage:u,documentSearchData:d,analysisAnswer:h,currentAnalysisType:f,dynamicReportContent:m,onClearReport:p})})})]})},Hf=e=>new Promise(t=>setTimeout(t,e)),BDe=[{id:"1",text:"What are the key market segments for life insurance?",category:"business",priority:1},{id:"2",text:"How to analyze customer acquisition costs in insurance?",category:"business",priority:2},{id:"3",text:"What factors drive insurance policy renewal rates?",category:"challenge",priority:3},{id:"4",text:"How to measure customer lifetime value in insurance?",category:"business",priority:4},{id:"5",text:"What are the most effective insurance marketing channels?",category:"business",priority:5},{id:"6",text:"How to analyze competitor pricing strategies?",category:"challenge",priority:6},{id:"7",text:"What demographic trends impact insurance demand?",category:"hypothesis",priority:7},{id:"8",text:"How to optimize insurance product positioning?",category:"business",priority:8}],FDe=[];class zDe{constructor(){ot(this,"mockSessions",FDe);ot(this,"mockSuggestions",BDe)}async sendMessage(t){try{const n=await fetch(`${Ke}/chat/send`,{method:"POST",headers:tt(),body:JSON.stringify(t)});return await gt(n)}catch(n){return console.error("Error sending message:",n),this.mockSendMessage(t)}}async getChatSuggestions(t){try{const n=t?`${Ke}/chat/suggestions?category=${t}`:`${Ke}/chat/suggestions`,r=await fetch(n,{headers:tt()});return await gt(r)}catch(n){return console.error("Error fetching suggestions:",n),await Hf(300),t?this.mockSuggestions.filter(r=>r.category===t):this.mockSuggestions}}async createSession(t,n){try{const r=await fetch(`${Ke}/chat/sessions`,{method:"POST",headers:tt(),body:JSON.stringify({title:t,analysisType:n})});return await gt(r)}catch(r){console.error("Error creating session:",r),await Hf(300);const i={id:Date.now().toString(),title:t||"New Chat Session",messages:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),analysisType:n};return this.mockSessions.push(i),i}}async getSessions(){try{const t=await fetch(`${Ke}/chat/sessions`,{headers:tt()});return await gt(t)}catch(t){return console.error("Error fetching sessions:",t),await Hf(300),this.mockSessions}}async getSession(t){try{const n=await fetch(`${Ke}/chat/sessions/${t}`,{headers:tt()});return await gt(n)}catch(n){return console.error("Error fetching session:",n),await Hf(300),this.mockSessions.find(r=>r.id===t)||null}}async deleteSession(t){try{const n=await fetch(`${Ke}/chat/sessions/${t}`,{method:"DELETE",headers:tt()});return await gt(n),!0}catch(n){console.error("Error deleting session:",n),await Hf(300);const r=this.mockSessions.findIndex(i=>i.id===t);return r>-1?(this.mockSessions.splice(r,1),!0):!1}}analyzeMessageType(t){const n=t.toLowerCase();return n.includes("challenge")||n.includes("problem")||n.includes("issue")?"challenge":n.includes("business")||n.includes("market")||n.includes("customer")||n.includes("acquisition")||n.includes("retention")?"business":n.includes("hypothesis")||n.includes("test")||n.includes("experiment")||n.includes("analyze")?"hypothesis":"general"}async mockSendMessage(t){var h;await Hf(1e3+Math.random()*1e3);const n=((h=t.context)==null?void 0:h.analysisType)||this.analyzeMessageType(t.message),r=["","","",""];let i,a;switch(n){case"challenge":i="... []",a="challenge_analysis";break;case"business":i=`AI

 **** - 
 **** - 
 **** - 
 **** - 

`,a="report_search";break;case"hypothesis":i="... []",a="hypothesis_testing";break;default:i="... []",a="general_analysis"}const s=Math.floor(Math.random()*200)+300,l=.95,c=new Date().toISOString(),u=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,d={processingTime:s,confidence:l,conversationStage:a,historicalReports:[],analysisInsights:[],thinkingSteps:r,metricsData:{},generatedReport:null,conversationContext:{hasHistoricalReports:!1,reportsCount:0,hasMetrics:!1},success:!0};return{message:{id:u,type:"assistant",content:i,timestamp:c,metadata:d},sessionId:t.sessionId||Date.now().toString(),analysisType:n,metadata:d}}generateThinkingMessage(t,n){const r=[],i=["Analyze the core intent and keywords of user questions","Retrieve relevant insurance business knowledge and data","Combine historical cases and best practices","Generate targeted analysis recommendations and solutions"];return{type:"thinking",content:"Analyzing your question and retrieving relevant information...",metadata:{ragSources:r.slice(0,Math.floor(Math.random()*3)+2),thinkingSteps:i,processingTime:Math.floor(Math.random()*1e3)+500}}}}const hu=new zDe,UDe=()=>{const[e,t]=w.useState(!1),[n,r]=w.useState(!1),[i,a]=w.useState([]),[s,l]=w.useState(null),[c,u]=w.useState(!1),[d,h]=w.useState(null),f=w.useRef(e);w.useEffect(()=>{f.current=e},[e]);const[m,p]=w.useState(["What are the key market segments for life insurance?","How to analyze customer acquisition costs in insurance?","What factors drive insurance policy renewal rates?","How to measure customer lifetime value in insurance?","What are the most effective insurance marketing channels?","How to analyze competitor pricing strategies?","What demographic trends impact insurance demand?","How to optimize insurance product positioning?"]),g=w.useCallback(async O=>{try{const M=await hu.getChatSuggestions(O);p(M.map(B=>B.text))}catch(M){console.error("Error loading suggestions:",M)}},[]),x=w.useCallback(async O=>{try{const M=await hu.getSession(O.id);M&&(h(M),a(M.messages),l(M.analysisType||null),r(!0))}catch(M){console.error("Error loading session:",M),h(O),a(O.messages),l(O.analysisType||null),r(!0)}},[]),y=w.useCallback(async(O,M)=>{try{const B=M||"New Chat Session",N=await hu.createSession(B,O);return h(N),N}catch(B){console.error("Error creating session:",B);const N={id:Date.now().toString(),title:M||"New Chat Session",messages:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),analysisType:O};return h(N),N}},[]),v=w.useCallback((O,M)=>({type:"user",content:O,metadata:{timestamp:new Date().toISOString(),userId:M,sessionId:d==null?void 0:d.id}}),[d==null?void 0:d.id]),b=w.useCallback((O,M)=>({type:"assistant",content:O,metadata:{...M}}),[]),E=w.useCallback((O,M="medium")=>({type:"system",content:O,metadata:{priority:M,timestamp:new Date().toISOString()}}),[]),_=w.useCallback((O,M)=>({type:"developer",content:O,metadata:{debugInfo:M,timestamp:new Date().toISOString()}}),[]),S=w.useCallback((O,M,B,N)=>({type:"tool",content:O,metadata:{toolName:M,toolResult:N,success:B}}),[]),C=w.useCallback((O,M,B,N)=>({type:"chart",content:O,metadata:{chartType:M,chartData:B,chartOptions:N==null?void 0:N.chartOptions,title:N==null?void 0:N.title,description:N==null?void 0:N.description,dataSource:N==null?void 0:N.dataSource,timestamp:new Date().toISOString(),interactive:(N==null?void 0:N.interactive)??!0,exportable:(N==null?void 0:N.exportable)??!0}}),[]),T=w.useCallback((O,M,B,N)=>({type:"table",content:O,metadata:{tableData:M,tableHeaders:B,title:N==null?void 0:N.title,description:N==null?void 0:N.description,dataSource:N==null?void 0:N.dataSource,timestamp:new Date().toISOString(),sortable:(N==null?void 0:N.sortable)??!0,filterable:(N==null?void 0:N.filterable)??!0,exportable:(N==null?void 0:N.exportable)??!0,pagination:(N==null?void 0:N.pagination)??!0,pageSize:(N==null?void 0:N.pageSize)??10}}),[]),j=w.useCallback(async O=>{if(!O.trim()||f.current)return;t(!0),u(!0);const M=O;try{const B={type:"user",content:M};a($=>[...$,B]);const N=hu.analyzeMessageType(M);l(N);let D=d;if(!D){const $=M.length>50?M.substring(0,50)+"...":M;D=await y(N,$)}N&&r(!0);const P=hu.generateThinkingMessage(M,N);setTimeout(()=>{a($=>[...$,P])},500);const L={sessionId:D.id,message:M,context:{analysisType:N}},I=await hu.sendMessage(L),U={type:"assistant",content:I.message.content,id:I.message.id,timestamp:I.message.timestamp,metadata:{...I.message.metadata,intent:I.message.metadata.conversationStage==="report_generation"?"report_generation":void 0}};if(a($=>[...$,U]),t(!1),setTimeout(()=>{u(!1)},3e3),D){const $={...D,messages:[...D.messages,B,U],updatedAt:new Date().toISOString(),analysisType:I.analysisType||N};h($)}}catch(B){console.error("Error sending message:",B);const N={type:"assistant",content:"Sorry, I encountered an error while processing your message. Please try again later."};setTimeout(()=>{a(D=>[...D,N]),t(!1),u(!1)},1e3)}},[d,y]),k=w.useCallback(()=>{r(!1),a([]),t(!1),l(null),u(!1),h(null)},[]);return w.useEffect(()=>{g()},[g]),{isSubmitting:e,chatHistory:i,showSplitView:n,handleSendMessage:j,resetToInitialView:k,isLoadingAnalysis:c,currentAnalysisType:s,currentSession:d,suggestions:m,loadSuggestions:g,loadSession:x,createUserMessage:v,createAssistantMessage:b,createSystemMessage:E,createDeveloperMessage:_,createToolMessage:S,createChartMessage:C,createTableMessage:T}},HDe=e=>{const[t,n]=q.useState([]),[r,i]=q.useState(!1),[a,s]=q.useState(!1),l=q.useCallback(async()=>{i(!0);try{const d=await hu.getSessions();n(d)}catch(d){console.error("Error fetching sessions:",d)}finally{i(!1)}},[]),c=q.useCallback(async d=>{try{await e(d),s(!1)}catch(h){console.error("Error loading session:",h)}},[e]),u=q.useCallback(async d=>{try{await hu.deleteSession(d),n(h=>h.filter(f=>f.id!==d))}catch(h){console.error("Error deleting session:",h)}},[]);return q.useEffect(()=>{a&&l()},[a,l]),{sessions:t,loading:r,showList:a,setShowList:s,fetchSessions:l,loadSession:c,deleteSession:u}},VDe=e=>q.useMemo(()=>{if(!e||e.length===0)return{conversationStage:null,documentSearchData:null,analysisAnswer:null};const t=e.filter(a=>a.type==="assistant").pop();if(!t||!t.metadata)return{conversationStage:null,documentSearchData:null,analysisAnswer:null};const n=t.metadata.conversationStage,r=n==="document_search"?t.metadata:null,i=n==="deep_conversation"?t.metadata.analysis_answer:null;return{conversationStage:n,documentSearchData:r,analysisAnswer:i}},[e]),Pe=w.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Be("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Pe.displayName="Card";const Ye=w.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Be("flex flex-col space-y-1.5 p-6",e),...t}));Ye.displayName="CardHeader";const dt=w.forwardRef(({className:e,...t},n)=>o.jsx("h3",{ref:n,className:Be("text-2xl font-semibold leading-none tracking-tight",e),...t}));dt.displayName="CardTitle";const hn=w.forwardRef(({className:e,...t},n)=>o.jsx("p",{ref:n,className:Be("text-sm text-muted-foreground",e),...t}));hn.displayName="CardDescription";const De=w.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Be("p-6 pt-0",e),...t}));De.displayName="CardContent";const Tf=w.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Be("flex items-center p-6 pt-0",e),...t}));Tf.displayName="CardFooter";const WDe=[{id:"bc1",title:"Improve Customer Retention Rate",description:"In a competitive market, improving customer lifetime value and retention rate is key to company growth.",problemIds:["bp1","bp2"],createdAt:"2023-10-15T08:00:00Z"},{id:"bc2",title:"Optimize Marketing Efficiency",description:"Improve marketing ROI, reduce customer acquisition costs, and enhance brand influence.",problemIds:["bp3"],createdAt:"2023-11-01T09:30:00Z"},{id:"bc3",title:"Increase Cross-selling Rate",description:"Increase product holdings of existing customers and improve average revenue per customer.",problemIds:["bp4"],createdAt:"2023-11-10T14:45:00Z"}],qDe=[{id:"bp1",title:"High-value Customer Churn Issue",description:"High-value customer churn rate exceeds industry average, requiring root cause analysis and intervention strategies.",status:"in_progress",hypothesisIds:["1","2"],createdAt:"2023-10-20T10:15:00Z"},{id:"bp2",title:"Declining Renewal Rate Trend",description:"Renewal rates show a downward trend over the past two quarters, affecting long-term revenue stability.",status:"open",hypothesisIds:["3"],createdAt:"2023-10-25T16:30:00Z"},{id:"bp3",title:"Marketing Channel Efficiency Variance",description:"Significant differences in customer acquisition costs and quality across marketing channels require resource allocation optimization.",status:"in_progress",hypothesisIds:["5"],createdAt:"2023-11-05T11:45:00Z"},{id:"bp4",title:"Low Cross-selling Conversion Rate",description:"Existing customers show lower than expected purchase rates for additional products, impacting customer value maximization.",status:"open",hypothesisIds:["4","6"],createdAt:"2023-11-12T09:20:00Z"}];class E3{constructor(){ot(this,"mockBusinessChallenges",WDe);ot(this,"mockBusinessProblems",qDe)}async getChallenges(){try{const t=await fetch(`${Ke}/watchmen/ai/challenges`,{headers:tt()});return await gt(t)}catch(t){throw console.error("Error fetching challenges:",t),t}}async createChallenge(t){try{const n=await fetch(`${Ke}/watchmen/ai/challenge/create`,{method:"POST",headers:tt(),body:JSON.stringify(t)});return await gt(n)}catch(n){throw console.error("Error creating challenge:",n),n}}async updateChallenge(t,n){try{const r=await fetch(`${Ke}/watchmen/ai/challenge/update`,{method:"POST",headers:tt(),body:JSON.stringify(n)});return await gt(r)}catch(r){throw console.error("Error updating challenge:",r),r}}async getBusinessChallengeById(t){try{const n=await fetch(`${Ke}/watchmen/ai/challenge/${t}`,{headers:tt()});return await gt(n)}catch(n){throw console.error("Error fetching challenge:",n),n}}async getFullBusinessChallengeById(t){try{const n=await fetch(`${Ke}/watchmen/ai/challenge/full/${t}`,{headers:tt()});return await gt(n)}catch(n){throw console.error("Error fetching challenge:",n),n}}async getProblems(){try{const t=await fetch(`${Ke}/watchmen/ai/problems`,{headers:tt()});return await gt(t)}catch(t){throw console.error("Error fetching problems:",t),t}}async getBusinessProblemById(t){try{const n=await fetch(`${Ke}/watchmen/ai/problems/${t}`,{headers:tt()});return await gt(n)}catch(n){return console.error("Error fetching problem:",n),null}}async createProblem(t){try{const n=await fetch(`${Ke}/watchmen/ai/problem/create`,{method:"POST",headers:tt(),body:JSON.stringify(t)});return await gt(n)}catch(n){throw console.error("Error creating problem:",n),n}}async updateProblem(t,n){console.log(n);try{const r=await fetch(`${Ke}/watchmen/ai/problem/update`,{method:"POST",headers:tt(),body:JSON.stringify(n)});return await gt(r)}catch(r){throw console.error("Error updating problem:",r),r}}async getProblemsForChallenge(t){try{const n=await fetch(`${Ke}/watchmen/ai/challenges/${t}/problems`,{headers:tt()});return await gt(n)}catch(n){throw console.error("Error fetching problems for challenge:",n),n}}}const Kr=new E3;class GDe{async evaluate_insurance_business_challenge(t){const n=await fetch(`${Ke}/watchmen/ai/challenge/agent/evaluate`,{method:"POST",headers:tt(),body:JSON.stringify(t)});return await gt(n)}async query_historical_experience(t){const n=await fetch(`${Ke}/watchmen/ai/challenge/agent/query`,{method:"POST",headers:tt(),body:JSON.stringify(t)});return await gt(n)}async query_knowledge_base(t){const n=await fetch(`${Ke}/watchmen/ai/challenge/agent/query/knowledge_base`,{method:"POST",headers:tt(),body:JSON.stringify(t)});return await gt(n)}async build_business_problem_simulation_environment(t){const n=await fetch(`${Ke}/watchmen/ai/challenge/agent/simulate`,{method:"POST",headers:tt(),body:JSON.stringify(t)});return await gt(n)}async attempt_to_answer_business_challenge(t){const n=await fetch(`${Ke}/watchmen/ai/challenge/agent/answer/evaluation`,{method:"POST",headers:tt(),body:JSON.stringify(t)});return await gt(n)}async build_conclusions_and_generate_analysis_report(t){const n=await fetch(`${Ke}/watchmen/ai/challenge/agent/conclusions`,{method:"POST",headers:tt(),body:JSON.stringify(t)});return await gt(n)}async create_or_update_agent(t){const n=await fetch(`${Ke}/watchmen/ai/agent`,{method:"POST",headers:tt(),body:JSON.stringify(t)});return await gt(n)}}const od=new GDe,c8={id:"1",name:"Business Challenge Monitor",description:"Monitors and analyzes business challenges to provide insights and recommendations",role:"client",isConnecting:!1,capabilities:[{name:"Challenge Analysis",description:"Analyzes business challenges",type:"action"},{name:"Metric Monitoring",description:"Monitors business metrics",type:"knowledge"}],supportedContentTypes:["text/plain","application/json"]};class YDe{constructor(){ot(this,"agents",new Map([[c8.id,c8]]));ot(this,"tasks",new Map);ot(this,"connections",new Map)}async startAgent(t){var n;try{const r=await fetch(`${Ke}/watchmen/ai/challenge/agent/start/${(n=t.metadata)==null?void 0:n.businessChallengeId}`,{method:"GET",headers:tt()});return await gt(r)}catch(r){throw console.error("Error updating challenge:",r),r}}async registerAgent(t){return this.agents.has(t.id)?t=await od.create_or_update_agent(t):(this.agents.set(t.id,{...t}),t=await od.create_or_update_agent(t)),t}async findAgents(){const t=await fetch(Ke+"/watchmen/ai/agent/list",{method:"GET",headers:tt()});return await gt(t)}async getAgent(t){const n=await fetch(`${Ke}/watchmen/ai/agent/${t}`,{method:"GET",headers:tt()});return await gt(n)}async updateAgentStatus(t){const n=this.agents.get(t);n&&this.agents.set(t,n)}async establishConnection(t,n){try{const r=await fetch(`${Ke}/watchmen/ai/agent/connect/${n}`,{method:"GET",headers:tt()}),i=await gt(r),a={id:Date.now().toString(),clientAgentId:t,remoteAgentId:n,status:"connected",establishedAt:new Date().toISOString(),lastPingAt:new Date().toISOString()};return this.connections.set(a.id,a),a}catch(r){throw console.error("Error establishing connection:",r),r}}async disconnectAgent(t){const n=this.connections.get(t);n&&(n.status="disconnected",this.connections.set(t,n))}async createTask(t){const n={...t,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),artifacts:[],messages:[],status:"pending"};return this.tasks.set(n.id,n),n}async updateTaskStatus(t,n){const r=this.tasks.get(t);if(r){const i={...r,status:n,updatedAt:new Date().toISOString(),...n==="completed"&&{completedAt:new Date().toISOString()}};return this.tasks.set(t,i),i}}async getTask(t){return this.tasks.get(t)}async sendMessage(t){const n=this.tasks.get(t.taskId);if(!n)throw new Error("Task not found");const r={...t,id:Date.now().toString(),createdAt:new Date().toISOString()};return n.messages.push(r),n.updatedAt=new Date().toISOString(),this.tasks.set(n.id,n),r}async addArtifact(t,n){const r=this.tasks.get(t);if(!r)throw new Error("Task not found");const i={...n,id:Date.now().toString(),createdAt:new Date().toISOString()};return r.artifacts.push(i),r.updatedAt=new Date().toISOString(),this.tasks.set(r.id,r),i}async getAgentTasks(t){return Array.from(this.tasks.values()).filter(n=>n.clientAgentId===t||n.remoteAgentId===t)}async getActiveConnections(t){return Array.from(this.connections.values()).filter(n=>(n.clientAgentId===t||n.remoteAgentId===t)&&n.status==="connected")}}const Gm=new YDe,KDe=()=>{const[e,t]=q.useState({runningAgents:0,totalChallenges:0,loading:!0}),n=q.useCallback(async()=>{try{const[r,i]=await Promise.all([Gm.findAgents(),Kr.getChallenges()]),a=new Date,s=r.filter(l=>{if(!l.lastActive)return!1;const c=new Date(l.lastActive);return a.getTime()-c.getTime()<5*60*1e3}).length;t({runningAgents:s,totalChallenges:i.length,loading:!1})}catch(r){console.error("Error fetching dashboard data:",r),t(i=>({...i,loading:!1}))}},[]);return q.useEffect(()=>{n()},[n]),{data:e,refetch:n}},XDe=({data:e})=>e.loading?o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsx(Pe,{children:o.jsxs(De,{className:"pt-6",children:[o.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse w-16 mb-2"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-32"})]})}),o.jsx(Pe,{children:o.jsxs(De,{className:"pt-6",children:[o.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse w-16 mb-2"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-32"})]})})]}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs(Pe,{children:[o.jsx(Ye,{className:"pb-3",children:o.jsx(dt,{className:"text-sm font-medium",children:"Running Agents"})}),o.jsxs(De,{children:[o.jsx("div",{className:"text-2xl font-bold",children:e.runningAgents}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Active in last 5 minutes"})]})]}),o.jsxs(Pe,{children:[o.jsx(Ye,{className:"pb-3",children:o.jsx(dt,{className:"text-sm font-medium",children:"Total Challenges"})}),o.jsxs(De,{children:[o.jsx("div",{className:"text-2xl font-bold",children:e.totalChallenges}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Business challenges"})]})]})]}),ZDe=({className:e})=>{const t=Dn(),n=[{id:1,title:"Add Challenge",description:"Identify and define business challenges that need analysis",icon:"",color:"blue",action:()=>t("/challenges")},{id:2,title:"Create Agent & Generate Report",description:"Deploy AI agents to analyze challenges and automatically generate comprehensive reports",icon:"",color:"green",action:()=>t("/ai-agent-management")},{id:3,title:"Ask Questions",description:"Interact with reports through intelligent Q&A",icon:"",color:"orange",action:()=>{}}];return o.jsxs(Pe,{className:e,children:[o.jsx(Ye,{children:o.jsx(dt,{className:"text-xl flex items-center gap-2",children:" Platform Usage Guide"})}),o.jsx(De,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"Follow these steps to maximize your insurance analytics platform experience:"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n.map(r=>o.jsxs("div",{className:`text-center p-4 bg-${r.color}-50 rounded-lg border cursor-pointer hover:shadow-md transition-all duration-200 hover:bg-${r.color}-100`,onClick:r.action,children:[o.jsx("div",{className:"text-2xl mb-2",children:r.icon}),o.jsxs("h3",{className:`font-semibold text-${r.color}-700 mb-2`,children:[r.id,". ",r.title]}),o.jsx("p",{className:`text-sm text-${r.color}-600`,children:r.description})]},r.id))}),o.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:o.jsxs("p",{className:"text-sm text-gray-600",children:[" ",o.jsx("strong",{children:"Tip:"})," Start by exploring the chat interface below to ask questions about insurance analytics, business challenges, or hypothesis testing. The AI will guide you through the analysis process."]})})]})})]})};function Mn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ld(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const XJ=6048e5,QDe=864e5,dw=43200,u8=1440;let JDe={};function Lb(){return JDe}function iv(e,t){var l,c,u,d;const n=Lb(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Mn(e),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function RS(e){return iv(e,{weekStartsOn:1})}function ZJ(e){const t=Mn(e),n=t.getFullYear(),r=ld(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=RS(r),a=ld(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const s=RS(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function d8(e){const t=Mn(e);return t.setHours(0,0,0,0),t}function DS(e){const t=Mn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function e3e(e,t){const n=d8(e),r=d8(t),i=+n-DS(n),a=+r-DS(r);return Math.round((i-a)/QDe)}function t3e(e){const t=ZJ(e),n=ld(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),RS(n)}function _E(e,t){const n=Mn(e),r=Mn(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function n3e(e){return ld(e,Date.now())}function r3e(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function i3e(e){if(!r3e(e)&&typeof e!="number")return!1;const t=Mn(e);return!isNaN(Number(t))}function a3e(e,t){const n=Mn(e),r=Mn(t),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function s3e(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function o3e(e,t){return+Mn(e)-+Mn(t)}function l3e(e){const t=Mn(e);return t.setHours(23,59,59,999),t}function c3e(e){const t=Mn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function u3e(e){const t=Mn(e);return+l3e(t)==+c3e(t)}function d3e(e,t){const n=Mn(e),r=Mn(t),i=_E(n,r),a=Math.abs(a3e(n,r));let s;if(a<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);let l=_E(n,r)===-i;u3e(Mn(e))&&a===1&&_E(e,r)===1&&(l=!1),s=i*(a-Number(l))}return s===0?0:s}function h3e(e,t,n){const r=o3e(e,t)/1e3;return s3e(n==null?void 0:n.roundingMethod)(r)}function f3e(e){const t=Mn(e),n=ld(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const m3e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},p3e=(e,t,n)=>{let r;const i=m3e[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Dk(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const g3e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},y3e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},x3e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},v3e={date:Dk({formats:g3e,defaultWidth:"full"}),time:Dk({formats:y3e,defaultWidth:"full"}),dateTime:Dk({formats:x3e,defaultWidth:"full"})},b3e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},w3e=(e,t,n,r)=>b3e[e];function U0(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):s;i=e.formattingValues[l]||e.formattingValues[s]}else{const s=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[s]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const E3e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},S3e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_3e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},C3e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},T3e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},N3e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},k3e=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},A3e={ordinalNumber:k3e,era:U0({values:E3e,defaultWidth:"wide"}),quarter:U0({values:S3e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:U0({values:_3e,defaultWidth:"wide"}),day:U0({values:C3e,defaultWidth:"wide"}),dayPeriod:U0({values:T3e,defaultWidth:"wide",formattingValues:N3e,defaultFormattingWidth:"wide"})};function H0(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const s=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?O3e(l,h=>h.test(s)):j3e(l,h=>h.test(s));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(s.length);return{value:u,rest:d}}}function j3e(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function O3e(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function P3e(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const l=t.slice(i.length);return{value:s,rest:l}}}const M3e=/^(\d+)(th|st|nd|rd)?/i,I3e=/\d+/i,R3e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},D3e={any:[/^b/i,/^(a|c)/i]},L3e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$3e={any:[/1/i,/2/i,/3/i,/4/i]},B3e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},F3e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},z3e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},U3e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},H3e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},V3e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},W3e={ordinalNumber:P3e({matchPattern:M3e,parsePattern:I3e,valueCallback:e=>parseInt(e,10)}),era:H0({matchPatterns:R3e,defaultMatchWidth:"wide",parsePatterns:D3e,defaultParseWidth:"any"}),quarter:H0({matchPatterns:L3e,defaultMatchWidth:"wide",parsePatterns:$3e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:H0({matchPatterns:B3e,defaultMatchWidth:"wide",parsePatterns:F3e,defaultParseWidth:"any"}),day:H0({matchPatterns:z3e,defaultMatchWidth:"wide",parsePatterns:U3e,defaultParseWidth:"any"}),dayPeriod:H0({matchPatterns:H3e,defaultMatchWidth:"any",parsePatterns:V3e,defaultParseWidth:"any"})},QJ={code:"en-US",formatDistance:p3e,formatLong:v3e,formatRelative:w3e,localize:A3e,match:W3e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function q3e(e){const t=Mn(e);return e3e(t,f3e(t))+1}function G3e(e){const t=Mn(e),n=+RS(t)-+t3e(t);return Math.round(n/XJ)+1}function JJ(e,t){var d,h,f,m;const n=Mn(e),r=n.getFullYear(),i=Lb(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(f=i.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,s=ld(e,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const l=iv(s,t),c=ld(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=iv(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Y3e(e,t){var l,c,u,d;const n=Lb(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=JJ(e,t),a=ld(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),iv(a,t)}function K3e(e,t){const n=Mn(e),r=+iv(n,t)-+Y3e(n,t);return Math.round(r/XJ)+1}function Cn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Zc={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Cn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Cn(n+1,2)},d(e,t){return Cn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Cn(e.getHours()%12||12,t.length)},H(e,t){return Cn(e.getHours(),t.length)},m(e,t){return Cn(e.getMinutes(),t.length)},s(e,t){return Cn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Cn(i,t.length)}},Vf={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},h8={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Zc.y(e,t)},Y:function(e,t,n,r){const i=JJ(e,r),a=i>0?i:1-i;if(t==="YY"){const s=a%100;return Cn(s,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Cn(a,t.length)},R:function(e,t){const n=ZJ(e);return Cn(n,t.length)},u:function(e,t){const n=e.getFullYear();return Cn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Cn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Cn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Zc.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Cn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=K3e(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Cn(i,t.length)},I:function(e,t,n){const r=G3e(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Cn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Zc.d(e,t)},D:function(e,t,n){const r=q3e(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Cn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Cn(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Cn(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Cn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Vf.noon:r===0?i=Vf.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Vf.evening:r>=12?i=Vf.afternoon:r>=4?i=Vf.morning:i=Vf.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Zc.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Zc.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Cn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Cn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Zc.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Zc.s(e,t)},S:function(e,t){return Zc.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return m8(r);case"XXXX":case"XX":return qd(r);case"XXXXX":case"XXX":default:return qd(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return m8(r);case"xxxx":case"xx":return qd(r);case"xxxxx":case"xxx":default:return qd(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+f8(r,":");case"OOOO":default:return"GMT"+qd(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+f8(r,":");case"zzzz":default:return"GMT"+qd(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Cn(r,t.length)},T:function(e,t,n){const r=e.getTime();return Cn(r,t.length)}};function f8(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+Cn(a,2)}function m8(e,t){return e%60===0?(e>0?"-":"+")+Cn(Math.abs(e)/60,2):qd(e,t)}function qd(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Cn(Math.trunc(r/60),2),a=Cn(r%60,2);return n+i+t+a}const p8=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},eee=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},X3e=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return p8(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",p8(r,t)).replace("{{time}}",eee(i,t))},Z3e={p:eee,P:X3e},Q3e=/^D+$/,J3e=/^Y+$/,eLe=["D","DD","YY","YYYY"];function tLe(e){return Q3e.test(e)}function nLe(e){return J3e.test(e)}function rLe(e,t,n){const r=iLe(e,t,n);if(console.warn(r),eLe.includes(e))throw new RangeError(r)}function iLe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const aLe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sLe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oLe=/^'([^]*?)'?$/,lLe=/''/g,cLe=/[a-zA-Z]/;function XO(e,t,n){var d,h,f,m;const r=Lb(),i=r.locale??QJ,a=r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=r.weekStartsOn??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,l=Mn(e);if(!i3e(l))throw new RangeError("Invalid time value");let c=t.match(sLe).map(p=>{const g=p[0];if(g==="p"||g==="P"){const x=Z3e[g];return x(p,i.formatLong)}return p}).join("").match(aLe).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const g=p[0];if(g==="'")return{isToken:!1,value:uLe(p)};if(h8[g])return{isToken:!0,value:p};if(g.match(cLe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:p}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return c.map(p=>{if(!p.isToken)return p.value;const g=p.value;(nLe(g)||tLe(g))&&rLe(g,t,String(e));const x=h8[g[0]];return x(l,g,i.localize,u)}).join("")}function uLe(e){const t=e.match(oLe);return t?t[1].replace(lLe,"'"):e}function dLe(e,t,n){const r=Lb(),i=(n==null?void 0:n.locale)??r.locale??QJ,a=2520,s=_E(e,t);if(isNaN(s))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:s});let c,u;s>0?(c=Mn(t),u=Mn(e)):(c=Mn(e),u=Mn(t));const d=h3e(u,c),h=(DS(u)-DS(c))/1e3,f=Math.round((d-h)/60);let m;if(f<2)return n!=null&&n.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,l):d<10?i.formatDistance("lessThanXSeconds",10,l):d<20?i.formatDistance("lessThanXSeconds",20,l):d<40?i.formatDistance("halfAMinute",0,l):d<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):f===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",f,l);if(f<45)return i.formatDistance("xMinutes",f,l);if(f<90)return i.formatDistance("aboutXHours",1,l);if(f<u8){const p=Math.round(f/60);return i.formatDistance("aboutXHours",p,l)}else{if(f<a)return i.formatDistance("xDays",1,l);if(f<dw){const p=Math.round(f/u8);return i.formatDistance("xDays",p,l)}else if(f<dw*2)return m=Math.round(f/dw),i.formatDistance("aboutXMonths",m,l)}if(m=d3e(u,c),m<12){const p=Math.round(f/dw);return i.formatDistance("xMonths",p,l)}else{const p=m%12,g=Math.trunc(m/12);return p<3?i.formatDistance("aboutXYears",g,l):p<9?i.formatDistance("overXYears",g,l):i.formatDistance("almostXYears",g+1,l)}}function ZO(e,t){return dLe(e,n3e(e),t)}const hLe=({sessions:e,loading:t,currentSession:n,onLoadSession:r,onDeleteSession:i})=>o.jsxs(Pe,{className:"mb-6",children:[o.jsx(Ye,{children:o.jsxs(dt,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Chat History"}),n&&o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Current: ",n.title]})]})}),o.jsx(De,{children:t?o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),o.jsx("span",{className:"ml-2",children:"Loading sessions..."})]}):e.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No chat history available"}):o.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:e.map(a=>o.jsx("div",{className:`p-3 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors ${(n==null?void 0:n.id)===a.id?"bg-primary/10 border-primary":""}`,onClick:()=>r(a),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-sm",children:a.title}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:a.updatedAt&&!isNaN(new Date(a.updatedAt).getTime())?ZO(new Date(a.updatedAt),{addSuffix:!0}):"Unknown time"}),a.analysisType&&o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${a.analysisType==="challenge"?"bg-red-100 text-red-700":a.analysisType==="business"?"bg-green-100 text-green-700":a.analysisType==="hypothesis"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:a.analysisType==="challenge"?"Challenge":a.analysisType==="business"?"Business":a.analysisType==="hypothesis"?"Hypothesis":"Chat"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[a.messages.length," messages"]})]})]}),o.jsx(te,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),i(a.id)},className:"text-destructive hover:text-destructive",children:"Delete"})]})},a.id))})})]}),fLe=()=>{const e=Dn(),[t]=sZ(),{collapsed:n}=Tr(),{user:r,isLoading:i}=VD(),{isSubmitting:a,chatHistory:s,showSplitView:l,handleSendMessage:c,resetToInitialView:u,currentAnalysisType:d,isLoadingAnalysis:h,suggestions:f,loadSuggestions:m,loadSession:p,currentSession:g}=UDe(),{data:x}=KDe(),{sessions:y,loading:v,showList:b,setShowList:E,loadSession:_,deleteSession:S}=HDe(p),{conversationStage:C,documentSearchData:T,analysisAnswer:j}=VDe(s),[k,O]=q.useState(""),M=q.useCallback(B=>{O(B)},[]);return w.useEffect(()=>{(async()=>{const N=t.get("token");if(N)try{const D=await Qa.exchangeUser(N);if(D){Qa.storeToken({accessToken:N,tokenType:"Bearer",role:D.role,tenantId:D.tenantId});const P=new URL(window.location.href);P.searchParams.delete("token"),window.history.replaceState({},"",P.toString()),window.location.reload();return}}catch(D){console.error("Token exchange failed:",D);const P=new URL(window.location.href);P.searchParams.delete("token"),window.history.replaceState({},"",P.toString())}!i&&!r&&e("/login")})()},[r,i,e,t]),i?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):r?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ir,{}),o.jsxs("div",{className:`${n?"pl-20":"pl-56"} min-h-screen transition-all duration-300`,children:[o.jsx(Xn,{}),o.jsxs("main",{className:`${l?"h-screen flex":"container py-6"}`,children:[!l&&o.jsxs("div",{className:"mb-6",children:[o.jsx(te,{onClick:()=>E(!b),variant:"outline",className:"mb-4",children:b?"Hide Session List":"Show Chat History"}),b&&o.jsx(hLe,{sessions:y,loading:v,currentSession:g,onLoadSession:_,onDeleteSession:S})]}),l?o.jsx($De,{isSubmitting:a,chatHistory:s,onSendMessage:c,onBack:u,onClose:u,suggestions:f,onLoadSuggestions:m,onReportGenerated:M,isLoading:h,conversationStage:C,documentSearchData:T,analysisAnswer:j,currentAnalysisType:d,dynamicReportContent:k,onClearReport:()=>O("")}):o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx(XDe,{data:x}),o.jsx(ZDe,{className:"mb-8"}),o.jsx(CJ,{isSubmitting:a,chatHistory:s,onSendMessage:c,showSplitView:l,onBack:u,onClose:u,suggestions:f,onLoadSuggestions:m,onReportGenerated:M})]})]})]})]}):null},mLe=a2("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Oe({className:e,variant:t,...n}){return o.jsx("div",{className:Be(mLe({variant:t}),e),...n})}var pLe=w.createContext(void 0);function Nf(e){const t=w.useContext(pLe);return e||t||"ltr"}var Lk=0;function P2(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??g8()),document.body.insertAdjacentElement("beforeend",e[1]??g8()),Lk++,()=>{Lk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Lk--}},[])}function g8(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var $k="focusScope.autoFocusOnMount",Bk="focusScope.autoFocusOnUnmount",y8={bubbles:!1,cancelable:!0},gLe="FocusScope",$b=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=e,[l,c]=w.useState(null),u=lr(i),d=lr(a),h=w.useRef(null),f=jt(t,g=>c(g)),m=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let g=function(b){if(m.paused||!l)return;const E=b.target;l.contains(E)?h.current=E:au(h.current,{select:!0})},x=function(b){if(m.paused||!l)return;const E=b.relatedTarget;E!==null&&(l.contains(E)||au(h.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&au(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),v.disconnect()}}},[r,l,m.paused]),w.useEffect(()=>{if(l){v8.add(m);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent($k,y8);l.addEventListener($k,u),l.dispatchEvent(y),y.defaultPrevented||(yLe(ELe(tee(l)),{select:!0}),document.activeElement===g&&au(l))}return()=>{l.removeEventListener($k,u),setTimeout(()=>{const y=new CustomEvent(Bk,y8);l.addEventListener(Bk,d),l.dispatchEvent(y),y.defaultPrevented||au(g??document.body,{select:!0}),l.removeEventListener(Bk,d),v8.remove(m)},0)}}},[l,u,d,m]);const p=w.useCallback(g=>{if(!n&&!r||m.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(x&&y){const v=g.currentTarget,[b,E]=xLe(v);b&&E?!g.shiftKey&&y===E?(g.preventDefault(),n&&au(b,{select:!0})):g.shiftKey&&y===b&&(g.preventDefault(),n&&au(E,{select:!0})):y===v&&g.preventDefault()}},[n,r,m.paused]);return o.jsx(rt.div,{tabIndex:-1,...s,ref:f,onKeyDown:p})});$b.displayName=gLe;function yLe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(au(r,{select:t}),document.activeElement!==n)return}function xLe(e){const t=tee(e),n=x8(t,e),r=x8(t.reverse(),e);return[n,r]}function tee(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function x8(e,t){for(const n of e)if(!vLe(n,{upTo:t}))return n}function vLe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function bLe(e){return e instanceof HTMLInputElement&&"select"in e}function au(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&bLe(e)&&t&&e.select()}}var v8=wLe();function wLe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=b8(e,t),e.unshift(t)},remove(t){var n;e=b8(e,t),(n=e[0])==null||n.resume()}}}function b8(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ELe(e){return e.filter(t=>t.tagName!=="A")}function SLe(e,t=[]){let n=[];function r(a,s){const l=w.createContext(s),c=n.length;n=[...n,s];function u(h){const{scope:f,children:m,...p}=h,g=(f==null?void 0:f[e][c])||l,x=w.useMemo(()=>p,Object.values(p));return o.jsx(g.Provider,{value:x,children:m})}function d(h,f){const m=(f==null?void 0:f[e][c])||l,p=w.useContext(m);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const i=()=>{const a=n.map(s=>w.createContext(s));return function(l){const c=(l==null?void 0:l[e])||a;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,_Le(i,...t)]}function _Le(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var Fk="rovingFocusGroup.onEntryFocus",CLe={bubbles:!1,cancelable:!0},M2="RovingFocusGroup",[QO,nee,TLe]=Rg(M2),[NLe,Kg]=SLe(M2,[TLe]),[kLe,ALe]=NLe(M2),ree=w.forwardRef((e,t)=>o.jsx(QO.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(QO.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(jLe,{...e,ref:t})})}));ree.displayName=M2;var jLe=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=w.useRef(null),m=jt(t,f),p=Nf(a),[g=null,x]=qs({prop:s,defaultProp:l,onChange:c}),[y,v]=w.useState(!1),b=lr(u),E=nee(n),_=w.useRef(!1),[S,C]=w.useState(0);return w.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(Fk,b),()=>T.removeEventListener(Fk,b)},[b]),o.jsx(kLe,{scope:n,orientation:r,dir:p,loop:i,currentTabStopId:g,onItemFocus:w.useCallback(T=>x(T),[x]),onItemShiftTab:w.useCallback(()=>v(!0),[]),onFocusableItemAdd:w.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:w.useCallback(()=>C(T=>T-1),[]),children:o.jsx(rt.div,{tabIndex:y||S===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:Ie(e.onMouseDown,()=>{_.current=!0}),onFocus:Ie(e.onFocus,T=>{const j=!_.current;if(T.target===T.currentTarget&&j&&!y){const k=new CustomEvent(Fk,CLe);if(T.currentTarget.dispatchEvent(k),!k.defaultPrevented){const O=E().filter(P=>P.focusable),M=O.find(P=>P.active),B=O.find(P=>P.id===g),D=[M,B,...O].filter(Boolean).map(P=>P.ref.current);see(D,d)}}_.current=!1}),onBlur:Ie(e.onBlur,()=>v(!1))})})}),iee="RovingFocusGroupItem",aee=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...s}=e,l=us(),c=a||l,u=ALe(iee,n),d=u.currentTabStopId===c,h=nee(n),{onFocusableItemAdd:f,onFocusableItemRemove:m}=u;return w.useEffect(()=>{if(r)return f(),()=>m()},[r,f,m]),o.jsx(QO.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:o.jsx(rt.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...s,ref:t,onMouseDown:Ie(e.onMouseDown,p=>{r?u.onItemFocus(c):p.preventDefault()}),onFocus:Ie(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ie(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){u.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const g=MLe(p,u.orientation,u.dir);if(g!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let y=h().filter(v=>v.focusable).map(v=>v.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const v=y.indexOf(p.currentTarget);y=u.loop?ILe(y,v+1):y.slice(v+1)}setTimeout(()=>see(y))}})})})});aee.displayName=iee;var OLe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function PLe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function MLe(e,t,n){const r=PLe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return OLe[r]}function see(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function ILe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var S3=ree,_3=aee,RLe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Wf=new WeakMap,hw=new WeakMap,fw={},zk=0,oee=function(e){return e&&(e.host||oee(e.parentNode))},DLe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=oee(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},LLe=function(e,t,n,r){var i=DLe(t,Array.isArray(e)?e:[e]);fw[n]||(fw[n]=new WeakMap);var a=fw[n],s=[],l=new Set,c=new Set(i),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var m=f.getAttribute(r),p=m!==null&&m!=="false",g=(Wf.get(f)||0)+1,x=(a.get(f)||0)+1;Wf.set(f,g),a.set(f,x),s.push(f),g===1&&p&&hw.set(f,!0),x===1&&f.setAttribute(n,"true"),p||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(t),l.clear(),zk++,function(){s.forEach(function(h){var f=Wf.get(h)-1,m=a.get(h)-1;Wf.set(h,f),a.set(h,m),f||(hw.has(h)||h.removeAttribute(r),hw.delete(h)),m||h.removeAttribute(n)}),zk--,zk||(Wf=new WeakMap,Wf=new WeakMap,hw=new WeakMap,fw={})}},Bb=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=RLe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),LLe(r,i,n,"aria-hidden")):function(){return null}},Fi=function(){return Fi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Fi.apply(this,arguments)};function C3(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function lee(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var ex="right-scroll-bar-position",tx="width-before-scroll-bar",$Le="with-scroll-bars-hidden",BLe="--removed-body-scroll-bar-size";function Uk(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function FLe(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var zLe=typeof window<"u"?w.useLayoutEffect:w.useEffect,w8=new WeakMap;function cee(e,t){var n=FLe(null,function(r){return e.forEach(function(i){return Uk(i,r)})});return zLe(function(){var r=w8.get(n);if(r){var i=new Set(r),a=new Set(e),s=n.current;i.forEach(function(l){a.has(l)||Uk(l,null)}),a.forEach(function(l){i.has(l)||Uk(l,s)})}w8.set(n,e)},[e]),n}function ULe(e){return e}function HLe(e,t){t===void 0&&(t=ULe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var s=t(a,r);return n.push(s),function(){n=n.filter(function(l){return l!==s})}},assignSyncMedium:function(a){for(r=!0;n.length;){var s=n;n=[],s.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var s=[];if(n.length){var l=n;n=[],l.forEach(a),s=n}var c=function(){var d=s;s=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return i}function uee(e){e===void 0&&(e={});var t=HLe(null);return t.options=Fi({async:!0,ssr:!1},e),t}var dee=function(e){var t=e.sideCar,n=C3(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Fi({},n))};dee.isSideCarExport=!0;function hee(e,t){return e.useMedium(t),dee}var fee=uee(),Hk=function(){},I2=w.forwardRef(function(e,t){var n=w.useRef(null),r=w.useState({onScrollCapture:Hk,onWheelCapture:Hk,onTouchMoveCapture:Hk}),i=r[0],a=r[1],s=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noIsolation,p=e.inert,g=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,v=e.gapMode,b=C3(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=f,_=cee([n,t]),S=Fi(Fi({},b),i);return w.createElement(w.Fragment,null,d&&w.createElement(E,{sideCar:fee,removeScrollBar:u,shards:h,noIsolation:m,inert:p,setCallbacks:a,allowPinchZoom:!!g,lockRef:n,gapMode:v}),s?w.cloneElement(w.Children.only(l),Fi(Fi({},S),{ref:_})):w.createElement(y,Fi({},S,{className:c,ref:_}),l))});I2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};I2.classNames={fullWidth:tx,zeroRight:ex};var VLe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function WLe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=VLe();return t&&e.setAttribute("nonce",t),e}function qLe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function GLe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var YLe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=WLe())&&(qLe(t,n),GLe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},KLe=function(){var e=YLe();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},T3=function(){var e=KLe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},XLe={left:0,top:0,right:0,gap:0},Vk=function(e){return parseInt(e||"",10)||0},ZLe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Vk(n),Vk(r),Vk(i)]},QLe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return XLe;var t=ZLe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},JLe=T3(),Ym="data-scroll-locked",e4e=function(e,t,n,r){var i=e.left,a=e.top,s=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat($Le,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ym,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ex,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(tx,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ex," .").concat(ex,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(tx," .").concat(tx,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ym,`] {
    `).concat(BLe,": ").concat(l,`px;
  }
`)},E8=function(){var e=parseInt(document.body.getAttribute(Ym)||"0",10);return isFinite(e)?e:0},t4e=function(){w.useEffect(function(){return document.body.setAttribute(Ym,(E8()+1).toString()),function(){var e=E8()-1;e<=0?document.body.removeAttribute(Ym):document.body.setAttribute(Ym,e.toString())}},[])},mee=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;t4e();var a=w.useMemo(function(){return QLe(i)},[i]);return w.createElement(JLe,{styles:e4e(a,!t,i,n?"":"!important")})},JO=!1;if(typeof window<"u")try{var mw=Object.defineProperty({},"passive",{get:function(){return JO=!0,!0}});window.addEventListener("test",mw,mw),window.removeEventListener("test",mw,mw)}catch{JO=!1}var qf=JO?{passive:!1}:!1,n4e=function(e){return e.tagName==="TEXTAREA"},pee=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!n4e(e)&&n[t]==="visible")},r4e=function(e){return pee(e,"overflowY")},i4e=function(e){return pee(e,"overflowX")},S8=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=gee(e,r);if(i){var a=yee(e,r),s=a[1],l=a[2];if(s>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},a4e=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},s4e=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},gee=function(e,t){return e==="v"?r4e(t):i4e(t)},yee=function(e,t){return e==="v"?a4e(t):s4e(t)},o4e=function(e,t){return e==="h"&&t==="rtl"?-1:1},l4e=function(e,t,n,r,i){var a=o4e(e,window.getComputedStyle(t).direction),s=a*r,l=n.target,c=t.contains(l),u=!1,d=s>0,h=0,f=0;do{var m=yee(e,l),p=m[0],g=m[1],x=m[2],y=g-x-a*p;(p||y)&&gee(e,l)&&(h+=y,f+=p),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(f)<1||!i))&&(u=!0),u},pw=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},_8=function(e){return[e.deltaX,e.deltaY]},C8=function(e){return e&&"current"in e?e.current:e},c4e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},u4e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},d4e=0,Gf=[];function h4e(e){var t=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState(d4e++)[0],a=w.useState(T3)[0],s=w.useRef(e);w.useEffect(function(){s.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=lee([e.lockRef.current],(e.shards||[]).map(C8),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var y=pw(g),v=n.current,b="deltaX"in g?g.deltaX:v[0]-y[0],E="deltaY"in g?g.deltaY:v[1]-y[1],_,S=g.target,C=Math.abs(b)>Math.abs(E)?"h":"v";if("touches"in g&&C==="h"&&S.type==="range")return!1;var T=S8(C,S);if(!T)return!0;if(T?_=C:(_=C==="v"?"h":"v",T=S8(C,S)),!T)return!1;if(!r.current&&"changedTouches"in g&&(b||E)&&(r.current=_),!_)return!0;var j=r.current||_;return l4e(j,x,g,j==="h"?b:E,!0)},[]),c=w.useCallback(function(g){var x=g;if(!(!Gf.length||Gf[Gf.length-1]!==a)){var y="deltaY"in x?_8(x):pw(x),v=t.current.filter(function(_){return _.name===x.type&&(_.target===x.target||x.target===_.shadowParent)&&c4e(_.delta,y)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var b=(s.current.shards||[]).map(C8).filter(Boolean).filter(function(_){return _.contains(x.target)}),E=b.length>0?l(x,b[0]):!s.current.noIsolation;E&&x.cancelable&&x.preventDefault()}}},[]),u=w.useCallback(function(g,x,y,v){var b={name:g,delta:x,target:y,should:v,shadowParent:f4e(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(E){return E!==b})},1)},[]),d=w.useCallback(function(g){n.current=pw(g),r.current=void 0},[]),h=w.useCallback(function(g){u(g.type,_8(g),g.target,l(g,e.lockRef.current))},[]),f=w.useCallback(function(g){u(g.type,pw(g),g.target,l(g,e.lockRef.current))},[]);w.useEffect(function(){return Gf.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,qf),document.addEventListener("touchmove",c,qf),document.addEventListener("touchstart",d,qf),function(){Gf=Gf.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,qf),document.removeEventListener("touchmove",c,qf),document.removeEventListener("touchstart",d,qf)}},[]);var m=e.removeScrollBar,p=e.inert;return w.createElement(w.Fragment,null,p?w.createElement(a,{styles:u4e(i)}):null,m?w.createElement(mee,{gapMode:e.gapMode}):null)}function f4e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const m4e=hee(fee,h4e);var Fb=w.forwardRef(function(e,t){return w.createElement(I2,Fi({},e,{ref:t,sideCar:m4e}))});Fb.classNames=I2.classNames;var eP=["Enter"," "],p4e=["ArrowDown","PageUp","Home"],xee=["ArrowUp","PageDown","End"],g4e=[...p4e,...xee],y4e={ltr:[...eP,"ArrowRight"],rtl:[...eP,"ArrowLeft"]},x4e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},zb="Menu",[av,v4e,b4e]=Rg(zb),[kf,w4e]=Ua(zb,[b4e,Ed,Kg]),R2=Ed(),vee=Kg(),[E4e,Af]=kf(zb),[S4e,Ub]=kf(zb),bee=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:a,modal:s=!0}=e,l=R2(t),[c,u]=w.useState(null),d=w.useRef(!1),h=lr(a),f=Nf(i);return w.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),o.jsx($D,{...l,children:o.jsx(E4e,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:u,children:o.jsx(S4e,{scope:t,onClose:w.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:s,children:r})})})};bee.displayName=zb;var _4e="MenuAnchor",N3=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=R2(n);return o.jsx(Tb,{...i,...r,ref:t})});N3.displayName=_4e;var k3="MenuPortal",[C4e,wee]=kf(k3,{forceMount:void 0}),Eee=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,a=Af(k3,t);return o.jsx(C4e,{scope:t,forceMount:n,children:o.jsx(ti,{present:n||a.open,children:o.jsx(Dg,{asChild:!0,container:i,children:r})})})};Eee.displayName=k3;var zs="MenuContent",[T4e,A3]=kf(zs),See=w.forwardRef((e,t)=>{const n=wee(zs,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=Af(zs,e.__scopeMenu),s=Ub(zs,e.__scopeMenu);return o.jsx(av.Provider,{scope:e.__scopeMenu,children:o.jsx(ti,{present:r||a.open,children:o.jsx(av.Slot,{scope:e.__scopeMenu,children:s.modal?o.jsx(N4e,{...i,ref:t}):o.jsx(k4e,{...i,ref:t})})})})}),N4e=w.forwardRef((e,t)=>{const n=Af(zs,e.__scopeMenu),r=w.useRef(null),i=jt(t,r);return w.useEffect(()=>{const a=r.current;if(a)return Bb(a)},[]),o.jsx(j3,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ie(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),k4e=w.forwardRef((e,t)=>{const n=Af(zs,e.__scopeMenu);return o.jsx(j3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),j3=w.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:p,...g}=e,x=Af(zs,n),y=Ub(zs,n),v=R2(n),b=vee(n),E=v4e(n),[_,S]=w.useState(null),C=w.useRef(null),T=jt(t,C,x.onContentChange),j=w.useRef(0),k=w.useRef(""),O=w.useRef(0),M=w.useRef(null),B=w.useRef("right"),N=w.useRef(0),D=p?Fb:w.Fragment,P=p?{as:_c,allowPinchZoom:!0}:void 0,L=U=>{var re,pe;const $=k.current+U,W=E().filter(ce=>!ce.disabled),z=document.activeElement,R=(re=W.find(ce=>ce.ref.current===z))==null?void 0:re.textValue,G=W.map(ce=>ce.textValue),Q=F4e(G,$,R),oe=(pe=W.find(ce=>ce.textValue===Q))==null?void 0:pe.ref.current;(function ce(me){k.current=me,window.clearTimeout(j.current),me!==""&&(j.current=window.setTimeout(()=>ce(""),1e3))})($),oe&&setTimeout(()=>oe.focus())};w.useEffect(()=>()=>window.clearTimeout(j.current),[]),P2();const I=w.useCallback(U=>{var W,z;return B.current===((W=M.current)==null?void 0:W.side)&&U4e(U,(z=M.current)==null?void 0:z.area)},[]);return o.jsx(T4e,{scope:n,searchRef:k,onItemEnter:w.useCallback(U=>{I(U)&&U.preventDefault()},[I]),onItemLeave:w.useCallback(U=>{var $;I(U)||(($=C.current)==null||$.focus(),S(null))},[I]),onTriggerLeave:w.useCallback(U=>{I(U)&&U.preventDefault()},[I]),pointerGraceTimerRef:O,onPointerGraceIntentChange:w.useCallback(U=>{M.current=U},[]),children:o.jsx(D,{...P,children:o.jsx($b,{asChild:!0,trapped:i,onMountAutoFocus:Ie(a,U=>{var $;U.preventDefault(),($=C.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:o.jsx(yf,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:o.jsx(S3,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:_,onCurrentTabStopIdChange:S,onEntryFocus:Ie(c,U=>{y.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(f2,{role:"menu","aria-orientation":"vertical","data-state":Bee(x.open),"data-radix-menu-content":"",dir:y.dir,...v,...g,ref:T,style:{outline:"none",...g.style},onKeyDown:Ie(g.onKeyDown,U=>{const W=U.target.closest("[data-radix-menu-content]")===U.currentTarget,z=U.ctrlKey||U.altKey||U.metaKey,R=U.key.length===1;W&&(U.key==="Tab"&&U.preventDefault(),!z&&R&&L(U.key));const G=C.current;if(U.target!==G||!g4e.includes(U.key))return;U.preventDefault();const oe=E().filter(re=>!re.disabled).map(re=>re.ref.current);xee.includes(U.key)&&oe.reverse(),$4e(oe)}),onBlur:Ie(e.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(j.current),k.current="")}),onPointerMove:Ie(e.onPointerMove,sv(U=>{const $=U.target,W=N.current!==U.clientX;if(U.currentTarget.contains($)&&W){const z=U.clientX>N.current?"right":"left";B.current=z,N.current=U.clientX}}))})})})})})})});See.displayName=zs;var A4e="MenuGroup",O3=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(rt.div,{role:"group",...r,ref:t})});O3.displayName=A4e;var j4e="MenuLabel",_ee=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(rt.div,{...r,ref:t})});_ee.displayName=j4e;var LS="MenuItem",T8="menu.itemSelect",D2=w.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,a=w.useRef(null),s=Ub(LS,e.__scopeMenu),l=A3(LS,e.__scopeMenu),c=jt(t,a),u=w.useRef(!1),d=()=>{const h=a.current;if(!n&&h){const f=new CustomEvent(T8,{bubbles:!0,cancelable:!0});h.addEventListener(T8,m=>r==null?void 0:r(m),{once:!0}),vD(h,f),f.defaultPrevented?u.current=!1:s.onClose()}};return o.jsx(Cee,{...i,ref:c,disabled:n,onClick:Ie(e.onClick,d),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),u.current=!0},onPointerUp:Ie(e.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:Ie(e.onKeyDown,h=>{const f=l.searchRef.current!=="";n||f&&h.key===" "||eP.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});D2.displayName=LS;var Cee=w.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=e,s=A3(LS,n),l=vee(n),c=w.useRef(null),u=jt(t,c),[d,h]=w.useState(!1),[f,m]=w.useState("");return w.useEffect(()=>{const p=c.current;p&&m((p.textContent??"").trim())},[a.children]),o.jsx(av.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:o.jsx(_3,{asChild:!0,...l,focusable:!r,children:o.jsx(rt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:Ie(e.onPointerMove,sv(p=>{r?s.onItemLeave(p):(s.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ie(e.onPointerLeave,sv(p=>s.onItemLeave(p))),onFocus:Ie(e.onFocus,()=>h(!0)),onBlur:Ie(e.onBlur,()=>h(!1))})})})}),O4e="MenuCheckboxItem",Tee=w.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return o.jsx(Oee,{scope:e.__scopeMenu,checked:n,children:o.jsx(D2,{role:"menuitemcheckbox","aria-checked":$S(n)?"mixed":n,...i,ref:t,"data-state":M3(n),onSelect:Ie(i.onSelect,()=>r==null?void 0:r($S(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Tee.displayName=O4e;var Nee="MenuRadioGroup",[P4e,M4e]=kf(Nee,{value:void 0,onValueChange:()=>{}}),kee=w.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,a=lr(r);return o.jsx(P4e,{scope:e.__scopeMenu,value:n,onValueChange:a,children:o.jsx(O3,{...i,ref:t})})});kee.displayName=Nee;var Aee="MenuRadioItem",jee=w.forwardRef((e,t)=>{const{value:n,...r}=e,i=M4e(Aee,e.__scopeMenu),a=n===i.value;return o.jsx(Oee,{scope:e.__scopeMenu,checked:a,children:o.jsx(D2,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":M3(a),onSelect:Ie(r.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,n)},{checkForDefaultPrevented:!1})})})});jee.displayName=Aee;var P3="MenuItemIndicator",[Oee,I4e]=kf(P3,{checked:!1}),Pee=w.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,a=I4e(P3,n);return o.jsx(ti,{present:r||$S(a.checked)||a.checked===!0,children:o.jsx(rt.span,{...i,ref:t,"data-state":M3(a.checked)})})});Pee.displayName=P3;var R4e="MenuSeparator",Mee=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(rt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Mee.displayName=R4e;var D4e="MenuArrow",Iee=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=R2(n);return o.jsx(m2,{...i,...r,ref:t})});Iee.displayName=D4e;var L4e="MenuSub",[IRt,Ree]=kf(L4e),_y="MenuSubTrigger",Dee=w.forwardRef((e,t)=>{const n=Af(_y,e.__scopeMenu),r=Ub(_y,e.__scopeMenu),i=Ree(_y,e.__scopeMenu),a=A3(_y,e.__scopeMenu),s=w.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=w.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return w.useEffect(()=>d,[d]),w.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),o.jsx(N3,{asChild:!0,...u,children:o.jsx(Cee,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":Bee(n.open),...e,ref:yD(t,i.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ie(e.onPointerMove,sv(h=>{a.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!s.current&&(a.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Ie(e.onPointerLeave,sv(h=>{var m,p;d();const f=(m=n.content)==null?void 0:m.getBoundingClientRect();if(f){const g=(p=n.content)==null?void 0:p.dataset.side,x=g==="right",y=x?-5:5,v=f[x?"left":"right"],b=f[x?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:v,y:f.top},{x:b,y:f.top},{x:b,y:f.bottom},{x:v,y:f.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ie(e.onKeyDown,h=>{var m;const f=a.searchRef.current!=="";e.disabled||f&&h.key===" "||y4e[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});Dee.displayName=_y;var Lee="MenuSubContent",$ee=w.forwardRef((e,t)=>{const n=wee(zs,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=Af(zs,e.__scopeMenu),s=Ub(zs,e.__scopeMenu),l=Ree(Lee,e.__scopeMenu),c=w.useRef(null),u=jt(t,c);return o.jsx(av.Provider,{scope:e.__scopeMenu,children:o.jsx(ti,{present:r||a.open,children:o.jsx(av.Slot,{scope:e.__scopeMenu,children:o.jsx(j3,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;s.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ie(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ie(e.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:Ie(e.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),f=x4e[s.dir].includes(d.key);h&&f&&(a.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});$ee.displayName=Lee;function Bee(e){return e?"open":"closed"}function $S(e){return e==="indeterminate"}function M3(e){return $S(e)?"indeterminate":e?"checked":"unchecked"}function $4e(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function B4e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function F4e(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let s=B4e(e,Math.max(a,0));i.length===1&&(s=s.filter(u=>u!==n));const c=s.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function z4e(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const l=t[a].x,c=t[a].y,u=t[s].x,d=t[s].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(i=!i)}return i}function U4e(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return z4e(n,t)}function sv(e){return t=>t.pointerType==="mouse"?e(t):void 0}var H4e=bee,V4e=N3,W4e=Eee,q4e=See,G4e=O3,Y4e=_ee,K4e=D2,X4e=Tee,Z4e=kee,Q4e=jee,J4e=Pee,e$e=Mee,t$e=Iee,n$e=Dee,r$e=$ee,L2="Menubar",[tP,i$e,a$e]=Rg(L2),[Fee,RRt]=Ua(L2,[a$e,Kg]),Sa=w4e(),zee=Kg(),[s$e,I3]=Fee(L2),Uee=w.forwardRef((e,t)=>{const{__scopeMenubar:n,value:r,onValueChange:i,defaultValue:a,loop:s=!0,dir:l,...c}=e,u=Nf(l),d=zee(n),[h="",f]=qs({prop:r,onChange:i,defaultProp:a}),[m,p]=w.useState(null);return o.jsx(s$e,{scope:n,value:h,onMenuOpen:w.useCallback(g=>{f(g),p(g)},[f]),onMenuClose:w.useCallback(()=>f(""),[f]),onMenuToggle:w.useCallback(g=>{f(x=>x?"":g),p(g)},[f]),dir:u,loop:s,children:o.jsx(tP.Provider,{scope:n,children:o.jsx(tP.Slot,{scope:n,children:o.jsx(S3,{asChild:!0,...d,orientation:"horizontal",loop:s,dir:u,currentTabStopId:m,onCurrentTabStopIdChange:p,children:o.jsx(rt.div,{role:"menubar",...c,ref:t})})})})})});Uee.displayName=L2;var R3="MenubarMenu",[o$e,Hee]=Fee(R3),Vee=e=>{const{__scopeMenubar:t,value:n,...r}=e,i=us(),a=n||i||"LEGACY_REACT_AUTO_VALUE",s=I3(R3,t),l=Sa(t),c=w.useRef(null),u=w.useRef(!1),d=s.value===a;return w.useEffect(()=>{d||(u.current=!1)},[d]),o.jsx(o$e,{scope:t,value:a,triggerId:us(),triggerRef:c,contentId:us(),wasKeyboardTriggerOpenRef:u,children:o.jsx(H4e,{...l,open:d,onOpenChange:h=>{h||s.onMenuClose()},modal:!1,dir:s.dir,...r})})};Vee.displayName=R3;var nP="MenubarTrigger",Wee=w.forwardRef((e,t)=>{const{__scopeMenubar:n,disabled:r=!1,...i}=e,a=zee(n),s=Sa(n),l=I3(nP,n),c=Hee(nP,n),u=w.useRef(null),d=jt(t,u,c.triggerRef),[h,f]=w.useState(!1),m=l.value===c.value;return o.jsx(tP.ItemSlot,{scope:n,value:c.value,disabled:r,children:o.jsx(_3,{asChild:!0,...a,focusable:!r,tabStopId:c.value,children:o.jsx(V4e,{asChild:!0,...s,children:o.jsx(rt.button,{type:"button",role:"menuitem",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":m,"aria-controls":m?c.contentId:void 0,"data-highlighted":h?"":void 0,"data-state":m?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:d,onPointerDown:Ie(e.onPointerDown,p=>{!r&&p.button===0&&p.ctrlKey===!1&&(l.onMenuOpen(c.value),m||p.preventDefault())}),onPointerEnter:Ie(e.onPointerEnter,()=>{var g;!!l.value&&!m&&(l.onMenuOpen(c.value),(g=u.current)==null||g.focus())}),onKeyDown:Ie(e.onKeyDown,p=>{r||(["Enter"," "].includes(p.key)&&l.onMenuToggle(c.value),p.key==="ArrowDown"&&l.onMenuOpen(c.value),["Enter"," ","ArrowDown"].includes(p.key)&&(c.wasKeyboardTriggerOpenRef.current=!0,p.preventDefault()))}),onFocus:Ie(e.onFocus,()=>f(!0)),onBlur:Ie(e.onBlur,()=>f(!1))})})})})});Wee.displayName=nP;var l$e="MenubarPortal",qee=e=>{const{__scopeMenubar:t,...n}=e,r=Sa(t);return o.jsx(W4e,{...r,...n})};qee.displayName=l$e;var rP="MenubarContent",Gee=w.forwardRef((e,t)=>{const{__scopeMenubar:n,align:r="start",...i}=e,a=Sa(n),s=I3(rP,n),l=Hee(rP,n),c=i$e(n),u=w.useRef(!1);return o.jsx(q4e,{id:l.contentId,"aria-labelledby":l.triggerId,"data-radix-menubar-content":"",...a,...i,ref:t,align:r,onCloseAutoFocus:Ie(e.onCloseAutoFocus,d=>{var f;!!!s.value&&!u.current&&((f=l.triggerRef.current)==null||f.focus()),u.current=!1,d.preventDefault()}),onFocusOutside:Ie(e.onFocusOutside,d=>{const h=d.target;c().some(m=>{var p;return(p=m.ref.current)==null?void 0:p.contains(h)})&&d.preventDefault()}),onInteractOutside:Ie(e.onInteractOutside,()=>{u.current=!0}),onEntryFocus:d=>{l.wasKeyboardTriggerOpenRef.current||d.preventDefault()},onKeyDown:Ie(e.onKeyDown,d=>{if(["ArrowRight","ArrowLeft"].includes(d.key)){const h=d.target,f=h.hasAttribute("data-radix-menubar-subtrigger"),m=h.closest("[data-radix-menubar-content]")!==d.currentTarget,g=(s.dir==="rtl"?"ArrowRight":"ArrowLeft")===d.key;if(!g&&f||m&&g)return;let v=c().filter(_=>!_.disabled).map(_=>_.value);g&&v.reverse();const b=v.indexOf(l.value);v=s.loop?S$e(v,b+1):v.slice(b+1);const[E]=v;E&&s.onMenuOpen(E)}},{checkForDefaultPrevented:!1}),style:{...e.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});Gee.displayName=rP;var c$e="MenubarGroup",u$e=w.forwardRef((e,t)=>{const{__scopeMenubar:n,...r}=e,i=Sa(n);return o.jsx(G4e,{...i,...r,ref:t})});u$e.displayName=c$e;var d$e="MenubarLabel",Yee=w.forwardRef((e,t)=>{const{__scopeMenubar:n,...r}=e,i=Sa(n);return o.jsx(Y4e,{...i,...r,ref:t})});Yee.displayName=d$e;var h$e="MenubarItem",Kee=w.forwardRef((e,t)=>{const{__scopeMenubar:n,...r}=e,i=Sa(n);return o.jsx(K4e,{...i,...r,ref:t})});Kee.displayName=h$e;var f$e="MenubarCheckboxItem",Xee=w.forwardRef((e,t)=>{const{__scopeMenubar:n,...r}=e,i=Sa(n);return o.jsx(X4e,{...i,...r,ref:t})});Xee.displayName=f$e;var m$e="MenubarRadioGroup",p$e=w.forwardRef((e,t)=>{const{__scopeMenubar:n,...r}=e,i=Sa(n);return o.jsx(Z4e,{...i,...r,ref:t})});p$e.displayName=m$e;var g$e="MenubarRadioItem",Zee=w.forwardRef((e,t)=>{const{__scopeMenubar:n,...r}=e,i=Sa(n);return o.jsx(Q4e,{...i,...r,ref:t})});Zee.displayName=g$e;var y$e="MenubarItemIndicator",Qee=w.forwardRef((e,t)=>{const{__scopeMenubar:n,...r}=e,i=Sa(n);return o.jsx(J4e,{...i,...r,ref:t})});Qee.displayName=y$e;var x$e="MenubarSeparator",Jee=w.forwardRef((e,t)=>{const{__scopeMenubar:n,...r}=e,i=Sa(n);return o.jsx(e$e,{...i,...r,ref:t})});Jee.displayName=x$e;var v$e="MenubarArrow",b$e=w.forwardRef((e,t)=>{const{__scopeMenubar:n,...r}=e,i=Sa(n);return o.jsx(t$e,{...i,...r,ref:t})});b$e.displayName=v$e;var w$e="MenubarSubTrigger",ete=w.forwardRef((e,t)=>{const{__scopeMenubar:n,...r}=e,i=Sa(n);return o.jsx(n$e,{"data-radix-menubar-subtrigger":"",...i,...r,ref:t})});ete.displayName=w$e;var E$e="MenubarSubContent",tte=w.forwardRef((e,t)=>{const{__scopeMenubar:n,...r}=e,i=Sa(n);return o.jsx(r$e,{...i,"data-radix-menubar-content":"",...r,ref:t,style:{...e.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});tte.displayName=E$e;function S$e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var nte=Uee,_$e=Vee,rte=Wee,C$e=qee,ite=Gee,ate=Yee,ste=Kee,ote=Xee,lte=Zee,cte=Qee,ute=Jee,dte=ete,hte=tte;const fte=_$e,D3=w.forwardRef(({className:e,...t},n)=>o.jsx(nte,{ref:n,className:Be("flex h-10 items-center space-x-1 rounded-md border bg-background p-1",e),...t}));D3.displayName=nte.displayName;const L3=w.forwardRef(({className:e,...t},n)=>o.jsx(rte,{ref:n,className:Be("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e),...t}));L3.displayName=rte.displayName;const T$e=w.forwardRef(({className:e,inset:t,children:n,...r},i)=>o.jsxs(dte,{ref:i,className:Be("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t&&"pl-8",e),...r,children:[n,o.jsx(SD,{className:"ml-auto h-4 w-4"})]}));T$e.displayName=dte.displayName;const N$e=w.forwardRef(({className:e,...t},n)=>o.jsx(hte,{ref:n,className:Be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));N$e.displayName=hte.displayName;const $3=w.forwardRef(({className:e,align:t="start",alignOffset:n=-4,sideOffset:r=8,...i},a)=>o.jsx(C$e,{children:o.jsx(ite,{ref:a,align:t,alignOffset:n,sideOffset:r,className:Be("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...i})}));$3.displayName=ite.displayName;const ch=w.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(ste,{ref:r,className:Be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));ch.displayName=ste.displayName;const k$e=w.forwardRef(({className:e,children:t,checked:n,...r},i)=>o.jsxs(ote,{ref:i,className:Be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(cte,{children:o.jsx(o2,{className:"h-4 w-4"})})}),t]}));k$e.displayName=ote.displayName;const A$e=w.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(lte,{ref:r,className:Be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(cte,{children:o.jsx(zbe,{className:"h-2 w-2 fill-current"})})}),t]}));A$e.displayName=lte.displayName;const j$e=w.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(ate,{ref:r,className:Be("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));j$e.displayName=ate.displayName;const B3=w.forwardRef(({className:e,...t},n)=>o.jsx(ute,{ref:n,className:Be("-mx-1 my-1 h-px bg-muted",e),...t}));B3.displayName=ute.displayName;function O$e(e,t=[]){let n=[];function r(a,s){const l=w.createContext(s),c=n.length;n=[...n,s];function u(h){const{scope:f,children:m,...p}=h,g=(f==null?void 0:f[e][c])||l,x=w.useMemo(()=>p,Object.values(p));return o.jsx(g.Provider,{value:x,children:m})}function d(h,f){const m=(f==null?void 0:f[e][c])||l,p=w.useContext(m);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const i=()=>{const a=n.map(s=>w.createContext(s));return function(l){const c=(l==null?void 0:l[e])||a;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,P$e(i,...t)]}function P$e(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var F3="Progress",z3=100,[M$e,DRt]=O$e(F3),[I$e,R$e]=M$e(F3),mte=w.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=D$e,...s}=e;(i||i===0)&&!N8(i)&&console.error(L$e(`${i}`,"Progress"));const l=N8(i)?i:z3;r!==null&&!k8(r,l)&&console.error($$e(`${r}`,"Progress"));const c=k8(r,l)?r:null,u=BS(c)?a(c,l):void 0;return o.jsx(I$e,{scope:n,value:c,max:l,children:o.jsx(rt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":BS(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":yte(c,l),"data-value":c??void 0,"data-max":l,...s,ref:t})})});mte.displayName=F3;var pte="ProgressIndicator",gte=w.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=R$e(pte,n);return o.jsx(rt.div,{"data-state":yte(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});gte.displayName=pte;function D$e(e,t){return`${Math.round(e/t*100)}%`}function yte(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function BS(e){return typeof e=="number"}function N8(e){return BS(e)&&!isNaN(e)&&e>0}function k8(e,t){return BS(e)&&!isNaN(e)&&e<=t&&e>=0}function L$e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${z3}\`.`}function $$e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${z3} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var xte=mte,B$e=gte;const Hb=w.forwardRef(({className:e,value:t,...n},r)=>o.jsx(xte,{ref:r,className:Be("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:o.jsx(B$e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Hb.displayName=xte.displayName;const F$e=({metrics:e,challengeTitle:t})=>{const n=r=>{switch(r){case"active":return"bg-green-500/10 text-green-500";case"learning":return"bg-blue-500/10 text-blue-500";case"optimizing":return"bg-yellow-500/10 text-yellow-500";default:return"bg-gray-500/10 text-gray-500"}};return o.jsxs(Pe,{className:"glass-card overflow-hidden hover:shadow-glass-hover transition-all",children:[o.jsx(Ye,{className:"pb-2",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(vl,{className:"h-4 w-4 text-primary"}),o.jsx(dt,{className:"text-sm",children:"AI Monitor"})]}),o.jsx(Oe,{variant:"secondary",className:`${n(e.status)} capitalize`,children:e.status})]})}),o.jsx(De,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Hypothesis Validation"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.validationScore,"%"]})]}),o.jsx(Hb,{value:e.validationScore,className:"h-2"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(hi,{className:"h-4 w-4 text-green-500"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium",children:e.improvementCount}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Improvements"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Fh,{className:"h-4 w-4 text-blue-500"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium",children:"Active"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Monitoring"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[o.jsx(Bh,{className:"h-3 w-3"}),"Last updated ",new Date(e.lastUpdated).toLocaleDateString()]})]})})]})};var z$e="Separator",A8="horizontal",U$e=["horizontal","vertical"],vte=w.forwardRef((e,t)=>{const{decorative:n,orientation:r=A8,...i}=e,a=H$e(r)?r:A8,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(rt.div,{"data-orientation":a,...l,...i,ref:t})});vte.displayName=z$e;function H$e(e){return U$e.includes(e)}var bte=vte;const wo=w.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>o.jsx(bte,{ref:i,decorative:n,orientation:t,className:Be("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));wo.displayName=bte.displayName;const V$e={challenge:o.jsx(s2,{className:"h-4 w-4"}),problem:o.jsx(iX,{className:"h-4 w-4"}),hypothesis:o.jsx(vl,{className:"h-4 w-4"}),metric:o.jsx(vr,{className:"h-4 w-4"}),suggestion:o.jsx(bl,{className:"h-4 w-4"})},W$e={success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"},wte=({logs:e,challengeTitle:t,searchQuery:n="",selectedStatus:r="all"})=>{const[i,a]=w.useState("all"),s=e.filter(l=>{const c=n.toLowerCase()===""||l.title.toLowerCase().includes(n.toLowerCase())||l.description.toLowerCase().includes(n.toLowerCase()),u=r==="all"||l.status===r.toLowerCase(),d=i==="all"||l.type===i;return c&&u&&d});return o.jsxs(Pe,{className:"mt-4",children:[o.jsx(Ye,{children:o.jsxs(dt,{className:"flex items-center gap-2",children:[o.jsx(vl,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"AI Agent Execution Logs"}),o.jsx(Oe,{variant:"outline",className:"ml-auto",children:t})]})}),o.jsx(De,{className:"space-y-4",children:e.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No execution logs yet. AI agent will populate this section as it monitors."}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsx(te,{variant:i==="all"?"outline":"ghost",size:"sm",onClick:()=>a("all"),children:"All"}),o.jsx(te,{variant:i==="challenge"?"outline":"ghost",size:"sm",onClick:()=>a("challenge"),children:"Challenges"}),o.jsx(te,{variant:i==="problem"?"outline":"ghost",size:"sm",onClick:()=>a("problem"),children:"Problems"}),o.jsx(te,{variant:i==="hypothesis"?"outline":"ghost",size:"sm",onClick:()=>a("hypothesis"),children:"Hypotheses"}),o.jsx(te,{variant:i==="metric"?"outline":"ghost",size:"sm",onClick:()=>a("metric"),children:"Metrics"})]}),o.jsx(wo,{}),o.jsx("div",{className:"space-y-4",children:s.map((l,c)=>o.jsxs("div",{className:"relative flex gap-3 items-start group hover:bg-accent/5 p-4 rounded-lg transition-colors",children:[c<e.length-1&&o.jsx("div",{className:"absolute left-[23px] top-[48px] w-[2px] h-[calc(100%-24px)] bg-accent/50"}),o.jsx("div",{className:"relative",children:o.jsx("div",{className:"p-2.5 rounded-full bg-accent/10 border-2 border-accent group-hover:border-primary group-hover:bg-accent transition-colors",children:V$e[l.type]})}),o.jsxs("div",{className:"flex-1 pt-1",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("h4",{className:"font-medium text-base group-hover:text-primary transition-colors",children:l.title}),o.jsx(Oe,{className:`${W$e[l.status]} px-2 py-0.5 rounded-full text-xs font-medium transition-opacity`,children:l.status.charAt(0).toUpperCase()+l.status.slice(1)}),l.value!==void 0&&o.jsxs(Oe,{variant:"outline",className:"ml-auto px-2 py-0.5",children:["Score: ",l.value]})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2 leading-relaxed",children:l.description}),o.jsxs("div",{className:"flex items-center justify-between mt-3",children:[o.jsx("time",{className:"text-xs text-muted-foreground/75 tabular-nums",children:new Date(l.timestamp).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),l.action&&o.jsx(te,{variant:"ghost",size:"sm",className:"h-7 px-3 text-xs font-medium hover:bg-accent/20",children:l.action})]})]})]},l.id))})]})})]})},q$e=({businessChallenge:e,onEdit:t,onAddProblem:n,onViewProblems:r,onGenerateProblem:i,onViewAnalysis:a,problemsCount:s,hasAnalyzedHypotheses:l=!1})=>{const{id:c,title:u,description:d,createdAt:h}=e,f=Dn(),{toast:m}=za(),p=()=>{f(`/problems?challengeId=${c}`)},[g,x]=w.useState(!1),[y,v]=w.useState({validationScore:85,improvementCount:3,lastUpdated:new Date().toISOString(),status:"active"}),b=async()=>{try{const _={id:`challenge-${c}`,name:`${u} Monitor`,description:`Monitors and analyzes the business challenge: ${u}`,role:"client",capabilities:[{name:"Challenge Analysis",description:"Analyzes business challenges",type:"action"},{name:"Metric Monitoring",description:"Monitors business metrics",type:"knowledge"}],supportedContentTypes:["text/plain","application/json"],metadata:{businessChallengeId:c,businessChallengeTitle:u,businessChallengeDescription:d}};await Gm.registerAgent(_),x(!0),m({title:"AI Agent Created",description:`AI Agent is now monitoring "${u}" challenge`}),f("/ai-agent-management")}catch{m({title:"Error",description:"Failed to create AI agent. Please try again later.",variant:"destructive"})}},E=()=>{f(`/hypotheses?challengeId=${c}&aiValidate=true`)};return o.jsxs(Pe,{className:"glass-card overflow-hidden hover:shadow-glass-hover transition-all flex flex-col min-h-[400px] group relative bg-card/50 backdrop-blur-sm border-muted/30",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-muted/5 group-hover:to-muted/10 transition-colors"}),o.jsx(Ye,{className:"pb-3 relative z-10 px-6",children:o.jsxs("div",{className:"flex justify-between items-start gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-xs font-medium text-primary/80 mb-1.5 tracking-wide uppercase",children:"Business Challenge"}),o.jsx(dt,{className:"text-lg font-semibold leading-tight hover:text-primary transition-colors",children:u})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(D3,{className:"border-none shadow-none p-0",children:o.jsxs(fte,{children:[o.jsx(L3,{className:"p-1 cursor-pointer data-[state=open]:bg-accent",children:o.jsx(vl,{className:"h-4 w-4 text-primary"})}),o.jsxs($3,{align:"end",alignOffset:-5,className:"w-56",children:[o.jsxs(ch,{onClick:b,children:[o.jsx(vl,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Create AI Monitor Agent"})]}),o.jsx(B3,{}),o.jsxs(ch,{onClick:E,children:[o.jsx(Hx,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Validate Hypotheses"})]}),o.jsxs(ch,{onClick:()=>f(`/retrieval-testing?challengeId=${c}`),children:[o.jsx(Fa,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Test Retrieval"})]}),a&&o.jsxs(ch,{onClick:()=>a(c),children:[o.jsx(kp,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"View Analysis"})]})]})]})}),o.jsx(te,{variant:"ghost",size:"icon",onClick:()=>t(c),children:o.jsx(oa,{className:"h-4 w-4"})})]})]})}),o.jsxs(De,{className:"flex-grow relative z-10 pt-2 px-6",children:[o.jsx(hn,{className:"text-sm mb-6 line-clamp-2 text-muted-foreground/90 leading-relaxed",children:d}),(e.datasetStartDate||e.datasetEndDate)&&o.jsxs("div",{className:"mt-2 mb-4 space-y-1",children:[o.jsx(hn,{className:"text-sm font-medium text-primary",children:"Analysis Period"}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{children:["From: ",e.datasetStartDate?XO(new Date(e.datasetStartDate),"MMMM d, yyyy"):"N/A"]}),e.datasetStartDate&&o.jsxs(Oe,{variant:"outline",className:"text-xs",children:["Q",Math.floor(new Date(e.datasetStartDate).getMonth()/3)+1," FY",new Date(e.datasetStartDate).getFullYear()]})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsxs("span",{children:["To: ",e.datasetEndDate?XO(new Date(e.datasetEndDate),"MMMM d, yyyy"):"N/A"]}),e.datasetEndDate&&o.jsxs(Oe,{variant:"outline",className:"text-xs",children:["Q",Math.floor(new Date(e.datasetEndDate).getMonth()/3)+1," FY",new Date(e.datasetEndDate).getFullYear()]})]}),e.datasetStartDate&&e.datasetEndDate&&o.jsxs("div",{className:"mt-1 text-xs",children:["Duration: ",Math.ceil((new Date(e.datasetEndDate).getTime()-new Date(e.datasetStartDate).getTime())/(1e3*60*60*24))," days"]})]})]}),g&&o.jsxs("div",{className:"mb-4 space-y-4",children:[o.jsx(F$e,{metrics:y,challengeTitle:u}),o.jsx(wte,{logs:[{id:"1",type:"challenge",title:"Challenge Monitoring Started",description:"AI agent is now monitoring this business challenge",timestamp:new Date().toISOString(),status:"success"},{id:"2",type:"metric",title:"Initial Validation Score",description:"Initial validation score calculated for challenge",timestamp:new Date().toISOString(),status:"info",value:85}],challengeTitle:u})]}),o.jsx("div",{className:"flex justify-between items-center mt-6 bg-muted/5 p-3 rounded-lg border border-border/5",children:o.jsx("div",{className:"text-sm flex items-center gap-2",children:o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("span",{className:"font-semibold text-base text-primary",children:s}),o.jsx("span",{className:"text-muted-foreground",children:"Business Problems"})]})})})]}),o.jsxs(Tf,{className:"mt-auto pt-6 pb-4 px-6 flex flex-col gap-4 relative z-10 border-t border-border/10",children:[o.jsx("div",{className:"text-xs text-muted-foreground/75 flex items-center gap-2 w-full",children:o.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-primary/20"}),o.jsx("span",{className:"text-muted-foreground/90",children:"Created on"}),o.jsx("span",{className:"font-medium text-muted-foreground",children:new Date(h).toLocaleDateString()})]})}),o.jsxs("div",{className:"flex gap-3 items-center w-full justify-center",children:[o.jsxs(te,{variant:"ghost",size:"sm",className:"text-xs hover:bg-primary/10 hover:text-primary transition-colors flex items-center",onClick:()=>i(c),children:[o.jsx(ga,{className:"mr-1.5 h-3.5 w-3.5"}),"Generate"]}),a&&o.jsxs(te,{variant:"ghost",size:"sm",className:"text-xs hover:bg-primary/10 hover:text-primary transition-colors flex items-center",onClick:()=>a(c),title:l?"":"No analyzed hypotheses available",children:[o.jsx(kp,{className:"mr-1.5 h-3.5 w-3.5"}),"Analysis"]}),o.jsxs(te,{variant:"ghost",size:"sm",className:"text-xs hover:bg-primary/10 hover:text-primary transition-colors flex items-center",onClick:p,children:["Problems",o.jsx(Hx,{className:"ml-1.5 h-3.5 w-3.5"})]})]})]})]})};var U3="Dialog",[Ete,Ste]=Ua(U3),[G$e,Bo]=Ete(U3),_te=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:s=!0}=e,l=w.useRef(null),c=w.useRef(null),[u=!1,d]=qs({prop:r,defaultProp:i,onChange:a});return o.jsx(G$e,{scope:t,triggerRef:l,contentRef:c,contentId:us(),titleId:us(),descriptionId:us(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(h=>!h),[d]),modal:s,children:n})};_te.displayName=U3;var Cte="DialogTrigger",Tte=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Bo(Cte,n),a=jt(t,i.triggerRef);return o.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":W3(i.open),...r,ref:a,onClick:Ie(e.onClick,i.onOpenToggle)})});Tte.displayName=Cte;var H3="DialogPortal",[Y$e,Nte]=Ete(H3,{forceMount:void 0}),kte=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=Bo(H3,t);return o.jsx(Y$e,{scope:t,forceMount:n,children:w.Children.map(r,s=>o.jsx(ti,{present:n||a.open,children:o.jsx(Dg,{asChild:!0,container:i,children:s})}))})};kte.displayName=H3;var FS="DialogOverlay",Ate=w.forwardRef((e,t)=>{const n=Nte(FS,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Bo(FS,e.__scopeDialog);return a.modal?o.jsx(ti,{present:r||a.open,children:o.jsx(K$e,{...i,ref:t})}):null});Ate.displayName=FS;var K$e=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Bo(FS,n);return o.jsx(Fb,{as:_c,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(rt.div,{"data-state":W3(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),qh="DialogContent",jte=w.forwardRef((e,t)=>{const n=Nte(qh,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Bo(qh,e.__scopeDialog);return o.jsx(ti,{present:r||a.open,children:a.modal?o.jsx(X$e,{...i,ref:t}):o.jsx(Z$e,{...i,ref:t})})});jte.displayName=qh;var X$e=w.forwardRef((e,t)=>{const n=Bo(qh,e.__scopeDialog),r=w.useRef(null),i=jt(t,n.contentRef,r);return w.useEffect(()=>{const a=r.current;if(a)return Bb(a)},[]),o.jsx(Ote,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&a.preventDefault()}),onFocusOutside:Ie(e.onFocusOutside,a=>a.preventDefault())})}),Z$e=w.forwardRef((e,t)=>{const n=Bo(qh,e.__scopeDialog),r=w.useRef(!1),i=w.useRef(!1);return o.jsx(Ote,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,l;(s=e.onCloseAutoFocus)==null||s.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),Ote=w.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=e,l=Bo(qh,n),c=w.useRef(null),u=jt(t,c);return P2(),o.jsxs(o.Fragment,{children:[o.jsx($b,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:o.jsx(yf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":W3(l.open),...s,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(J$e,{titleId:l.titleId}),o.jsx(t5e,{contentRef:c,descriptionId:l.descriptionId})]})]})}),V3="DialogTitle",Pte=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Bo(V3,n);return o.jsx(rt.h2,{id:i.titleId,...r,ref:t})});Pte.displayName=V3;var Mte="DialogDescription",Ite=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Bo(Mte,n);return o.jsx(rt.p,{id:i.descriptionId,...r,ref:t})});Ite.displayName=Mte;var Rte="DialogClose",Dte=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Bo(Rte,n);return o.jsx(rt.button,{type:"button",...r,ref:t,onClick:Ie(e.onClick,()=>i.onOpenChange(!1))})});Dte.displayName=Rte;function W3(e){return e?"open":"closed"}var Lte="DialogTitleWarning",[Q$e,$te]=Kve(Lte,{contentName:qh,titleName:V3,docsSlug:"dialog"}),J$e=({titleId:e})=>{const t=$te(Lte),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},e5e="DialogDescriptionWarning",t5e=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$te(e5e).contentName}}.`;return w.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Bte=_te,Fte=Tte,zte=kte,q3=Ate,G3=jte,Y3=Pte,K3=Ite,X3=Dte;const ur=Bte,zS=Fte,n5e=zte,Ute=w.forwardRef(({className:e,...t},n)=>o.jsx(q3,{ref:n,className:Be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Ute.displayName=q3.displayName;const dr=w.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(n5e,{children:[o.jsx(Ute,{}),o.jsxs(G3,{ref:r,className:Be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,o.jsxs(X3,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Pr,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));dr.displayName=G3.displayName;const hr=({className:e,...t})=>o.jsx("div",{className:Be("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});hr.displayName="DialogHeader";const Hi=({className:e,...t})=>o.jsx("div",{className:Be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Hi.displayName="DialogFooter";const fr=w.forwardRef(({className:e,...t},n)=>o.jsx(Y3,{ref:n,className:Be("text-lg font-semibold leading-none tracking-tight",e),...t}));fr.displayName=Y3.displayName;const mr=w.forwardRef(({className:e,...t},n)=>o.jsx(K3,{ref:n,className:Be("text-sm text-muted-foreground",e),...t}));mr.displayName=K3.displayName;var r5e="Label",Hte=w.forwardRef((e,t)=>o.jsx(rt.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Hte.displayName=r5e;var Vte=Hte;const i5e=a2("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ve=w.forwardRef(({className:e,...t},n)=>o.jsx(Vte,{ref:n,className:Be(i5e(),e),...t}));ve.displayName=Vte.displayName;const Pn=w.forwardRef(({className:e,...t},n)=>o.jsx("textarea",{className:Be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Pn.displayName="Textarea";const a5e=({open:e,onOpenChange:t,initialData:n,onSubmit:r})=>{const[i,a]=w.useState(n||{title:"",description:"",problemIds:[],datasetStartDate:"",datasetEndDate:""}),s=c=>{const{name:u,value:d}=c.target;a(h=>({...h,[u]:d}))},l=c=>{c.preventDefault(),r(i)};return w.useEffect(()=>{a(n||{title:"",description:"",problemIds:[],datasetStartDate:"",datasetEndDate:""})},[n]),o.jsx(ur,{open:e,onOpenChange:t,children:o.jsx(dr,{className:"glass-panel sm:max-w-[500px] slide-enter",children:o.jsxs("form",{onSubmit:l,children:[o.jsxs(hr,{children:[o.jsx(fr,{children:n!=null&&n.id?"Edit Business Challenge":"Create New Challenge"}),o.jsx(mr,{children:"Define a business challenge that needs to be addressed"})]}),o.jsxs("div",{className:"grid gap-5 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ve,{htmlFor:"title",children:"Challenge Title"}),o.jsx(Me,{id:"title",name:"title",placeholder:"Enter challenge title...",value:i.title,onChange:s,required:!0})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ve,{htmlFor:"description",children:"Challenge Description"}),o.jsx(Pn,{id:"description",name:"description",placeholder:"Describe the business challenge in detail...",value:i.description,onChange:s,rows:4,required:!0})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ve,{htmlFor:"datasetStartDate",children:"Dataset Start Date"}),o.jsx(Me,{id:"datasetStartDate",name:"datasetStartDate",type:"date",value:i.datasetStartDate,onChange:s})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ve,{htmlFor:"datasetEndDate",children:"Dataset End Date"}),o.jsx(Me,{id:"datasetEndDate",name:"datasetEndDate",type:"date",value:i.datasetEndDate,onChange:s})]})]}),o.jsxs(Hi,{children:[o.jsx(te,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),o.jsx(te,{type:"submit",children:n!=null&&n.id?"Save Changes":"Create Challenge"})]})]})})})},s5e={generateProblem:async e=>{try{const t=await fetch(`${Ke}/watchmen/ai/ai/generate-problem`,{method:"POST",headers:tt(),body:JSON.stringify(e)});return await gt(t)}catch(t){throw console.error("Error generating hypothesis:",t),t}}},o5e=({open:e,onOpenChange:t,businessChallenge:n,onGenerate:r})=>{const[i,a]=w.useState(!1),[s,l]=w.useState(""),[c,u]=w.useState(""),d=async()=>{if(n){a(!0);try{const f=await s5e.generateProblem(n);l(f.response.title),u(f.response.description)}catch(f){console.error("Error generating problem:",f)}finally{a(!1)}}},h=()=>{r({title:s,description:c,businessChallengeId:n==null?void 0:n.id}),t(!1),l(""),u("")};return o.jsx(ur,{open:e,onOpenChange:t,children:o.jsxs(dr,{className:"glass-panel sm:max-w-[600px] slide-enter",children:[o.jsxs(hr,{children:[o.jsx(fr,{children:"Generate Problem with AI"}),o.jsx(mr,{children:"Create a business problem based on the challenge using AI assistance"})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[n&&o.jsxs("div",{className:"bg-muted/50 p-4 rounded-md",children:[o.jsx("div",{className:"font-medium",children:"Business Challenge"}),o.jsx("h3",{className:"text-sm font-medium mt-1",children:n.title}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:n.description})]}),!i&&!s&&o.jsx("div",{className:"flex justify-center py-4",children:o.jsxs(te,{onClick:d,children:[o.jsx(ga,{className:"mr-2 h-4 w-4"}),"Generate Problem"]})}),i&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[o.jsx(nr,{className:"h-8 w-8 animate-spin text-primary mb-4"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Generating problem..."})]}),s&&!i&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"generated-title",children:"Generated Title"}),o.jsx(Pn,{id:"generated-title",value:s,onChange:f=>l(f.target.value),rows:2})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"generated-description",children:"Generated Description"}),o.jsx(Pn,{id:"generated-description",value:c,onChange:f=>u(f.target.value),rows:6})]}),o.jsxs("div",{className:"flex justify-end",children:[o.jsxs(te,{onClick:()=>d(),variant:"outline",className:"mr-2",children:[o.jsx(ga,{className:"mr-2 h-4 w-4"}),"Regenerate"]}),o.jsx(te,{onClick:h,children:"Use This Problem"})]})]})]}),o.jsx(Hi,{children:o.jsx(te,{variant:"outline",onClick:()=>t(!1),children:"Cancel"})})]})})},l5e=()=>{const{collapsed:e}=Tr(),[t,n]=w.useState([]),[r,i]=w.useState(!1),[a,s]=w.useState(),[l,c]=w.useState(""),[u,d]=w.useState(!0),[h,f]=w.useState(null),[m,p]=w.useState(!1),[g,x]=w.useState(null),y=Dn(),{toast:v}=za();w.useEffect(()=>{(async()=>{try{d(!0),f(null);const O=await Kr.getChallenges();n(O)}catch{f("Failed to load data. Please try again later."),v({title:"Error",description:"Failed to load data. Please try again later.",variant:"destructive"})}finally{d(!1)}})()},[v]);const b=()=>{s(void 0),i(!0)},E=k=>{const O=t.find(M=>M.id===k);O&&(s(O),i(!0))},_=k=>{const O=t.find(M=>M.id===k);O&&(x(O),p(!0))},S=k=>{y(`/challenge-analysis?challengeId=${k}`)},C=async k=>{try{const O=await Kr.createProblem({title:k.title,description:k.description,businessChallengeId:k.businessChallengeId,status:"open",hypothesisIds:[],createdAt:new Date().toISOString()});x(null),p(!1),v({title:"AI Problem Generated",description:"Your AI-generated problem has been created successfully."}),y(`/problems?challengeId=${k.businessChallengeId}`)}catch{v({title:"Error",description:"Failed to create problem. Please try again later.",variant:"destructive"})}},T=async k=>{try{if(a!=null&&a.id){const O=await Kr.updateChallenge(a.id,k);n(M=>M.map(B=>B.id===a.id?O:B)),v({title:"Business Challenge Updated",description:"Your business challenge has been successfully updated."})}else{const O=await Kr.createChallenge(k);n(M=>[O,...M]),v({title:"Business Challenge Created",description:"Your new business challenge has been successfully created."})}}catch{v({title:"Error",description:"Failed to save challenge. Please try again later.",variant:"destructive"});return}i(!1)},j=t.filter(k=>k.title.toLowerCase().includes(l.toLowerCase())||k.description.toLowerCase().includes(l.toLowerCase())).sort((k,O)=>new Date(O.createdAt).getTime()-new Date(k.createdAt).getTime());return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ir,{}),o.jsxs("div",{className:`${e?"pl-20":"pl-56"} min-h-screen transition-all duration-300`,children:[o.jsx(Xn,{}),o.jsxs("main",{className:"container py-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold",children:"Business Challenges"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(te,{onClick:()=>y("/ai-agent-management"),variant:"outline",className:"hover-float",children:[o.jsx(vl,{className:"mr-2 h-4 w-4"}),"AI Agent Management"]}),o.jsxs(te,{onClick:b,className:"hover-float",children:[o.jsx(or,{className:"mr-2 h-4 w-4"}),"Create New Challenge"]})]})]}),o.jsx("div",{className:"glass-card p-4 mb-6",children:o.jsxs("div",{className:"relative flex-grow",children:[o.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Me,{placeholder:"Search business challenges...",value:l,onChange:k=>c(k.target.value),className:"pl-9"})]})}),o.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[u?o.jsx("div",{className:"col-span-3 flex justify-center items-center py-12",children:o.jsx(nr,{className:"h-8 w-8 animate-spin text-primary"})}):h?o.jsxs("div",{className:"col-span-3 text-center py-12 text-destructive",children:[o.jsx("p",{children:h}),o.jsx(te,{onClick:()=>window.location.reload(),variant:"outline",className:"mt-4",children:"Try Again"})]}):j.map(k=>o.jsx(q$e,{businessChallenge:k,onEdit:E,onAddProblem:()=>y(`/problems?challengeId=${k.id}`),onViewProblems:()=>y(`/problems?challengeId=${k.id}`),onGenerateProblem:_,onViewAnalysis:S,problemsCount:k.problemIds.length},k.id)),j.length===0&&o.jsxs("div",{className:"col-span-3 text-center py-12",children:[o.jsx("p",{className:"text-muted-foreground",children:"No matching business challenges found. Try adjusting filters or create a new one."}),o.jsxs(te,{onClick:b,variant:"outline",className:"mt-4",children:[o.jsx(or,{className:"mr-2 h-4 w-4"}),"Create New Challenge"]})]})]})]})]}),o.jsx(a5e,{open:r,onOpenChange:i,initialData:a,onSubmit:T}),o.jsx(o5e,{open:m,onOpenChange:p,businessChallenge:g||void 0,onGenerate:C})]})};function ov(e,[t,n]){return Math.min(n,Math.max(t,e))}function $2(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var c5e=[" ","Enter","ArrowUp","ArrowDown"],u5e=[" ","Enter"],Vb="Select",[B2,F2,d5e]=Rg(Vb),[Xg,LRt]=Ua(Vb,[d5e,Ed]),z2=Ed(),[h5e,_d]=Xg(Vb),[f5e,m5e]=Xg(Vb),Wte=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:s,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:p}=e,g=z2(t),[x,y]=w.useState(null),[v,b]=w.useState(null),[E,_]=w.useState(!1),S=Nf(u),[C=!1,T]=qs({prop:r,defaultProp:i,onChange:a}),[j,k]=qs({prop:s,defaultProp:l,onChange:c}),O=w.useRef(null),M=x?p||!!x.closest("form"):!0,[B,N]=w.useState(new Set),D=Array.from(B).map(P=>P.props.value).join(";");return o.jsx($D,{...g,children:o.jsxs(h5e,{required:m,scope:t,trigger:x,onTriggerChange:y,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:E,onValueNodeHasChildrenChange:_,contentId:us(),value:j,onValueChange:k,open:C,onOpenChange:T,dir:S,triggerPointerDownPosRef:O,disabled:f,children:[o.jsx(B2.Provider,{scope:t,children:o.jsx(f5e,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(P=>{N(L=>new Set(L).add(P))},[]),onNativeOptionRemove:w.useCallback(P=>{N(L=>{const I=new Set(L);return I.delete(P),I})},[]),children:n})}),M?o.jsxs(gne,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:j,onChange:P=>k(P.target.value),disabled:f,form:p,children:[j===void 0?o.jsx("option",{value:""}):null,Array.from(B)]},D):null]})})};Wte.displayName=Vb;var qte="SelectTrigger",Gte=w.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=z2(n),s=_d(qte,n),l=s.disabled||r,c=jt(t,s.onTriggerChange),u=F2(n),d=w.useRef("touch"),[h,f,m]=yne(g=>{const x=u().filter(b=>!b.disabled),y=x.find(b=>b.value===s.value),v=xne(x,g,y);v!==void 0&&s.onValueChange(v.value)}),p=g=>{l||(s.onOpenChange(!0),m()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return o.jsx(Tb,{asChild:!0,...a,children:o.jsx(rt.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":pne(s.value)?"":void 0,...i,ref:c,onClick:Ie(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&p(g)}),onPointerDown:Ie(i.onPointerDown,g=>{d.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:Ie(i.onKeyDown,g=>{const x=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(x&&g.key===" ")&&c5e.includes(g.key)&&(p(),g.preventDefault())})})})});Gte.displayName=qte;var Yte="SelectValue",Kte=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:s="",...l}=e,c=_d(Yte,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,h=jt(t,c.onValueNodeChange);return pi(()=>{u(d)},[u,d]),o.jsx(rt.span,{...l,ref:h,style:{pointerEvents:"none"},children:pne(c.value)?o.jsx(o.Fragment,{children:s}):a})});Kte.displayName=Yte;var p5e="SelectIcon",Xte=w.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return o.jsx(rt.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});Xte.displayName=p5e;var g5e="SelectPortal",Zte=e=>o.jsx(Dg,{asChild:!0,...e});Zte.displayName=g5e;var Gh="SelectContent",Qte=w.forwardRef((e,t)=>{const n=_d(Gh,e.__scopeSelect),[r,i]=w.useState();if(pi(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Dc.createPortal(o.jsx(Jte,{scope:e.__scopeSelect,children:o.jsx(B2.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(ene,{...e,ref:t})});Qte.displayName=Gh;var lo=10,[Jte,Cd]=Xg(Gh),y5e="SelectContentImpl",ene=w.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:x,...y}=e,v=_d(Gh,n),[b,E]=w.useState(null),[_,S]=w.useState(null),C=jt(t,re=>E(re)),[T,j]=w.useState(null),[k,O]=w.useState(null),M=F2(n),[B,N]=w.useState(!1),D=w.useRef(!1);w.useEffect(()=>{if(b)return Bb(b)},[b]),P2();const P=w.useCallback(re=>{const[pe,...ce]=M().map(ae=>ae.ref.current),[me]=ce.slice(-1),ye=document.activeElement;for(const ae of re)if(ae===ye||(ae==null||ae.scrollIntoView({block:"nearest"}),ae===pe&&_&&(_.scrollTop=0),ae===me&&_&&(_.scrollTop=_.scrollHeight),ae==null||ae.focus(),document.activeElement!==ye))return},[M,_]),L=w.useCallback(()=>P([T,b]),[P,T,b]);w.useEffect(()=>{B&&L()},[B,L]);const{onOpenChange:I,triggerPointerDownPosRef:U}=v;w.useEffect(()=>{if(b){let re={x:0,y:0};const pe=me=>{var ye,ae;re={x:Math.abs(Math.round(me.pageX)-(((ye=U.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(me.pageY)-(((ae=U.current)==null?void 0:ae.y)??0))}},ce=me=>{re.x<=10&&re.y<=10?me.preventDefault():b.contains(me.target)||I(!1),document.removeEventListener("pointermove",pe),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",ce,{capture:!0})}}},[b,I,U]),w.useEffect(()=>{const re=()=>I(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[I]);const[$,W]=yne(re=>{const pe=M().filter(ye=>!ye.disabled),ce=pe.find(ye=>ye.ref.current===document.activeElement),me=xne(pe,re,ce);me&&setTimeout(()=>me.ref.current.focus())}),z=w.useCallback((re,pe,ce)=>{const me=!D.current&&!ce;(v.value!==void 0&&v.value===pe||me)&&(j(re),me&&(D.current=!0))},[v.value]),R=w.useCallback(()=>b==null?void 0:b.focus(),[b]),G=w.useCallback((re,pe,ce)=>{const me=!D.current&&!ce;(v.value!==void 0&&v.value===pe||me)&&O(re)},[v.value]),Q=r==="popper"?iP:tne,oe=Q===iP?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:x}:{};return o.jsx(Jte,{scope:n,content:b,viewport:_,onViewportChange:S,itemRefCallback:z,selectedItem:T,onItemLeave:R,itemTextRefCallback:G,focusSelectedItem:L,selectedItemText:k,position:r,isPositioned:B,searchRef:$,children:o.jsx(Fb,{as:_c,allowPinchZoom:!0,children:o.jsx($b,{asChild:!0,trapped:v.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:Ie(i,re=>{var pe;(pe=v.trigger)==null||pe.focus({preventScroll:!0}),re.preventDefault()}),children:o.jsx(yf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:o.jsx(Q,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:re=>re.preventDefault(),...y,...oe,onPlaced:()=>N(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ie(y.onKeyDown,re=>{const pe=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!pe&&re.key.length===1&&W(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let me=M().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(re.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const ye=re.target,ae=me.indexOf(ye);me=me.slice(ae+1)}setTimeout(()=>P(me)),re.preventDefault()}})})})})})})});ene.displayName=y5e;var x5e="SelectItemAlignedPosition",tne=w.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=_d(Gh,n),s=Cd(Gh,n),[l,c]=w.useState(null),[u,d]=w.useState(null),h=jt(t,C=>d(C)),f=F2(n),m=w.useRef(!1),p=w.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:y,focusSelectedItem:v}=s,b=w.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&g&&x&&y){const C=a.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),j=a.valueNode.getBoundingClientRect(),k=y.getBoundingClientRect();if(a.dir!=="rtl"){const ye=k.left-T.left,ae=j.left-ye,Ae=C.left-ae,H=C.width+Ae,Z=Math.max(H,T.width),he=window.innerWidth-lo,se=ov(ae,[lo,Math.max(lo,he-Z)]);l.style.minWidth=H+"px",l.style.left=se+"px"}else{const ye=T.right-k.right,ae=window.innerWidth-j.right-ye,Ae=window.innerWidth-C.right-ae,H=C.width+Ae,Z=Math.max(H,T.width),he=window.innerWidth-lo,se=ov(ae,[lo,Math.max(lo,he-Z)]);l.style.minWidth=H+"px",l.style.right=se+"px"}const O=f(),M=window.innerHeight-lo*2,B=g.scrollHeight,N=window.getComputedStyle(u),D=parseInt(N.borderTopWidth,10),P=parseInt(N.paddingTop,10),L=parseInt(N.borderBottomWidth,10),I=parseInt(N.paddingBottom,10),U=D+P+B+I+L,$=Math.min(x.offsetHeight*5,U),W=window.getComputedStyle(g),z=parseInt(W.paddingTop,10),R=parseInt(W.paddingBottom,10),G=C.top+C.height/2-lo,Q=M-G,oe=x.offsetHeight/2,re=x.offsetTop+oe,pe=D+P+re,ce=U-pe;if(pe<=G){const ye=O.length>0&&x===O[O.length-1].ref.current;l.style.bottom="0px";const ae=u.clientHeight-g.offsetTop-g.offsetHeight,Ae=Math.max(Q,oe+(ye?R:0)+ae+L),H=pe+Ae;l.style.height=H+"px"}else{const ye=O.length>0&&x===O[0].ref.current;l.style.top="0px";const Ae=Math.max(G,D+g.offsetTop+(ye?z:0)+oe)+ce;l.style.height=Ae+"px",g.scrollTop=pe-G+g.offsetTop}l.style.margin=`${lo}px 0`,l.style.minHeight=$+"px",l.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,a.trigger,a.valueNode,l,u,g,x,y,a.dir,r]);pi(()=>b(),[b]);const[E,_]=w.useState();pi(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const S=w.useCallback(C=>{C&&p.current===!0&&(b(),v==null||v(),p.current=!1)},[b,v]);return o.jsx(b5e,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:o.jsx(rt.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});tne.displayName=x5e;var v5e="SelectPopperPosition",iP=w.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=lo,...a}=e,s=z2(n);return o.jsx(f2,{...s,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});iP.displayName=v5e;var[b5e,Z3]=Xg(Gh,{}),aP="SelectViewport",nne=w.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=Cd(aP,n),s=Z3(aP,n),l=jt(t,a.onViewportChange),c=w.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(B2.Slot,{scope:n,children:o.jsx(rt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ie(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=s;if(f!=null&&f.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const p=window.innerHeight-lo*2,g=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),y=Math.max(g,x);if(y<p){const v=y+m,b=Math.min(p,v),E=v-b;h.style.height=b+"px",h.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});nne.displayName=aP;var rne="SelectGroup",[w5e,E5e]=Xg(rne),S5e=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=us();return o.jsx(w5e,{scope:n,id:i,children:o.jsx(rt.div,{role:"group","aria-labelledby":i,...r,ref:t})})});S5e.displayName=rne;var ine="SelectLabel",ane=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=E5e(ine,n);return o.jsx(rt.div,{id:i.id,...r,ref:t})});ane.displayName=ine;var US="SelectItem",[_5e,sne]=Xg(US),one=w.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...s}=e,l=_d(US,n),c=Cd(US,n),u=l.value===r,[d,h]=w.useState(a??""),[f,m]=w.useState(!1),p=jt(t,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,r,i)}),g=us(),x=w.useRef("touch"),y=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(_5e,{scope:n,value:r,disabled:i,textId:g,isSelected:u,onItemTextChange:w.useCallback(v=>{h(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:o.jsx(B2.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:o.jsx(rt.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:p,onFocus:Ie(s.onFocus,()=>m(!0)),onBlur:Ie(s.onBlur,()=>m(!1)),onClick:Ie(s.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:Ie(s.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:Ie(s.onPointerDown,v=>{x.current=v.pointerType}),onPointerMove:Ie(s.onPointerMove,v=>{var b;x.current=v.pointerType,i?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(s.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Ie(s.onKeyDown,v=>{var E;((E=c.searchRef)==null?void 0:E.current)!==""&&v.key===" "||(u5e.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});one.displayName=US;var Cy="SelectItemText",lne=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,s=_d(Cy,n),l=Cd(Cy,n),c=sne(Cy,n),u=m5e(Cy,n),[d,h]=w.useState(null),f=jt(t,y=>h(y),c.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,c.value,c.disabled)}),m=d==null?void 0:d.textContent,p=w.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=u;return pi(()=>(g(p),()=>x(p)),[g,x,p]),o.jsxs(o.Fragment,{children:[o.jsx(rt.span,{id:c.textId,...a,ref:f}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Dc.createPortal(a.children,s.valueNode):null]})});lne.displayName=Cy;var cne="SelectItemIndicator",une=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return sne(cne,n).isSelected?o.jsx(rt.span,{"aria-hidden":!0,...r,ref:t}):null});une.displayName=cne;var sP="SelectScrollUpButton",dne=w.forwardRef((e,t)=>{const n=Cd(sP,e.__scopeSelect),r=Z3(sP,e.__scopeSelect),[i,a]=w.useState(!1),s=jt(t,r.onScrollButtonChange);return pi(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx(fne,{...e,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});dne.displayName=sP;var oP="SelectScrollDownButton",hne=w.forwardRef((e,t)=>{const n=Cd(oP,e.__scopeSelect),r=Z3(oP,e.__scopeSelect),[i,a]=w.useState(!1),s=jt(t,r.onScrollButtonChange);return pi(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx(fne,{...e,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});hne.displayName=oP;var fne=w.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=Cd("SelectScrollButton",n),s=w.useRef(null),l=F2(n),c=w.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),pi(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(rt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ie(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:Ie(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:Ie(i.onPointerLeave,()=>{c()})})}),C5e="SelectSeparator",mne=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(rt.div,{"aria-hidden":!0,...r,ref:t})});mne.displayName=C5e;var lP="SelectArrow",T5e=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=z2(n),a=_d(lP,n),s=Cd(lP,n);return a.open&&s.position==="popper"?o.jsx(m2,{...i,...r,ref:t}):null});T5e.displayName=lP;function pne(e){return e===""||e===void 0}var gne=w.forwardRef((e,t)=>{const{value:n,...r}=e,i=w.useRef(null),a=jt(t,i),s=$2(n);return w.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==n&&d){const h=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(h)}},[s,n]),o.jsx(_b,{asChild:!0,children:o.jsx("select",{...r,ref:a,defaultValue:n})})});gne.displayName="BubbleSelect";function yne(e){const t=lr(e),n=w.useRef(""),r=w.useRef(0),i=w.useCallback(s=>{const l=n.current+s;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function xne(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let s=N5e(e,Math.max(a,0));i.length===1&&(s=s.filter(u=>u!==n));const c=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function N5e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var k5e=Wte,vne=Gte,A5e=Kte,j5e=Xte,O5e=Zte,bne=Qte,P5e=nne,wne=ane,Ene=one,M5e=lne,I5e=une,Sne=dne,_ne=hne,Cne=mne;const Je=k5e,et=A5e,Ze=w.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(vne,{ref:r,className:Be("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,o.jsx(j5e,{asChild:!0,children:o.jsx(xf,{className:"h-4 w-4 opacity-50"})})]}));Ze.displayName=vne.displayName;const Tne=w.forwardRef(({className:e,...t},n)=>o.jsx(Sne,{ref:n,className:Be("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(_D,{className:"h-4 w-4"})}));Tne.displayName=Sne.displayName;const Nne=w.forwardRef(({className:e,...t},n)=>o.jsx(_ne,{ref:n,className:Be("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(xf,{className:"h-4 w-4"})}));Nne.displayName=_ne.displayName;const Qe=w.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>o.jsx(O5e,{children:o.jsxs(bne,{ref:i,className:Be("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(Tne,{}),o.jsx(P5e,{className:Be("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(Nne,{})]})}));Qe.displayName=bne.displayName;const R5e=w.forwardRef(({className:e,...t},n)=>o.jsx(wne,{ref:n,className:Be("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));R5e.displayName=wne.displayName;const le=w.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(Ene,{ref:r,className:Be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(I5e,{children:o.jsx(o2,{className:"h-4 w-4"})})}),o.jsx(M5e,{children:t})]}));le.displayName=Ene.displayName;const D5e=w.forwardRef(({className:e,...t},n)=>o.jsx(Cne,{ref:n,className:Be("-mx-1 my-1 h-px bg-muted",e),...t}));D5e.displayName=Cne.displayName;const L5e={open:{label:"Unresolved",color:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300"},in_progress:{label:"In Progress",color:"bg-amber-100 text-amber-700 dark:bg-amber-900 dark:text-amber-300"},resolved:{label:"Resolved",color:"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300"}},$5e=({businessProblem:e,onEdit:t,onAddHypothesis:n,onViewHypotheses:r,onGenerateHypothesis:i,hypothesesCount:a})=>{const{id:s,title:l,description:c,status:u,createdAt:d}=e,{label:h,color:f}=L5e[u];return o.jsxs(Pe,{className:"glass-card overflow-hidden hover:shadow-glass-hover transition-all flex flex-col min-h-[400px]",children:[o.jsx(Ye,{className:"pb-2",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(Oe,{className:`mb-2 font-normal ${f}`,children:h}),o.jsx(dt,{className:"text-base",children:l})]}),o.jsx("div",{className:"flex items-center gap-1",children:o.jsx(te,{variant:"ghost",size:"icon",onClick:()=>t(s),children:o.jsx(oa,{className:"h-4 w-4"})})})]})}),o.jsxs(De,{className:"flex-grow",children:[o.jsx(hn,{className:"text-sm mb-4 line-clamp-2",children:c}),e.aiAnswer&&o.jsxs("div",{className:"mb-4 p-3 bg-primary/5 rounded-lg border border-primary/10",children:[o.jsx("div",{className:"text-sm font-medium mb-2 text-primary",children:"AI Analysis:"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:e.aiAnswer})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx("div",{className:"flex flex-wrap gap-1",children:o.jsxs(Oe,{variant:"outline",className:"bg-background/50",children:[a," Hypotheses"]})})}),e.metrics&&e.metrics.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"text-sm mb-2",children:["Related Metrics (",e.metrics.length,")"]}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.metrics.slice(0,3).map((m,p)=>o.jsx(Oe,{variant:"outline",className:"bg-background/50",children:m},p)),e.metrics.length>3&&o.jsxs(Oe,{variant:"outline",className:"bg-background/50",children:["+",e.metrics.length-3]})]})]})]})]}),o.jsxs(Tf,{className:"mt-auto pt-4 flex justify-between items-center",children:[o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Created on ",new Date(d).toLocaleDateString()]}),o.jsxs("div",{className:"flex gap-2",children:[i&&o.jsxs(te,{variant:"ghost",size:"sm",className:"text-xs",onClick:()=>i(s),children:[o.jsx(ga,{className:"mr-1 h-3 w-3"}),"Generate"]}),o.jsxs(te,{variant:"ghost",size:"sm",className:"text-xs",onClick:()=>r(s),children:["Hypotheses",o.jsx(Hx,{className:"ml-1 h-3 w-3"})]})]})]})]})},B5e=({open:e,onOpenChange:t,initialData:n,onSubmit:r,businessChallengeId:i})=>{const[a,s]=w.useState([]),[l,c]=w.useState(!1);w.useEffect(()=>{(async()=>{c(!0);try{const b=await Kr.getChallenges();s(b)}catch(b){console.error("Error fetching challenges:",b)}finally{c(!1)}})()},[]);const[u,d]=w.useState(n||{title:"",description:"",status:"open",hypothesisIds:[],...i?{businessChallengeId:i}:{}}),h=v=>{const{name:b,value:E}=v.target;d(_=>({..._,[b]:E}))},f=(v,b)=>{d(E=>({...E,[v]:b}))},[m,p]=w.useState(!1),[g,x]=w.useState(""),y=async v=>{var b,E;v.preventDefault(),x(""),p(!0);try{if(!((b=u.title)!=null&&b.trim())||!((E=u.description)!=null&&E.trim()))throw new Error("Please fill in all required fields");const _={...u};await r(_),t(!1)}catch(_){x(_ instanceof Error?_.message:"Failed to save problem")}finally{p(!1)}};return w.useEffect(()=>{d(n||{title:"",description:"",status:"open",hypothesisIds:[],...i?{businessChallengeId:i}:{}})},[n,i]),o.jsx(ur,{open:e,onOpenChange:t,children:o.jsx(dr,{className:"glass-panel sm:max-w-[500px] slide-enter",children:o.jsxs("form",{onSubmit:y,children:[o.jsxs(hr,{children:[o.jsx(fr,{children:n!=null&&n.id?"Edit Business Problem":"Create New Problem"}),o.jsx(mr,{children:"Define a business problem that needs to be solved"})]}),o.jsxs("div",{className:"grid gap-5 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ve,{htmlFor:"businessChallengeId",children:"Business Challenge"}),o.jsxs(Je,{value:u.businessChallengeId,onValueChange:v=>f("businessChallengeId",v),disabled:l||!!i,children:[o.jsx(Ze,{id:"businessChallengeId",children:o.jsx(et,{placeholder:"Select a challenge"})}),o.jsx(Qe,{children:a.map(v=>o.jsx(le,{value:v.id,children:v.title},v.id))})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ve,{htmlFor:"title",children:"Problem Title"}),o.jsx(Me,{id:"title",name:"title",placeholder:"Enter problem title...",value:u.title,onChange:h,required:!0})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ve,{htmlFor:"description",children:"Problem Description"}),o.jsx(Pn,{id:"description",name:"description",placeholder:"Describe the business problem in detail...",value:u.description,onChange:h,rows:4,required:!0})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ve,{htmlFor:"status",children:"Status"}),o.jsxs(Je,{value:u.status,onValueChange:v=>f("status",v),children:[o.jsx(Ze,{id:"status",children:o.jsx(et,{placeholder:"Select status"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"open",children:"Open"}),o.jsx(le,{value:"in_progress",children:"In Progress"}),o.jsx(le,{value:"resolved",children:"Resolved"})]})]})]})]}),o.jsxs(Hi,{children:[g&&o.jsx("p",{className:"text-sm text-destructive mb-2",children:g}),o.jsx(te,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:m,children:"Cancel"}),o.jsx(te,{type:"submit",disabled:m,children:m?o.jsxs(o.Fragment,{children:[o.jsx(nr,{className:"mr-2 h-4 w-4 animate-spin"}),n!=null&&n.id?"Saving...":"Creating..."]}):n!=null&&n.id?"Save Changes":"Create Problem"})]})]})})})};class F5e{async generateHypothesis(t){try{const n=await fetch(`${Ke}/watchmen/ai/ai/generate-hypothesis`,{method:"POST",headers:tt(),body:JSON.stringify(t)});return await gt(n)}catch(n){throw console.error("Error generating hypothesis:",n),n}}}const z5e=new F5e,U5e=({open:e,onOpenChange:t,businessProblem:n,onGenerate:r})=>{const[i,a]=w.useState(!1),[s,l]=w.useState(""),[c,u]=w.useState(""),d=async()=>{if(n){a(!0);try{const f=await z5e.generateHypothesis(n);l(f.response.hypothesis),u(f.response.description)}catch(f){console.error("Error generating hypothesis:",f)}finally{a(!1)}}},h=()=>{r({title:s,description:c,businessProblemId:n==null?void 0:n.id}),t(!1),l(""),u("")};return o.jsx(ur,{open:e,onOpenChange:t,children:o.jsxs(dr,{className:"glass-panel sm:max-w-[600px] slide-enter",children:[o.jsxs(hr,{children:[o.jsx(fr,{children:"Generate Hypothesis with AI"}),o.jsx(mr,{children:"Create a hypothesis based on the business problem using AI assistance"})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[n&&o.jsxs("div",{className:"bg-muted/50 p-4 rounded-md",children:[o.jsx("div",{className:"font-medium",children:"Business Problem"}),o.jsx("h3",{className:"text-sm font-medium mt-1",children:n.title}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:n.description})]}),!i&&!s&&o.jsx("div",{className:"flex justify-center py-4",children:o.jsxs(te,{onClick:d,children:[o.jsx(ga,{className:"mr-2 h-4 w-4"}),"Generate Hypothesis"]})}),i&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[o.jsx(nr,{className:"h-8 w-8 animate-spin text-primary mb-4"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Generating hypothesis..."})]}),s&&!i&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"generated-title",children:"Generated Title"}),o.jsx(Pn,{id:"generated-title",value:s,onChange:f=>l(f.target.value),rows:2})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"generated-description",children:"Generated Description"}),o.jsx(Pn,{id:"generated-description",value:c,onChange:f=>u(f.target.value),rows:6})]}),o.jsxs("div",{className:"flex justify-end",children:[o.jsxs(te,{onClick:()=>d(),variant:"outline",className:"mr-2",children:[o.jsx(ga,{className:"mr-2 h-4 w-4"}),"Regenerate"]}),o.jsx(te,{onClick:h,children:"Use This Hypothesis"})]})]})]}),o.jsx(Hi,{children:o.jsx(te,{variant:"outline",onClick:()=>t(!1),children:"Cancel"})})]})})},H5e=!1;console.log("isMockMode:",H5e);let V5e=[{id:"1",title:"Age Group and Insurance Purchase Intent Correlation",description:"Hypothesis that customer age groups have a significant correlation with their willingness to purchase specific insurance products, especially in the 45-60 age group.",status:"testing",confidence:75,metrics:["Customer Acquisition Rate","Conversion Rate","Age Distribution"],createdAt:"2023-11-10T10:30:00Z",businessProblemId:"bp1",relatedHypothesesIds:["3","5"]},{id:"2",title:"High-Value Customer Churn Prediction Model",description:"Through historical data and customer behavior patterns, we can predict the churn risk of high-value customers and take targeted intervention measures.",status:"validated",confidence:92,metrics:["Customer Retention Rate","Customer Value","Interaction Frequency"],createdAt:"2023-11-05T08:15:00Z",businessProblemId:"bp1",relatedHypothesesIds:["6"]},{id:"3",title:"Pricing Strategy Impact on Renewal Rate",description:"Evaluate the impact of different pricing strategies on customer renewal decisions to determine optimal price points that balance revenue maximization and customer retention.",status:"drafted",confidence:45,metrics:["Renewal Rate","Price Sensitivity","Customer Satisfaction"],createdAt:"2023-11-01T15:45:00Z",businessProblemId:"bp2",relatedHypothesesIds:["1"]},{id:"4",title:"Customer Service Channel Preference Analysis",description:"Study service channel preferences across different customer segments to optimize customer service resource allocation and improve satisfaction.",status:"rejected",confidence:30,metrics:["Customer Satisfaction","Channel Usage Rate","Issue Resolution Time"],createdAt:"2023-10-28T09:20:00Z",businessProblemId:"bp4"},{id:"5",title:"Marketing Campaign ROI Optimization",description:"Analyze ROI of different marketing channels and campaigns to identify the most effective customer acquisition strategies.",status:"testing",confidence:68,metrics:["Customer Acquisition Cost","Conversion Rate","Marketing Spend"],createdAt:"2023-10-22T11:10:00Z",businessProblemId:"bp3",relatedHypothesesIds:["1"]},{id:"6",title:"Claims Frequency and Customer Characteristics Relationship",description:"Explore the relationship between customer demographics, behavioral characteristics, and claims frequency to improve risk assessment models.",status:"validated",confidence:88,metrics:["Claims Frequency","Customer Risk Score","Claims Amount"],createdAt:"2023-10-15T14:30:00Z",businessProblemId:"bp4",relatedHypothesesIds:["2"]}];const W5e=e=>new Promise(t=>setTimeout(t,e));class q5e{get_related_hypotheses(t){throw new Error("Method not implemented.")}async getHypothesesByProblemId(t){try{const n=await fetch(`${Ke}/watchmen/ai/problems/${t}/hypotheses`,{headers:tt()});return await gt(n)}catch(n){throw console.error("Error fetching hypotheses for problem:",n),n}}async getHypotheses(){try{const t=await fetch(`${Ke}/watchmen/ai/hypotheses`,{headers:tt()});return await gt(t)}catch(t){throw console.error("Error fetching hypotheses:",t),t}}async getKeyMetrics(){try{const t=await fetch(`${Ke}/watchmen/ai/metrics/key`,{headers:tt()});return await gt(t)}catch(t){throw console.error("Error fetching key metrics:",t),t}}async getInsights(){try{const t=await fetch(`${Ke}/watchmen/ai/insights`,{headers:tt()});return await gt(t)}catch(t){throw console.error("Error fetching insights:",t),t}}async getHypothesisById(t){try{const n=await fetch(`${Ke}/watchmen/ai/hypothesis/${t}`,{headers:tt()});return await gt(n)}catch(n){throw console.error("Error fetching hypothesis:",n),n}}async createHypothesis(t){try{const n=await fetch(`${Ke}/watchmen/ai/hypothesis/create`,{method:"POST",headers:tt(),body:JSON.stringify(t)});return await gt(n)}catch(n){throw console.error("Error creating hypothesis:",n),n}}async updateHypothesis(t,n){try{const r=await fetch(`${Ke}/watchmen/ai/hypothesis/update`,{method:"POST",headers:tt(),body:JSON.stringify(n)});return await gt(r)}catch(r){throw console.error("Error updating hypothesis:",r),r}}async deleteHypothesis(t){try{const n=await fetch(`${Ke}/watchmen/ai/hypotheses/${t}`,{method:"DELETE",headers:tt()});return await gt(n)}catch(n){throw console.error("Error deleting hypothesis:",n),n}}async resetHypotheses(){return await W5e(300),V5e}async find_recent_hypotheses(){}}const ec=new q5e,G5e=()=>{const{collapsed:e}=Tr(),[t,n]=w.useState([]),[r,i]=w.useState([]),[a,s]=w.useState(!0),[l,c]=w.useState(null),[u,d]=w.useState(!1),[h,f]=w.useState(),[m,p]=w.useState(""),[g,x]=w.useState("all"),[y,v]=w.useState("all"),[b,E]=w.useState("newest"),[_,S]=w.useState(!1),[C,T]=w.useState(null),j=Dn(),k=Yi(),{toast:O}=za();w.useEffect(()=>{(async()=>{try{s(!0),c(null);const R=new URLSearchParams(k.search).get("challengeId"),[G,Q]=await Promise.all([R?Kr.getProblemsForChallenge(R):Kr.getProblems(),Kr.getChallenges()]);n(G||[]),i(Q||[]),R&&v(R)}catch{c("Failed to load data. Please try again later."),O({title:"Error",description:"Failed to load data. Please try again later.",variant:"destructive"})}finally{s(!1)}})()},[k.search,O]);const M=()=>{f(void 0),d(!0)},B=W=>{const z=t.find(R=>R.id===W);z&&(f(z),d(!0))},N=W=>{j(`/hypotheses?problemId=${W}`)},D=W=>{const z=t.find(R=>R.id===W);z&&(T(z),S(!0))},P=async W=>{try{if(h!=null&&h.id){const z=await Kr.updateProblem(h.id,W);n(R=>R.map(G=>G.id===h.id?z:G)),O({title:"Business Problem Updated",description:"Your business problem has been successfully updated."})}else{const z=await Kr.createProblem(W);n(R=>[z,...R]),O({title:"Business Problem Created",description:"Your new business problem has been successfully created."})}d(!1)}catch{O({title:"Error",description:"Failed to save business problem. Please try again later.",variant:"destructive"})}},L=async W=>{try{const z=await ec.createHypothesis({title:W.title,description:W.description,businessProblemId:W.businessProblemId,status:"drafted",confidence:50,metrics:[],createdAt:new Date().toISOString()});T(null),S(!1),O({title:"AI Hypothesis Generated",description:"Your AI-generated hypothesis has been created successfully."}),j(`/hypotheses?problemId=${W.businessProblemId}`)}catch{O({title:"Error",description:"Failed to create hypothesis. Please try again later.",variant:"destructive"})}},U=(()=>{let W=t;return W=W.filter(z=>z.title.toLowerCase().includes(m.toLowerCase())||z.description.toLowerCase().includes(m.toLowerCase())),g!=="all"&&(W=W.filter(z=>z.status===g)),W.sort((z,R)=>b==="newest"?new Date(R.createdAt).getTime()-new Date(z.createdAt).getTime():new Date(z.createdAt).getTime()-new Date(R.createdAt).getTime())})(),$=y!=="all"?r.find(W=>W.id===y):void 0;return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ir,{}),o.jsxs("div",{className:`${e?"pl-20":"pl-56"} min-h-screen transition-all duration-300`,children:[o.jsx(Xn,{}),o.jsxs("main",{className:"container py-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold",children:$?`Problems for "${$.title}"`:"Business Problems"}),$&&o.jsx("p",{className:"text-muted-foreground mt-1",children:$.description})]}),o.jsxs("div",{className:"flex gap-2",children:[$&&o.jsx(te,{variant:"outline",onClick:()=>j("/challenges"),children:"Back to Challenges"}),o.jsxs(te,{onClick:()=>{f(void 0),d(!0)},className:"hover-float",children:[o.jsx(or,{className:"mr-2 h-4 w-4"}),"Create New Business Problem"]})]})]}),o.jsx("div",{className:"glass-card p-4 mb-6",children:o.jsxs("div",{className:"flex gap-4 flex-wrap",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Me,{placeholder:"Search business problems...",value:m,onChange:W=>p(W.target.value),className:"pl-9"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Je,{value:g,onValueChange:x,children:[o.jsx(Ze,{className:"w-[180px]",children:o.jsx(et,{placeholder:"Filter by status"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"all",children:"All Statuses"}),o.jsx(le,{value:"open",children:"Open"}),o.jsx(le,{value:"in_progress",children:"In Progress"}),o.jsx(le,{value:"resolved",children:"Resolved"})]})]}),o.jsxs(Je,{value:y,onValueChange:v,children:[o.jsx(Ze,{className:"w-[200px]",children:o.jsx(et,{placeholder:"Filter by business challenge"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"all",children:"All Business Challenges"}),r.map(W=>o.jsx(le,{value:W.id,children:W.title},W.id))]})]}),o.jsxs(Je,{value:b,onValueChange:W=>E(W),children:[o.jsx(Ze,{className:"w-[150px]",children:o.jsx(et,{placeholder:"Sort by"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"newest",children:"Newest First"}),o.jsx(le,{value:"oldest",children:"Oldest First"})]})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a?o.jsx("div",{className:"col-span-3 flex justify-center items-center py-12",children:o.jsx(nr,{className:"h-8 w-8 animate-spin text-primary"})}):l?o.jsxs("div",{className:"col-span-3 text-center py-12 text-destructive",children:[o.jsx("p",{children:l}),o.jsx(te,{onClick:()=>window.location.reload(),variant:"outline",className:"mt-4",children:"Try Again"})]}):U.map(W=>o.jsx($5e,{businessProblem:W,onEdit:B,onAddHypothesis:()=>j(`/hypotheses?addHypothesis=true&problemId=${W.id}`),onViewHypotheses:N,onGenerateHypothesis:D,hypothesesCount:W.hypothesisIds.length},W.id)),U.length===0&&o.jsxs("div",{className:"col-span-3 text-center py-12",children:[o.jsx("p",{className:"text-muted-foreground",children:"No matching business problems found. Try adjusting filters or create a new one."}),o.jsxs(te,{onClick:M,variant:"outline",className:"mt-4",children:[o.jsx(or,{className:"mr-2 h-4 w-4"}),"Create New Business Problem"]})]})]})]})]}),o.jsx(B5e,{open:u,onOpenChange:d,initialData:h,onSubmit:P,businessChallengeId:y!=="all"?y:void 0}),o.jsx(U5e,{open:_,onOpenChange:S,businessProblem:C||void 0,onGenerate:L})]})},Y5e=!1,K5e=[{id:"customer_acquisition_cost",name:"Customer Acquisition Cost",value:2850,unit:"",change:-5.3,status:"positive",description:"Average cost to acquire a new customer",lastUpdated:"2023-11-12T14:30:00Z",category:"Average"},{id:"premium_revenue",name:"Premium Revenue",value:125e4,unit:"",change:8.5,status:"positive",description:"Total insurance premium revenue for the current period",lastUpdated:"2023-11-12T14:30:00Z",category:"Volume"},{id:"profit_margin",name:"Profit Margin",value:15.7,unit:"%",change:1.2,status:"positive",description:"Net profit as a percentage of total revenue",lastUpdated:"2023-11-11T09:45:00Z",category:"Ratio"},{id:"combined_ratio",name:"Combined Ratio",value:92.3,unit:"%",change:-1.5,status:"positive",description:"Ratio of claims and expenses to premium revenue",lastUpdated:"2023-11-10T11:30:00Z",category:"Ratio"},{id:"policy_renewal_rate",name:"Policy Renewal Rate",value:83.7,unit:"%",change:2.1,status:"positive",description:"Percentage of policies renewed upon expiration",lastUpdated:"2023-11-09T15:20:00Z",category:"Ratio"},{id:"claim_processing_time",name:"Claim Processing Time",value:7.2,unit:"days",change:-15.3,status:"positive",description:"Average time from claim submission to settlement",lastUpdated:"2023-11-08T12:15:00Z",category:"Average"},{id:"conversion_rate",name:"Conversion Rate",value:3.8,unit:"%",change:.2,status:"positive",description:"Percentage of potential customers converted to actual customers",lastUpdated:"2023-11-07T10:10:00Z",category:"Ratio"},{id:"policy_issuance_time",name:"Policy Issuance Time",value:2.5,unit:"days",change:-.3,status:"positive",description:"Average time from application to policy issuance",lastUpdated:"2023-11-06T16:40:00Z",category:"Average"},{id:"customer_satisfaction",name:"Customer Satisfaction",value:4.2,unit:"/5",change:.3,status:"positive",description:"Average rating of customer service experience",lastUpdated:"2023-11-05T13:25:00Z",category:"Average"},{id:"customer_retention_rate",name:"Customer Retention Rate",value:78.5,unit:"%",change:1.7,status:"positive",description:"Percentage of customers maintaining business relationship with the company",lastUpdated:"2023-11-04T09:15:00Z",category:"Ratio"},{id:"cross_sell_rate",name:"Cross-Sell Rate",value:24.8,unit:"%",change:-1.2,status:"negative",description:"Percentage of customers purchasing multiple products",lastUpdated:"2023-11-03T14:50:00Z",category:"Ratio"},{id:"net_promoter_score",name:"Net Promoter Score",value:42,unit:"",change:5,status:"positive",description:"Metric measuring customer willingness to recommend",lastUpdated:"2023-11-02T11:30:00Z",category:"Average"},{id:"claim_ratio",name:"Claim Ratio",value:62.3,unit:"%",change:.8,status:"negative",description:"Ratio of claim expenses to premium revenue",lastUpdated:"2023-11-01T16:20:00Z",category:"Ratio"},{id:"risk_score",name:"Risk Score",value:68.5,unit:"/100",change:-2.3,status:"positive",description:"Overall risk assessment score of the insurance portfolio",lastUpdated:"2023-10-31T10:45:00Z",category:"Average"},{id:"fraud_detection_rate",name:"Fraud Detection Rate",value:3.2,unit:"%",change:.5,status:"positive",description:"Percentage of claims identified as fraudulent",lastUpdated:"2023-10-30T14:10:00Z",category:"Ratio"},{id:"reserve_adequacy",name:"Reserve Adequacy",value:105.8,unit:"%",change:1.2,status:"positive",description:"Ratio of actual reserves to expected claims",lastUpdated:"2023-10-29T09:30:00Z",category:"Ratio"}],j8=[{name:"Jan",policy_renewal_rate:78.2,cross_sell_rate:18.3,customer_satisfaction:3.7,claim_ratio:62.5,profit_margin:15.2},{name:"Feb",policy_renewal_rate:77.8,cross_sell_rate:19.1,customer_satisfaction:3.8,claim_ratio:63.1,profit_margin:14.8},{name:"Mar",policy_renewal_rate:79.5,cross_sell_rate:20.5,customer_satisfaction:3.9,claim_ratio:61.8,profit_margin:16},{name:"Apr",policy_renewal_rate:80.2,cross_sell_rate:21.2,customer_satisfaction:4,claim_ratio:60.5,profit_margin:16.5},{name:"May",policy_renewal_rate:81,cross_sell_rate:22,customer_satisfaction:4.1,claim_ratio:59.8,profit_margin:17.2},{name:"Jun",policy_renewal_rate:82.5,cross_sell_rate:22.8,customer_satisfaction:4.2,claim_ratio:58.5,profit_margin:18},{name:"Jul",policy_renewal_rate:83.1,cross_sell_rate:23.5,customer_satisfaction:4.3,claim_ratio:57.9,profit_margin:18.5},{name:"Aug",policy_renewal_rate:82.8,cross_sell_rate:24,customer_satisfaction:4.2,claim_ratio:58.2,profit_margin:18.3},{name:"Sep",policy_renewal_rate:83.5,cross_sell_rate:24.8,customer_satisfaction:4.4,claim_ratio:57,profit_margin:19},{name:"Oct",policy_renewal_rate:84.2,cross_sell_rate:25.5,customer_satisfaction:4.5,claim_ratio:56.5,profit_margin:19.5},{name:"Nov",policy_renewal_rate:85,cross_sell_rate:26.2,customer_satisfaction:4.6,claim_ratio:55.8,profit_margin:20.2},{name:"Dec",policy_renewal_rate:86.5,cross_sell_rate:27,customer_satisfaction:4.7,claim_ratio:54.5,profit_margin:21}],O8=[{name:"Auto Insurance",value:42},{name:"Health Insurance",value:28},{name:"Life Insurance",value:15},{name:"Property Insurance",value:10},{name:"Others",value:5}];class X5e{constructor(t=!1){ot(this,"useMockData");this.useMockData=t}async getMetricById(t){try{const n=await fetch(`${Ke}/metric/${t}`,{headers:tt()});if(!n.ok){if(n.status===404)return null;throw new Error("Failed to fetch metric")}return await n.json()}catch(n){throw console.error("Error fetching metric:",n),n}}async suggestMetrics(t,n){if(this.useMockData)return["Customer Acquisition Rate","Conversion Rate","Customer Retention Rate","Customer Satisfaction"];try{const r=await fetch(`${Ke}/metrics/suggest`,{method:"POST",headers:tt(),body:JSON.stringify({title:t,description:n})});if(!r.ok)throw new Error("Failed to fetch suggested metrics");return(await r.json()).map(s=>s.name)||["Customer Acquisition Rate","Conversion Rate","Customer Retention Rate","Customer Satisfaction"]}catch(r){return console.error("Error fetching suggested metrics:",r),["Customer Acquisition Rate","Conversion Rate","Customer Retention Rate","Customer Satisfaction"]}}async getMetrics(){try{const t=await fetch(`${Ke}/metrics/all`,{headers:tt()});if(!t.ok)throw new Error("Failed to fetch metrics");return await t.json()}catch(t){if(console.error("Error fetching metrics:",t),this.useMockData)return K5e;throw t}}async getTrendData(){if(this.useMockData)return j8;try{const t=await fetch(`${Ke}/metrics/trend`);if(!t.ok)throw new Error("Failed to fetch trend data");return await t.json()}catch(t){if(console.error("Error fetching trend data:",t),this.useMockData)return j8;throw t}}async getDistributionData(){if(this.useMockData)return O8;try{const t=await fetch(`${Ke}/metrics/distribution`);if(!t.ok)throw new Error("Failed to fetch distribution data");return await t.json()}catch(t){if(console.error("Error fetching distribution data:",t),this.useMockData)return O8;throw t}}}const kne=new X5e(Y5e),Ane=async(e,t)=>kne.suggestMetrics(e,t),Z5e=async e=>e.metrics&&e.metrics.length>0?e.metrics:await Ane(e.title,e.description);var $r=(e=>(e.TREND_ANALYSIS="Trend Analysis",e.DISTRIBUTION_ANALYSIS="Distribution Analysis",e.COMPARISON_ANALYSIS="Comparison Analysis",e.CORRELATION_ANALYSIS="Correlation Analysis",e.COMPOSITION_ANALYSIS="Composition Analysis",e.FEATURES_IMPORTANCE="Features importance",e))($r||{}),oi=(e=>(e.CATEGORICAL="CATEGORICAL",e.NUMERICAL="numerical",e.TIME="TIME",e.TEXT="text",e.BOOLEAN="boolean",e.GEO="geo",e.BUCKET="bucket",e))(oi||{});const Q5e=({open:e,onOpenChange:t,initialData:n,onSubmit:r,allHypotheses:i,mode:a="link"})=>{const[s,l]=w.useState(n||{title:"",description:"",status:"drafted",confidence:0,metrics:[],businessProblemId:"",relatedHypothesesIds:[],analysisMethod:$r.TREND_ANALYSIS}),[c,u]=w.useState(""),[d,h]=w.useState([]),[f,m]=w.useState([]);w.useEffect(()=>{(async()=>{try{const C=await Kr.getProblems();m(C.map(T=>({id:T.id,title:T.title})))}catch(C){console.error("Error fetching business problems:",C)}})()},[]),w.useEffect(()=>{(async()=>{if(a==="edit"&&(s.title||s.description)&&(!s.metrics||s.metrics.length===0)){const C=await Z5e({title:s.title||"",description:s.description||""});h(C)}})()},[s.title,s.description,a]),w.useEffect(()=>{l(n||{title:"",description:"",status:"drafted",confidence:0,metrics:[],businessProblemId:"",relatedHypothesesIds:[],analysisMethod:$r.TREND_ANALYSIS})},[n]);const p=S=>{const{name:C,value:T}=S.target,j={...s,[C]:T};l(j)},g=(S,C)=>{l(T=>({...T,[S]:C}))},x=(S,C)=>{const T=parseInt(C,10);!isNaN(T)&&T>=0&&T<=100&&l(j=>({...j,[S]:T}))},y=S=>{l(C=>{const T=C.relatedHypothesesIds||[],j=T.includes(S);return{...C,relatedHypothesesIds:j?T.filter(k=>k!==S):[...T,S]}})},v=S=>{l(C=>{const T=C.metrics||[],j=T.includes(S);return{...C,metrics:j?T.filter(k=>k!==S):[...T,S]}})},b=()=>{d.length>0&&l(S=>({...S,metrics:d}))},E=S=>{S.preventDefault(),r(s)},_=i.filter(S=>S.id!==(n==null?void 0:n.id)&&(c===""||S.title.toLowerCase().includes(c.toLowerCase())));return o.jsx(ur,{open:e,onOpenChange:t,children:o.jsx(dr,{className:"glass-panel sm:max-w-[500px] max-h-[85vh] overflow-y-auto fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 transition-all duration-200 ease-in-out p-6",children:o.jsxs("form",{onSubmit:E,children:[o.jsxs(hr,{children:[o.jsx(fr,{children:a==="edit"?"Edit Hypothesis":"Link Hypothesis"}),o.jsx(mr,{children:a==="edit"?"Edit hypothesis details and relationships":"Link this business problem with existing hypotheses"})]}),o.jsxs("div",{className:"grid gap-6 py-5",children:[a==="edit"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid gap-2.5",children:[o.jsx(ve,{htmlFor:"title",className:"text-sm font-medium",children:"Title"}),o.jsx(Me,{id:"title",name:"title",value:s.title,onChange:p,placeholder:"Enter hypothesis title",className:"transition-colors focus:border-primary"})]}),o.jsxs("div",{className:"grid gap-2.5",children:[o.jsx(ve,{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),o.jsx(Pn,{id:"description",name:"description",value:s.description,onChange:p,placeholder:"Describe your hypothesis",rows:3,className:"resize-none transition-colors focus:border-primary"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[o.jsxs("div",{className:"grid gap-2.5",children:[o.jsx(ve,{htmlFor:"status",className:"text-sm font-medium",children:"Status"}),o.jsxs(Je,{value:s.status,onValueChange:S=>g("status",S),children:[o.jsx(Ze,{id:"status",className:"transition-colors focus:border-primary",children:o.jsx(et,{placeholder:"Select status"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"drafted",children:"Draft"}),o.jsx(le,{value:"testing",children:"Testing"}),o.jsx(le,{value:"validated",children:"Validated"}),o.jsx(le,{value:"rejected",children:"Rejected"})]})]})]}),o.jsxs("div",{className:"grid gap-2.5",children:[o.jsx(ve,{htmlFor:"confidence",className:"text-sm font-medium",children:"Confidence (%)"}),o.jsx(Me,{id:"confidence",type:"number",min:"0",max:"100",value:s.confidence,onChange:S=>x("confidence",S.target.value),className:"transition-colors focus:border-primary"})]})]}),o.jsxs("div",{className:"grid gap-2.5",children:[o.jsx(ve,{htmlFor:"analysisMethod",className:"text-sm font-medium",children:"Analysis Method"}),o.jsxs(Je,{value:s.analysisMethod,onValueChange:S=>g("analysisMethod",S),children:[o.jsx(Ze,{id:"analysisMethod",className:"transition-colors focus:border-primary",children:o.jsx(et,{placeholder:"Select analysis method"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:$r.TREND_ANALYSIS,children:$r.TREND_ANALYSIS}),o.jsx(le,{value:$r.DISTRIBUTION_ANALYSIS,children:$r.DISTRIBUTION_ANALYSIS}),o.jsx(le,{value:$r.COMPARISON_ANALYSIS,children:$r.COMPARISON_ANALYSIS}),o.jsx(le,{value:$r.CORRELATION_ANALYSIS,children:$r.CORRELATION_ANALYSIS}),o.jsx(le,{value:$r.COMPOSITION_ANALYSIS,children:$r.COMPOSITION_ANALYSIS}),o.jsx(le,{value:$r.FEATURES_IMPORTANCE,children:$r.FEATURES_IMPORTANCE})]})]})]}),o.jsxs("div",{className:"grid gap-2.5",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(ve,{htmlFor:"metrics",className:"text-sm font-medium",children:"Related Metrics"}),d.length>0&&d.some(S=>!(s.metrics||[]).includes(S))&&o.jsxs(te,{type:"button",variant:"outline",size:"sm",onClick:b,className:"h-8 text-xs flex items-center gap-1",children:[o.jsx(c1e,{className:"h-3 w-3"}),"Use AI Suggested"]})]}),o.jsx("div",{className:"border rounded-md p-3 max-h-[200px] overflow-y-auto",children:o.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.map(S=>{const C=(s.metrics||[]).includes(S);return o.jsxs(Oe,{variant:C?"default":"outline",className:`px-2 py-1 cursor-pointer ${C?"bg-primary text-primary-foreground":"hover:bg-muted"}`,onClick:()=>v(S),children:[S,C&&o.jsx("button",{type:"button",className:"ml-1 hover:text-primary-foreground/80",onClick:T=>{T.stopPropagation(),v(S)},children:o.jsx(Pr,{className:"h-3 w-3"})})]},S)}),d.length===0&&o.jsx("div",{className:"text-sm text-muted-foreground py-2",children:"Add hypothesis details to get metric suggestions"})]})})]})]}),(n==null?void 0:n.id)&&a==="link"&&o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ve,{children:"Current Hypothesis"}),o.jsxs("div",{className:"p-3 bg-muted/30 rounded-md",children:[o.jsx("div",{className:"font-medium",children:n.title}),o.jsx("div",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:n.description})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ve,{htmlFor:"businessProblemId",children:"Related Business Problem"}),o.jsxs(Je,{value:s.businessProblemId,onValueChange:S=>g("businessProblemId",S),children:[o.jsx(Ze,{id:"businessProblemId",children:o.jsx(et,{placeholder:"Select business problem"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"none",children:"No related business problem"}),f.map(S=>o.jsx(le,{value:S.id,children:S.title},S.id))]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ve,{htmlFor:"relatedHypotheses",children:"Related Hypotheses"}),o.jsx(Me,{placeholder:"Search hypotheses...",value:c,onChange:S=>u(S.target.value),className:"mb-2"}),o.jsx("div",{className:"border rounded-md divide-y max-h-[240px] overflow-y-auto shadow-sm hover:shadow transition-shadow duration-200",children:_.length>0?_.map(S=>{var T;const C=(T=s.relatedHypothesesIds)==null?void 0:T.includes(S.id);return o.jsxs("div",{className:`flex items-center justify-between p-2 cursor-pointer hover:bg-muted/50 ${C?"bg-muted/30":""}`,onClick:()=>y(S.id),children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm font-medium",children:S.title}),o.jsx("span",{className:"text-xs text-muted-foreground line-clamp-1",children:S.description})]}),o.jsx("div",{className:"flex-shrink-0 ml-2",children:C?o.jsx(o2,{className:"h-4 w-4 text-primary"}):o.jsx("div",{className:"h-4 w-4 rounded-sm border border-input"})})]},S.id)}):o.jsx("div",{className:"p-4 text-center text-muted-foreground text-sm",children:c?"No matching hypotheses found":"No available hypotheses"})}),s.relatedHypothesesIds&&s.relatedHypothesesIds.length>0&&o.jsxs("div",{className:"mt-2",children:[o.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Selected related hypotheses:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:s.relatedHypothesesIds.map(S=>{const C=i.find(T=>T.id===S);return C?o.jsxs(Oe,{variant:"secondary",className:"px-2 py-1",children:[C.title,o.jsx("button",{type:"button",className:"ml-1 text-muted-foreground hover:text-foreground",onClick:()=>y(S),children:o.jsx(Pr,{className:"h-3 w-3"})})]},S):null})})]})]})]}),o.jsxs(Hi,{className:"mt-6 flex justify-end gap-3",children:[o.jsx(te,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),o.jsx(te,{type:"submit",children:a==="edit"?"Save Changes":"Link Hypothesis"})]})]})})})},J5e=({selectedProblem:e,selectedChallenge:t,handleCreateHypothesis:n,problemFilter:r,mode:i="link",setMode:a,onGenerateWithAI:s,toggleAiAssistant:l,onGenerateAnalysis:c,isGeneratingAnalysis:u})=>{const d=Dn(),h=()=>{a("edit"),n(r!=="all"?r:void 0)};return o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[e&&o.jsxs(te,{variant:"ghost",size:"sm",className:"mr-2",onClick:()=>{d(t?"/challenges":"/problems")},children:[o.jsx(xl,{className:"h-4 w-4 mr-1"}),"Back to ",t?"Business Challenges":"Business Problems"]}),o.jsx("h1",{className:"text-2xl font-semibold",children:e?`Hypotheses for "${e.title}"`:"Hypothesis"})]}),e&&o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e.description}),t&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Part of challenge: ",t.title]})]}),o.jsxs("div",{className:"flex gap-2",children:[e&&s&&o.jsxs(te,{onClick:s,variant:"outline",className:"hover-float",children:[o.jsx(ga,{className:"mr-2 h-4 w-4"}),"Generate with AI"]}),e&&c&&o.jsxs(te,{onClick:c,variant:"outline",className:"hover-float",disabled:u,children:[o.jsx(ac,{className:`mr-2 h-4 w-4 ${u?"animate-spin":""}`}),u?"Generating...":"Generate Analysis"]}),o.jsxs(te,{onClick:h,className:"hover-float",children:[o.jsx(or,{className:"mr-2 h-4 w-4"}),"Create New Hypothesis"]})]})]})},e6e=({searchTerm:e,setSearchTerm:t,statusFilter:n,setStatusFilter:r,problemFilter:i,setProblemFilter:a,sortOrder:s,setSortOrder:l,selectedProblem:c})=>{const[u,d]=w.useState([]);return w.useEffect(()=>{(async()=>{try{const f=await Kr.getProblems();d(f||[])}catch(f){console.error("Failed to load business problems:",f),d([])}})()},[]),o.jsx("div",{className:"glass-card p-4 mb-6",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Me,{placeholder:"Search hypotheses...",value:e,onChange:h=>t(h.target.value),className:"pl-9"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ap,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs(Je,{value:n,onValueChange:r,children:[o.jsx(Ze,{className:"w-[130px]",children:o.jsx(et,{placeholder:"Filter Status"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"all",children:"All Status"}),o.jsx(le,{value:"drafted",children:"Draft"}),o.jsx(le,{value:"testing",children:"Testing"}),o.jsx(le,{value:"validated",children:"Validated"}),o.jsx(le,{value:"rejected",children:"Rejected"})]})]})]}),!c&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ap,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs(Je,{value:i,onValueChange:a,children:[o.jsx(Ze,{className:"w-[160px]",children:o.jsx(et,{placeholder:"Filter Business Problems"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"all",children:"All Business Problems"}),u.map(h=>o.jsx(le,{value:h.id,children:h.title},h.id))]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(KK,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs(Je,{value:s,onValueChange:h=>l(h),children:[o.jsx(Ze,{className:"w-[130px]",children:o.jsx(et,{placeholder:"Sort By"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"newest",children:"Newest"}),o.jsx(le,{value:"oldest",children:"Oldest"}),o.jsx(le,{value:"confidence",children:"Confidence"})]})]})]})]})})},t6e=({relatedIds:e=[],allHypotheses:t,maxShow:n=2})=>{if(!(e!=null&&e.length))return null;const r=t.filter(i=>e.includes(i.id));return o.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[r.slice(0,n).map(i=>o.jsx(Oe,{variant:"outline",className:"bg-muted/50 text-xs whitespace-nowrap overflow-hidden text-ellipsis",children:i.title},i.id)),r.length>n&&o.jsxs(Oe,{variant:"outline",className:"bg-muted/50 text-xs",children:["+",r.length-n]})]})},P8="hypothesis_analysis_status";class M8{static getStoredAnalysisStatuses(){const t=localStorage.getItem(P8);return t?JSON.parse(t):[]}static saveAnalysisStatuses(t){localStorage.setItem(P8,JSON.stringify(t))}static getAnalysisStatus(t){return this.getStoredAnalysisStatuses().find(r=>r.hypothesisId===t)}static markAnalysisCompleted(t){const n=this.getStoredAnalysisStatuses(),r=n.findIndex(a=>a.hypothesisId===t),i={hypothesisId:t,completed:!0,lastAnalyzedAt:new Date().toISOString()};r>=0?n[r]=i:n.push(i),this.saveAnalysisStatuses(n)}static resetAnalysisStatus(t){const r=this.getStoredAnalysisStatuses().filter(i=>i.hypothesisId!==t);this.saveAnalysisStatuses(r)}}const n6e={drafted:{label:"Draft",color:"bg-muted text-muted-foreground"},testing:{label:"Testing",color:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300"},validated:{label:"Validated",color:"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300"},rejected:{label:"Rejected",color:"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"}},r6e=({hypothesis:e,onEdit:t,onViewMetrics:n,businessProblemTitle:r,allHypotheses:i})=>{const{id:a,title:s,description:l,status:c,confidence:u,metrics:d,createdAt:h,relatedHypothesesIds:f,businessProblemId:m}=e,{label:p,color:g}=n6e[c];Dn();const{toast:x}=za(),[y,v]=w.useState(!1),[b,E]=w.useState(!1);w.useEffect(()=>{const S=M8.getAnalysisStatus(a);S!=null&&S.completed&&E(!0)},[a]);const _=async()=>{v(!0);try{await new Promise(S=>setTimeout(S,3e3)),M8.markAnalysisCompleted(a),E(!0),x({title:"Analysis Complete",description:"You can now view the analysis results"})}catch{x({title:"Analysis Failed",description:"Please try again later",variant:"destructive"})}finally{v(!1)}};return o.jsxs(Pe,{className:"glass-card overflow-hidden hover:shadow-glass-hover transition-all flex flex-col min-h-[400px]",children:[o.jsx(Ye,{className:"pb-2",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(Oe,{className:`mb-2 font-normal ${g}`,children:p}),r&&o.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["Business Problem: ",r]}),o.jsx(dt,{className:"text-base",children:s})]}),o.jsx("div",{className:"flex items-center gap-1",children:o.jsx(te,{variant:"ghost",size:"icon",onClick:()=>t(a),children:o.jsx(oa,{className:"h-4 w-4"})})})]})}),o.jsxs(De,{children:[o.jsx(hn,{className:"text-sm mb-4 line-clamp-2",children:l}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsx("span",{children:"Confidence"}),o.jsxs("span",{className:"font-medium",children:[u,"%"]})]}),o.jsx(Hb,{value:u,className:"h-1.5"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-sm mb-2",children:["Related Metrics (",d.length,")"]}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[d.slice(0,3).map((S,C)=>o.jsx(Oe,{variant:"outline",className:"bg-background/50",children:S},C)),d.length>3&&o.jsxs(Oe,{variant:"outline",className:"bg-background/50",children:["+",d.length-3]})]})]}),f&&f.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"text-sm mb-2",children:["Related Hypotheses (",f.length,")"]}),o.jsx(t6e,{relatedIds:f,allHypotheses:i})]})]})]}),o.jsxs(Tf,{className:"mt-auto pt-4 flex justify-between items-center",children:[o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Created on ",new Date(h).toLocaleDateString()]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(OO,{to:`/learning?businessProblemId=${m}`,children:o.jsxs(te,{variant:"ghost",size:"sm",className:"text-xs",children:[o.jsx(Ybe,{className:"mr-1 h-3 w-3"}),"Feedback"]})}),b?o.jsx(OO,{to:`/analysis?hypothesis=${a}`,children:o.jsxs(te,{variant:"ghost",size:"sm",className:"text-xs",children:["View Analysis",o.jsx(Hx,{className:"ml-1 h-3 w-3"})]})}):o.jsx(te,{variant:"ghost",size:"sm",className:"text-xs",onClick:_,disabled:y,children:y?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"loading-dots"}),"Analyzing..."]}):o.jsx(o.Fragment,{children:"Start Analysis"})})]})]})]})},i6e=({hypotheses:e,onEdit:t,onViewMetrics:n,problemFilter:r,handleCreateHypothesis:i,selectedProblem:a,allHypotheses:s})=>{const[l,c]=w.useState({});return w.useEffect(()=>{(async()=>{const d={};for(const h of e)if(h.businessProblemId&&!d[h.businessProblemId])try{const f=await Kr.getBusinessProblemById(h.businessProblemId);f&&(d[h.businessProblemId]={title:f.title})}catch(f){console.error(`Error fetching business problem: ${f}`)}c(d)})()},[e]),o.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.map(u=>{var h;const d=u.businessProblemId?(h=l[u.businessProblemId])==null?void 0:h.title:void 0;return o.jsx(r6e,{hypothesis:u,onEdit:t,onViewMetrics:n,businessProblemTitle:r==="all"?d:void 0,allHypotheses:s},u.id)}),e.length===0&&o.jsxs("div",{className:"col-span-3 text-center py-12",children:[o.jsx("p",{className:"text-muted-foreground",children:a?`No hypotheses created for business problem "${a.title}". Create a new hypothesis to start analysis.`:"No matching hypotheses found. Try adjusting filters or create a new hypothesis."}),o.jsxs(te,{onClick:()=>i(r!=="all"?r:void 0),variant:"outline",className:"mt-4",children:[o.jsx(or,{className:"mr-2 h-4 w-4"}),"Create New Hypothesis"]})]})]})};function a6e(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var Q3="ScrollArea",[jne,$Rt]=Ua(Q3),[s6e,Zs]=jne(Q3),One=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...s}=e,[l,c]=w.useState(null),[u,d]=w.useState(null),[h,f]=w.useState(null),[m,p]=w.useState(null),[g,x]=w.useState(null),[y,v]=w.useState(0),[b,E]=w.useState(0),[_,S]=w.useState(!1),[C,T]=w.useState(!1),j=jt(t,O=>c(O)),k=Nf(i);return o.jsx(s6e,{scope:n,type:r,dir:k,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:p,scrollbarXEnabled:_,onScrollbarXEnabledChange:S,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:C,onScrollbarYEnabledChange:T,onCornerWidthChange:v,onCornerHeightChange:E,children:o.jsx(rt.div,{dir:k,...s,ref:j,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});One.displayName=Q3;var Pne="ScrollAreaViewport",Mne=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:i,nonce:a,...s}=e,l=Zs(Pne,n),c=w.useRef(null),u=jt(t,c,l.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),o.jsx(rt.div,{"data-radix-scroll-area-viewport":"",...s,asChild:i,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:g6e({asChild:i,children:r},d=>o.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});Mne.displayName=Pne;var jl="ScrollAreaScrollbar",J3=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Zs(jl,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:s}=i,l=e.orientation==="horizontal";return w.useEffect(()=>(l?a(!0):s(!0),()=>{l?a(!1):s(!1)}),[l,a,s]),i.type==="hover"?o.jsx(o6e,{...r,ref:t,forceMount:n}):i.type==="scroll"?o.jsx(l6e,{...r,ref:t,forceMount:n}):i.type==="auto"?o.jsx(Ine,{...r,ref:t,forceMount:n}):i.type==="always"?o.jsx(eL,{...r,ref:t}):null});J3.displayName=jl;var o6e=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Zs(jl,e.__scopeScrollArea),[a,s]=w.useState(!1);return w.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),s(!0)},d=()=>{c=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),o.jsx(ti,{present:n||a,children:o.jsx(Ine,{"data-state":a?"visible":"hidden",...r,ref:t})})}),l6e=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Zs(jl,e.__scopeScrollArea),a=e.orientation==="horizontal",s=H2(()=>c("SCROLL_END"),100),[l,c]=a6e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,i.scrollHideDelay,c]),w.useEffect(()=>{const u=i.viewport,d=a?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const m=u[d];h!==m&&(c("SCROLL"),s()),h=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[i.viewport,a,c,s]),o.jsx(ti,{present:n||l!=="hidden",children:o.jsx(eL,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Ie(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ie(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Ine=w.forwardRef((e,t)=>{const n=Zs(jl,e.__scopeScrollArea),{forceMount:r,...i}=e,[a,s]=w.useState(!1),l=e.orientation==="horizontal",c=H2(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;s(l?u:d)}},10);return Dp(n.viewport,c),Dp(n.content,c),o.jsx(ti,{present:r||a,children:o.jsx(eL,{"data-state":a?"visible":"hidden",...i,ref:t})})}),eL=w.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=Zs(jl,e.__scopeScrollArea),a=w.useRef(null),s=w.useRef(0),[l,c]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Bne(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:f=>s.current=f};function h(f,m){return m6e(f,s.current,l,m)}return n==="horizontal"?o.jsx(c6e,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const f=i.viewport.scrollLeft,m=I8(f,l,i.dir);a.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=h(f,i.dir))}}):n==="vertical"?o.jsx(u6e,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const f=i.viewport.scrollTop,m=I8(f,l);a.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=h(f))}}):null}),c6e=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=Zs(jl,e.__scopeScrollArea),[s,l]=w.useState(),c=w.useRef(null),u=jt(t,c,a.onScrollbarXChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Dne,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":U2(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(a.viewport){const f=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),zne(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&s&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:VS(s.paddingLeft),paddingEnd:VS(s.paddingRight)}})}})}),u6e=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=Zs(jl,e.__scopeScrollArea),[s,l]=w.useState(),c=w.useRef(null),u=jt(t,c,a.onScrollbarYChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Dne,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":U2(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(a.viewport){const f=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),zne(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&s&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:VS(s.paddingTop),paddingEnd:VS(s.paddingBottom)}})}})}),[d6e,Rne]=jne(jl),Dne=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:s,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,m=Zs(jl,n),[p,g]=w.useState(null),x=jt(t,j=>g(j)),y=w.useRef(null),v=w.useRef(""),b=m.viewport,E=r.content-r.viewport,_=lr(d),S=lr(c),C=H2(h,10);function T(j){if(y.current){const k=j.clientX-y.current.left,O=j.clientY-y.current.top;u({x:k,y:O})}}return w.useEffect(()=>{const j=k=>{const O=k.target;(p==null?void 0:p.contains(O))&&_(k,E)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[b,p,E,_]),w.useEffect(S,[r,S]),Dp(p,C),Dp(m.content,C),o.jsx(d6e,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:lr(a),onThumbPointerUp:lr(s),onThumbPositionChange:S,onThumbPointerDown:lr(l),children:o.jsx(rt.div,{...f,ref:x,style:{position:"absolute",...f.style},onPointerDown:Ie(e.onPointerDown,j=>{j.button===0&&(j.target.setPointerCapture(j.pointerId),y.current=p.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),T(j))}),onPointerMove:Ie(e.onPointerMove,T),onPointerUp:Ie(e.onPointerUp,j=>{const k=j.target;k.hasPointerCapture(j.pointerId)&&k.releasePointerCapture(j.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),HS="ScrollAreaThumb",Lne=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Rne(HS,e.__scopeScrollArea);return o.jsx(ti,{present:n||i.hasThumb,children:o.jsx(h6e,{ref:t,...r})})}),h6e=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,a=Zs(HS,n),s=Rne(HS,n),{onThumbPositionChange:l}=s,c=jt(t,h=>s.onThumbChange(h)),u=w.useRef(),d=H2(()=>{u.current&&(u.current(),u.current=void 0)},100);return w.useEffect(()=>{const h=a.viewport;if(h){const f=()=>{if(d(),!u.current){const m=p6e(h,l);u.current=m,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[a.viewport,d,l]),o.jsx(rt.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ie(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),p=h.clientX-m.left,g=h.clientY-m.top;s.onThumbPointerDown({x:p,y:g})}),onPointerUp:Ie(e.onPointerUp,s.onThumbPointerUp)})});Lne.displayName=HS;var tL="ScrollAreaCorner",$ne=w.forwardRef((e,t)=>{const n=Zs(tL,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(f6e,{...e,ref:t}):null});$ne.displayName=tL;var f6e=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=Zs(tL,n),[a,s]=w.useState(0),[l,c]=w.useState(0),u=!!(a&&l);return Dp(i.scrollbarX,()=>{var h;const d=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(d),c(d)}),Dp(i.scrollbarY,()=>{var h;const d=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(d),s(d)}),u?o.jsx(rt.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function VS(e){return e?parseInt(e,10):0}function Bne(e,t){const n=e/t;return isNaN(n)?0:n}function U2(e){const t=Bne(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function m6e(e,t,n,r="ltr"){const i=U2(n),a=i/2,s=t||a,l=i-s,c=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return Fne([c,u],h)(e)}function I8(e,t,n="ltr"){const r=U2(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,s=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,s]:[s*-1,0],u=ov(e,c);return Fne([0,s],[0,l])(u)}function Fne(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function zne(e,t){return e>0&&e<t}var p6e=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},s=n.left!==a.left,l=n.top!==a.top;(s||l)&&t(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function H2(e,t){const n=lr(e),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Dp(e,t){const n=lr(t);pi(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}function g6e(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const i=w.Children.only(r);return w.cloneElement(i,{children:typeof t=="function"?t(i.props.children):t})}var Une=One,y6e=Mne,x6e=$ne;const Li=w.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(Une,{ref:r,className:Be("relative overflow-hidden",e),...n,children:[o.jsx(y6e,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(Hne,{}),o.jsx(x6e,{})]}));Li.displayName=Une.displayName;const Hne=w.forwardRef(({className:e,orientation:t="vertical",...n},r)=>o.jsx(J3,{ref:r,orientation:t,className:Be("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:o.jsx(Lne,{className:"relative flex-1 rounded-full bg-border"})}));Hne.displayName=J3.displayName;const v6e=({message:e})=>o.jsxs("div",{className:Be("flex max-w-[80%] rounded-lg p-3",e.role==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted ml-0"),children:[o.jsx("div",{className:"mr-2 mt-0.5",children:e.role==="user"?o.jsx(rX,{className:"h-4 w-4"}):o.jsx(Wi,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:o.jsx(Mp,{children:e.content})}),o.jsx("div",{className:"mt-1 text-xs opacity-70",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),b6e=({currentMode:e,onModeChange:t})=>o.jsx(D3,{className:"border-none shadow-none p-0",children:o.jsxs(fte,{children:[o.jsx(L3,{className:"p-1 cursor-pointer data-[state=open]:bg-accent",children:o.jsx(vl,{className:"h-4 w-4 text-primary"})}),o.jsxs($3,{align:"end",alignOffset:-5,className:"w-56",children:[o.jsxs(ch,{onClick:()=>t("hypothesis-analysis"),children:[o.jsx(Wi,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Hypothesis Analysis"})]}),o.jsx(B3,{}),o.jsxs(ch,{onClick:()=>t("challenge-monitor"),children:[o.jsx(vl,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Challenge Monitor"})]})]})]})});var R8=1,w6e=.9,E6e=.8,S6e=.17,Wk=.1,qk=.999,_6e=.9999,C6e=.99,T6e=/[\\\/_+.#"@\[\(\{&]/,N6e=/[\\\/_+.#"@\[\(\{&]/g,k6e=/[\s-]/,Vne=/[\s-]/g;function cP(e,t,n,r,i,a,s){if(a===t.length)return i===e.length?R8:C6e;var l=`${i},${a}`;if(s[l]!==void 0)return s[l];for(var c=r.charAt(a),u=n.indexOf(c,i),d=0,h,f,m,p;u>=0;)h=cP(e,t,n,r,u+1,a+1,s),h>d&&(u===i?h*=R8:T6e.test(e.charAt(u-1))?(h*=E6e,m=e.slice(i,u-1).match(N6e),m&&i>0&&(h*=Math.pow(qk,m.length))):k6e.test(e.charAt(u-1))?(h*=w6e,p=e.slice(i,u-1).match(Vne),p&&i>0&&(h*=Math.pow(qk,p.length))):(h*=S6e,i>0&&(h*=Math.pow(qk,u-i))),e.charAt(u)!==t.charAt(a)&&(h*=_6e)),(h<Wk&&n.charAt(u-1)===r.charAt(a+1)||r.charAt(a+1)===r.charAt(a)&&n.charAt(u-1)!==r.charAt(a))&&(f=cP(e,t,n,r,u+1,a+2,s),f*Wk>h&&(h=f*Wk)),h>d&&(d=h),u=n.indexOf(c,u+1);return s[l]=d,d}function D8(e){return e.toLowerCase().replace(Vne," ")}function A6e(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,cP(e,t,D8(e),D8(t),0,0,{})}function xa(){return xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xa.apply(null,arguments)}function Km(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function j6e(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Wne(...e){return t=>e.forEach(n=>j6e(n,t))}function Wb(...e){return w.useCallback(Wne(...e),e)}function O6e(e,t=[]){let n=[];function r(a,s){const l=w.createContext(s),c=n.length;n=[...n,s];function u(h){const{scope:f,children:m,...p}=h,g=(f==null?void 0:f[e][c])||l,x=w.useMemo(()=>p,Object.values(p));return w.createElement(g.Provider,{value:x},m)}function d(h,f){const m=(f==null?void 0:f[e][c])||l,p=w.useContext(m);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const i=()=>{const a=n.map(s=>w.createContext(s));return function(l){const c=(l==null?void 0:l[e])||a;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,P6e(i,...t)]}function P6e(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}const uP=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},M6e=CR.useId||(()=>{});let I6e=0;function Gk(e){const[t,n]=w.useState(M6e());return uP(()=>{e||n(r=>r??String(I6e++))},[e]),e||(t?`radix-${t}`:"")}function Yh(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function R6e({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=D6e({defaultProp:t,onChange:n}),a=e!==void 0,s=a?e:r,l=Yh(n),c=w.useCallback(u=>{if(a){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else i(u)},[a,e,i,l]);return[s,c]}function D6e({defaultProp:e,onChange:t}){const n=w.useState(e),[r]=n,i=w.useRef(r),a=Yh(t);return w.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}const nL=w.forwardRef((e,t)=>{const{children:n,...r}=e,i=w.Children.toArray(n),a=i.find($6e);if(a){const s=a.props.children,l=i.map(c=>c===a?w.Children.count(s)>1?w.Children.only(null):w.isValidElement(s)?s.props.children:null:c);return w.createElement(dP,xa({},r,{ref:t}),w.isValidElement(s)?w.cloneElement(s,void 0,l):null)}return w.createElement(dP,xa({},r,{ref:t}),n)});nL.displayName="Slot";const dP=w.forwardRef((e,t)=>{const{children:n,...r}=e;return w.isValidElement(n)?w.cloneElement(n,{...B6e(r,n.props),ref:t?Wne(t,n.ref):n.ref}):w.Children.count(n)>1?w.Children.only(null):null});dP.displayName="SlotClone";const L6e=({children:e})=>w.createElement(w.Fragment,null,e);function $6e(e){return w.isValidElement(e)&&e.type===L6e}function B6e(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{a(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}const F6e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Qs=F6e.reduce((e,t)=>{const n=w.forwardRef((r,i)=>{const{asChild:a,...s}=r,l=a?nL:t;return w.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),w.createElement(l,xa({},s,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function z6e(e,t){e&&Dc.flushSync(()=>e.dispatchEvent(t))}function U6e(e,t=globalThis==null?void 0:globalThis.document){const n=Yh(e);w.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const hP="dismissableLayer.update",H6e="dismissableLayer.pointerDownOutside",V6e="dismissableLayer.focusOutside";let L8;const W6e=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),q6e=w.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:l,onDismiss:c,...u}=e,d=w.useContext(W6e),[h,f]=w.useState(null),m=(n=h==null?void 0:h.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,p]=w.useState({}),g=Wb(t,T=>f(T)),x=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(y),b=h?x.indexOf(h):-1,E=d.layersWithOutsidePointerEventsDisabled.size>0,_=b>=v,S=G6e(T=>{const j=T.target,k=[...d.branches].some(O=>O.contains(j));!_||k||(a==null||a(T),l==null||l(T),T.defaultPrevented||c==null||c())},m),C=Y6e(T=>{const j=T.target;[...d.branches].some(O=>O.contains(j))||(s==null||s(T),l==null||l(T),T.defaultPrevented||c==null||c())},m);return U6e(T=>{b===d.layers.size-1&&(i==null||i(T),!T.defaultPrevented&&c&&(T.preventDefault(),c()))},m),w.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(L8=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),$8(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=L8)}},[h,m,r,d]),w.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),$8())},[h,d]),w.useEffect(()=>{const T=()=>p({});return document.addEventListener(hP,T),()=>document.removeEventListener(hP,T)},[]),w.createElement(Qs.div,xa({},u,{ref:g,style:{pointerEvents:E?_?"auto":"none":void 0,...e.style},onFocusCapture:Km(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Km(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Km(e.onPointerDownCapture,S.onPointerDownCapture)}))});function G6e(e,t=globalThis==null?void 0:globalThis.document){const n=Yh(e),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let u=function(){qne(H6e,n,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=u,t.addEventListener("click",i.current,{once:!0})):u()}else t.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Y6e(e,t=globalThis==null?void 0:globalThis.document){const n=Yh(e),r=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!r.current&&qne(V6e,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $8(){const e=new CustomEvent(hP);document.dispatchEvent(e)}function qne(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?z6e(i,a):i.dispatchEvent(a)}const Yk="focusScope.autoFocusOnMount",Kk="focusScope.autoFocusOnUnmount",B8={bubbles:!1,cancelable:!0},K6e=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=e,[l,c]=w.useState(null),u=Yh(i),d=Yh(a),h=w.useRef(null),f=Wb(t,g=>c(g)),m=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let g=function(b){if(m.paused||!l)return;const E=b.target;l.contains(E)?h.current=E:su(h.current,{select:!0})},x=function(b){if(m.paused||!l)return;const E=b.relatedTarget;E!==null&&(l.contains(E)||su(h.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&su(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),v.disconnect()}}},[r,l,m.paused]),w.useEffect(()=>{if(l){z8.add(m);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(Yk,B8);l.addEventListener(Yk,u),l.dispatchEvent(y),y.defaultPrevented||(X6e(tBe(Gne(l)),{select:!0}),document.activeElement===g&&su(l))}return()=>{l.removeEventListener(Yk,u),setTimeout(()=>{const y=new CustomEvent(Kk,B8);l.addEventListener(Kk,d),l.dispatchEvent(y),y.defaultPrevented||su(g??document.body,{select:!0}),l.removeEventListener(Kk,d),z8.remove(m)},0)}}},[l,u,d,m]);const p=w.useCallback(g=>{if(!n&&!r||m.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(x&&y){const v=g.currentTarget,[b,E]=Z6e(v);b&&E?!g.shiftKey&&y===E?(g.preventDefault(),n&&su(b,{select:!0})):g.shiftKey&&y===b&&(g.preventDefault(),n&&su(E,{select:!0})):y===v&&g.preventDefault()}},[n,r,m.paused]);return w.createElement(Qs.div,xa({tabIndex:-1},s,{ref:f,onKeyDown:p}))});function X6e(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(su(r,{select:t}),document.activeElement!==n)return}function Z6e(e){const t=Gne(e),n=F8(t,e),r=F8(t.reverse(),e);return[n,r]}function Gne(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function F8(e,t){for(const n of e)if(!Q6e(n,{upTo:t}))return n}function Q6e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function J6e(e){return e instanceof HTMLInputElement&&"select"in e}function su(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&J6e(e)&&t&&e.select()}}const z8=eBe();function eBe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=U8(e,t),e.unshift(t)},remove(t){var n;e=U8(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function U8(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function tBe(e){return e.filter(t=>t.tagName!=="A")}const nBe=w.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=e;return r?gD.createPortal(w.createElement(Qs.div,xa({},i,{ref:t})),r):null});function rBe(e,t){return w.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const V2=e=>{const{present:t,children:n}=e,r=iBe(t),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),a=Wb(r.ref,i.ref);return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:a}):null};V2.displayName="Presence";function iBe(e){const[t,n]=w.useState(),r=w.useRef({}),i=w.useRef(e),a=w.useRef("none"),s=e?"mounted":"unmounted",[l,c]=rBe(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=gw(r.current);a.current=l==="mounted"?u:"none"},[l]),uP(()=>{const u=r.current,d=i.current;if(d!==e){const f=a.current,m=gw(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),uP(()=>{if(t){const u=h=>{const m=gw(r.current).includes(h.animationName);h.target===t&&m&&Dc.flushSync(()=>c("ANIMATION_END"))},d=h=>{h.target===t&&(a.current=gw(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function gw(e){return(e==null?void 0:e.animationName)||"none"}let Xk=0;function aBe(){w.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:H8()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:H8()),Xk++,()=>{Xk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Xk--}},[])}function H8(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Yne=uee(),Zk=function(){},W2=w.forwardRef(function(e,t){var n=w.useRef(null),r=w.useState({onScrollCapture:Zk,onWheelCapture:Zk,onTouchMoveCapture:Zk}),i=r[0],a=r[1],s=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noIsolation,p=e.inert,g=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,v=C3(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),b=f,E=cee([n,t]),_=Fi(Fi({},v),i);return w.createElement(w.Fragment,null,d&&w.createElement(b,{sideCar:Yne,removeScrollBar:u,shards:h,noIsolation:m,inert:p,setCallbacks:a,allowPinchZoom:!!g,lockRef:n}),s?w.cloneElement(w.Children.only(l),Fi(Fi({},_),{ref:E})):w.createElement(y,Fi({},_,{className:c,ref:E}),l))});W2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};W2.classNames={fullWidth:tx,zeroRight:ex};var fP=!1;if(typeof window<"u")try{var yw=Object.defineProperty({},"passive",{get:function(){return fP=!0,!0}});window.addEventListener("test",yw,yw),window.removeEventListener("test",yw,yw)}catch{fP=!1}var Yf=fP?{passive:!1}:!1,sBe=function(e){return e.tagName==="TEXTAREA"},Kne=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!sBe(e)&&n[t]==="visible")},oBe=function(e){return Kne(e,"overflowY")},lBe=function(e){return Kne(e,"overflowX")},V8=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=Xne(e,n);if(r){var i=Zne(e,n),a=i[1],s=i[2];if(a>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},cBe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},uBe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Xne=function(e,t){return e==="v"?oBe(t):lBe(t)},Zne=function(e,t){return e==="v"?cBe(t):uBe(t)},dBe=function(e,t){return e==="h"&&t==="rtl"?-1:1},hBe=function(e,t,n,r,i){var a=dBe(e,window.getComputedStyle(t).direction),s=a*r,l=n.target,c=t.contains(l),u=!1,d=s>0,h=0,f=0;do{var m=Zne(e,l),p=m[0],g=m[1],x=m[2],y=g-x-a*p;(p||y)&&Xne(e,l)&&(h+=y,f+=p),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(h===0||!i)||!d&&(f===0||!i))&&(u=!0),u},xw=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},W8=function(e){return[e.deltaX,e.deltaY]},q8=function(e){return e&&"current"in e?e.current:e},fBe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},mBe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},pBe=0,Kf=[];function gBe(e){var t=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState(pBe++)[0],a=w.useState(function(){return T3()})[0],s=w.useRef(e);w.useEffect(function(){s.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=lee([e.lockRef.current],(e.shards||[]).map(q8),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(g,x){if("touches"in g&&g.touches.length===2)return!s.current.allowPinchZoom;var y=xw(g),v=n.current,b="deltaX"in g?g.deltaX:v[0]-y[0],E="deltaY"in g?g.deltaY:v[1]-y[1],_,S=g.target,C=Math.abs(b)>Math.abs(E)?"h":"v";if("touches"in g&&C==="h"&&S.type==="range")return!1;var T=V8(C,S);if(!T)return!0;if(T?_=C:(_=C==="v"?"h":"v",T=V8(C,S)),!T)return!1;if(!r.current&&"changedTouches"in g&&(b||E)&&(r.current=_),!_)return!0;var j=r.current||_;return hBe(j,x,g,j==="h"?b:E,!0)},[]),c=w.useCallback(function(g){var x=g;if(!(!Kf.length||Kf[Kf.length-1]!==a)){var y="deltaY"in x?W8(x):xw(x),v=t.current.filter(function(_){return _.name===x.type&&_.target===x.target&&fBe(_.delta,y)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var b=(s.current.shards||[]).map(q8).filter(Boolean).filter(function(_){return _.contains(x.target)}),E=b.length>0?l(x,b[0]):!s.current.noIsolation;E&&x.cancelable&&x.preventDefault()}}},[]),u=w.useCallback(function(g,x,y,v){var b={name:g,delta:x,target:y,should:v};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(E){return E!==b})},1)},[]),d=w.useCallback(function(g){n.current=xw(g),r.current=void 0},[]),h=w.useCallback(function(g){u(g.type,W8(g),g.target,l(g,e.lockRef.current))},[]),f=w.useCallback(function(g){u(g.type,xw(g),g.target,l(g,e.lockRef.current))},[]);w.useEffect(function(){return Kf.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Yf),document.addEventListener("touchmove",c,Yf),document.addEventListener("touchstart",d,Yf),function(){Kf=Kf.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,Yf),document.removeEventListener("touchmove",c,Yf),document.removeEventListener("touchstart",d,Yf)}},[]);var m=e.removeScrollBar,p=e.inert;return w.createElement(w.Fragment,null,p?w.createElement(a,{styles:mBe(i)}):null,m?w.createElement(mee,{gapMode:"margin"}):null)}const yBe=hee(Yne,gBe);var Qne=w.forwardRef(function(e,t){return w.createElement(W2,Fi({},e,{ref:t,sideCar:yBe}))});Qne.classNames=W2.classNames;const Jne="Dialog",[ere,BRt]=O6e(Jne),[xBe,jf]=ere(Jne),vBe=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:s=!0}=e,l=w.useRef(null),c=w.useRef(null),[u=!1,d]=R6e({prop:r,defaultProp:i,onChange:a});return w.createElement(xBe,{scope:t,triggerRef:l,contentRef:c,contentId:Gk(),titleId:Gk(),descriptionId:Gk(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(h=>!h),[d]),modal:s},n)},tre="DialogPortal",[bBe,nre]=ere(tre,{forceMount:void 0}),wBe=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=jf(tre,t);return w.createElement(bBe,{scope:t,forceMount:n},w.Children.map(r,s=>w.createElement(V2,{present:n||a.open},w.createElement(nBe,{asChild:!0,container:i},s))))},mP="DialogOverlay",EBe=w.forwardRef((e,t)=>{const n=nre(mP,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=jf(mP,e.__scopeDialog);return a.modal?w.createElement(V2,{present:r||a.open},w.createElement(SBe,xa({},i,{ref:t}))):null}),SBe=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=jf(mP,n);return w.createElement(Qne,{as:nL,allowPinchZoom:!0,shards:[i.contentRef]},w.createElement(Qs.div,xa({"data-state":ire(i.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),lv="DialogContent",_Be=w.forwardRef((e,t)=>{const n=nre(lv,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=jf(lv,e.__scopeDialog);return w.createElement(V2,{present:r||a.open},a.modal?w.createElement(CBe,xa({},i,{ref:t})):w.createElement(TBe,xa({},i,{ref:t})))}),CBe=w.forwardRef((e,t)=>{const n=jf(lv,e.__scopeDialog),r=w.useRef(null),i=Wb(t,n.contentRef,r);return w.useEffect(()=>{const a=r.current;if(a)return Bb(a)},[]),w.createElement(rre,xa({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Km(e.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=n.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:Km(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&a.preventDefault()}),onFocusOutside:Km(e.onFocusOutside,a=>a.preventDefault())}))}),TBe=w.forwardRef((e,t)=>{const n=jf(lv,e.__scopeDialog),r=w.useRef(!1),i=w.useRef(!1);return w.createElement(rre,xa({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s;if((s=e.onCloseAutoFocus)===null||s===void 0||s.call(e,a),!a.defaultPrevented){var l;r.current||(l=n.triggerRef.current)===null||l===void 0||l.focus(),a.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:a=>{var s,l;(s=e.onInteractOutside)===null||s===void 0||s.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=a.target;((l=n.triggerRef.current)===null||l===void 0?void 0:l.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}}))}),rre=w.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=e,l=jf(lv,n),c=w.useRef(null),u=Wb(t,c);return aBe(),w.createElement(w.Fragment,null,w.createElement(K6e,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a},w.createElement(q6e,xa({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ire(l.open)},s,{ref:u,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function ire(e){return e?"open":"closed"}const NBe=vBe,kBe=wBe,ABe=EBe,jBe=_Be;var V0='[cmdk-group=""]',Qk='[cmdk-group-items=""]',OBe='[cmdk-group-heading=""]',rL='[cmdk-item=""]',G8=`${rL}:not([aria-disabled="true"])`,pP="cmdk-item-select",th="data-value",PBe=(e,t,n)=>A6e(e,t,n),are=w.createContext(void 0),qb=()=>w.useContext(are),sre=w.createContext(void 0),iL=()=>w.useContext(sre),ore=w.createContext(void 0),lre=w.forwardRef((e,t)=>{let n=om(()=>{var z,R;return{search:"",value:(R=(z=e.value)!=null?z:e.defaultValue)!=null?R:"",filtered:{count:0,items:new Map,groups:new Set}}}),r=om(()=>new Set),i=om(()=>new Map),a=om(()=>new Map),s=om(()=>new Set),l=cre(e),{label:c,children:u,value:d,onValueChange:h,filter:f,shouldFilter:m,loop:p,disablePointerSelection:g=!1,vimBindings:x=!0,...y}=e,v=w.useId(),b=w.useId(),E=w.useId(),_=w.useRef(null),S=HBe();Kh(()=>{if(d!==void 0){let z=d.trim();n.current.value=z,C.emit()}},[d]),Kh(()=>{S(6,B)},[]);let C=w.useMemo(()=>({subscribe:z=>(s.current.add(z),()=>s.current.delete(z)),snapshot:()=>n.current,setState:(z,R,G)=>{var Q,oe,re;if(!Object.is(n.current[z],R)){if(n.current[z]=R,z==="search")M(),k(),S(1,O);else if(z==="value"&&(G||S(5,B),((Q=l.current)==null?void 0:Q.value)!==void 0)){let pe=R??"";(re=(oe=l.current).onValueChange)==null||re.call(oe,pe);return}C.emit()}},emit:()=>{s.current.forEach(z=>z())}}),[]),T=w.useMemo(()=>({value:(z,R,G)=>{var Q;R!==((Q=a.current.get(z))==null?void 0:Q.value)&&(a.current.set(z,{value:R,keywords:G}),n.current.filtered.items.set(z,j(R,G)),S(2,()=>{k(),C.emit()}))},item:(z,R)=>(r.current.add(z),R&&(i.current.has(R)?i.current.get(R).add(z):i.current.set(R,new Set([z]))),S(3,()=>{M(),k(),n.current.value||O(),C.emit()}),()=>{a.current.delete(z),r.current.delete(z),n.current.filtered.items.delete(z);let G=N();S(4,()=>{M(),(G==null?void 0:G.getAttribute("id"))===z&&O(),C.emit()})}),group:z=>(i.current.has(z)||i.current.set(z,new Set),()=>{a.current.delete(z),i.current.delete(z)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],disablePointerSelection:g,listId:v,inputId:E,labelId:b,listInnerRef:_}),[]);function j(z,R){var G,Q;let oe=(Q=(G=l.current)==null?void 0:G.filter)!=null?Q:PBe;return z?oe(z,n.current.search,R):0}function k(){if(!n.current.search||l.current.shouldFilter===!1)return;let z=n.current.filtered.items,R=[];n.current.filtered.groups.forEach(Q=>{let oe=i.current.get(Q),re=0;oe.forEach(pe=>{let ce=z.get(pe);re=Math.max(ce,re)}),R.push([Q,re])});let G=_.current;D().sort((Q,oe)=>{var re,pe;let ce=Q.getAttribute("id"),me=oe.getAttribute("id");return((re=z.get(me))!=null?re:0)-((pe=z.get(ce))!=null?pe:0)}).forEach(Q=>{let oe=Q.closest(Qk);oe?oe.appendChild(Q.parentElement===oe?Q:Q.closest(`${Qk} > *`)):G.appendChild(Q.parentElement===G?Q:Q.closest(`${Qk} > *`))}),R.sort((Q,oe)=>oe[1]-Q[1]).forEach(Q=>{let oe=_.current.querySelector(`${V0}[${th}="${encodeURIComponent(Q[0])}"]`);oe==null||oe.parentElement.appendChild(oe)})}function O(){let z=D().find(G=>G.getAttribute("aria-disabled")!=="true"),R=z==null?void 0:z.getAttribute(th);C.setState("value",R||void 0)}function M(){var z,R,G,Q;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let oe=0;for(let re of r.current){let pe=(R=(z=a.current.get(re))==null?void 0:z.value)!=null?R:"",ce=(Q=(G=a.current.get(re))==null?void 0:G.keywords)!=null?Q:[],me=j(pe,ce);n.current.filtered.items.set(re,me),me>0&&oe++}for(let[re,pe]of i.current)for(let ce of pe)if(n.current.filtered.items.get(ce)>0){n.current.filtered.groups.add(re);break}n.current.filtered.count=oe}function B(){var z,R,G;let Q=N();Q&&(((z=Q.parentElement)==null?void 0:z.firstChild)===Q&&((G=(R=Q.closest(V0))==null?void 0:R.querySelector(OBe))==null||G.scrollIntoView({block:"nearest"})),Q.scrollIntoView({block:"nearest"}))}function N(){var z;return(z=_.current)==null?void 0:z.querySelector(`${rL}[aria-selected="true"]`)}function D(){var z;return Array.from((z=_.current)==null?void 0:z.querySelectorAll(G8))}function P(z){let R=D()[z];R&&C.setState("value",R.getAttribute(th))}function L(z){var R;let G=N(),Q=D(),oe=Q.findIndex(pe=>pe===G),re=Q[oe+z];(R=l.current)!=null&&R.loop&&(re=oe+z<0?Q[Q.length-1]:oe+z===Q.length?Q[0]:Q[oe+z]),re&&C.setState("value",re.getAttribute(th))}function I(z){let R=N(),G=R==null?void 0:R.closest(V0),Q;for(;G&&!Q;)G=z>0?zBe(G,V0):UBe(G,V0),Q=G==null?void 0:G.querySelector(G8);Q?C.setState("value",Q.getAttribute(th)):L(z)}let U=()=>P(D().length-1),$=z=>{z.preventDefault(),z.metaKey?U():z.altKey?I(1):L(1)},W=z=>{z.preventDefault(),z.metaKey?P(0):z.altKey?I(-1):L(-1)};return w.createElement(Qs.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:z=>{var R;if((R=y.onKeyDown)==null||R.call(y,z),!z.defaultPrevented)switch(z.key){case"n":case"j":{x&&z.ctrlKey&&$(z);break}case"ArrowDown":{$(z);break}case"p":case"k":{x&&z.ctrlKey&&W(z);break}case"ArrowUp":{W(z);break}case"Home":{z.preventDefault(),P(0);break}case"End":{z.preventDefault(),U();break}case"Enter":if(!z.nativeEvent.isComposing&&z.keyCode!==229){z.preventDefault();let G=N();if(G){let Q=new Event(pP);G.dispatchEvent(Q)}}}}},w.createElement("label",{"cmdk-label":"",htmlFor:T.inputId,id:T.labelId,style:WBe},c),q2(e,z=>w.createElement(sre.Provider,{value:C},w.createElement(are.Provider,{value:T},z))))}),MBe=w.forwardRef((e,t)=>{var n,r;let i=w.useId(),a=w.useRef(null),s=w.useContext(ore),l=qb(),c=cre(e),u=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:s==null?void 0:s.forceMount;Kh(()=>{if(!u)return l.item(i,s==null?void 0:s.id)},[u]);let d=ure(i,a,[e.value,e.children,a],e.keywords),h=iL(),f=Xh(S=>S.value&&S.value===d.current),m=Xh(S=>u||l.filter()===!1?!0:S.search?S.filtered.items.get(i)>0:!0);w.useEffect(()=>{let S=a.current;if(!(!S||e.disabled))return S.addEventListener(pP,p),()=>S.removeEventListener(pP,p)},[m,e.onSelect,e.disabled]);function p(){var S,C;g(),(C=(S=c.current).onSelect)==null||C.call(S,d.current)}function g(){h.setState("value",d.current,!0)}if(!m)return null;let{disabled:x,value:y,onSelect:v,forceMount:b,keywords:E,..._}=e;return w.createElement(Qs.div,{ref:cv([a,t]),..._,id:i,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!f,"data-disabled":!!x,"data-selected":!!f,onPointerMove:x||l.disablePointerSelection?void 0:g,onClick:x?void 0:p},e.children)}),IBe=w.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:i,...a}=e,s=w.useId(),l=w.useRef(null),c=w.useRef(null),u=w.useId(),d=qb(),h=Xh(m=>i||d.filter()===!1?!0:m.search?m.filtered.groups.has(s):!0);Kh(()=>d.group(s),[]),ure(s,l,[e.value,e.heading,c]);let f=w.useMemo(()=>({id:s,forceMount:i}),[i]);return w.createElement(Qs.div,{ref:cv([l,t]),...a,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},n&&w.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),q2(e,m=>w.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},w.createElement(ore.Provider,{value:f},m))))}),RBe=w.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,i=w.useRef(null),a=Xh(s=>!s.search);return!n&&!a?null:w.createElement(Qs.div,{ref:cv([i,t]),...r,"cmdk-separator":"",role:"separator"})}),DBe=w.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,i=e.value!=null,a=iL(),s=Xh(d=>d.search),l=Xh(d=>d.value),c=qb(),u=w.useMemo(()=>{var d;let h=(d=c.listInnerRef.current)==null?void 0:d.querySelector(`${rL}[${th}="${encodeURIComponent(l)}"]`);return h==null?void 0:h.getAttribute("id")},[]);return w.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),w.createElement(Qs.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":u,id:c.inputId,type:"text",value:i?e.value:s,onChange:d=>{i||a.setState("search",d.target.value),n==null||n(d.target.value)}})}),LBe=w.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...i}=e,a=w.useRef(null),s=w.useRef(null),l=qb();return w.useEffect(()=>{if(s.current&&a.current){let c=s.current,u=a.current,d,h=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let f=c.offsetHeight;u.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return h.observe(c),()=>{cancelAnimationFrame(d),h.unobserve(c)}}},[]),w.createElement(Qs.div,{ref:cv([a,t]),...i,"cmdk-list":"",role:"listbox","aria-label":r,id:l.listId},q2(e,c=>w.createElement("div",{ref:cv([s,l.listInnerRef]),"cmdk-list-sizer":""},c)))}),$Be=w.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:a,container:s,...l}=e;return w.createElement(NBe,{open:n,onOpenChange:r},w.createElement(kBe,{container:s},w.createElement(ABe,{"cmdk-overlay":"",className:i}),w.createElement(jBe,{"aria-label":e.label,"cmdk-dialog":"",className:a},w.createElement(lre,{ref:t,...l}))))}),BBe=w.forwardRef((e,t)=>Xh(n=>n.filtered.count===0)?w.createElement(Qs.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),FBe=w.forwardRef((e,t)=>{let{progress:n,children:r,label:i="Loading...",...a}=e;return w.createElement(Qs.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},q2(e,s=>w.createElement("div",{"aria-hidden":!0},s)))}),Va=Object.assign(lre,{List:LBe,Item:MBe,Input:DBe,Group:IBe,Separator:RBe,Dialog:$Be,Empty:BBe,Loading:FBe});function zBe(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function UBe(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function cre(e){let t=w.useRef(e);return Kh(()=>{t.current=e}),t}var Kh=typeof window>"u"?w.useEffect:w.useLayoutEffect;function om(e){let t=w.useRef();return t.current===void 0&&(t.current=e()),t}function cv(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function Xh(e){let t=iL(),n=()=>e(t.snapshot());return w.useSyncExternalStore(t.subscribe,n,n)}function ure(e,t,n,r=[]){let i=w.useRef(),a=qb();return Kh(()=>{var s;let l=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():i.current}})(),c=r.map(u=>u.trim());a.value(e,l,c),(s=t.current)==null||s.setAttribute(th,l),i.current=l}),i}var HBe=()=>{let[e,t]=w.useState(),n=om(()=>new Map);return Kh(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,i)=>{n.current.set(r,i),t({})}};function VBe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function q2({asChild:e,children:t},n){return e&&w.isValidElement(t)?w.cloneElement(VBe(t),{ref:t.ref},n(t.props.children)):n(t)}var WBe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const dre=w.forwardRef(({className:e,...t},n)=>o.jsx(Va,{ref:n,className:Be("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));dre.displayName=Va.displayName;const hre=w.forwardRef(({className:e,...t},n)=>o.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[o.jsx(Fa,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx(Va.Input,{ref:n,className:Be("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));hre.displayName=Va.Input.displayName;const fre=w.forwardRef(({className:e,...t},n)=>o.jsx(Va.List,{ref:n,className:Be("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));fre.displayName=Va.List.displayName;const mre=w.forwardRef((e,t)=>o.jsx(Va.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));mre.displayName=Va.Empty.displayName;const pre=w.forwardRef(({className:e,...t},n)=>o.jsx(Va.Group,{ref:n,className:Be("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));pre.displayName=Va.Group.displayName;const qBe=w.forwardRef(({className:e,...t},n)=>o.jsx(Va.Separator,{ref:n,className:Be("-mx-1 h-px bg-border",e),...t}));qBe.displayName=Va.Separator.displayName;const gre=w.forwardRef(({className:e,...t},n)=>o.jsx(Va.Item,{ref:n,className:Be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));gre.displayName=Va.Item.displayName;var aL="Popover",[yre,FRt]=Ua(aL,[Ed]),Gb=Ed(),[GBe,Td]=yre(aL),xre=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:s=!1}=e,l=Gb(t),c=w.useRef(null),[u,d]=w.useState(!1),[h=!1,f]=qs({prop:r,defaultProp:i,onChange:a});return o.jsx($D,{...l,children:o.jsx(GBe,{scope:t,contentId:us(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>d(!0),[]),onCustomAnchorRemove:w.useCallback(()=>d(!1),[]),modal:s,children:n})})};xre.displayName=aL;var vre="PopoverAnchor",YBe=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Td(vre,n),a=Gb(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:l}=i;return w.useEffect(()=>(s(),()=>l()),[s,l]),o.jsx(Tb,{...a,...r,ref:t})});YBe.displayName=vre;var bre="PopoverTrigger",wre=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Td(bre,n),a=Gb(n),s=jt(t,i.triggerRef),l=o.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Tre(i.open),...r,ref:s,onClick:Ie(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:o.jsx(Tb,{asChild:!0,...a,children:l})});wre.displayName=bre;var sL="PopoverPortal",[KBe,XBe]=yre(sL,{forceMount:void 0}),Ere=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,a=Td(sL,t);return o.jsx(KBe,{scope:t,forceMount:n,children:o.jsx(ti,{present:n||a.open,children:o.jsx(Dg,{asChild:!0,container:i,children:r})})})};Ere.displayName=sL;var Lp="PopoverContent",Sre=w.forwardRef((e,t)=>{const n=XBe(Lp,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,a=Td(Lp,e.__scopePopover);return o.jsx(ti,{present:r||a.open,children:a.modal?o.jsx(ZBe,{...i,ref:t}):o.jsx(QBe,{...i,ref:t})})});Sre.displayName=Lp;var ZBe=w.forwardRef((e,t)=>{const n=Td(Lp,e.__scopePopover),r=w.useRef(null),i=jt(t,r),a=w.useRef(!1);return w.useEffect(()=>{const s=r.current;if(s)return Bb(s)},[]),o.jsx(Fb,{as:_c,allowPinchZoom:!0,children:o.jsx(_re,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,s=>{var l;s.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ie(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),QBe=w.forwardRef((e,t)=>{const n=Td(Lp,e.__scopePopover),r=w.useRef(!1),i=w.useRef(!1);return o.jsx(_re,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,l;(s=e.onCloseAutoFocus)==null||s.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),_re=w.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,f=Td(Lp,n),m=Gb(n);return P2(),o.jsx($b,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:o.jsx(yf,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:o.jsx(f2,{"data-state":Tre(f.open),role:"dialog",id:f.contentId,...m,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Cre="PopoverClose",JBe=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Td(Cre,n);return o.jsx(rt.button,{type:"button",...r,ref:t,onClick:Ie(e.onClick,()=>i.onOpenChange(!1))})});JBe.displayName=Cre;var eFe="PopoverArrow",tFe=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Gb(n);return o.jsx(m2,{...i,...r,ref:t})});tFe.displayName=eFe;function Tre(e){return e?"open":"closed"}var nFe=xre,rFe=wre,iFe=Ere,Nre=Sre;const kre=nFe,Are=rFe,oL=w.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>o.jsx(iFe,{children:o.jsx(Nre,{ref:i,align:t,sideOffset:n,className:Be("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));oL.displayName=Nre.displayName;const aFe=new E3,sFe=({challenges:e,handleSelectChallenge:t})=>o.jsxs(dre,{className:"rounded-lg border shadow-md md:min-w-[450px]",children:[o.jsx(hre,{placeholder:"Type a command or search..."}),o.jsxs(fre,{children:[o.jsx(mre,{children:"No results found."}),o.jsx(pre,{heading:"Suggestions",children:e.map(n=>o.jsx(gre,{value:n.title,onSelect:()=>t(n),children:n.title},n.id))})]})]}),oFe=({inputValue:e,setInputValue:t,handleSendMessage:n,isLoading:r,placeholder:i})=>{const[a,s]=w.useState([]),[l,c]=w.useState(!1),[u,d]=w.useState(!1);w.useEffect(()=>{l&&(async()=>{if(l)try{d(!0);const m=await aFe.getChallenges();if(!m){s([]);return}const p=Array.isArray(m)?m.filter(g=>g&&typeof g=="object"&&"id"in g&&"title"in g):[];l&&s(p)}catch(m){console.error("Error loading challenges:",m),s([])}finally{l&&d(!1)}})()},[l]),w.useEffect(()=>{e==="#"?c(!0):e.startsWith("#")||(c(!1),s([]))},[e]);const h=f=>{t(`#${f.title} : `),c(!1)};return o.jsxs("div",{className:"flex items-center gap-2 w-full relative",children:[o.jsxs(kre,{open:l,onOpenChange:f=>{f||(s([]),d(!1))},children:[o.jsx(Are,{asChild:!0,children:o.jsx(Pn,{value:e,onChange:f=>t(f.target.value),placeholder:i,className:"flex-grow resize-none h-10 py-2 px-3",rows:1,onKeyDown:f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),n())}})}),l&&o.jsx(oL,{className:"p-0",align:"start",children:o.jsx(sFe,{challenges:a,handleSelectChallenge:h})})]}),o.jsx(te,{onClick:n,disabled:r||!e.trim(),className:"shrink-0 h-10 w-10",size:"icon",children:r?o.jsx(nr,{className:"h-4 w-4 animate-spin"}):o.jsx(l2,{className:"h-4 w-4"})})]})},lFe={"hypothesis-analysis":"Welcome to Hypothesis Analysis! I can help you validate and analyze your business hypotheses.","challenge-monitor":"Welcome to Challenge Monitor! I can help you track and analyze business challenges.","improvement-actions":"Welcome to Improvement Actions! I can help you generate data-driven recommendations."},Y8=async(e,t)=>{let n="";switch(t){case"hypothesis-analysis":n=`## Analysis Results

Based on the analysis of your hypothesis "${e}", here are my findings:

- Point 1
- Point 2
- Point 3`;break;case"challenge-monitor":n=`## Challenge Analysis

Regarding the business challenge "${e}", I've identified the following patterns:

1. Pattern One
2. Pattern Two
3. Pattern Three`;break;default:n=`## Analysis

I understand your query. Let me analyze that for you...`}return{content:n,role:"ai",timestamp:new Date,format:"markdown"}},WS={getWelcomeMessage:e=>lFe[e],processMessage:async(e,t)=>{const n=await Y8(e,t);return{id:Date.now().toString(),content:n.content,role:n.role,timestamp:n.timestamp}},generateInsights:async(e,t)=>{const n=await Y8(`Hypothesis: ${(e==null?void 0:e.description)||""}, Context: ${t}`,"hypothesis-analysis");return{id:Date.now().toString(),content:n.content,role:n.role,timestamp:n.timestamp}}},cFe=async(e,t)=>{const n=dFe(e),r=hFe(e);return(n||r)&&Ane(n||"",r||""),(await WS.processMessage(e,t)).content},uFe=()=>({"hypothesis-analysis":WS.getWelcomeMessage("hypothesis-analysis"),"challenge-monitor":WS.getWelcomeMessage("challenge-monitor")});function dFe(e){const t=e.match(/(?:hypothesis|title):\s*([^.!?]+)[.!?]?/i);return t?t[1].trim():""}function hFe(e){const t=e.match(/description:\s*([^.!?]+(?:[.!?][^.!?]+)*)/i);if(t)return t[1].trim();const n=e.match(/(?:hypothesis|title):\s*([^.!?]+)[.!?]?/i);return n?e.replace(n[0],"").trim():e}const jre=({className:e,mode:t="hypothesis-analysis",isCollapsed:n=!1,onToggleCollapse:r})=>{const[i,a]=w.useState([]),[s,l]=w.useState(""),[c,u]=w.useState(!1),[d,h]=w.useState(t),f=Yi(),m=q.useRef(null);w.useEffect(()=>{if(m.current){const v=m.current.querySelector("[data-radix-scroll-area-viewport]");v&&(v.scrollTop=v.scrollHeight)}},[i]);const p=uFe();w.useEffect(()=>{a([{id:"1",content:p[d],role:"ai",timestamp:new Date}]);const v=new URLSearchParams(f.search);v.get("aiValidate")==="true"&&(h("hypothesis-analysis"),setTimeout(()=>{const E=v.get("challengeId");E&&a(_=>[..._,{id:Date.now().toString(),content:`I've analyzed the hypotheses related to challenge #${E}. Would you like me to validate any specific hypothesis?`,role:"ai",timestamp:new Date}])},1e3))},[d,f.search]);const g=async()=>{if(!s.trim())return;const v={id:Date.now().toString(),content:s,role:"user",timestamp:new Date};a(b=>[...b,v]),l(""),u(!0);try{const b=await cFe(s,d),E={id:(Date.now()+1).toString(),content:b,role:"ai",timestamp:new Date};a(_=>[..._,E])}catch(b){console.error("Error getting AI response:",b);const E={id:(Date.now()+1).toString(),content:"Sorry, I encountered an error processing your request. Please try again.",role:"ai",timestamp:new Date};a(_=>[..._,E])}finally{u(!1)}},x=v=>{v!==d&&(h(v),a([{id:Date.now().toString(),content:p[v],role:"ai",timestamp:new Date}]))},y=()=>{switch(d){case"challenge-monitor":return"Business Challenge Monitor";case"hypothesis-analysis":default:return"Hypothesis Analysis Assistant"}};return n?o.jsx(Pe,{className:Be("glass-card w-16 h-16 flex items-center justify-center cursor-pointer transition-all duration-300",e),onClick:r,children:o.jsx(Wi,{className:"h-6 w-6 text-primary"})}):o.jsxs(Pe,{className:Be("glass-card flex flex-col h-full min-h-[800px] min-w-[400px]",e),children:[o.jsxs(Ye,{className:"flex-none pb-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs(dt,{className:"text-base font-medium flex items-center gap-2",children:[o.jsx(Wi,{className:"h-4 w-4 text-primary"}),"AI ",y()]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(b6e,{currentMode:d,onModeChange:x}),o.jsx(te,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:r,children:o.jsx(e1e,{className:"h-4 w-4"})})]})]}),o.jsxs(hn,{className:"text-xs",children:[d==="hypothesis-analysis"&&"Intelligently analyze your hypotheses and provide data-supported insights",d==="challenge-monitor"&&"Continuously monitor business challenges and detect anomalies"]})]}),o.jsx(De,{className:"flex-auto p-0 min-h-0",children:o.jsx(Li,{ref:m,className:"h-full px-8",children:o.jsxs("div",{className:"space-y-8 py-8",children:[i.map(v=>o.jsx(v6e,{message:v},v.id)),c&&o.jsxs("div",{className:"flex max-w-[80%] rounded-lg p-3 bg-muted ml-0",children:[o.jsx("div",{className:"mr-2 mt-0.5",children:o.jsx(Wi,{className:"h-4 w-4"})}),o.jsxs("div",{className:"loading-dots",children:[o.jsx("span",{}),o.jsx("span",{}),o.jsx("span",{})]})]})]})})}),o.jsx(Tf,{className:"flex-none p-4 pt-3",children:o.jsx("div",{className:"w-full",children:o.jsx(oFe,{inputValue:s,setInputValue:l,handleSendMessage:g,isLoading:c,placeholder:`Use # select a challenge , Ask about ${d==="hypothesis-analysis"?"hypothesis validation":d==="challenge-monitor"?"business challenges":"improvement actions"}... `})})})]})},fFe=()=>{const e=Yi(),t=Dn(),{toast:n}=za(),r=new URLSearchParams(e.search),i=r.get("problemId"),a=r.get("addHypothesis")==="true",[s,l]=w.useState([]),[c,u]=w.useState(!1),[d,h]=w.useState(null),[f,m]=w.useState(!1),[p,g]=w.useState(),[x,y]=w.useState(""),[v,b]=w.useState("all"),[E,_]=w.useState(i||"all"),[S,C]=w.useState("newest"),[T,j]=w.useState("link"),[k,O]=w.useState(!1),[M,B]=w.useState(),N=async z=>{try{const[R,G]=await Promise.all([z?ec.getHypothesesByProblemId(z):ec.getHypotheses(),z?Kr.getBusinessProblemById(z):Promise.resolve(void 0)]);return{hypothesesData:R,problemData:G}}catch{throw new Error("Failed to fetch data")}};w.useEffect(()=>{(async()=>{u(!0),h(null);try{const G=new URLSearchParams(e.search).get("problemId"),{hypothesesData:Q,problemData:oe}=await N(G);l(Q),B(oe)}catch{h("Failed to fetch hypotheses"),n({title:"Error",description:"Failed to fetch hypotheses",variant:"destructive"})}finally{u(!1)}})(),a&&i&&D(i),i&&_(i)},[i,a,E]);const D=z=>{g({businessProblemId:z,relatedHypothesesIds:[],status:"drafted",confidence:0,metrics:[],title:"",description:"",analysisMethod:"Trend Analysis"}),m(!0)},P=z=>{const R=s.find(G=>G.id===z);R&&(g(R),m(!0))},L=z=>{t(`/analysis?hypothesis=${z}`)},I=async z=>{try{if(p!=null&&p.id){const R=await ec.updateHypothesis(p.id,z);l(G=>G.map(Q=>Q.id===R.id?R:Q)),n({title:"Hypothesis Updated",description:"Your hypothesis has been successfully updated."}),g({})}else{const R=await ec.createHypothesis({...z,businessProblemId:z.businessProblemId==="none"?void 0:z.businessProblemId});l(G=>[R,...G]),n({title:"Hypothesis Created",description:"Your new hypothesis has been successfully created."})}}catch{n({title:"Error",description:"Failed to save hypothesis",variant:"destructive"});return}m(!1),a&&i&&t("/hypotheses")},U=()=>{O(!0)},$=async z=>{try{const R=await ec.createHypothesis({title:z.title,description:z.description,status:"drafted",confidence:0,metrics:[],businessProblemId:z.businessProblemId,relatedHypothesesIds:[],analysisMethod:"Trend Analysis"});l(G=>[R,...G]),n({title:"AI Generated Hypothesis Created",description:"Your AI generated hypothesis has been successfully created."})}catch{n({title:"Error",description:"Failed to create AI generated hypothesis",variant:"destructive"})}};return{hypotheses:s.filter(z=>z.title.toLowerCase().includes(x.toLowerCase())||z.description.toLowerCase().includes(x.toLowerCase())).filter(z=>v==="all"||z.status===v).filter(z=>E==="all"||z.businessProblemId===E).sort((z,R)=>S==="newest"?new Date(R.createdAt).getTime()-new Date(z.createdAt).getTime():S==="oldest"?new Date(z.createdAt).getTime()-new Date(R.createdAt).getTime():R.confidence-z.confidence),formOpen:f,setFormOpen:m,editingHypothesis:p,searchTerm:x,setSearchTerm:y,statusFilter:v,setStatusFilter:b,problemFilter:E,setProblemFilter:_,sortOrder:S,setSortOrder:C,selectedProblem:M,mode:T,setMode:j,aiGeneratorOpen:k,setAIGeneratorOpen:O,handleCreateHypothesis:D,handleEditHypothesis:P,handleViewHypothesisMetrics:L,handleSubmitHypothesis:I,handleGenerateWithAI:U,handleSubmitGeneratedHypothesis:$}},mFe=()=>{const{collapsed:e}=Tr(),[t,n]=w.useState("link"),[r,i]=w.useState("hypothesis-analysis"),[a,s]=w.useState(!1),[l,c]=w.useState(!1),u=Yi(),{hypotheses:d,formOpen:h,setFormOpen:f,editingHypothesis:m,searchTerm:p,setSearchTerm:g,statusFilter:x,setStatusFilter:y,problemFilter:v,setProblemFilter:b,sortOrder:E,setSortOrder:_,selectedProblem:S,handleCreateHypothesis:C,handleEditHypothesis:T,handleViewHypothesisMetrics:j,handleSubmitHypothesis:k}=fFe();w.useEffect(()=>{new URLSearchParams(u.search).get("aiValidate")==="true"&&(s(!0),i("hypothesis-analysis"))},[u.search]);const O=D=>{n("edit");const P=d.find(L=>L.id===D);P&&(f(!0),T(P.id),f(!0))},M=D=>{n("edit"),C(D)},B=()=>s(!a),N=async()=>{c(!0);try{s(!0),i("hypothesis-analysis");const D=new URLSearchParams(window.location.search);D.set("aiValidate","true"),window.history.pushState({},"",`${window.location.pathname}?${D}`)}catch(D){console.error("Failed to generate analysis:",D)}finally{c(!1)}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ir,{}),o.jsxs("div",{className:`${e?"pl-20":"pl-56"} min-h-screen transition-all duration-300`,children:[o.jsx(Xn,{}),o.jsxs("main",{className:"container py-6",children:[o.jsx(J5e,{selectedProblem:S,handleCreateHypothesis:M,problemFilter:v,mode:t,setMode:n,toggleAiAssistant:B,showAiAssistant:a,onGenerateAnalysis:N,isGeneratingAnalysis:l}),o.jsxs("div",{className:"grid grid-cols-1 gap-6 mb-6 md:grid-cols-3",children:[a&&o.jsx("div",{className:"md:col-span-1",children:o.jsx(jre,{mode:r,className:"h-full"})}),o.jsxs("div",{className:a?"md:col-span-2":"md:col-span-3",children:[o.jsx(e6e,{searchTerm:p,setSearchTerm:g,statusFilter:x,setStatusFilter:y,problemFilter:v,setProblemFilter:b,sortOrder:E,setSortOrder:_,selectedProblem:!!S}),o.jsx(i6e,{hypotheses:d,onEdit:O,onViewMetrics:j,problemFilter:v,handleCreateHypothesis:M,selectedProblem:S,allHypotheses:d})]})]})]})]}),o.jsx(Q5e,{open:h,onOpenChange:f,initialData:m,onSubmit:k,allHypotheses:d,mode:t})]})};var lL="Tabs",[pFe,zRt]=Ua(lL,[Kg]),Ore=Kg(),[gFe,cL]=pFe(lL),Pre=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Nf(l),[h,f]=qs({prop:r,onChange:i,defaultProp:a});return o.jsx(gFe,{scope:n,baseId:us(),value:h,onValueChange:f,orientation:s,dir:d,activationMode:c,children:o.jsx(rt.div,{dir:d,"data-orientation":s,...u,ref:t})})});Pre.displayName=lL;var Mre="TabsList",Ire=w.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=cL(Mre,n),s=Ore(n);return o.jsx(S3,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:r,children:o.jsx(rt.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});Ire.displayName=Mre;var Rre="TabsTrigger",Dre=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,s=cL(Rre,n),l=Ore(n),c=Bre(s.baseId,r),u=Fre(s.baseId,r),d=r===s.value;return o.jsx(_3,{asChild:!0,...l,focusable:!i,active:d,children:o.jsx(rt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:Ie(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?s.onValueChange(r):h.preventDefault()}),onKeyDown:Ie(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&s.onValueChange(r)}),onFocus:Ie(e.onFocus,()=>{const h=s.activationMode!=="manual";!d&&!i&&h&&s.onValueChange(r)})})})});Dre.displayName=Rre;var Lre="TabsContent",$re=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...s}=e,l=cL(Lre,n),c=Bre(l.baseId,r),u=Fre(l.baseId,r),d=r===l.value,h=w.useRef(d);return w.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),o.jsx(ti,{present:i||d,children:({present:f})=>o.jsx(rt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&a})})});$re.displayName=Lre;function Bre(e,t){return`${e}-trigger-${t}`}function Fre(e,t){return`${e}-content-${t}`}var yFe=Pre,zre=Ire,Ure=Dre,Hre=$re;const Oo=yFe,Us=w.forwardRef(({className:e,...t},n)=>o.jsx(zre,{ref:n,className:Be("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Us.displayName=zre.displayName;const Xt=w.forwardRef(({className:e,...t},n)=>o.jsx(Ure,{ref:n,className:Be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Xt.displayName=Ure.displayName;const Zt=w.forwardRef(({className:e,...t},n)=>o.jsx(Hre,{ref:n,className:Be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Zt.displayName=Hre.displayName;var uL="Switch",[xFe,URt]=Ua(uL),[vFe,bFe]=xFe(uL),Vre=w.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:s,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,m]=w.useState(null),p=jt(t,b=>m(b)),g=w.useRef(!1),x=f?d||!!f.closest("form"):!0,[y=!1,v]=qs({prop:i,defaultProp:a,onChange:u});return o.jsxs(vFe,{scope:n,checked:y,disabled:l,children:[o.jsx(rt.button,{type:"button",role:"switch","aria-checked":y,"aria-required":s,"data-state":Gre(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:p,onClick:Ie(e.onClick,b=>{v(E=>!E),x&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),x&&o.jsx(wFe,{control:f,bubbles:!g.current,name:r,value:c,checked:y,required:s,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Vre.displayName=uL;var Wre="SwitchThumb",qre=w.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=bFe(Wre,n);return o.jsx(rt.span,{"data-state":Gre(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});qre.displayName=Wre;var wFe=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,a=w.useRef(null),s=$2(n),l=h2(t);return w.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(s!==n&&h){const f=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(f)}},[s,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Gre(e){return e?"checked":"unchecked"}var Yre=Vre,EFe=qre;const G2=w.forwardRef(({className:e,...t},n)=>o.jsx(Yre,{className:Be("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:o.jsx(EFe,{className:Be("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));G2.displayName=Yre.displayName;const Qc=[{id:"rule-1",name:"Premium Revenue Abnormal Decline",metricId:"total_premium",metricName:"Total Premium Underwritten",thresholdValue:5e7,thresholdType:"below",severity:"critical",enabled:!0,description:"Trigger alert when total premium revenue is below 50 million",notificationChannels:["in-app","email"],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"rule-2",name:"Application Volume Abnormal Growth",metricId:"application_count",metricName:"Application Count",thresholdValue:30,thresholdType:"change_rate",severity:"warning",enabled:!0,description:"Trigger alert when application volume grows more than 30% within 24 hours",changeRateConfig:{timeWindow:"24h",changeThreshold:30},notificationChannels:["in-app"],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"rule-3",name:"Customer Age Distribution Anomaly",metricId:"customer_age",metricName:"Customer Age Distribution",thresholdValue:0,thresholdType:"anomaly",severity:"info",enabled:!0,description:"Detect anomalous patterns in customer age distribution",anomalyConfig:{sensitivity:"medium",historicalPeriod:"30d"},notificationChannels:["in-app"],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}],Xf=[{id:"alert-1",ruleId:"rule-1",ruleName:"Premium Revenue Abnormal Decline",triggered:!0,currentValue:45e6,thresholdValue:5e7,triggeredAt:"2024-01-15T10:30:00Z",severity:"critical",message:"Total premium revenue (45 million) is below alert threshold (50 million)",metricName:"Total Premium Underwritten",acknowledged:!1},{id:"alert-2",ruleId:"rule-2",ruleName:"Application Volume Abnormal Growth",triggered:!0,currentValue:1250,thresholdValue:1e3,triggeredAt:"2024-01-15T14:20:00Z",severity:"warning",message:"Application volume grew 25% (1250 vs 1000) within 24 hours, approaching alert threshold of 30%",metricName:"Application Count",acknowledged:!0,acknowledgedBy:"analyst@company.com",acknowledgedAt:"2024-01-15T15:00:00Z"}],SFe=[{metricId:"customer_age",metricName:"Customer Age Distribution",currentValue:42.5,expectedRange:{min:38,max:45},anomalyScore:.3,detectedAt:"2024-01-15T12:00:00Z",description:"Customer average age (42.5) is within normal range, but distribution pattern shows slight anomaly"}],ih=class ih{constructor(){ot(this,"alertConfigs",new Map);ot(this,"alertStatuses",new Map)}static getInstance(){return ih.instance||(ih.instance=new ih),ih.instance}async getAlertRules(){return await new Promise(t=>setTimeout(t,300)),Qc}async getActiveAlerts(){return await new Promise(t=>setTimeout(t,200)),Xf.filter(t=>t.triggered&&!t.acknowledged)}async getAllAlerts(){return await new Promise(t=>setTimeout(t,200)),Xf}async getAnomalies(){return await new Promise(t=>setTimeout(t,200)),SFe}async createAlertRule(t){await new Promise(r=>setTimeout(r,500));const n={...t,id:`rule-${Date.now()}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return Qc.push(n),n}async updateAlertRule(t,n){await new Promise(i=>setTimeout(i,500));const r=Qc.findIndex(i=>i.id===t);if(r===-1)throw new Error("Alert rule not found");return Qc[r]={...Qc[r],...n,updatedAt:new Date().toISOString()},Qc[r]}async deleteAlertRule(t){await new Promise(r=>setTimeout(r,300));const n=Qc.findIndex(r=>r.id===t);if(n===-1)throw new Error("Alert rule not found");Qc.splice(n,1)}async acknowledgeAlert(t,n){await new Promise(i=>setTimeout(i,300));const r=Xf.findIndex(i=>i.id===t);if(r===-1)throw new Error("Alert not found");return Xf[r]={...Xf[r],acknowledged:!0,acknowledgedBy:n,acknowledgedAt:new Date().toISOString()},Xf[r]}setAlertConfig(t){this.alertConfigs.set(t.metricId,t)}getAlertConfig(t){return this.alertConfigs.get(t)}checkMetricAlert(t){const n=this.alertConfigs.get(t.id);if(!n||!n.enabled)return null;if(n.thresholdType==="above"?t.value>n.thresholdValue:t.value<n.thresholdValue){const i={id:`alert-${Date.now()}`,ruleId:t.id,ruleName:`Alert for ${t.name}`,triggered:!0,currentValue:t.value,thresholdValue:n.thresholdValue,triggeredAt:new Date().toISOString(),severity:n.severity,message:`${t.name} is ${n.thresholdType} threshold`,metricName:t.name,acknowledged:!1};return this.alertStatuses.set(t.id,i),this.notifyAlert(t,i),i}return null}notifyAlert(t,n){const r=this.alertConfigs.get(t.id);r&&r.notificationChannels.forEach(i=>{switch(i){case"in-app":console.log(`In-app alert for ${t.name}: ${n.currentValue}${t.unit}`);break;case"email":console.log(`Email alert for ${t.name}`);break;case"sms":console.log(`SMS alert for ${t.name}`);break}})}getAlertStatus(t){return this.alertStatuses.get(t)}clearAlert(t){this.alertStatuses.delete(t)}};ot(ih,"instance");let gP=ih;const $s=gP.getInstance(),_Fe=({metricId:e="",metricName:t="",currentValue:n=0,unit:r=""})=>{if(!e||!t)return null;const[i,a]=q.useState($s.getAlertConfig(e)),[s,l]=q.useState($s.getAlertStatus(e)),c=d=>{const h={...i,...d,metricId:e};$s.setAlertConfig(h),a(h)},u=d=>{if(!i&&d){const h={metricId:e,thresholdValue:n,thresholdType:"above",severity:"warning",enabled:!0,notificationChannels:["in-app"]};$s.setAlertConfig(h),a(h)}else i&&c({enabled:d})};return o.jsxs(kre,{children:[o.jsx(Are,{asChild:!0,children:o.jsx(te,{variant:"ghost",size:"icon",className:Be("h-8 w-8",(s==null?void 0:s.severity)==="critical"&&"text-red-500",(s==null?void 0:s.severity)==="warning"&&"text-yellow-500"),children:s?o.jsx(Dbe,{className:"h-4 w-4"}):i!=null&&i.enabled?o.jsx(gE,{className:"h-4 w-4"}):o.jsx(Rbe,{className:"h-4 w-4"})})}),o.jsx(oL,{className:"w-80",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h4",{className:"font-medium",children:[t," Alerts"]}),o.jsx(G2,{checked:(i==null?void 0:i.enabled)??!1,onCheckedChange:u})]}),(i==null?void 0:i.enabled)&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{children:"Threshold"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("select",{className:"border rounded p-2",value:i.thresholdType,onChange:d=>c({thresholdType:d.target.value}),children:[o.jsx("option",{value:"above",children:"Above"}),o.jsx("option",{value:"below",children:"Below"})]}),o.jsx(Me,{type:"number",value:i.thresholdValue,onChange:d=>c({thresholdValue:parseFloat(d.target.value)})}),o.jsx("span",{className:"text-sm text-muted-foreground",children:r})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{children:"Severity"}),o.jsxs("select",{className:"w-full border rounded p-2",value:i.severity,onChange:d=>c({severity:d.target.value}),children:[o.jsx("option",{value:"warning",children:"Warning"}),o.jsx("option",{value:"critical",children:"Critical"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{children:"Notifications"}),o.jsx("div",{className:"flex gap-2",children:["in-app","email","sms"].map(d=>o.jsxs("label",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"checkbox",checked:i.notificationChannels.includes(d),onChange:h=>{const f=h.target.checked?[...i.notificationChannels,d]:i.notificationChannels.filter(m=>m!==d);c({notificationChannels:f})}}),d]},d))})]})]})]})})]})},CFe=()=>{const{collapsed:e}=Tr(),t=Yi(),n=Dn(),[r,i]=w.useState(null),[a,s]=w.useState(!0),[l,c]=w.useState(null),[u,d]=w.useState([]),[h,f]=w.useState([]),[m,p]=w.useState(null),[g,x]=w.useState(!1),[y,v]=w.useState(!1),[b,E]=w.useState(!1),[_,S]=w.useState(!1),[C,T]=w.useState(null),[j,k]=w.useState([]),[O,M]=w.useState([]),[B,N]=w.useState({definition:"",businessImpact:"",notes:""}),[D,P]=w.useState(!1),L=async()=>{try{P(!0),g&&(m&&B.definition&&p({...m,definition:B.definition}),x(!1)),y&&j.length>0&&(d(j),v(!1)),b&&O.length>0&&(f(O),E(!1)),_&&C&&(p(C),S(!1)),er({title:"Changes saved",description:"Metric information has been updated successfully."})}catch(z){console.error("Error saving changes:",z),er({title:"Error saving changes",description:"There was a problem saving your changes. Please try again.",variant:"destructive"})}finally{P(!1)}},I=z=>{switch(z){case"overview":x(!1);break;case"dimensions":v(!1),k(u);break;case"usage":E(!1),M(h);break;case"metadata":S(!1),T(m);break}},U=(z,R,G)=>{const Q=[...j];Q[z]={...Q[z],[R]:R==="importance"?Number(G):G},k(Q)},$=(z,R,G)=>{const Q=[...O];Q[z]={...Q[z],[R]:G},M(Q)},W=(z,R)=>{C&&T({...C,[z]:R})};return w.useEffect(()=>{(async()=>{try{s(!0),c(null);const G=new URLSearchParams(t.search).get("metric");if(!G){c("Metric ID not found");return}const Q=await kne.getMetricById(G),oe=Q.metric;if(!oe){c("Metric data not found");return}const re=[{id:"customer_age",name:"Customer Age Distribution",description:"Analyze customer distribution and purchasing behavior by age group",importance:85,type:"number",unit:"years",range:{min:18,max:80}},{id:"purchase_time",name:"Purchase Time Analysis",description:"Analyze customer purchase time patterns, including seasonality and time period distribution",importance:80,type:"time",format:"YYYY-MM-DD HH:mm"},{id:"region",name:"Regional Distribution",description:"Analyze customer characteristics and product preferences across different regions",importance:75,type:"text"},{id:"premium",name:"Premium Range",description:"Analyze product distribution and customer choices across different premium ranges",importance:70,type:"number",unit:"",range:{min:0,max:1e5}},{id:"channel",name:"Sales Channel",description:"Analyze performance and customer preferences across various sales channels",importance:65,type:"text"}],pe=[{id:"strategic",name:"Strategic Decision-making",description:"Evaluates business strategy effectiveness and guides executive decisions"},{id:"operational",name:"Operational Optimization",description:"Identifies process bottlenecks and improvement opportunities"},{id:"performance",name:"Performance Evaluation",description:"Measures business unit and individual performance metrics"},{id:"forecasting",name:"Predictive Analysis",description:"Forecasts future trends and identifies potential risks"}],ce={definition:`${oe.name} is a key metric measuring ${oe.category} in insurance business, used to evaluate ${oe.description||"business performance"}`,calculation:`Formula based on ${oe.category}-related data with weighted average of multiple factors`,dataSource:"Enterprise Data Warehouse, Transaction Systems, and CRM",updateFrequency:"Daily updates with monthly audits",owner:"Business Analytics Department",relatedMetrics:[{id:"metric-1",name:"Customer Satisfaction"},{id:"metric-2",name:"Policy Renewal Rate"},{id:"metric-3",name:"Customer Acquisition Cost"}]},me=Q.dimensions;i(oe),d(me),f(pe),p(ce),k(re),M(pe),T(ce),N({definition:ce.definition,businessImpact:"This metric primarily impacts customer satisfaction, product competitiveness and market share. The "+(oe.status==="positive"?"upward":oe.status==="negative"?"downward":"stable")+" trend indicates our business is "+(oe.status==="positive"?"developing positively":oe.status==="negative"?"facing challenges":"remaining stable")+".",notes:"Seasonal factors should be considered when interpreting this metric. Recommend comparative analysis with historical data. External factors including market environment and macroeconomic conditions may also influence this metric."})}catch(R){c("Failed to load metric data. Please try again later."),console.error("Error loading metric:",R)}finally{s(!1)}})()},[t.search]),o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ir,{}),o.jsxs("div",{className:`${e?"pl-20":"pl-56"} min-h-screen transition-all duration-300`,children:[o.jsx(Xn,{}),o.jsxs("main",{className:"container py-6",children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(te,{variant:"ghost",size:"icon",onClick:()=>n("/metrics"),className:"hover:bg-accent",children:o.jsx(xl,{className:"h-4 w-4"})}),o.jsx("h1",{className:"text-2xl font-semibold",children:"Metric Details"})]})}),a?o.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:o.jsx(nr,{className:"h-8 w-8 animate-spin text-primary"})}):l?o.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:o.jsxs("div",{className:"text-center text-red-500",children:[o.jsx("p",{children:l}),o.jsx(te,{variant:"outline",className:"mt-4",onClick:()=>window.location.reload(),children:"Retry"})]})}):r?o.jsxs(Pe,{className:"glass-card",children:[o.jsxs(Ye,{children:[o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsx(dt,{className:"text-lg",children:r.description}),o.jsxs("div",{className:"flex items-center gap-2",children:[(g||y||b||_)&&o.jsxs(te,{size:"sm",onClick:L,disabled:D,className:"h-8",children:[D?o.jsx(nr,{className:"h-3.5 w-3.5 mr-1 animate-spin"}):o.jsx(xu,{className:"h-3.5 w-3.5 mr-1"}),"Update Metric"]}),o.jsx(_Fe,{metricId:(r==null?void 0:r.id)||"",metricName:(r==null?void 0:r.description)||"",currentValue:typeof(r==null?void 0:r.value)=="number"?r==null?void 0:r.value:0,unit:r==null?void 0:r.unit})]})]}),o.jsx(hn,{className:"mt-2",children:r.description})]}),o.jsxs(De,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-4 bg-muted/30 p-4 rounded-lg",children:[o.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:o.jsx(hi,{className:"h-6 w-6 text-primary"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[r.valueReadable||r.value,r.unit]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:`text-sm ${r.status==="positive"?"text-green-500":r.status==="negative"?"text-red-500":"text-gray-500"}`,children:[r.change>0?"+":"",r.changeReadable||r.change,"%"]}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"vs previous period"})]})]})]}),o.jsxs("div",{className:"flex flex-col justify-center bg-muted/30 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(TD,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm font-medium",children:"Metric Category"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(Oe,{variant:"outline",className:"bg-primary/10",children:r.category}),o.jsx(Oe,{variant:"outline",className:"bg-primary/10",children:r.status==="positive"?"Positive":r.status==="negative"?"Negative":"Neutral"}),o.jsx(Oe,{variant:"outline",className:"bg-primary/10",children:"Core Metric"})]})]})]}),o.jsxs(Oo,{defaultValue:"overview",children:[o.jsxs(Us,{className:"mb-4",children:[o.jsx(Xt,{value:"overview",children:"Overview"}),o.jsx(Xt,{value:"dimensions",children:"Dimensions"}),o.jsx(Xt,{value:"usage",children:"Usage"}),o.jsx(Xt,{value:"metadata",children:"Metadata"})]}),o.jsx(Zt,{value:"overview",className:"mt-0",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xO,{className:"h-4 w-4 text-primary"}),o.jsx("h3",{className:"text-sm font-medium",children:"Definition"})]}),g?o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>I("overview"),className:"h-8 px-2",children:[o.jsx(Pr,{className:"h-3.5 w-3.5 mr-1"}),"Cancel"]}),o.jsxs(te,{variant:"default",size:"sm",onClick:L,className:"h-8 px-2",disabled:D,children:[D?o.jsx(nr,{className:"h-3.5 w-3.5 mr-1 animate-spin"}):o.jsx(xu,{className:"h-3.5 w-3.5 mr-1"}),"Save"]})]}):o.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>x(!0),className:"h-8 px-2",children:[o.jsx(oa,{className:"h-3.5 w-3.5 mr-1"}),"Edit"]})]}),g?o.jsx(Pn,{value:B.definition,onChange:z=>N({...B,definition:z.target.value}),className:"mt-2 text-sm",rows:3}):o.jsx("p",{className:"text-sm text-muted-foreground",children:(m==null?void 0:m.definition)||`${r.name} is a key metric measuring ${r.category}, ${r.description||"used for business analysis and decision-making support"}`})]}),o.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(H6,{className:"h-4 w-4 text-primary"}),o.jsx("h3",{className:"text-sm font-medium",children:"Business Impact"})]})}),g?o.jsx(Pn,{value:B.businessImpact,onChange:z=>N({...B,businessImpact:z.target.value}),className:"mt-2 text-sm",rows:3}):o.jsxs("p",{className:"text-sm text-muted-foreground",children:["This metric primarily impacts customer satisfaction, product competitiveness and market share. The ",r.status==="positive"?"upward":r.status==="negative"?"downward":"stable"," trend indicates our business is ",r.status==="positive"?"developing positively":r.status==="negative"?"facing challenges":"remaining stable","."]})]}),o.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ao,{className:"h-4 w-4 text-amber-500"}),o.jsx("h3",{className:"text-sm font-medium",children:"Notes"})]})}),g?o.jsx(Pn,{value:B.notes,onChange:z=>N({...B,notes:z.target.value}),className:"mt-2 text-sm",rows:3}):o.jsx("p",{className:"text-sm text-muted-foreground",children:"Seasonal factors should be considered when interpreting this metric. Recommend comparative analysis with historical data. External factors including market environment and macroeconomic conditions may also influence this metric."})]})]})}),o.jsx(Zt,{value:"dimensions",className:"mt-0",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(q6,{className:"h-4 w-4 text-primary"}),o.jsx("h3",{className:"text-sm font-medium",children:"Dimension Analysis Overview"})]}),y?o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>I("dimensions"),className:"h-8 px-2",children:[o.jsx(Pr,{className:"h-3.5 w-3.5 mr-1"}),"Cancel"]}),o.jsxs(te,{variant:"default",size:"sm",onClick:L,className:"h-8 px-2",disabled:D,children:[D?o.jsx(nr,{className:"h-3.5 w-3.5 mr-1 animate-spin"}):o.jsx(xu,{className:"h-3.5 w-3.5 mr-1"}),"Save"]})]}):o.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>v(!0),className:"h-8 px-2",children:[o.jsx(oa,{className:"h-3.5 w-3.5 mr-1"}),"Edit"]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[r.name," can be analyzed from multiple dimensions. Below are the main analytical dimensions sorted by importance. Multi-dimensional analysis provides deep insights into key factors influencing this metric and potential optimization opportunities."]}),o.jsx("div",{className:"space-y-3",children:(y?j:u).sort((z,R)=>R.importance-z.importance).map((z,R)=>o.jsx("div",{className:"border-l-2 border-primary pl-4 py-2",children:y?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center gap-2",children:[o.jsx(Me,{value:z.name,onChange:G=>U(R,"name",G.target.value),className:"text-sm"}),o.jsx(Me,{type:"number",min:"0",max:"100",value:z.importance,onChange:G=>U(R,"importance",G.target.value),className:"text-sm w-20"})]}),o.jsx(Pn,{value:z.description,onChange:G=>U(R,"description",G.target.value),className:"text-xs",rows:2})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[z.type==="time"&&o.jsx(nd,{className:"h-4 w-4 text-blue-500"}),z.type==="number"&&o.jsx(H6,{className:"h-4 w-4 text-green-500"}),z.type==="text"&&o.jsx(q6,{className:"h-4 w-4 text-purple-500"}),o.jsx("h4",{className:"text-sm font-medium",children:z.name})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Oe,{variant:"outline",className:"bg-primary/5",children:[z.type==="time"&&"Time Dimension",z.type==="number"&&"Numeric Dimension",z.type==="text"&&"Text Dimension"]}),o.jsxs(Oe,{variant:"outline",children:[z.importance,"%"]})]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:z.description}),z.type==="number"&&z.range&&o.jsx("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:o.jsxs("span",{children:[": ",z.range.min," - ",z.range.max," ",z.unit]})}),z.type==="time"&&z.format&&o.jsx("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:o.jsxs("span",{children:[": ",z.format]})})]})},z.id))})]})})}),o.jsx(Zt,{value:"usage",className:"mt-0",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(yS,{className:"h-4 w-4 text-primary"}),o.jsx("h3",{className:"text-sm font-medium",children:"Business Applications"})]}),b?o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>I("usage"),className:"h-8 px-2",children:[o.jsx(Pr,{className:"h-3.5 w-3.5 mr-1"}),"Cancel"]}),o.jsxs(te,{variant:"default",size:"sm",onClick:L,className:"h-8 px-2",disabled:D,children:[D?o.jsx(nr,{className:"h-3.5 w-3.5 mr-1 animate-spin"}):o.jsx(xu,{className:"h-3.5 w-3.5 mr-1"}),"Save"]})]}):o.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>E(!0),className:"h-8 px-2",children:[o.jsx(oa,{className:"h-3.5 w-3.5 mr-1"}),"Edit"]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[r.name," has multiple application scenarios in business operations. Below are the primary use case descriptions."]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(b?O:h).map((z,R)=>o.jsx("div",{className:"bg-muted/30 p-3 rounded-lg",children:b?o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{value:z.name,onChange:G=>$(R,"name",G.target.value),className:"text-sm mb-2",placeholder:"Usage name"}),o.jsx(Pn,{value:z.description,onChange:G=>$(R,"description",G.target.value),className:"text-xs",rows:2,placeholder:"Usage description"})]}):o.jsxs(o.Fragment,{children:[o.jsx("h4",{className:"text-sm font-medium mb-1",children:z.name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:z.description})]})},z.id))})]})})}),o.jsx(Zt,{value:"metadata",className:"mt-0",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xO,{className:"h-4 w-4 text-primary"}),o.jsx("h3",{className:"text-sm font-medium",children:"Metric Metadata"})]}),_?o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>I("metadata"),className:"h-8 px-2",children:[o.jsx(Pr,{className:"h-3.5 w-3.5 mr-1"}),"Cancel"]}),o.jsxs(te,{variant:"default",size:"sm",onClick:L,className:"h-8 px-2",disabled:D,children:[D?o.jsx(nr,{className:"h-3.5 w-3.5 mr-1 animate-spin"}):o.jsx(xu,{className:"h-3.5 w-3.5 mr-1"}),"Save"]})]}):o.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>S(!0),className:"h-8 px-2",children:[o.jsx(oa,{className:"h-3.5 w-3.5 mr-1"}),"Edit"]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[o.jsx("div",{className:"text-xs font-medium",children:"Calculation Method"}),_?o.jsx("div",{className:"md:col-span-2",children:o.jsx(Pn,{value:C==null?void 0:C.calculation,onChange:z=>W("calculation",z.target.value),className:"text-xs",rows:2})}):o.jsx("div",{className:"text-xs text-muted-foreground md:col-span-2",children:m==null?void 0:m.calculation})]}),o.jsx(wo,{}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[o.jsx("div",{className:"text-xs font-medium",children:"Data Source"}),_?o.jsx("div",{className:"md:col-span-2",children:o.jsx(Me,{value:C==null?void 0:C.dataSource,onChange:z=>W("dataSource",z.target.value),className:"text-xs"})}):o.jsx("div",{className:"text-xs text-muted-foreground md:col-span-2",children:m==null?void 0:m.dataSource})]}),o.jsx(wo,{}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[o.jsx("div",{className:"text-xs font-medium",children:"Update Frequency"}),_?o.jsx("div",{className:"md:col-span-2",children:o.jsx(Me,{value:C==null?void 0:C.updateFrequency,onChange:z=>W("updateFrequency",z.target.value),className:"text-xs"})}):o.jsx("div",{className:"text-xs text-muted-foreground md:col-span-2",children:m==null?void 0:m.updateFrequency})]}),o.jsx(wo,{}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[o.jsx("div",{className:"text-xs font-medium",children:"Metric Owner"}),_?o.jsx("div",{className:"md:col-span-2",children:o.jsx(Me,{value:C==null?void 0:C.owner,onChange:z=>W("owner",z.target.value),className:"text-xs"})}):o.jsx("div",{className:"text-xs text-muted-foreground md:col-span-2",children:m==null?void 0:m.owner})]}),o.jsx(wo,{}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[o.jsx("div",{className:"text-xs font-medium",children:"Related Metrics"}),o.jsx("div",{className:"text-xs text-muted-foreground md:col-span-2 flex flex-wrap gap-1",children:m==null?void 0:m.relatedMetrics.map(z=>o.jsx(Oe,{variant:"outline",className:"bg-primary/5",children:z.name},z.id))})]}),o.jsx(wo,{}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[o.jsx("div",{className:"text-xs font-medium",children:"Last Updated"}),o.jsxs("div",{className:"text-xs text-muted-foreground md:col-span-2 flex items-center gap-1",children:[o.jsx(nd,{className:"h-3 w-3"}),r.lastUpdated]})]})]})]})})})]})]})]}):null]})]})]})},Kre=w.createContext(null),TFe=()=>{const e=w.useContext(Kre);if(!e)throw new Error("useAnalysis must be used within an AnalysisProvider");return e},NFe=({children:e,initialHypothesis:t,initialAnalysisData:n})=>{const[r,i]=w.useState(t||null),[a,s]=w.useState(n||null),[l,c]=w.useState([]),[u,d]=w.useState(!1),[h,f]=w.useState({industry:"Insurance",marketSize:1e9,competitors:["Ping An Insurance","China Life Insurance","Pacific Insurance"],targetMarket:"Mainland China"});w.useEffect(()=>{r&&c(x=>[...x,{timestamp:new Date().toISOString(),type:"insight",content:`Start analyzing hypothesis: ${r.title}`}])},[r]);const m=w.useCallback(x=>{c(y=>[...y,{...x,timestamp:new Date().toISOString()}])},[]),p=w.useCallback(x=>{f(y=>({...y,...x}))},[]),g=w.useCallback(async()=>{if(r){d(!0);try{const x=await WS.generateInsights(r,h);s(y=>({...y,insights:x})),m({type:"insight",content:"Analysis insights have been regenerated based on updated business context."})}catch(x){console.error("Error refreshing insights:",x),m({type:"insight",content:"An error occurred while refreshing insights."})}finally{d(!1)}}},[r,h,m]);return o.jsx(Kre.Provider,{value:{hypothesis:r,analysisData:a,analysisHistory:l,businessContext:h,isRefreshingInsights:u,addAnalysisHistory:m,updateBusinessContext:p,refreshInsights:g},children:e})},kFe=({dataExplanations:e=[]})=>{const{hypothesis:t,analysisHistory:n,businessContext:r,addAnalysisHistory:i,isRefreshingInsights:a,refreshInsights:s}=TFe(),[l,c]=w.useState(null),u=w.useRef(null);return w.useEffect(()=>{if(t&&t.id!==u.current)try{u.current=t.id,i({type:"insight",content:"Based on current data analysis and business context, AI has generated key findings and recommendations."})}catch(d){c("Failed to update analysis history"),console.error("Error adding analysis history:",d)}},[t,i]),o.jsxs("div",{className:"space-y-4",children:[l&&o.jsx("div",{className:"bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg mb-4",children:l}),a?o.jsxs("div",{className:"flex items-center justify-center p-8 bg-background/50 rounded-lg",children:[o.jsx(nr,{className:"h-8 w-8 animate-spin text-primary"}),o.jsx("span",{className:"ml-2 text-muted-foreground",children:"Refreshing analysis..."})]}):o.jsx(o.Fragment,{children:e.map((d,h)=>o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"glass-panel p-4 rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:Be("h-10 w-10 rounded-full flex items-center justify-center shrink-0",d.hypothesisValidationFlag?"bg-green-100 dark:bg-green-900":"bg-red-100 dark:bg-red-900"),children:d.hypothesisValidationFlag?o.jsx(Fh,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):o.jsx(Bh,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-medium mb-2",children:["Hypothesis ",d.hypothesisValidationFlag?"Validated":"Not Validated"]}),o.jsx("p",{className:"text-muted-foreground",children:d.hypothesisValidation})]})]})}),o.jsx("div",{className:"glass-panel p-4 rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center shrink-0 dark:bg-blue-900",children:o.jsx(Hx,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Key Metric Changes"}),o.jsx("p",{className:"text-muted-foreground",children:d.keyMetricChange})]})]})}),o.jsx("div",{className:"glass-panel p-4 rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-100 flex items-center justify-center shrink-0 dark:bg-purple-900",children:o.jsx(zh,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Summary Findings"}),o.jsx("p",{className:"text-muted-foreground",children:d.summaryFinding})]})]})})]},h))})]})};var AFe=Array.isArray,Wa=AFe,jFe=typeof Co=="object"&&Co&&Co.Object===Object&&Co,Xre=jFe,OFe=Xre,PFe=typeof self=="object"&&self&&self.Object===Object&&self,MFe=OFe||PFe||Function("return this")(),Ol=MFe,IFe=Ol,RFe=IFe.Symbol,Yb=RFe,K8=Yb,Zre=Object.prototype,DFe=Zre.hasOwnProperty,LFe=Zre.toString,W0=K8?K8.toStringTag:void 0;function $Fe(e){var t=DFe.call(e,W0),n=e[W0];try{e[W0]=void 0;var r=!0}catch{}var i=LFe.call(e);return r&&(t?e[W0]=n:delete e[W0]),i}var BFe=$Fe,FFe=Object.prototype,zFe=FFe.toString;function UFe(e){return zFe.call(e)}var HFe=UFe,X8=Yb,VFe=BFe,WFe=HFe,qFe="[object Null]",GFe="[object Undefined]",Z8=X8?X8.toStringTag:void 0;function YFe(e){return e==null?e===void 0?GFe:qFe:Z8&&Z8 in Object(e)?VFe(e):WFe(e)}var $c=YFe;function KFe(e){return e!=null&&typeof e=="object"}var Bc=KFe,XFe=$c,ZFe=Bc,QFe="[object Symbol]";function JFe(e){return typeof e=="symbol"||ZFe(e)&&XFe(e)==QFe}var Zg=JFe,e8e=Wa,t8e=Zg,n8e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r8e=/^\w*$/;function i8e(e,t){if(e8e(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||t8e(e)?!0:r8e.test(e)||!n8e.test(e)||t!=null&&e in Object(t)}var dL=i8e;function a8e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Nd=a8e;const Qg=sn(Nd);var s8e=$c,o8e=Nd,l8e="[object AsyncFunction]",c8e="[object Function]",u8e="[object GeneratorFunction]",d8e="[object Proxy]";function h8e(e){if(!o8e(e))return!1;var t=s8e(e);return t==c8e||t==u8e||t==l8e||t==d8e}var hL=h8e;const Bt=sn(hL);var f8e=Ol,m8e=f8e["__core-js_shared__"],p8e=m8e,Jk=p8e,Q8=function(){var e=/[^.]+$/.exec(Jk&&Jk.keys&&Jk.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function g8e(e){return!!Q8&&Q8 in e}var y8e=g8e,x8e=Function.prototype,v8e=x8e.toString;function b8e(e){if(e!=null){try{return v8e.call(e)}catch{}try{return e+""}catch{}}return""}var Qre=b8e,w8e=hL,E8e=y8e,S8e=Nd,_8e=Qre,C8e=/[\\^$.*+?()[\]{}|]/g,T8e=/^\[object .+?Constructor\]$/,N8e=Function.prototype,k8e=Object.prototype,A8e=N8e.toString,j8e=k8e.hasOwnProperty,O8e=RegExp("^"+A8e.call(j8e).replace(C8e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function P8e(e){if(!S8e(e)||E8e(e))return!1;var t=w8e(e)?O8e:T8e;return t.test(_8e(e))}var M8e=P8e;function I8e(e,t){return e==null?void 0:e[t]}var R8e=I8e,D8e=M8e,L8e=R8e;function $8e(e,t){var n=L8e(e,t);return D8e(n)?n:void 0}var Of=$8e,B8e=Of,F8e=B8e(Object,"create"),Y2=F8e,J8=Y2;function z8e(){this.__data__=J8?J8(null):{},this.size=0}var U8e=z8e;function H8e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var V8e=H8e,W8e=Y2,q8e="__lodash_hash_undefined__",G8e=Object.prototype,Y8e=G8e.hasOwnProperty;function K8e(e){var t=this.__data__;if(W8e){var n=t[e];return n===q8e?void 0:n}return Y8e.call(t,e)?t[e]:void 0}var X8e=K8e,Z8e=Y2,Q8e=Object.prototype,J8e=Q8e.hasOwnProperty;function e9e(e){var t=this.__data__;return Z8e?t[e]!==void 0:J8e.call(t,e)}var t9e=e9e,n9e=Y2,r9e="__lodash_hash_undefined__";function i9e(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=n9e&&t===void 0?r9e:t,this}var a9e=i9e,s9e=U8e,o9e=V8e,l9e=X8e,c9e=t9e,u9e=a9e;function Jg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Jg.prototype.clear=s9e;Jg.prototype.delete=o9e;Jg.prototype.get=l9e;Jg.prototype.has=c9e;Jg.prototype.set=u9e;var d9e=Jg;function h9e(){this.__data__=[],this.size=0}var f9e=h9e;function m9e(e,t){return e===t||e!==e&&t!==t}var fL=m9e,p9e=fL;function g9e(e,t){for(var n=e.length;n--;)if(p9e(e[n][0],t))return n;return-1}var K2=g9e,y9e=K2,x9e=Array.prototype,v9e=x9e.splice;function b9e(e){var t=this.__data__,n=y9e(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():v9e.call(t,n,1),--this.size,!0}var w9e=b9e,E9e=K2;function S9e(e){var t=this.__data__,n=E9e(t,e);return n<0?void 0:t[n][1]}var _9e=S9e,C9e=K2;function T9e(e){return C9e(this.__data__,e)>-1}var N9e=T9e,k9e=K2;function A9e(e,t){var n=this.__data__,r=k9e(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var j9e=A9e,O9e=f9e,P9e=w9e,M9e=_9e,I9e=N9e,R9e=j9e;function e0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}e0.prototype.clear=O9e;e0.prototype.delete=P9e;e0.prototype.get=M9e;e0.prototype.has=I9e;e0.prototype.set=R9e;var X2=e0,D9e=Of,L9e=Ol,$9e=D9e(L9e,"Map"),mL=$9e,e9=d9e,B9e=X2,F9e=mL;function z9e(){this.size=0,this.__data__={hash:new e9,map:new(F9e||B9e),string:new e9}}var U9e=z9e;function H9e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var V9e=H9e,W9e=V9e;function q9e(e,t){var n=e.__data__;return W9e(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Z2=q9e,G9e=Z2;function Y9e(e){var t=G9e(this,e).delete(e);return this.size-=t?1:0,t}var K9e=Y9e,X9e=Z2;function Z9e(e){return X9e(this,e).get(e)}var Q9e=Z9e,J9e=Z2;function eze(e){return J9e(this,e).has(e)}var tze=eze,nze=Z2;function rze(e,t){var n=nze(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var ize=rze,aze=U9e,sze=K9e,oze=Q9e,lze=tze,cze=ize;function t0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}t0.prototype.clear=aze;t0.prototype.delete=sze;t0.prototype.get=oze;t0.prototype.has=lze;t0.prototype.set=cze;var pL=t0,Jre=pL,uze="Expected a function";function gL(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(uze);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=e.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(gL.Cache||Jre),n}gL.Cache=Jre;var eie=gL;const dze=sn(eie);var hze=eie,fze=500;function mze(e){var t=hze(e,function(r){return n.size===fze&&n.clear(),r}),n=t.cache;return t}var pze=mze,gze=pze,yze=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xze=/\\(\\)?/g,vze=gze(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(yze,function(n,r,i,a){t.push(i?a.replace(xze,"$1"):r||n)}),t}),bze=vze;function wze(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var yL=wze,t9=Yb,Eze=yL,Sze=Wa,_ze=Zg,Cze=1/0,n9=t9?t9.prototype:void 0,r9=n9?n9.toString:void 0;function tie(e){if(typeof e=="string")return e;if(Sze(e))return Eze(e,tie)+"";if(_ze(e))return r9?r9.call(e):"";var t=e+"";return t=="0"&&1/e==-Cze?"-0":t}var Tze=tie,Nze=Tze;function kze(e){return e==null?"":Nze(e)}var nie=kze,Aze=Wa,jze=dL,Oze=bze,Pze=nie;function Mze(e,t){return Aze(e)?e:jze(e,t)?[e]:Oze(Pze(e))}var rie=Mze,Ize=Zg,Rze=1/0;function Dze(e){if(typeof e=="string"||Ize(e))return e;var t=e+"";return t=="0"&&1/e==-Rze?"-0":t}var Q2=Dze,Lze=rie,$ze=Q2;function Bze(e,t){t=Lze(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[$ze(t[n++])];return n&&n==r?e:void 0}var xL=Bze,Fze=xL;function zze(e,t,n){var r=e==null?void 0:Fze(e,t);return r===void 0?n:r}var iie=zze;const fs=sn(iie);function Uze(e){return e==null}var Hze=Uze;const Ut=sn(Hze);var Vze=$c,Wze=Wa,qze=Bc,Gze="[object String]";function Yze(e){return typeof e=="string"||!Wze(e)&&qze(e)&&Vze(e)==Gze}var Kze=Yze;const Kb=sn(Kze);var aie={exports:{}},Nn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vL=Symbol.for("react.element"),bL=Symbol.for("react.portal"),J2=Symbol.for("react.fragment"),eT=Symbol.for("react.strict_mode"),tT=Symbol.for("react.profiler"),nT=Symbol.for("react.provider"),rT=Symbol.for("react.context"),Xze=Symbol.for("react.server_context"),iT=Symbol.for("react.forward_ref"),aT=Symbol.for("react.suspense"),sT=Symbol.for("react.suspense_list"),oT=Symbol.for("react.memo"),lT=Symbol.for("react.lazy"),Zze=Symbol.for("react.offscreen"),sie;sie=Symbol.for("react.module.reference");function Js(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case vL:switch(e=e.type,e){case J2:case tT:case eT:case aT:case sT:return e;default:switch(e=e&&e.$$typeof,e){case Xze:case rT:case iT:case lT:case oT:case nT:return e;default:return t}}case bL:return t}}}Nn.ContextConsumer=rT;Nn.ContextProvider=nT;Nn.Element=vL;Nn.ForwardRef=iT;Nn.Fragment=J2;Nn.Lazy=lT;Nn.Memo=oT;Nn.Portal=bL;Nn.Profiler=tT;Nn.StrictMode=eT;Nn.Suspense=aT;Nn.SuspenseList=sT;Nn.isAsyncMode=function(){return!1};Nn.isConcurrentMode=function(){return!1};Nn.isContextConsumer=function(e){return Js(e)===rT};Nn.isContextProvider=function(e){return Js(e)===nT};Nn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===vL};Nn.isForwardRef=function(e){return Js(e)===iT};Nn.isFragment=function(e){return Js(e)===J2};Nn.isLazy=function(e){return Js(e)===lT};Nn.isMemo=function(e){return Js(e)===oT};Nn.isPortal=function(e){return Js(e)===bL};Nn.isProfiler=function(e){return Js(e)===tT};Nn.isStrictMode=function(e){return Js(e)===eT};Nn.isSuspense=function(e){return Js(e)===aT};Nn.isSuspenseList=function(e){return Js(e)===sT};Nn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===J2||e===tT||e===eT||e===aT||e===sT||e===Zze||typeof e=="object"&&e!==null&&(e.$$typeof===lT||e.$$typeof===oT||e.$$typeof===nT||e.$$typeof===rT||e.$$typeof===iT||e.$$typeof===sie||e.getModuleId!==void 0)};Nn.typeOf=Js;aie.exports=Nn;var oie=aie.exports,Qze=$c,Jze=Bc,eUe="[object Number]";function tUe(e){return typeof e=="number"||Jze(e)&&Qze(e)==eUe}var lie=tUe;const nUe=sn(lie);var rUe=lie;function iUe(e){return rUe(e)&&e!=+e}var aUe=iUe;const Xb=sn(aUe);var la=function(t){return t===0?0:t>0?1:-1},uh=function(t){return Kb(t)&&t.indexOf("%")===t.length-1},qe=function(t){return nUe(t)&&!Xb(t)},Jr=function(t){return qe(t)||Kb(t)},sUe=0,n0=function(t){var n=++sUe;return"".concat(t||"").concat(n)},ca=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!qe(t)&&!Kb(t))return r;var a;if(uh(t)){var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return Xb(a)&&(a=r),i&&a>n&&(a=n),a},vu=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},oUe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},as=function(t,n){return qe(t)&&qe(n)?function(r){return t+r*(n-t)}:function(){return n}};function qS(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):fs(r,t))===n})}var HRt=function(t){if(!t||!t.length)return null;for(var n=t.length,r=0,i=0,a=0,s=0,l=1/0,c=-1/0,u=0,d=0,h=0;h<n;h++)u=t[h].cx||0,d=t[h].cy||0,r+=u,i+=d,a+=u*d,s+=u*u,l=Math.min(l,u),c=Math.max(c,u);var f=n*s!==r*r?(n*a-r*i)/(n*s-r*r):0;return{xmin:l,xmax:c,a:f,b:(i-f*r)/n}};function Xm(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function yP(e){"@babel/helpers - typeof";return yP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yP(e)}var lUe=["viewBox","children"],cUe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],i9=["points","pathLength"],eA={svg:lUe,polygon:i9,polyline:i9},wL=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],GS=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(w.isValidElement(t)&&(r=t.props),!Qg(r))return null;var i={};return Object.keys(r).forEach(function(a){wL.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},uUe=function(t,n,r){return function(i){return t(n,r,i),null}},Zh=function(t,n,r){if(!Qg(t)||yP(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var s=t[a];wL.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=uUe(s,n,r))}),i},dUe=["children"],hUe=["children"];function a9(e,t){if(e==null)return{};var n=fUe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fUe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function xP(e){"@babel/helpers - typeof";return xP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xP(e)}var s9={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},mc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},o9=null,tA=null,cT=function e(t){if(t===o9&&Array.isArray(tA))return tA;var n=[];return w.Children.forEach(t,function(r){Ut(r)||(oie.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),tA=n,o9=t,n};function ms(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return mc(i)}):r=[mc(t)],cT(e).forEach(function(i){var a=fs(i,"type.displayName")||fs(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function rs(e,t){var n=ms(e,t);return n&&n[0]}var l9=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!qe(r)||r<=0||!qe(i)||i<=0)},mUe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],cie=function(t){return t&&t.type&&Kb(t.type)&&mUe.indexOf(t.type)>=0},pUe=function(t){return t&&xP(t)==="object"&&"clipDot"in t},gUe=function(t,n,r,i){var a,s=(a=eA==null?void 0:eA[i])!==null&&a!==void 0?a:[];return!Bt(t)&&(i&&s.includes(n)||cUe.includes(n))||r&&wL.includes(n)},VRt=function(t){var n=[];return cT(t).forEach(function(r){cie(r)&&n.push(r)}),n},At=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(w.isValidElement(t)&&(i=t.props),!Qg(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;gUe((l=i)===null||l===void 0?void 0:l[s],s,n,r)&&(a[s]=i[s])}),a},vP=function e(t,n){if(t===n)return!0;var r=w.Children.count(t);if(r!==w.Children.count(n))return!1;if(r===0)return!0;if(r===1)return c9(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=t[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!c9(a,s))return!1}return!0},c9=function(t,n){if(Ut(t)&&Ut(n))return!0;if(!Ut(t)&&!Ut(n)){var r=t.props||{},i=r.children,a=a9(r,dUe),s=n.props||{},l=s.children,c=a9(s,hUe);return i&&l?Xm(a,c)&&vP(i,l):!i&&!l?Xm(a,c):!1}return!1},u9=function(t,n){var r=[],i={};return cT(t).forEach(function(a,s){if(cie(a))r.push(a);else if(a){var l=mc(a.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var h=u(a,l,s);r.push(h),i[l]=!0}}}),r},yUe=function(t){var n=t&&t.type;return n&&s9[n]?s9[n]:null},xUe=function(t,n){return cT(n).indexOf(t)},vUe=["children","width","height","viewBox","className","style","title","desc"];function bP(){return bP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bP.apply(this,arguments)}function bUe(e,t){if(e==null)return{};var n=wUe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wUe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function wP(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,a=e.className,s=e.style,l=e.title,c=e.desc,u=bUe(e,vUe),d=i||{width:n,height:r,x:0,y:0},h=Wt("recharts-surface",a);return q.createElement("svg",bP({},At(u,!0,"svg"),{className:h,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),q.createElement("title",null,l),q.createElement("desc",null,c),t)}var EUe=["children","className"];function EP(){return EP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EP.apply(this,arguments)}function SUe(e,t){if(e==null)return{};var n=_Ue(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _Ue(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var yn=q.forwardRef(function(e,t){var n=e.children,r=e.className,i=SUe(e,EUe),a=Wt("recharts-layer",r);return q.createElement("g",EP({className:a},At(i,!0),{ref:t}),n)}),Po=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function CUe(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}var TUe=CUe,NUe=TUe;function kUe(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:NUe(e,t,n)}var AUe=kUe,jUe="\\ud800-\\udfff",OUe="\\u0300-\\u036f",PUe="\\ufe20-\\ufe2f",MUe="\\u20d0-\\u20ff",IUe=OUe+PUe+MUe,RUe="\\ufe0e\\ufe0f",DUe="\\u200d",LUe=RegExp("["+DUe+jUe+IUe+RUe+"]");function $Ue(e){return LUe.test(e)}var uie=$Ue;function BUe(e){return e.split("")}var FUe=BUe,die="\\ud800-\\udfff",zUe="\\u0300-\\u036f",UUe="\\ufe20-\\ufe2f",HUe="\\u20d0-\\u20ff",VUe=zUe+UUe+HUe,WUe="\\ufe0e\\ufe0f",qUe="["+die+"]",SP="["+VUe+"]",_P="\\ud83c[\\udffb-\\udfff]",GUe="(?:"+SP+"|"+_P+")",hie="[^"+die+"]",fie="(?:\\ud83c[\\udde6-\\uddff]){2}",mie="[\\ud800-\\udbff][\\udc00-\\udfff]",YUe="\\u200d",pie=GUe+"?",gie="["+WUe+"]?",KUe="(?:"+YUe+"(?:"+[hie,fie,mie].join("|")+")"+gie+pie+")*",XUe=gie+pie+KUe,ZUe="(?:"+[hie+SP+"?",SP,fie,mie,qUe].join("|")+")",QUe=RegExp(_P+"(?="+_P+")|"+ZUe+XUe,"g");function JUe(e){return e.match(QUe)||[]}var e7e=JUe,t7e=FUe,n7e=uie,r7e=e7e;function i7e(e){return n7e(e)?r7e(e):t7e(e)}var a7e=i7e,s7e=AUe,o7e=uie,l7e=a7e,c7e=nie;function u7e(e){return function(t){t=c7e(t);var n=o7e(t)?l7e(t):void 0,r=n?n[0]:t.charAt(0),i=n?s7e(n,1).join(""):t.slice(1);return r[e]()+i}}var d7e=u7e,h7e=d7e,f7e=h7e("toUpperCase"),m7e=f7e;const uT=sn(m7e);function zn(e){return function(){return e}}const WRt=Math.abs,qRt=Math.atan2,yie=Math.cos,GRt=Math.max,YRt=Math.min,YS=Math.sin,Fo=Math.sqrt,d9=1e-12,$p=Math.PI,h9=$p/2,dT=2*$p;function KRt(e){return e>1?0:e<-1?$p:Math.acos(e)}function XRt(e){return e>=1?h9:e<=-1?-h9:Math.asin(e)}const CP=Math.PI,TP=2*CP,Gd=1e-6,p7e=TP-Gd;function xie(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function g7e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return xie;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class y7e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?xie:g7e(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=r-t,u=i-n,d=s-t,h=l-n,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>Gd)if(!(Math.abs(h*c-u*d)>Gd)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-s,p=i-l,g=c*c+u*u,x=m*m+p*p,y=Math.sqrt(g),v=Math.sqrt(f),b=a*Math.tan((CP-Math.acos((g+f-x)/(2*y*v)))/2),E=b/v,_=b/y;Math.abs(E-1)>Gd&&this._append`L${t+E*d},${n+E*h}`,this._append`A${a},${a},0,0,${+(h*m>d*p)},${this._x1=t+_*c},${this._y1=n+_*u}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=t+l,d=n+c,h=1^s,f=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Gd||Math.abs(this._y1-d)>Gd)&&this._append`L${u},${d}`,r&&(f<0&&(f=f%TP+TP),f>p7e?this._append`A${r},${r},0,1,${h},${t-l},${n-c}A${r},${r},0,1,${h},${this._x1=u},${this._y1=d}`:f>Gd&&this._append`A${r},${r},0,${+(f>=CP)},${h},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function EL(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new y7e(t)}function SL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vie(e){this._context=e}vie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Qh(e){return new vie(e)}function bie(e){return e[0]}function wie(e){return e[1]}function _L(e,t){var n=zn(!0),r=null,i=Qh,a=null,s=EL(l);e=typeof e=="function"?e:e===void 0?bie:zn(e),t=typeof t=="function"?t:t===void 0?wie:zn(t);function l(c){var u,d=(c=SL(c)).length,h,f=!1,m;for(r==null&&(a=i(m=s())),u=0;u<=d;++u)!(u<d&&n(h=c[u],u,c))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(h,u,c),+t(h,u,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:zn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:zn(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:zn(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function vw(e,t,n){var r=null,i=zn(!0),a=null,s=Qh,l=null,c=EL(u);e=typeof e=="function"?e:e===void 0?bie:zn(+e),t=typeof t=="function"?t:zn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?wie:zn(+n);function u(h){var f,m,p,g=(h=SL(h)).length,x,y=!1,v,b=new Array(g),E=new Array(g);for(a==null&&(l=s(v=c())),f=0;f<=g;++f){if(!(f<g&&i(x=h[f],f,h))===y)if(y=!y)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=f-1;p>=m;--p)l.point(b[p],E[p]);l.lineEnd(),l.areaEnd()}y&&(b[f]=+e(x,f,h),E[f]=+t(x,f,h),l.point(r?+r(x,f,h):b[f],n?+n(x,f,h):E[f]))}if(v)return l=null,v+""||null}function d(){return _L().defined(i).curve(s).context(a)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:zn(+h),r=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:zn(+h),u):e},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:zn(+h),u):r},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:zn(+h),n=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:zn(+h),u):t},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:zn(+h),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:zn(!!h),u):i},u.curve=function(h){return arguments.length?(s=h,a!=null&&(l=s(a)),u):s},u.context=function(h){return arguments.length?(h==null?a=l=null:l=s(a=h),u):a},u}class Eie{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function CL(e){return new Eie(e,!0)}function TL(e){return new Eie(e,!1)}const NL={draw(e,t){const n=Fo(t/$p);e.moveTo(n,0),e.arc(0,0,n,0,dT)}},x7e={draw(e,t){const n=Fo(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Sie=Fo(1/3),v7e=Sie*2,b7e={draw(e,t){const n=Fo(t/v7e),r=n*Sie;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},w7e={draw(e,t){const n=Fo(t),r=-n/2;e.rect(r,r,n,n)}},E7e=.8908130915292852,_ie=YS($p/10)/YS(7*$p/10),S7e=YS(dT/10)*_ie,_7e=-yie(dT/10)*_ie,C7e={draw(e,t){const n=Fo(t*E7e),r=S7e*n,i=_7e*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=dT*a/5,l=yie(s),c=YS(s);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*i,c*r+l*i)}e.closePath()}},nA=Fo(3),T7e={draw(e,t){const n=-Fo(t/(nA*3));e.moveTo(0,n*2),e.lineTo(-nA*n,-n),e.lineTo(nA*n,-n),e.closePath()}},Es=-.5,Ss=Fo(3)/2,NP=1/Fo(12),N7e=(NP/2+1)*3,k7e={draw(e,t){const n=Fo(t/N7e),r=n/2,i=n*NP,a=r,s=n*NP+n,l=-a,c=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(l,c),e.lineTo(Es*r-Ss*i,Ss*r+Es*i),e.lineTo(Es*a-Ss*s,Ss*a+Es*s),e.lineTo(Es*l-Ss*c,Ss*l+Es*c),e.lineTo(Es*r+Ss*i,Es*i-Ss*r),e.lineTo(Es*a+Ss*s,Es*s-Ss*a),e.lineTo(Es*l+Ss*c,Es*c-Ss*l),e.closePath()}};function A7e(e,t){let n=null,r=EL(i);e=typeof e=="function"?e:zn(e||NL),t=typeof t=="function"?t:zn(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:zn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:zn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function cd(){}function KS(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function hT(e){this._context=e}hT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:KS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:KS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nx(e){return new hT(e)}function Cie(e){this._context=e}Cie.prototype={areaStart:cd,areaEnd:cd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:KS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tie(e){return new Cie(e)}function Nie(e){this._context=e}Nie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:KS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kie(e){return new Nie(e)}function Aie(e,t){this._basis=new hT(e),this._beta=t}Aie.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],a=e[n]-r,s=t[n]-i,l=-1,c;++l<=n;)c=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(r+c*a),this._beta*t[l]+(1-this._beta)*(i+c*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const j7e=function e(t){function n(r){return t===1?new hT(r):new Aie(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function XS(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function kL(e,t){this._context=e,this._k=(1-t)/6}kL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:XS(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:XS(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const jie=function e(t){function n(r){return new kL(r,t)}return n.tension=function(r){return e(+r)},n}(0);function AL(e,t){this._context=e,this._k=(1-t)/6}AL.prototype={areaStart:cd,areaEnd:cd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:XS(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const O7e=function e(t){function n(r){return new AL(r,t)}return n.tension=function(r){return e(+r)},n}(0);function jL(e,t){this._context=e,this._k=(1-t)/6}jL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:XS(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const P7e=function e(t){function n(r){return new jL(r,t)}return n.tension=function(r){return e(+r)},n}(0);function OL(e,t,n){var r=e._x1,i=e._y1,a=e._x2,s=e._y2;if(e._l01_a>d9){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,i=(i*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>d9){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*u+e._x1*e._l23_2a-t*e._l12_2a)/d,s=(s*u+e._y1*e._l23_2a-n*e._l12_2a)/d}e._context.bezierCurveTo(r,i,a,s,e._x2,e._y2)}function Oie(e,t){this._context=e,this._alpha=t}Oie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:OL(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Pie=function e(t){function n(r){return t?new Oie(r,t):new kL(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Mie(e,t){this._context=e,this._alpha=t}Mie.prototype={areaStart:cd,areaEnd:cd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:OL(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const M7e=function e(t){function n(r){return t?new Mie(r,t):new AL(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Iie(e,t){this._context=e,this._alpha=t}Iie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:OL(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const I7e=function e(t){function n(r){return t?new Iie(r,t):new jL(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Rie(e){this._context=e}Rie.prototype={areaStart:cd,areaEnd:cd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Die(e){return new Rie(e)}function f9(e){return e<0?-1:1}function m9(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),l=(a*i+s*r)/(r+i);return(f9(a)+f9(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function p9(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function rA(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,s-l*n,a,s)}function ZS(e){this._context=e}ZS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rA(this,this._t0,p9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rA(this,p9(this,n=m9(this,e,t)),n);break;default:rA(this,this._t0,n=m9(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Lie(e){this._context=new $ie(e)}(Lie.prototype=Object.create(ZS.prototype)).point=function(e,t){ZS.prototype.point.call(this,t,e)};function $ie(e){this._context=e}$ie.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function PL(e){return new ZS(e)}function ML(e){return new Lie(e)}function Bie(e){this._context=e}Bie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=g9(e),i=g9(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function g9(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function IL(e){return new Bie(e)}function fT(e,t){this._context=e,this._t=t}fT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function RL(e){return new fT(e,.5)}function DL(e){return new fT(e,0)}function LL(e){return new fT(e,1)}function Bp(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,l=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function kP(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function R7e(e,t){return e[t]}function D7e(e){const t=[];return t.key=e,t}function L7e(){var e=zn([]),t=kP,n=Bp,r=R7e;function i(a){var s=Array.from(e.apply(this,arguments),D7e),l,c=s.length,u=-1,d;for(const h of a)for(l=0,++u;l<c;++l)(s[l][u]=[0,+r(h,s[l].key,u,a)]).data=h;for(l=0,d=SL(t(s));l<c;++l)s[d[l]].index=l;return n(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:zn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:zn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?kP:typeof a=="function"?a:zn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Bp,i):n},i}function $7e(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Bp(e,t)}}function B7e(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,l=0;s<i;++s)l+=e[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}Bp(e,t)}}function F7e(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var l=0,c=0,u=0;l<s;++l){for(var d=e[t[l]],h=d[r][1]||0,f=d[r-1][1]||0,m=(h-f)/2,p=0;p<l;++p){var g=e[t[p]],x=g[r][1]||0,y=g[r-1][1]||0;m+=x-y}c+=h,u+=m*h}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,Bp(e,t)}}function uv(e){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(e)}var z7e=["type","size","sizeType"];function AP(){return AP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AP.apply(this,arguments)}function y9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function x9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y9(Object(n),!0).forEach(function(r){U7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U7e(e,t,n){return t=H7e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H7e(e){var t=V7e(e,"string");return uv(t)=="symbol"?t:t+""}function V7e(e,t){if(uv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(uv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W7e(e,t){if(e==null)return{};var n=q7e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function q7e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Fie={symbolCircle:NL,symbolCross:x7e,symbolDiamond:b7e,symbolSquare:w7e,symbolStar:C7e,symbolTriangle:T7e,symbolWye:k7e},G7e=Math.PI/180,Y7e=function(t){var n="symbol".concat(uT(t));return Fie[n]||NL},K7e=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*G7e;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},X7e=function(t,n){Fie["symbol".concat(uT(t))]=n},$L=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,s=t.sizeType,l=s===void 0?"area":s,c=W7e(t,z7e),u=x9(x9({},c),{},{type:r,size:a,sizeType:l}),d=function(){var x=Y7e(r),y=A7e().type(x).size(K7e(a,l,r));return y()},h=u.className,f=u.cx,m=u.cy,p=At(u,!0);return f===+f&&m===+m&&a===+a?q.createElement("path",AP({},p,{className:Wt("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(m,")"),d:d()})):null};$L.registerSymbol=X7e;function Fp(e){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fp(e)}function jP(){return jP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jP.apply(this,arguments)}function v9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Z7e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v9(Object(n),!0).forEach(function(r){dv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J7e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Uie(r.key),r)}}function eHe(e,t,n){return t&&J7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tHe(e,t,n){return t=QS(t),nHe(e,zie()?Reflect.construct(t,n||[],QS(e).constructor):t.apply(e,n))}function nHe(e,t){if(t&&(Fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rHe(e)}function rHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zie=function(){return!!e})()}function QS(e){return QS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},QS(e)}function iHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OP(e,t)}function OP(e,t){return OP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OP(e,t)}function dv(e,t,n){return t=Uie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uie(e){var t=aHe(e,"string");return Fp(t)=="symbol"?t:t+""}function aHe(e,t){if(Fp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _s=32,BL=function(e){function t(){return Q7e(this,t),tHe(this,t,arguments)}return iHe(t,e),eHe(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=_s/2,s=_s/6,l=_s/3,c=r.inactive?i:r.color;if(r.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:_s,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(_s,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return q.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(_s/8,"h").concat(_s,"v").concat(_s*3/4,"h").concat(-_s,"z"),className:"recharts-legend-icon"});if(q.isValidElement(r.legendIcon)){var u=Z7e({},r);return delete u.legendIcon,q.cloneElement(r.legendIcon,u)}return q.createElement($L,{fill:c,cx:a,cy:a,size:_s,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:_s,height:_s},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,p){var g=m.formatter||c,x=Wt(dv(dv({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",m.inactive));if(m.type==="none")return null;var y=Bt(m.value)?null:m.value;Po(!Bt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=m.inactive?u:m.color;return q.createElement("li",jP({className:x,style:h,key:"legend-item-".concat(p)},Zh(r.props,m,p)),q.createElement(wP,{width:s,height:s,viewBox:d,style:f},r.renderIcon(m)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},g?g(y,m,p):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);dv(BL,"displayName","Legend");dv(BL,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var sHe=X2;function oHe(){this.__data__=new sHe,this.size=0}var lHe=oHe;function cHe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var uHe=cHe;function dHe(e){return this.__data__.get(e)}var hHe=dHe;function fHe(e){return this.__data__.has(e)}var mHe=fHe,pHe=X2,gHe=mL,yHe=pL,xHe=200;function vHe(e,t){var n=this.__data__;if(n instanceof pHe){var r=n.__data__;if(!gHe||r.length<xHe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new yHe(r)}return n.set(e,t),this.size=n.size,this}var bHe=vHe,wHe=X2,EHe=lHe,SHe=uHe,_He=hHe,CHe=mHe,THe=bHe;function r0(e){var t=this.__data__=new wHe(e);this.size=t.size}r0.prototype.clear=EHe;r0.prototype.delete=SHe;r0.prototype.get=_He;r0.prototype.has=CHe;r0.prototype.set=THe;var Hie=r0,NHe="__lodash_hash_undefined__";function kHe(e){return this.__data__.set(e,NHe),this}var AHe=kHe;function jHe(e){return this.__data__.has(e)}var OHe=jHe,PHe=pL,MHe=AHe,IHe=OHe;function JS(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new PHe;++t<n;)this.add(e[t])}JS.prototype.add=JS.prototype.push=MHe;JS.prototype.has=IHe;var Vie=JS;function RHe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Wie=RHe;function DHe(e,t){return e.has(t)}var qie=DHe,LHe=Vie,$He=Wie,BHe=qie,FHe=1,zHe=2;function UHe(e,t,n,r,i,a){var s=n&FHe,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var h=-1,f=!0,m=n&zHe?new LHe:void 0;for(a.set(e,t),a.set(t,e);++h<l;){var p=e[h],g=t[h];if(r)var x=s?r(g,p,h,t,e,a):r(p,g,h,e,t,a);if(x!==void 0){if(x)continue;f=!1;break}if(m){if(!$He(t,function(y,v){if(!BHe(m,v)&&(p===y||i(p,y,n,r,a)))return m.push(v)})){f=!1;break}}else if(!(p===g||i(p,g,n,r,a))){f=!1;break}}return a.delete(e),a.delete(t),f}var Gie=UHe,HHe=Ol,VHe=HHe.Uint8Array,WHe=VHe;function qHe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var GHe=qHe;function YHe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var FL=YHe,b9=Yb,w9=WHe,KHe=fL,XHe=Gie,ZHe=GHe,QHe=FL,JHe=1,eVe=2,tVe="[object Boolean]",nVe="[object Date]",rVe="[object Error]",iVe="[object Map]",aVe="[object Number]",sVe="[object RegExp]",oVe="[object Set]",lVe="[object String]",cVe="[object Symbol]",uVe="[object ArrayBuffer]",dVe="[object DataView]",E9=b9?b9.prototype:void 0,iA=E9?E9.valueOf:void 0;function hVe(e,t,n,r,i,a,s){switch(n){case dVe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case uVe:return!(e.byteLength!=t.byteLength||!a(new w9(e),new w9(t)));case tVe:case nVe:case aVe:return KHe(+e,+t);case rVe:return e.name==t.name&&e.message==t.message;case sVe:case lVe:return e==t+"";case iVe:var l=ZHe;case oVe:var c=r&JHe;if(l||(l=QHe),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;r|=eVe,s.set(e,t);var d=XHe(l(e),l(t),r,i,a,s);return s.delete(e),d;case cVe:if(iA)return iA.call(e)==iA.call(t)}return!1}var fVe=hVe;function mVe(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Yie=mVe,pVe=Yie,gVe=Wa;function yVe(e,t,n){var r=t(e);return gVe(e)?r:pVe(r,n(e))}var xVe=yVe;function vVe(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var s=e[n];t(s,n,e)&&(a[i++]=s)}return a}var bVe=vVe;function wVe(){return[]}var EVe=wVe,SVe=bVe,_Ve=EVe,CVe=Object.prototype,TVe=CVe.propertyIsEnumerable,S9=Object.getOwnPropertySymbols,NVe=S9?function(e){return e==null?[]:(e=Object(e),SVe(S9(e),function(t){return TVe.call(e,t)}))}:_Ve,kVe=NVe;function AVe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var jVe=AVe,OVe=$c,PVe=Bc,MVe="[object Arguments]";function IVe(e){return PVe(e)&&OVe(e)==MVe}var RVe=IVe,_9=RVe,DVe=Bc,Kie=Object.prototype,LVe=Kie.hasOwnProperty,$Ve=Kie.propertyIsEnumerable,BVe=_9(function(){return arguments}())?_9:function(e){return DVe(e)&&LVe.call(e,"callee")&&!$Ve.call(e,"callee")},zL=BVe,e_={exports:{}};function FVe(){return!1}var zVe=FVe;e_.exports;(function(e,t){var n=Ol,r=zVe,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,l=s?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(e_,e_.exports);var Xie=e_.exports,UVe=9007199254740991,HVe=/^(?:0|[1-9]\d*)$/;function VVe(e,t){var n=typeof e;return t=t??UVe,!!t&&(n=="number"||n!="symbol"&&HVe.test(e))&&e>-1&&e%1==0&&e<t}var UL=VVe,WVe=9007199254740991;function qVe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=WVe}var HL=qVe,GVe=$c,YVe=HL,KVe=Bc,XVe="[object Arguments]",ZVe="[object Array]",QVe="[object Boolean]",JVe="[object Date]",eWe="[object Error]",tWe="[object Function]",nWe="[object Map]",rWe="[object Number]",iWe="[object Object]",aWe="[object RegExp]",sWe="[object Set]",oWe="[object String]",lWe="[object WeakMap]",cWe="[object ArrayBuffer]",uWe="[object DataView]",dWe="[object Float32Array]",hWe="[object Float64Array]",fWe="[object Int8Array]",mWe="[object Int16Array]",pWe="[object Int32Array]",gWe="[object Uint8Array]",yWe="[object Uint8ClampedArray]",xWe="[object Uint16Array]",vWe="[object Uint32Array]",qn={};qn[dWe]=qn[hWe]=qn[fWe]=qn[mWe]=qn[pWe]=qn[gWe]=qn[yWe]=qn[xWe]=qn[vWe]=!0;qn[XVe]=qn[ZVe]=qn[cWe]=qn[QVe]=qn[uWe]=qn[JVe]=qn[eWe]=qn[tWe]=qn[nWe]=qn[rWe]=qn[iWe]=qn[aWe]=qn[sWe]=qn[oWe]=qn[lWe]=!1;function bWe(e){return KVe(e)&&YVe(e.length)&&!!qn[GVe(e)]}var wWe=bWe;function EWe(e){return function(t){return e(t)}}var Zie=EWe,t_={exports:{}};t_.exports;(function(e,t){var n=Xre,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,s=a&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=l})(t_,t_.exports);var SWe=t_.exports,_We=wWe,CWe=Zie,C9=SWe,T9=C9&&C9.isTypedArray,TWe=T9?CWe(T9):_We,Qie=TWe,NWe=jVe,kWe=zL,AWe=Wa,jWe=Xie,OWe=UL,PWe=Qie,MWe=Object.prototype,IWe=MWe.hasOwnProperty;function RWe(e,t){var n=AWe(e),r=!n&&kWe(e),i=!n&&!r&&jWe(e),a=!n&&!r&&!i&&PWe(e),s=n||r||i||a,l=s?NWe(e.length,String):[],c=l.length;for(var u in e)(t||IWe.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||OWe(u,c)))&&l.push(u);return l}var DWe=RWe,LWe=Object.prototype;function $We(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||LWe;return e===n}var BWe=$We;function FWe(e,t){return function(n){return e(t(n))}}var Jie=FWe,zWe=Jie,UWe=zWe(Object.keys,Object),HWe=UWe,VWe=BWe,WWe=HWe,qWe=Object.prototype,GWe=qWe.hasOwnProperty;function YWe(e){if(!VWe(e))return WWe(e);var t=[];for(var n in Object(e))GWe.call(e,n)&&n!="constructor"&&t.push(n);return t}var KWe=YWe,XWe=hL,ZWe=HL;function QWe(e){return e!=null&&ZWe(e.length)&&!XWe(e)}var Zb=QWe,JWe=DWe,eqe=KWe,tqe=Zb;function nqe(e){return tqe(e)?JWe(e):eqe(e)}var mT=nqe,rqe=xVe,iqe=kVe,aqe=mT;function sqe(e){return rqe(e,aqe,iqe)}var oqe=sqe,N9=oqe,lqe=1,cqe=Object.prototype,uqe=cqe.hasOwnProperty;function dqe(e,t,n,r,i,a){var s=n&lqe,l=N9(e),c=l.length,u=N9(t),d=u.length;if(c!=d&&!s)return!1;for(var h=c;h--;){var f=l[h];if(!(s?f in t:uqe.call(t,f)))return!1}var m=a.get(e),p=a.get(t);if(m&&p)return m==t&&p==e;var g=!0;a.set(e,t),a.set(t,e);for(var x=s;++h<c;){f=l[h];var y=e[f],v=t[f];if(r)var b=s?r(v,y,f,t,e,a):r(y,v,f,e,t,a);if(!(b===void 0?y===v||i(y,v,n,r,a):b)){g=!1;break}x||(x=f=="constructor")}if(g&&!x){var E=e.constructor,_=t.constructor;E!=_&&"constructor"in e&&"constructor"in t&&!(typeof E=="function"&&E instanceof E&&typeof _=="function"&&_ instanceof _)&&(g=!1)}return a.delete(e),a.delete(t),g}var hqe=dqe,fqe=Of,mqe=Ol,pqe=fqe(mqe,"DataView"),gqe=pqe,yqe=Of,xqe=Ol,vqe=yqe(xqe,"Promise"),bqe=vqe,wqe=Of,Eqe=Ol,Sqe=wqe(Eqe,"Set"),eae=Sqe,_qe=Of,Cqe=Ol,Tqe=_qe(Cqe,"WeakMap"),Nqe=Tqe,PP=gqe,MP=mL,IP=bqe,RP=eae,DP=Nqe,tae=$c,i0=Qre,k9="[object Map]",kqe="[object Object]",A9="[object Promise]",j9="[object Set]",O9="[object WeakMap]",P9="[object DataView]",Aqe=i0(PP),jqe=i0(MP),Oqe=i0(IP),Pqe=i0(RP),Mqe=i0(DP),Yd=tae;(PP&&Yd(new PP(new ArrayBuffer(1)))!=P9||MP&&Yd(new MP)!=k9||IP&&Yd(IP.resolve())!=A9||RP&&Yd(new RP)!=j9||DP&&Yd(new DP)!=O9)&&(Yd=function(e){var t=tae(e),n=t==kqe?e.constructor:void 0,r=n?i0(n):"";if(r)switch(r){case Aqe:return P9;case jqe:return k9;case Oqe:return A9;case Pqe:return j9;case Mqe:return O9}return t});var Iqe=Yd,aA=Hie,Rqe=Gie,Dqe=fVe,Lqe=hqe,M9=Iqe,I9=Wa,R9=Xie,$qe=Qie,Bqe=1,D9="[object Arguments]",L9="[object Array]",bw="[object Object]",Fqe=Object.prototype,$9=Fqe.hasOwnProperty;function zqe(e,t,n,r,i,a){var s=I9(e),l=I9(t),c=s?L9:M9(e),u=l?L9:M9(t);c=c==D9?bw:c,u=u==D9?bw:u;var d=c==bw,h=u==bw,f=c==u;if(f&&R9(e)){if(!R9(t))return!1;s=!0,d=!1}if(f&&!d)return a||(a=new aA),s||$qe(e)?Rqe(e,t,n,r,i,a):Dqe(e,t,c,n,r,i,a);if(!(n&Bqe)){var m=d&&$9.call(e,"__wrapped__"),p=h&&$9.call(t,"__wrapped__");if(m||p){var g=m?e.value():e,x=p?t.value():t;return a||(a=new aA),i(g,x,n,r,a)}}return f?(a||(a=new aA),Lqe(e,t,n,r,i,a)):!1}var Uqe=zqe,Hqe=Uqe,B9=Bc;function nae(e,t,n,r,i){return e===t?!0:e==null||t==null||!B9(e)&&!B9(t)?e!==e&&t!==t:Hqe(e,t,n,r,nae,i)}var VL=nae,Vqe=Hie,Wqe=VL,qqe=1,Gqe=2;function Yqe(e,t,n,r){var i=n.length,a=i,s=!r;if(e==null)return!a;for(e=Object(e);i--;){var l=n[i];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=n[i];var c=l[0],u=e[c],d=l[1];if(s&&l[2]){if(u===void 0&&!(c in e))return!1}else{var h=new Vqe;if(r)var f=r(u,d,c,e,t,h);if(!(f===void 0?Wqe(d,u,qqe|Gqe,r,h):f))return!1}}return!0}var Kqe=Yqe,Xqe=Nd;function Zqe(e){return e===e&&!Xqe(e)}var rae=Zqe,Qqe=rae,Jqe=mT;function eGe(e){for(var t=Jqe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Qqe(i)]}return t}var tGe=eGe;function nGe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var iae=nGe,rGe=Kqe,iGe=tGe,aGe=iae;function sGe(e){var t=iGe(e);return t.length==1&&t[0][2]?aGe(t[0][0],t[0][1]):function(n){return n===e||rGe(n,e,t)}}var oGe=sGe;function lGe(e,t){return e!=null&&t in Object(e)}var cGe=lGe,uGe=rie,dGe=zL,hGe=Wa,fGe=UL,mGe=HL,pGe=Q2;function gGe(e,t,n){t=uGe(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var s=pGe(t[r]);if(!(a=e!=null&&n(e,s)))break;e=e[s]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&mGe(i)&&fGe(s,i)&&(hGe(e)||dGe(e)))}var yGe=gGe,xGe=cGe,vGe=yGe;function bGe(e,t){return e!=null&&vGe(e,t,xGe)}var wGe=bGe,EGe=VL,SGe=iie,_Ge=wGe,CGe=dL,TGe=rae,NGe=iae,kGe=Q2,AGe=1,jGe=2;function OGe(e,t){return CGe(e)&&TGe(t)?NGe(kGe(e),t):function(n){var r=SGe(n,e);return r===void 0&&r===t?_Ge(n,e):EGe(t,r,AGe|jGe)}}var PGe=OGe;function MGe(e){return e}var a0=MGe;function IGe(e){return function(t){return t==null?void 0:t[e]}}var RGe=IGe,DGe=xL;function LGe(e){return function(t){return DGe(t,e)}}var $Ge=LGe,BGe=RGe,FGe=$Ge,zGe=dL,UGe=Q2;function HGe(e){return zGe(e)?BGe(UGe(e)):FGe(e)}var VGe=HGe,WGe=oGe,qGe=PGe,GGe=a0,YGe=Wa,KGe=VGe;function XGe(e){return typeof e=="function"?e:e==null?GGe:typeof e=="object"?YGe(e)?qGe(e[0],e[1]):WGe(e):KGe(e)}var Pl=XGe;function ZGe(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var aae=ZGe;function QGe(e){return e!==e}var JGe=QGe;function eYe(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var tYe=eYe,nYe=aae,rYe=JGe,iYe=tYe;function aYe(e,t,n){return t===t?iYe(e,t,n):nYe(e,rYe,n)}var sYe=aYe,oYe=sYe;function lYe(e,t){var n=e==null?0:e.length;return!!n&&oYe(e,t,0)>-1}var cYe=lYe;function uYe(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var dYe=uYe;function hYe(){}var fYe=hYe,sA=eae,mYe=fYe,pYe=FL,gYe=1/0,yYe=sA&&1/pYe(new sA([,-0]))[1]==gYe?function(e){return new sA(e)}:mYe,xYe=yYe,vYe=Vie,bYe=cYe,wYe=dYe,EYe=qie,SYe=xYe,_Ye=FL,CYe=200;function TYe(e,t,n){var r=-1,i=bYe,a=e.length,s=!0,l=[],c=l;if(n)s=!1,i=wYe;else if(a>=CYe){var u=t?null:SYe(e);if(u)return _Ye(u);s=!1,i=EYe,c=new vYe}else c=t?[]:l;e:for(;++r<a;){var d=e[r],h=t?t(d):d;if(d=n||d!==0?d:0,s&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;t&&c.push(h),l.push(d)}else i(c,h,n)||(c!==l&&c.push(h),l.push(d))}return l}var NYe=TYe,kYe=Pl,AYe=NYe;function jYe(e,t){return e&&e.length?AYe(e,kYe(t)):[]}var OYe=jYe;const F9=sn(OYe);function sae(e,t,n){return t===!0?F9(e,n):Bt(t)?F9(e,t):e}function zp(e){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zp(e)}var PYe=["ref"];function z9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z9(Object(n),!0).forEach(function(r){pT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lae(r.key),r)}}function IYe(e,t,n){return t&&U9(e.prototype,t),n&&U9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function RYe(e,t,n){return t=n_(t),DYe(e,oae()?Reflect.construct(t,n||[],n_(e).constructor):t.apply(e,n))}function DYe(e,t){if(t&&(zp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LYe(e)}function LYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oae=function(){return!!e})()}function n_(e){return n_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},n_(e)}function $Ye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LP(e,t)}function LP(e,t){return LP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LP(e,t)}function pT(e,t,n){return t=lae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lae(e){var t=BYe(e,"string");return zp(t)=="symbol"?t:t+""}function BYe(e,t){if(zp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FYe(e,t){if(e==null)return{};var n=zYe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zYe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function UYe(e){return e.value}function HYe(e,t){if(q.isValidElement(e))return q.cloneElement(e,t);if(typeof e=="function")return q.createElement(e,t);t.ref;var n=FYe(t,PYe);return q.createElement(BL,n)}var H9=1,Zm=function(e){function t(){var n;MYe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=RYe(this,t,[].concat(i)),pT(n,"lastBoundingBox",{width:-1,height:-1}),n}return $Ye(t,e),IYe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>H9||Math.abs(i.height-this.lastBoundingBox.height)>H9)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Fl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,h,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();h={left:((u||0)-m.width)/2}}else h=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var p=this.getBBoxSnapshot();f={top:((d||0)-p.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Fl(Fl({},h),f)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,h=Fl(Fl({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return q.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(m){r.wrapperNode=m}},HYe(a,Fl(Fl({},this.props),{},{payload:sae(d,u,UYe)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Fl(Fl({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&qe(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(w.PureComponent);pT(Zm,"displayName","Legend");pT(Zm,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var V9=Yb,VYe=zL,WYe=Wa,W9=V9?V9.isConcatSpreadable:void 0;function qYe(e){return WYe(e)||VYe(e)||!!(W9&&e&&e[W9])}var GYe=qYe,YYe=Yie,KYe=GYe;function cae(e,t,n,r,i){var a=-1,s=e.length;for(n||(n=KYe),i||(i=[]);++a<s;){var l=e[a];t>0&&n(l)?t>1?cae(l,t-1,n,r,i):YYe(i,l):r||(i[i.length]=l)}return i}var uae=cae;function XYe(e){return function(t,n,r){for(var i=-1,a=Object(t),s=r(t),l=s.length;l--;){var c=s[e?l:++i];if(n(a[c],c,a)===!1)break}return t}}var ZYe=XYe,QYe=ZYe,JYe=QYe(),eKe=JYe,tKe=eKe,nKe=mT;function rKe(e,t){return e&&tKe(e,t,nKe)}var dae=rKe,iKe=Zb;function aKe(e,t){return function(n,r){if(n==null)return n;if(!iKe(n))return e(n,r);for(var i=n.length,a=t?i:-1,s=Object(n);(t?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var sKe=aKe,oKe=dae,lKe=sKe,cKe=lKe(oKe),WL=cKe,uKe=WL,dKe=Zb;function hKe(e,t){var n=-1,r=dKe(e)?Array(e.length):[];return uKe(e,function(i,a,s){r[++n]=t(i,a,s)}),r}var hae=hKe;function fKe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var mKe=fKe,q9=Zg;function pKe(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,a=q9(e),s=t!==void 0,l=t===null,c=t===t,u=q9(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||r&&s&&c||!n&&c||!i)return 1;if(!r&&!a&&!u&&e<t||u&&n&&i&&!r&&!a||l&&n&&i||!s&&i||!c)return-1}return 0}var gKe=pKe,yKe=gKe;function xKe(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,s=i.length,l=n.length;++r<s;){var c=yKe(i[r],a[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var vKe=xKe,oA=yL,bKe=xL,wKe=Pl,EKe=hae,SKe=mKe,_Ke=Zie,CKe=vKe,TKe=a0,NKe=Wa;function kKe(e,t,n){t.length?t=oA(t,function(a){return NKe(a)?function(s){return bKe(s,a.length===1?a[0]:a)}:a}):t=[TKe];var r=-1;t=oA(t,_Ke(wKe));var i=EKe(e,function(a,s,l){var c=oA(t,function(u){return u(a)});return{criteria:c,index:++r,value:a}});return SKe(i,function(a,s){return CKe(a,s,n)})}var AKe=kKe;function jKe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var OKe=jKe,PKe=OKe,G9=Math.max;function MKe(e,t,n){return t=G9(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=G9(r.length-t,0),s=Array(a);++i<a;)s[i]=r[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=r[i];return l[t]=n(s),PKe(e,this,l)}}var IKe=MKe;function RKe(e){return function(){return e}}var DKe=RKe,LKe=Of,$Ke=function(){try{var e=LKe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),fae=$Ke,BKe=DKe,Y9=fae,FKe=a0,zKe=Y9?function(e,t){return Y9(e,"toString",{configurable:!0,enumerable:!1,value:BKe(t),writable:!0})}:FKe,UKe=zKe,HKe=800,VKe=16,WKe=Date.now;function qKe(e){var t=0,n=0;return function(){var r=WKe(),i=VKe-(r-n);if(n=r,i>0){if(++t>=HKe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var GKe=qKe,YKe=UKe,KKe=GKe,XKe=KKe(YKe),ZKe=XKe,QKe=a0,JKe=IKe,eXe=ZKe;function tXe(e,t){return eXe(JKe(e,t,QKe),e+"")}var nXe=tXe,rXe=fL,iXe=Zb,aXe=UL,sXe=Nd;function oXe(e,t,n){if(!sXe(n))return!1;var r=typeof t;return(r=="number"?iXe(n)&&aXe(t,n.length):r=="string"&&t in n)?rXe(n[t],e):!1}var gT=oXe,lXe=uae,cXe=AKe,uXe=nXe,K9=gT,dXe=uXe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&K9(e,t[0],t[1])?t=[]:n>2&&K9(t[0],t[1],t[2])&&(t=[t[0]]),cXe(e,lXe(t,1),[])}),hXe=dXe;const qL=sn(hXe);function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}function $P(){return $P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$P.apply(this,arguments)}function fXe(e,t){return yXe(e)||gXe(e,t)||pXe(e,t)||mXe()}function mXe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pXe(e,t){if(e){if(typeof e=="string")return X9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X9(e,t)}}function X9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gXe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function yXe(e){if(Array.isArray(e))return e}function Z9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z9(Object(n),!0).forEach(function(r){xXe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xXe(e,t,n){return t=vXe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vXe(e){var t=bXe(e,"string");return hv(t)=="symbol"?t:t+""}function bXe(e,t){if(hv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wXe(e){return Array.isArray(e)&&Jr(e[0])&&Jr(e[1])?e.join(" ~ "):e}var EXe=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,s=t.itemStyle,l=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,h=t.formatter,f=t.itemSorter,m=t.wrapperClassName,p=t.labelClassName,g=t.label,x=t.labelFormatter,y=t.accessibilityLayer,v=y===void 0?!1:y,b=function(){if(d&&d.length){var M={padding:0,margin:0},B=(f?qL(d,f):d).map(function(N,D){if(N.type==="none")return null;var P=lA({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},l),L=N.formatter||h||wXe,I=N.value,U=N.name,$=I,W=U;if(L&&$!=null&&W!=null){var z=L(I,U,N,D,d);if(Array.isArray(z)){var R=fXe(z,2);$=R[0],W=R[1]}else $=z}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:P},Jr(W)?q.createElement("span",{className:"recharts-tooltip-item-name"},W):null,Jr(W)?q.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,q.createElement("span",{className:"recharts-tooltip-item-value"},$),q.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:M},B)}return null},E=lA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),_=lA({margin:0},u),S=!Ut(g),C=S?g:"",T=Wt("recharts-default-tooltip",m),j=Wt("recharts-tooltip-label",p);S&&x&&d!==void 0&&d!==null&&(C=x(g,d));var k=v?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",$P({className:T,style:E},k),q.createElement("p",{className:j,style:_},q.isValidElement(C)?C:"".concat(C)),b())};function fv(e){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fv(e)}function ww(e,t,n){return t=SXe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SXe(e){var t=_Xe(e,"string");return fv(t)=="symbol"?t:t+""}function _Xe(e,t){if(fv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q0="recharts-tooltip-wrapper",CXe={visibility:"hidden"};function TXe(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Wt(q0,ww(ww(ww(ww({},"".concat(q0,"-right"),qe(n)&&t&&qe(t.x)&&n>=t.x),"".concat(q0,"-left"),qe(n)&&t&&qe(t.x)&&n<t.x),"".concat(q0,"-bottom"),qe(r)&&t&&qe(t.y)&&r>=t.y),"".concat(q0,"-top"),qe(r)&&t&&qe(t.y)&&r<t.y))}function Q9(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&qe(a[r]))return a[r];var d=n[r]-l-i,h=n[r]+i;if(t[r])return s[r]?d:h;if(s[r]){var f=d,m=c[r];return f<m?Math.max(h,c[r]):Math.max(d,c[r])}var p=h+l,g=c[r]+u;return p>g?Math.max(d,c[r]):Math.max(h,c[r])}function NXe(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function kXe(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,a=e.reverseDirection,s=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,h;return s.height>0&&s.width>0&&n?(d=Q9({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),h=Q9({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=NXe({translateX:d,translateY:h,useTranslate3d:l})):u=CXe,{cssProperties:u,cssClasses:TXe({translateX:d,translateY:h,coordinate:n})}}function Up(e){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Up(e)}function J9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ez(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J9(Object(n),!0).forEach(function(r){FP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jXe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pae(r.key),r)}}function OXe(e,t,n){return t&&jXe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PXe(e,t,n){return t=r_(t),MXe(e,mae()?Reflect.construct(t,n||[],r_(e).constructor):t.apply(e,n))}function MXe(e,t){if(t&&(Up(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IXe(e)}function IXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mae=function(){return!!e})()}function r_(e){return r_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r_(e)}function RXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BP(e,t)}function BP(e,t){return BP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BP(e,t)}function FP(e,t,n){return t=pae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pae(e){var t=DXe(e,"string");return Up(t)=="symbol"?t:t+""}function DXe(e,t){if(Up(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tz=1,LXe=function(e){function t(){var n;AXe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=PXe(this,t,[].concat(i)),FP(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),FP(n,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return RXe(t,e),OXe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>tz||Math.abs(r.height-this.state.lastBoundingBox.height)>tz)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,h=i.hasPayload,f=i.isAnimationActive,m=i.offset,p=i.position,g=i.reverseDirection,x=i.useTranslate3d,y=i.viewBox,v=i.wrapperStyle,b=kXe({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:m,position:p,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),E=b.cssClasses,_=b.cssProperties,S=ez(ez({transition:f&&a?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},v);return q.createElement("div",{tabIndex:-1,className:E,style:S,ref:function(T){r.wrapperNode=T}},u)}}])}(w.PureComponent),$Xe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},cl={isSsr:$Xe(),get:function(t){return cl[t]},set:function(t,n){if(typeof t=="string")cl[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(i){cl[i]=t[i]})}}};function Hp(e){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hp(e)}function nz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nz(Object(n),!0).forEach(function(r){GL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FXe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yae(r.key),r)}}function zXe(e,t,n){return t&&FXe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UXe(e,t,n){return t=i_(t),HXe(e,gae()?Reflect.construct(t,n||[],i_(e).constructor):t.apply(e,n))}function HXe(e,t){if(t&&(Hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VXe(e)}function VXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gae=function(){return!!e})()}function i_(e){return i_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},i_(e)}function WXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zP(e,t)}function zP(e,t){return zP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zP(e,t)}function GL(e,t,n){return t=yae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yae(e){var t=qXe(e,"string");return Hp(t)=="symbol"?t:t+""}function qXe(e,t){if(Hp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GXe(e){return e.dataKey}function YXe(e,t){return q.isValidElement(e)?q.cloneElement(e,t):typeof e=="function"?q.createElement(e,t):q.createElement(EXe,t)}var Aa=function(e){function t(){return BXe(this,t),UXe(this,t,arguments)}return WXe(t,e),zXe(t,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,h=i.filterNull,f=i.isAnimationActive,m=i.offset,p=i.payload,g=i.payloadUniqBy,x=i.position,y=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,E=i.wrapperStyle,_=p??[];h&&_.length&&(_=sae(p.filter(function(C){return C.value!=null&&(C.hide!==!0||r.props.includeHidden)}),g,GXe));var S=_.length>0;return q.createElement(LXe,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:f,active:a,coordinate:d,hasPayload:S,offset:m,position:x,reverseDirection:y,useTranslate3d:v,viewBox:b,wrapperStyle:E},YXe(u,rz(rz({},this.props),{},{payload:_})))}}])}(w.PureComponent);GL(Aa,"displayName","Tooltip");GL(Aa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!cl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var KXe=Ol,XXe=function(){return KXe.Date.now()},ZXe=XXe,QXe=/\s/;function JXe(e){for(var t=e.length;t--&&QXe.test(e.charAt(t)););return t}var eZe=JXe,tZe=eZe,nZe=/^\s+/;function rZe(e){return e&&e.slice(0,tZe(e)+1).replace(nZe,"")}var iZe=rZe,aZe=iZe,iz=Nd,sZe=Zg,az=NaN,oZe=/^[-+]0x[0-9a-f]+$/i,lZe=/^0b[01]+$/i,cZe=/^0o[0-7]+$/i,uZe=parseInt;function dZe(e){if(typeof e=="number")return e;if(sZe(e))return az;if(iz(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=iz(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=aZe(e);var n=lZe.test(e);return n||cZe.test(e)?uZe(e.slice(2),n?2:8):oZe.test(e)?az:+e}var xae=dZe,hZe=Nd,cA=ZXe,sz=xae,fZe="Expected a function",mZe=Math.max,pZe=Math.min;function gZe(e,t,n){var r,i,a,s,l,c,u=0,d=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(fZe);t=sz(t)||0,hZe(n)&&(d=!!n.leading,h="maxWait"in n,a=h?mZe(sz(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f);function m(S){var C=r,T=i;return r=i=void 0,u=S,s=e.apply(T,C),s}function p(S){return u=S,l=setTimeout(y,t),d?m(S):s}function g(S){var C=S-c,T=S-u,j=t-C;return h?pZe(j,a-T):j}function x(S){var C=S-c,T=S-u;return c===void 0||C>=t||C<0||h&&T>=a}function y(){var S=cA();if(x(S))return v(S);l=setTimeout(y,g(S))}function v(S){return l=void 0,f&&r?m(S):(r=i=void 0,s)}function b(){l!==void 0&&clearTimeout(l),u=0,r=c=i=l=void 0}function E(){return l===void 0?s:v(cA())}function _(){var S=cA(),C=x(S);if(r=arguments,i=this,c=S,C){if(l===void 0)return p(c);if(h)return clearTimeout(l),l=setTimeout(y,t),m(c)}return l===void 0&&(l=setTimeout(y,t)),s}return _.cancel=b,_.flush=E,_}var yZe=gZe,xZe=yZe,vZe=Nd,bZe="Expected a function";function wZe(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(bZe);return vZe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),xZe(e,t,{leading:r,maxWait:t,trailing:i})}var EZe=wZe;const vae=sn(EZe);function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}function oz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ew(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oz(Object(n),!0).forEach(function(r){SZe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SZe(e,t,n){return t=_Ze(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Ze(e){var t=CZe(e,"string");return mv(t)=="symbol"?t:t+""}function CZe(e,t){if(mv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TZe(e,t){return jZe(e)||AZe(e,t)||kZe(e,t)||NZe()}function NZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kZe(e,t){if(e){if(typeof e=="string")return lz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lz(e,t)}}function lz(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function AZe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function jZe(e){if(Array.isArray(e))return e}var rx=w.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=e.width,s=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,h=e.minHeight,f=e.maxHeight,m=e.children,p=e.debounce,g=p===void 0?0:p,x=e.id,y=e.className,v=e.onResize,b=e.style,E=b===void 0?{}:b,_=w.useRef(null),S=w.useRef();S.current=v,w.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var C=w.useState({containerWidth:i.width,containerHeight:i.height}),T=TZe(C,2),j=T[0],k=T[1],O=w.useCallback(function(B,N){k(function(D){var P=Math.round(B),L=Math.round(N);return D.containerWidth===P&&D.containerHeight===L?D:{containerWidth:P,containerHeight:L}})},[]);w.useEffect(function(){var B=function(U){var $,W=U[0].contentRect,z=W.width,R=W.height;O(z,R),($=S.current)===null||$===void 0||$.call(S,z,R)};g>0&&(B=vae(B,g,{trailing:!0,leading:!1}));var N=new ResizeObserver(B),D=_.current.getBoundingClientRect(),P=D.width,L=D.height;return O(P,L),N.observe(_.current),function(){N.disconnect()}},[O,g]);var M=w.useMemo(function(){var B=j.containerWidth,N=j.containerHeight;if(B<0||N<0)return null;Po(uh(s)||uh(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Po(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=uh(s)?B:s,P=uh(c)?N:c;n&&n>0&&(D?P=D/n:P&&(D=P*n),f&&P>f&&(P=f)),Po(D>0||P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,P,s,c,d,h,n);var L=!Array.isArray(m)&&mc(m.type).endsWith("Chart");return q.Children.map(m,function(I){return oie.isElement(I)?w.cloneElement(I,Ew({width:D,height:P},L?{style:Ew({height:"100%",width:"100%",maxHeight:P,maxWidth:D},I.props.style)}:{})):I})},[n,m,c,f,h,d,j,s]);return q.createElement("div",{id:x?"".concat(x):void 0,className:Wt("recharts-responsive-container",y),style:Ew(Ew({},E),{},{width:s,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:_},M)}),Qb=function(t){return null};Qb.displayName="Cell";function pv(e){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pv(e)}function cz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cz(Object(n),!0).forEach(function(r){OZe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OZe(e,t,n){return t=PZe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PZe(e){var t=MZe(e,"string");return pv(t)=="symbol"?t:t+""}function MZe(e,t){if(pv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zf={widthCache:{},cacheCount:0},IZe=2e3,RZe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},uz="recharts_measurement_span";function DZe(e){var t=UP({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var ix=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||cl.isSsr)return{width:0,height:0};var r=DZe(n),i=JSON.stringify({text:t,copyStyle:r});if(Zf.widthCache[i])return Zf.widthCache[i];try{var a=document.getElementById(uz);a||(a=document.createElement("span"),a.setAttribute("id",uz),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=UP(UP({},RZe),r);Object.assign(a.style,s),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Zf.widthCache[i]=c,++Zf.cacheCount>IZe&&(Zf.cacheCount=0,Zf.widthCache={}),c}catch{return{width:0,height:0}}},LZe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function gv(e){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gv(e)}function a_(e,t){return zZe(e)||FZe(e,t)||BZe(e,t)||$Ze()}function $Ze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BZe(e,t){if(e){if(typeof e=="string")return dz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dz(e,t)}}function dz(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FZe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function zZe(e){if(Array.isArray(e))return e}function UZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VZe(r.key),r)}}function HZe(e,t,n){return t&&hz(e.prototype,t),n&&hz(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function VZe(e){var t=WZe(e,"string");return gv(t)=="symbol"?t:t+""}function WZe(e,t){if(gv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qZe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,GZe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,bae={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},YZe=Object.keys(bae),Cm="NaN";function KZe(e,t){return e*bae[t]}var Sw=function(){function e(t,n){UZe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!qZe.test(n)&&(this.num=NaN,this.unit=""),YZe.includes(n)&&(this.num=KZe(t,n),this.unit="px")}return HZe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=GZe.exec(n))!==null&&r!==void 0?r:[],a=a_(i,3),s=a[1],l=a[2];return new e(parseFloat(s),l??"")}}])}();function wae(e){if(e.includes(Cm))return Cm;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=fz.exec(t))!==null&&n!==void 0?n:[],i=a_(r,4),a=i[1],s=i[2],l=i[3],c=Sw.parse(a??""),u=Sw.parse(l??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Cm;t=t.replace(fz,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,f=(h=mz.exec(t))!==null&&h!==void 0?h:[],m=a_(f,4),p=m[1],g=m[2],x=m[3],y=Sw.parse(p??""),v=Sw.parse(x??""),b=g==="+"?y.add(v):y.subtract(v);if(b.isNaN())return Cm;t=t.replace(mz,b.toString())}return t}var pz=/\(([^()]*)\)/;function XZe(e){for(var t=e;t.includes("(");){var n=pz.exec(t),r=a_(n,2),i=r[1];t=t.replace(pz,wae(i))}return t}function ZZe(e){var t=e.replace(/\s+/g,"");return t=XZe(t),t=wae(t),t}function QZe(e){try{return ZZe(e)}catch{return Cm}}function uA(e){var t=QZe(e.slice(5,-1));return t===Cm?"":t}var JZe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],eQe=["dx","dy","angle","className","breakAll"];function HP(){return HP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HP.apply(this,arguments)}function gz(e,t){if(e==null)return{};var n=tQe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tQe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function yz(e,t){return aQe(e)||iQe(e,t)||rQe(e,t)||nQe()}function nQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rQe(e,t){if(e){if(typeof e=="string")return xz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xz(e,t)}}function xz(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iQe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function aQe(e){if(Array.isArray(e))return e}var Eae=/[ \f\n\r\t\v\u2028\u2029]+/,Sae=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var a=[];Ut(n)||(r?a=n.toString().split(""):a=n.toString().split(Eae));var s=a.map(function(c){return{word:c,width:ix(c,i).width}}),l=r?0:ix("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},sQe=function(t,n,r,i,a){var s=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=qe(s),h=l,f=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(P,L){var I=L.word,U=L.width,$=P[P.length-1];if($&&(i==null||a||$.width+U+r<Number(i)))$.words.push(I),$.width+=U+r;else{var W={words:[I],width:U};P.push(W)}return P},[])},m=f(n),p=function(D){return D.reduce(function(P,L){return P.width>L.width?P:L})};if(!d)return m;for(var g="",x=function(D){var P=h.slice(0,D),L=Sae({breakAll:u,style:c,children:P+g}).wordsWithComputedWidth,I=f(L),U=I.length>s||p(I).width>Number(i);return[U,I]},y=0,v=h.length-1,b=0,E;y<=v&&b<=h.length-1;){var _=Math.floor((y+v)/2),S=_-1,C=x(S),T=yz(C,2),j=T[0],k=T[1],O=x(_),M=yz(O,1),B=M[0];if(!j&&!B&&(y=_+1),j&&B&&(v=_-1),!j&&B){E=k;break}b++}return E||m},vz=function(t){var n=Ut(t)?[]:t.toString().split(Eae);return[{words:n}]},oQe=function(t){var n=t.width,r=t.scaleToFit,i=t.children,a=t.style,s=t.breakAll,l=t.maxLines;if((n||r)&&!cl.isSsr){var c,u,d=Sae({breakAll:s,children:i,style:a});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;c=h,u=f}else return vz(i);return sQe({breakAll:s,children:i,maxLines:l,style:a},c,u,n,r)}return vz(i)},bz="#808080",Jh=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,s=t.lineHeight,l=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,h=d===void 0?!1:d,f=t.textAnchor,m=f===void 0?"start":f,p=t.verticalAnchor,g=p===void 0?"end":p,x=t.fill,y=x===void 0?bz:x,v=gz(t,JZe),b=w.useMemo(function(){return oQe({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:h,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,h,v.style,v.width]),E=v.dx,_=v.dy,S=v.angle,C=v.className,T=v.breakAll,j=gz(v,eQe);if(!Jr(r)||!Jr(a))return null;var k=r+(qe(E)?E:0),O=a+(qe(_)?_:0),M;switch(g){case"start":M=uA("calc(".concat(u,")"));break;case"middle":M=uA("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:M=uA("calc(".concat(b.length-1," * -").concat(l,")"));break}var B=[];if(h){var N=b[0].width,D=v.width;B.push("scale(".concat((qe(D)?D/N:1)/N,")"))}return S&&B.push("rotate(".concat(S,", ").concat(k,", ").concat(O,")")),B.length&&(j.transform=B.join(" ")),q.createElement("text",HP({},At(j,!0),{x:k,y:O,className:Wt("recharts-text",C),textAnchor:m,fill:y.includes("url")?bz:y}),b.map(function(P,L){var I=P.words.join(T?"":" ");return q.createElement("tspan",{x:k,dy:L===0?M:l,key:"".concat(I,"-").concat(L)},I)}))};function Wu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lQe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function YL(e){let t,n,r;e.length!==2?(t=Wu,n=(l,c)=>Wu(e(l),c),r=(l,c)=>e(l)-c):(t=e===Wu||e===lQe?e:cQe,n=e,r=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function s(l,c,u=0,d=l.length){const h=i(l,c,u,d-1);return h>u&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:i,center:s,right:a}}function cQe(){return 0}function _ae(e){return e===null?NaN:+e}function*uQe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const dQe=YL(Wu),Jb=dQe.right;YL(_ae).center;class wz extends Map{constructor(t,n=mQe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Ez(this,t))}has(t){return super.has(Ez(this,t))}set(t,n){return super.set(hQe(this,t),n)}delete(t){return super.delete(fQe(this,t))}}function Ez({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function hQe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function fQe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function mQe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function pQe(e=Wu){if(e===Wu)return Cae;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Cae(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const gQe=Math.sqrt(50),yQe=Math.sqrt(10),xQe=Math.sqrt(2);function s_(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=gQe?10:a>=yQe?5:a>=xQe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?s_(e,t,n*2):[l,c,u]}function VP(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?s_(t,e,n):s_(e,t,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(s<0)for(let u=0;u<l;++u)c[u]=(a-u)/-s;else for(let u=0;u<l;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(i+u)/-s;else for(let u=0;u<l;++u)c[u]=(i+u)*s;return c}function WP(e,t,n){return t=+t,e=+e,n=+n,s_(e,t,n)[2]}function qP(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?WP(t,e,n):WP(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Sz(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function _z(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Tae(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Cae:pQe(i);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(t-u*h/c+f)),p=Math.min(r,Math.floor(t+(c-u)*h/c+f));Tae(e,t,m,p,i)}const a=e[t];let s=n,l=r;for(G0(e,n,t),i(e[r],a)>0&&G0(e,n,r);s<l;){for(G0(e,s,l),++s,--l;i(e[s],a)<0;)++s;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?G0(e,n,l):(++l,G0(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function G0(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function vQe(e,t,n){if(e=Float64Array.from(uQe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return _z(e);if(t>=1)return Sz(e);var r,i=(r-1)*t,a=Math.floor(i),s=Sz(Tae(e,a).subarray(0,a+1)),l=_z(e.subarray(a+1));return s+(l-s)*(i-a)}}function bQe(e,t,n=_ae){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return s+(l-s)*(i-a)}}function wQe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function eo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Fc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const GP=Symbol("implicit");function KL(){var e=new wz,t=[],n=[],r=GP;function i(a){let s=e.get(a);if(s===void 0){if(r!==GP)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new wz;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return KL(t,n).unknown(r)},eo.apply(i,arguments),i}function yv(){var e=KL().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,l=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var f=t().length,m=i<r,p=m?i:r,g=m?r:i;a=(g-p)/Math.max(1,f-c+u*2),l&&(a=Math.floor(a)),p+=(g-p-a*(f-c))*d,s=a*(1-c),l&&(p=Math.round(p),s=Math.round(s));var x=wQe(f).map(function(y){return p+a*y});return n(m?x.reverse():x)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},e.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,l=!0,h()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(f){return arguments.length?(l=!!f,h()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},e.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},e.copy=function(){return yv(t(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},eo.apply(h(),arguments)}function Nae(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Nae(t())},e}function ax(){return Nae(yv.apply(null,arguments).paddingInner(1))}function XL(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function kae(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function e1(){}var xv=.7,o_=1/xv,Qm="\\s*([+-]?\\d+)\\s*",vv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ul="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",EQe=/^#([0-9a-f]{3,8})$/,SQe=new RegExp(`^rgb\\(${Qm},${Qm},${Qm}\\)$`),_Qe=new RegExp(`^rgb\\(${ul},${ul},${ul}\\)$`),CQe=new RegExp(`^rgba\\(${Qm},${Qm},${Qm},${vv}\\)$`),TQe=new RegExp(`^rgba\\(${ul},${ul},${ul},${vv}\\)$`),NQe=new RegExp(`^hsl\\(${vv},${ul},${ul}\\)$`),kQe=new RegExp(`^hsla\\(${vv},${ul},${ul},${vv}\\)$`),Cz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};XL(e1,ef,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Tz,formatHex:Tz,formatHex8:AQe,formatHsl:jQe,formatRgb:Nz,toString:Nz});function Tz(){return this.rgb().formatHex()}function AQe(){return this.rgb().formatHex8()}function jQe(){return Aae(this).formatHsl()}function Nz(){return this.rgb().formatRgb()}function ef(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=EQe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?kz(t):n===3?new Ia(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_w(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_w(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=SQe.exec(e))?new Ia(t[1],t[2],t[3],1):(t=_Qe.exec(e))?new Ia(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=CQe.exec(e))?_w(t[1],t[2],t[3],t[4]):(t=TQe.exec(e))?_w(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=NQe.exec(e))?Oz(t[1],t[2]/100,t[3]/100,1):(t=kQe.exec(e))?Oz(t[1],t[2]/100,t[3]/100,t[4]):Cz.hasOwnProperty(e)?kz(Cz[e]):e==="transparent"?new Ia(NaN,NaN,NaN,0):null}function kz(e){return new Ia(e>>16&255,e>>8&255,e&255,1)}function _w(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ia(e,t,n,r)}function OQe(e){return e instanceof e1||(e=ef(e)),e?(e=e.rgb(),new Ia(e.r,e.g,e.b,e.opacity)):new Ia}function YP(e,t,n,r){return arguments.length===1?OQe(e):new Ia(e,t,n,r??1)}function Ia(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}XL(Ia,YP,kae(e1,{brighter(e){return e=e==null?o_:Math.pow(o_,e),new Ia(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xv:Math.pow(xv,e),new Ia(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ia(Ah(this.r),Ah(this.g),Ah(this.b),l_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Az,formatHex:Az,formatHex8:PQe,formatRgb:jz,toString:jz}));function Az(){return`#${dh(this.r)}${dh(this.g)}${dh(this.b)}`}function PQe(){return`#${dh(this.r)}${dh(this.g)}${dh(this.b)}${dh((isNaN(this.opacity)?1:this.opacity)*255)}`}function jz(){const e=l_(this.opacity);return`${e===1?"rgb(":"rgba("}${Ah(this.r)}, ${Ah(this.g)}, ${Ah(this.b)}${e===1?")":`, ${e})`}`}function l_(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ah(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function dh(e){return e=Ah(e),(e<16?"0":"")+e.toString(16)}function Oz(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Eo(e,t,n,r)}function Aae(e){if(e instanceof Eo)return new Eo(e.h,e.s,e.l,e.opacity);if(e instanceof e1||(e=ef(e)),!e)return new Eo;if(e instanceof Eo)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,l=a-i,c=(a+i)/2;return l?(t===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-t)/l+2:s=(t-n)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new Eo(s,l,c,e.opacity)}function MQe(e,t,n,r){return arguments.length===1?Aae(e):new Eo(e,t,n,r??1)}function Eo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}XL(Eo,MQe,kae(e1,{brighter(e){return e=e==null?o_:Math.pow(o_,e),new Eo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xv:Math.pow(xv,e),new Eo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ia(dA(e>=240?e-240:e+120,i,r),dA(e,i,r),dA(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Eo(Pz(this.h),Cw(this.s),Cw(this.l),l_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=l_(this.opacity);return`${e===1?"hsl(":"hsla("}${Pz(this.h)}, ${Cw(this.s)*100}%, ${Cw(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Pz(e){return e=(e||0)%360,e<0?e+360:e}function Cw(e){return Math.max(0,Math.min(1,e||0))}function dA(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const yT=e=>()=>e;function jae(e,t){return function(n){return e+n*t}}function IQe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ZRt(e,t){var n=t-e;return n?jae(e,n>180||n<-180?n-360*Math.round(n/360):n):yT(isNaN(e)?t:e)}function RQe(e){return(e=+e)==1?Oae:function(t,n){return n-t?IQe(t,n,e):yT(isNaN(t)?n:t)}}function Oae(e,t){var n=t-e;return n?jae(e,n):yT(isNaN(e)?t:e)}const c_=function e(t){var n=RQe(t);function r(i,a){var s=n((i=YP(i)).r,(a=YP(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),u=Oae(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=e,r}(1);function DQe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function LQe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $Qe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=s0(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function BQe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function bo(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function FQe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=s0(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var KP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hA=new RegExp(KP.source,"g");function zQe(e){return function(){return e}}function UQe(e){return function(t){return e(t)+""}}function Pae(e,t){var n=KP.lastIndex=hA.lastIndex=0,r,i,a,s=-1,l=[],c=[];for(e=e+"",t=t+"";(r=KP.exec(e))&&(i=hA.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:bo(r,i)})),n=hA.lastIndex;return n<t.length&&(a=t.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?UQe(c[0].x):zQe(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function s0(e,t){var n=typeof t,r;return t==null||n==="boolean"?yT(t):(n==="number"?bo:n==="string"?(r=ef(t))?(t=r,c_):Pae:t instanceof ef?c_:t instanceof Date?BQe:LQe(t)?DQe:Array.isArray(t)?$Qe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?FQe:bo)(e,t)}function ZL(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Mz=180/Math.PI,XP={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Mae(e,t,n,r,i,a){var s,l,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),e*r<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Mz,skewX:Math.atan(c)*Mz,scaleX:s,scaleY:l}}var Tw;function HQe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?XP:Mae(t.a,t.b,t.c,t.d,t.e,t.f)}function VQe(e){return e==null||(Tw||(Tw=document.createElementNS("http://www.w3.org/2000/svg","g")),Tw.setAttribute("transform",e),!(e=Tw.transform.baseVal.consolidate()))?XP:(e=e.matrix,Mae(e.a,e.b,e.c,e.d,e.e,e.f))}function Iae(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,d,h,f,m,p){if(u!==h||d!==f){var g=m.push("translate(",null,t,null,n);p.push({i:g-4,x:bo(u,h)},{i:g-2,x:bo(d,f)})}else(h||f)&&m.push("translate("+h+t+f+n)}function s(u,d,h,f){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:bo(u,d)})):d&&h.push(i(h)+"rotate("+d+r)}function l(u,d,h,f){u!==d?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:bo(u,d)}):d&&h.push(i(h)+"skewX("+d+r)}function c(u,d,h,f,m,p){if(u!==h||d!==f){var g=m.push(i(m)+"scale(",null,",",null,")");p.push({i:g-4,x:bo(u,h)},{i:g-2,x:bo(d,f)})}else(h!==1||f!==1)&&m.push(i(m)+"scale("+h+","+f+")")}return function(u,d){var h=[],f=[];return u=e(u),d=e(d),a(u.translateX,u.translateY,d.translateX,d.translateY,h,f),s(u.rotate,d.rotate,h,f),l(u.skewX,d.skewX,h,f),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,h,f),u=d=null,function(m){for(var p=-1,g=f.length,x;++p<g;)h[(x=f[p]).i]=x.x(m);return h.join("")}}}var WQe=Iae(HQe,"px, ","px)","deg)"),qQe=Iae(VQe,", ",")",")"),GQe=1e-12;function Iz(e){return((e=Math.exp(e))+1/e)/2}function YQe(e){return((e=Math.exp(e))-1/e)/2}function KQe(e){return((e=Math.exp(2*e))-1)/(e+1)}const XQe=function e(t,n,r){function i(a,s){var l=a[0],c=a[1],u=a[2],d=s[0],h=s[1],f=s[2],m=d-l,p=h-c,g=m*m+p*p,x,y;if(g<GQe)y=Math.log(f/u)/t,x=function(C){return[l+C*m,c+C*p,u*Math.exp(t*C*y)]};else{var v=Math.sqrt(g),b=(f*f-u*u+r*g)/(2*u*n*v),E=(f*f-u*u-r*g)/(2*f*n*v),_=Math.log(Math.sqrt(b*b+1)-b),S=Math.log(Math.sqrt(E*E+1)-E);y=(S-_)/t,x=function(C){var T=C*y,j=Iz(_),k=u/(n*v)*(j*KQe(t*T+_)-YQe(_));return[l+k*m,c+k*p,u*j/Iz(t*T+_)]}}return x.duration=y*1e3*t/Math.SQRT2,x}return i.rho=function(a){var s=Math.max(.001,+a),l=s*s,c=l*l;return e(s,l,c)},i}(Math.SQRT2,2,4);function ZQe(e,t){t===void 0&&(t=e,e=s0);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[l](s-l)}}function QQe(e){return function(){return e}}function u_(e){return+e}var Rz=[0,1];function ua(e){return e}function ZP(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:QQe(isNaN(t)?NaN:.5)}function JQe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function eJe(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=ZP(i,r),a=n(s,a)):(r=ZP(r,i),a=n(a,s)),function(l){return a(r(l))}}function tJe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=ZP(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(l){var c=Jb(e,l,1,r)-1;return a[c](i[c](l))}}function t1(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function xT(){var e=Rz,t=Rz,n=s0,r,i,a,s=ua,l,c,u;function d(){var f=Math.min(e.length,t.length);return s!==ua&&(s=JQe(e[0],e[f-1])),l=f>2?tJe:eJe,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?a:(c||(c=l(e.map(r),t,n)))(r(s(f)))}return h.invert=function(f){return s(i((u||(u=l(t,e.map(r),bo)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,u_),d()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),n=ZL,d()},h.clamp=function(f){return arguments.length?(s=f?!0:ua,d()):s!==ua},h.interpolate=function(f){return arguments.length?(n=f,d()):n},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,m){return r=f,i=m,d()}}function QL(){return xT()(ua,ua)}function nJe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function d_(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Vp(e){return e=d_(Math.abs(e)),e?e[1]:NaN}function rJe(e,t){return function(n,r){for(var i=n.length,a=[],s=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=e[s=(s+1)%e.length];return a.reverse().join(t)}}function iJe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var aJe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bv(e){if(!(t=aJe.exec(e)))throw new Error("invalid format: "+e);var t;return new JL({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}bv.prototype=JL.prototype;function JL(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}JL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function sJe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Rae;function oJe(e,t){var n=d_(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(Rae=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+d_(e,Math.max(0,t+a-1))[0]}function Dz(e,t){var n=d_(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Lz={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:nJe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Dz(e*100,t),r:Dz,s:oJe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $z(e){return e}var Bz=Array.prototype.map,Fz=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function lJe(e){var t=e.grouping===void 0||e.thousands===void 0?$z:rJe(Bz.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?$z:iJe(Bz.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=bv(h);var f=h.fill,m=h.align,p=h.sign,g=h.symbol,x=h.zero,y=h.width,v=h.comma,b=h.precision,E=h.trim,_=h.type;_==="n"?(v=!0,_="g"):Lz[_]||(b===void 0&&(b=12),E=!0,_="g"),(x||f==="0"&&m==="=")&&(x=!0,f="0",m="=");var S=g==="$"?n:g==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",C=g==="$"?r:/[%p]/.test(_)?s:"",T=Lz[_],j=/[defgprs%]/.test(_);b=b===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function k(O){var M=S,B=C,N,D,P;if(_==="c")B=T(O)+B,O="";else{O=+O;var L=O<0||1/O<0;if(O=isNaN(O)?c:T(Math.abs(O),b),E&&(O=sJe(O)),L&&+O==0&&p!=="+"&&(L=!1),M=(L?p==="("?p:l:p==="-"||p==="("?"":p)+M,B=(_==="s"?Fz[8+Rae/3]:"")+B+(L&&p==="("?")":""),j){for(N=-1,D=O.length;++N<D;)if(P=O.charCodeAt(N),48>P||P>57){B=(P===46?i+O.slice(N+1):O.slice(N))+B,O=O.slice(0,N);break}}}v&&!x&&(O=t(O,1/0));var I=M.length+O.length+B.length,U=I<y?new Array(y-I+1).join(f):"";switch(v&&x&&(O=t(U+O,U.length?y-B.length:1/0),U=""),m){case"<":O=M+O+B+U;break;case"=":O=M+U+O+B;break;case"^":O=U.slice(0,I=U.length>>1)+M+O+B+U.slice(I);break;default:O=U+M+O+B;break}return a(O)}return k.toString=function(){return h+""},k}function d(h,f){var m=u((h=bv(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(Vp(f)/3)))*3,g=Math.pow(10,-p),x=Fz[8+p/3];return function(y){return m(g*y)+x}}return{format:u,formatPrefix:d}}var Nw,e4,Dae;cJe({thousands:",",grouping:[3],currency:["$",""]});function cJe(e){return Nw=lJe(e),e4=Nw.format,Dae=Nw.formatPrefix,Nw}function uJe(e){return Math.max(0,-Vp(Math.abs(e)))}function dJe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vp(t)/3)))*3-Vp(Math.abs(e)))}function hJe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vp(t)-Vp(e))+1}function Lae(e,t,n,r){var i=qP(e,t,n),a;switch(r=bv(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=dJe(i,s))&&(r.precision=a),Dae(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=hJe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=uJe(i))&&(r.precision=a-(r.type==="%")*2);break}}return e4(r)}function kd(e){var t=e.domain;return e.ticks=function(n){var r=t();return VP(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Lae(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],l=r[a],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=WP(s,l,n),u===c)return r[i]=s,r[a]=l,t(r);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function h_(){var e=QL();return e.copy=function(){return t1(e,h_())},eo.apply(e,arguments),kd(e)}function $ae(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,u_),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return $ae(e).unknown(t)},e=arguments.length?Array.from(e,u_):[0,1],kd(n)}function Bae(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function zz(e){return Math.log(e)}function Uz(e){return Math.exp(e)}function fJe(e){return-Math.log(-e)}function mJe(e){return-Math.exp(-e)}function pJe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function gJe(e){return e===10?pJe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function yJe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Hz(e){return(t,n)=>-e(-t,n)}function t4(e){const t=e(zz,Uz),n=t.domain;let r=10,i,a;function s(){return i=yJe(r),a=gJe(r),n()[0]<0?(i=Hz(i),a=Hz(a),e(fJe,mJe)):e(zz,Uz),t}return t.base=function(l){return arguments.length?(r=+l,s()):r},t.domain=function(l){return arguments.length?(n(l),s()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=i(u),m=i(d),p,g;const x=l==null?10:+l;let y=[];if(!(r%1)&&m-f<x){if(f=Math.floor(f),m=Math.ceil(m),u>0){for(;f<=m;++f)for(p=1;p<r;++p)if(g=f<0?p/a(-f):p*a(f),!(g<u)){if(g>d)break;y.push(g)}}else for(;f<=m;++f)for(p=r-1;p>=1;--p)if(g=f>0?p/a(-f):p*a(f),!(g<u)){if(g>d)break;y.push(g)}y.length*2<x&&(y=VP(u,d,x))}else y=VP(f,m,Math.min(m-f,x)).map(a);return h?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=bv(c)).precision==null&&(c.trim=!0),c=e4(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let h=d/a(Math.round(i(d)));return h*r<r-.5&&(h*=r),h<=u?c(d):""}},t.nice=()=>n(Bae(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function Fae(){const e=t4(xT()).domain([1,10]);return e.copy=()=>t1(e,Fae()).base(e.base()),eo.apply(e,arguments),e}function Vz(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Wz(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function n4(e){var t=1,n=e(Vz(t),Wz(t));return n.constant=function(r){return arguments.length?e(Vz(t=+r),Wz(t)):t},kd(n)}function zae(){var e=n4(xT());return e.copy=function(){return t1(e,zae()).constant(e.constant())},eo.apply(e,arguments)}function qz(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xJe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function vJe(e){return e<0?-e*e:e*e}function r4(e){var t=e(ua,ua),n=1;function r(){return n===1?e(ua,ua):n===.5?e(xJe,vJe):e(qz(n),qz(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},kd(t)}function i4(){var e=r4(xT());return e.copy=function(){return t1(e,i4()).exponent(e.exponent())},eo.apply(e,arguments),e}function bJe(){return i4.apply(null,arguments).exponent(.5)}function Gz(e){return Math.sign(e)*e*e}function wJe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Uae(){var e=QL(),t=[0,1],n=!1,r;function i(a){var s=wJe(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(Gz(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,u_)).map(Gz)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Uae(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},eo.apply(i,arguments),kd(i)}function Hae(){var e=[],t=[],n=[],r;function i(){var s=0,l=Math.max(1,t.length);for(n=new Array(l-1);++s<l;)n[s-1]=bQe(e,s/l);return a}function a(s){return s==null||isNaN(s=+s)?r:t[Jb(n,s)]}return a.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Wu),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Hae().domain(e).range(t).unknown(r)},eo.apply(a,arguments)}function Vae(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Jb(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return Vae().domain([e,t]).range(i).unknown(a)},eo.apply(kd(s),arguments)}function Wae(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Jb(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Wae().domain(e).range(t).unknown(n)},eo.apply(i,arguments)}const fA=new Date,mA=new Date;function ni(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<s);return c},i.filter=a=>ni(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!a(s););else for(;--l>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(fA.setTime(+a),mA.setTime(+s),e(fA),e(mA),Math.floor(n(fA,mA))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const f_=ni(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);f_.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ni(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):f_);f_.range;const sc=1e3,Bs=sc*60,oc=Bs*60,Nc=oc*24,a4=Nc*7,Yz=Nc*30,pA=Nc*365,hh=ni(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*sc)},(e,t)=>(t-e)/sc,e=>e.getUTCSeconds());hh.range;const s4=ni(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sc)},(e,t)=>{e.setTime(+e+t*Bs)},(e,t)=>(t-e)/Bs,e=>e.getMinutes());s4.range;const o4=ni(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Bs)},(e,t)=>(t-e)/Bs,e=>e.getUTCMinutes());o4.range;const l4=ni(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sc-e.getMinutes()*Bs)},(e,t)=>{e.setTime(+e+t*oc)},(e,t)=>(t-e)/oc,e=>e.getHours());l4.range;const c4=ni(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*oc)},(e,t)=>(t-e)/oc,e=>e.getUTCHours());c4.range;const n1=ni(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Bs)/Nc,e=>e.getDate()-1);n1.range;const vT=ni(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Nc,e=>e.getUTCDate()-1);vT.range;const qae=ni(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Nc,e=>Math.floor(e/Nc));qae.range;function Pf(e){return ni(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Bs)/a4)}const bT=Pf(0),m_=Pf(1),EJe=Pf(2),SJe=Pf(3),Wp=Pf(4),_Je=Pf(5),CJe=Pf(6);bT.range;m_.range;EJe.range;SJe.range;Wp.range;_Je.range;CJe.range;function Mf(e){return ni(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/a4)}const wT=Mf(0),p_=Mf(1),TJe=Mf(2),NJe=Mf(3),qp=Mf(4),kJe=Mf(5),AJe=Mf(6);wT.range;p_.range;TJe.range;NJe.range;qp.range;kJe.range;AJe.range;const u4=ni(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());u4.range;const d4=ni(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());d4.range;const kc=ni(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());kc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ni(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});kc.range;const Ac=ni(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ac.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ni(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ac.range;function Gae(e,t,n,r,i,a){const s=[[hh,1,sc],[hh,5,5*sc],[hh,15,15*sc],[hh,30,30*sc],[a,1,Bs],[a,5,5*Bs],[a,15,15*Bs],[a,30,30*Bs],[i,1,oc],[i,3,3*oc],[i,6,6*oc],[i,12,12*oc],[r,1,Nc],[r,2,2*Nc],[n,1,a4],[t,1,Yz],[t,3,3*Yz],[e,1,pA]];function l(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const m=h&&typeof h.range=="function"?h:c(u,d,h),p=m?m.range(u,+d+1):[];return f?p.reverse():p}function c(u,d,h){const f=Math.abs(d-u)/h,m=YL(([,,x])=>x).right(s,f);if(m===s.length)return e.every(qP(u/pA,d/pA,h));if(m===0)return f_.every(Math.max(qP(u,d,h),1));const[p,g]=s[f/s[m-1][2]<s[m][2]/f?m-1:m];return p.every(g)}return[l,c]}const[jJe,OJe]=Gae(Ac,d4,wT,qae,c4,o4),[PJe,MJe]=Gae(kc,u4,bT,n1,l4,s4);function gA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Y0(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function IJe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=K0(i),d=X0(i),h=K0(a),f=X0(a),m=K0(s),p=X0(s),g=K0(l),x=X0(l),y=K0(c),v=X0(c),b={a:L,A:I,b:U,B:$,c:null,d:eU,e:eU,f:ret,g:met,G:get,H:eet,I:tet,j:net,L:Yae,m:iet,M:aet,p:W,q:z,Q:rU,s:iU,S:set,u:oet,U:cet,V:uet,w:det,W:het,x:null,X:null,y:fet,Y:pet,Z:yet,"%":nU},E={a:R,A:G,b:Q,B:oe,c:null,d:tU,e:tU,f:wet,g:Pet,G:Iet,H:xet,I:vet,j:bet,L:Xae,m:Eet,M:_et,p:re,q:pe,Q:rU,s:iU,S:Cet,u:Tet,U:Net,V:ket,w:Aet,W:jet,x:null,X:null,y:Oet,Y:Met,Z:Ret,"%":nU},_={a:k,A:O,b:M,B,c:N,d:Qz,e:Qz,f:XJe,g:Zz,G:Xz,H:Jz,I:Jz,j:qJe,L:KJe,m:WJe,M:GJe,p:j,q:VJe,Q:QJe,s:JJe,S:YJe,u:BJe,U:FJe,V:zJe,w:$Je,W:UJe,x:D,X:P,y:Zz,Y:Xz,Z:HJe,"%":ZJe};b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),E.x=S(n,E),E.X=S(r,E),E.c=S(t,E);function S(ce,me){return function(ye){var ae=[],Ae=-1,H=0,Z=ce.length,he,se,V;for(ye instanceof Date||(ye=new Date(+ye));++Ae<Z;)ce.charCodeAt(Ae)===37&&(ae.push(ce.slice(H,Ae)),(se=Kz[he=ce.charAt(++Ae)])!=null?he=ce.charAt(++Ae):se=he==="e"?" ":"0",(V=me[he])&&(he=V(ye,se)),ae.push(he),H=Ae+1);return ae.push(ce.slice(H,Ae)),ae.join("")}}function C(ce,me){return function(ye){var ae=Y0(1900,void 0,1),Ae=T(ae,ce,ye+="",0),H,Z;if(Ae!=ye.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(me&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(H=yA(Y0(ae.y,0,1)),Z=H.getUTCDay(),H=Z>4||Z===0?p_.ceil(H):p_(H),H=vT.offset(H,(ae.V-1)*7),ae.y=H.getUTCFullYear(),ae.m=H.getUTCMonth(),ae.d=H.getUTCDate()+(ae.w+6)%7):(H=gA(Y0(ae.y,0,1)),Z=H.getDay(),H=Z>4||Z===0?m_.ceil(H):m_(H),H=n1.offset(H,(ae.V-1)*7),ae.y=H.getFullYear(),ae.m=H.getMonth(),ae.d=H.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),Z="Z"in ae?yA(Y0(ae.y,0,1)).getUTCDay():gA(Y0(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(Z+5)%7:ae.w+ae.U*7-(Z+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,yA(ae)):gA(ae)}}function T(ce,me,ye,ae){for(var Ae=0,H=me.length,Z=ye.length,he,se;Ae<H;){if(ae>=Z)return-1;if(he=me.charCodeAt(Ae++),he===37){if(he=me.charAt(Ae++),se=_[he in Kz?me.charAt(Ae++):he],!se||(ae=se(ce,ye,ae))<0)return-1}else if(he!=ye.charCodeAt(ae++))return-1}return ae}function j(ce,me,ye){var ae=u.exec(me.slice(ye));return ae?(ce.p=d.get(ae[0].toLowerCase()),ye+ae[0].length):-1}function k(ce,me,ye){var ae=m.exec(me.slice(ye));return ae?(ce.w=p.get(ae[0].toLowerCase()),ye+ae[0].length):-1}function O(ce,me,ye){var ae=h.exec(me.slice(ye));return ae?(ce.w=f.get(ae[0].toLowerCase()),ye+ae[0].length):-1}function M(ce,me,ye){var ae=y.exec(me.slice(ye));return ae?(ce.m=v.get(ae[0].toLowerCase()),ye+ae[0].length):-1}function B(ce,me,ye){var ae=g.exec(me.slice(ye));return ae?(ce.m=x.get(ae[0].toLowerCase()),ye+ae[0].length):-1}function N(ce,me,ye){return T(ce,t,me,ye)}function D(ce,me,ye){return T(ce,n,me,ye)}function P(ce,me,ye){return T(ce,r,me,ye)}function L(ce){return s[ce.getDay()]}function I(ce){return a[ce.getDay()]}function U(ce){return c[ce.getMonth()]}function $(ce){return l[ce.getMonth()]}function W(ce){return i[+(ce.getHours()>=12)]}function z(ce){return 1+~~(ce.getMonth()/3)}function R(ce){return s[ce.getUTCDay()]}function G(ce){return a[ce.getUTCDay()]}function Q(ce){return c[ce.getUTCMonth()]}function oe(ce){return l[ce.getUTCMonth()]}function re(ce){return i[+(ce.getUTCHours()>=12)]}function pe(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var me=S(ce+="",b);return me.toString=function(){return ce},me},parse:function(ce){var me=C(ce+="",!1);return me.toString=function(){return ce},me},utcFormat:function(ce){var me=S(ce+="",E);return me.toString=function(){return ce},me},utcParse:function(ce){var me=C(ce+="",!0);return me.toString=function(){return ce},me}}}var Kz={"-":"",_:" ",0:"0"},gi=/^\s*\d+/,RJe=/^%/,DJe=/[\\^$*+?|[\]().{}]/g;function xn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function LJe(e){return e.replace(DJe,"\\$&")}function K0(e){return new RegExp("^(?:"+e.map(LJe).join("|")+")","i")}function X0(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function $Je(e,t,n){var r=gi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function BJe(e,t,n){var r=gi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function FJe(e,t,n){var r=gi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function zJe(e,t,n){var r=gi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function UJe(e,t,n){var r=gi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Xz(e,t,n){var r=gi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Zz(e,t,n){var r=gi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function HJe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function VJe(e,t,n){var r=gi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function WJe(e,t,n){var r=gi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Qz(e,t,n){var r=gi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function qJe(e,t,n){var r=gi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Jz(e,t,n){var r=gi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function GJe(e,t,n){var r=gi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function YJe(e,t,n){var r=gi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function KJe(e,t,n){var r=gi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function XJe(e,t,n){var r=gi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ZJe(e,t,n){var r=RJe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function QJe(e,t,n){var r=gi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function JJe(e,t,n){var r=gi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function eU(e,t){return xn(e.getDate(),t,2)}function eet(e,t){return xn(e.getHours(),t,2)}function tet(e,t){return xn(e.getHours()%12||12,t,2)}function net(e,t){return xn(1+n1.count(kc(e),e),t,3)}function Yae(e,t){return xn(e.getMilliseconds(),t,3)}function ret(e,t){return Yae(e,t)+"000"}function iet(e,t){return xn(e.getMonth()+1,t,2)}function aet(e,t){return xn(e.getMinutes(),t,2)}function set(e,t){return xn(e.getSeconds(),t,2)}function oet(e){var t=e.getDay();return t===0?7:t}function cet(e,t){return xn(bT.count(kc(e)-1,e),t,2)}function Kae(e){var t=e.getDay();return t>=4||t===0?Wp(e):Wp.ceil(e)}function uet(e,t){return e=Kae(e),xn(Wp.count(kc(e),e)+(kc(e).getDay()===4),t,2)}function det(e){return e.getDay()}function het(e,t){return xn(m_.count(kc(e)-1,e),t,2)}function fet(e,t){return xn(e.getFullYear()%100,t,2)}function met(e,t){return e=Kae(e),xn(e.getFullYear()%100,t,2)}function pet(e,t){return xn(e.getFullYear()%1e4,t,4)}function get(e,t){var n=e.getDay();return e=n>=4||n===0?Wp(e):Wp.ceil(e),xn(e.getFullYear()%1e4,t,4)}function yet(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+xn(t/60|0,"0",2)+xn(t%60,"0",2)}function tU(e,t){return xn(e.getUTCDate(),t,2)}function xet(e,t){return xn(e.getUTCHours(),t,2)}function vet(e,t){return xn(e.getUTCHours()%12||12,t,2)}function bet(e,t){return xn(1+vT.count(Ac(e),e),t,3)}function Xae(e,t){return xn(e.getUTCMilliseconds(),t,3)}function wet(e,t){return Xae(e,t)+"000"}function Eet(e,t){return xn(e.getUTCMonth()+1,t,2)}function _et(e,t){return xn(e.getUTCMinutes(),t,2)}function Cet(e,t){return xn(e.getUTCSeconds(),t,2)}function Tet(e){var t=e.getUTCDay();return t===0?7:t}function Net(e,t){return xn(wT.count(Ac(e)-1,e),t,2)}function Zae(e){var t=e.getUTCDay();return t>=4||t===0?qp(e):qp.ceil(e)}function ket(e,t){return e=Zae(e),xn(qp.count(Ac(e),e)+(Ac(e).getUTCDay()===4),t,2)}function Aet(e){return e.getUTCDay()}function jet(e,t){return xn(p_.count(Ac(e)-1,e),t,2)}function Oet(e,t){return xn(e.getUTCFullYear()%100,t,2)}function Pet(e,t){return e=Zae(e),xn(e.getUTCFullYear()%100,t,2)}function Met(e,t){return xn(e.getUTCFullYear()%1e4,t,4)}function Iet(e,t){var n=e.getUTCDay();return e=n>=4||n===0?qp(e):qp.ceil(e),xn(e.getUTCFullYear()%1e4,t,4)}function Ret(){return"+0000"}function nU(){return"%"}function rU(e){return+e}function iU(e){return Math.floor(+e/1e3)}var Qf,Qae,Jae;Det({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Det(e){return Qf=IJe(e),Qae=Qf.format,Qf.parse,Jae=Qf.utcFormat,Qf.utcParse,Qf}function Let(e){return new Date(e)}function $et(e){return e instanceof Date?+e:+new Date(+e)}function h4(e,t,n,r,i,a,s,l,c,u){var d=QL(),h=d.invert,f=d.domain,m=u(".%L"),p=u(":%S"),g=u("%I:%M"),x=u("%I %p"),y=u("%a %d"),v=u("%b %d"),b=u("%B"),E=u("%Y");function _(S){return(c(S)<S?m:l(S)<S?p:s(S)<S?g:a(S)<S?x:r(S)<S?i(S)<S?y:v:n(S)<S?b:E)(S)}return d.invert=function(S){return new Date(h(S))},d.domain=function(S){return arguments.length?f(Array.from(S,$et)):f().map(Let)},d.ticks=function(S){var C=f();return e(C[0],C[C.length-1],S??10)},d.tickFormat=function(S,C){return C==null?_:u(C)},d.nice=function(S){var C=f();return(!S||typeof S.range!="function")&&(S=t(C[0],C[C.length-1],S??10)),S?f(Bae(C,S)):d},d.copy=function(){return t1(d,h4(e,t,n,r,i,a,s,l,c,u))},d}function Bet(){return eo.apply(h4(PJe,MJe,kc,u4,bT,n1,l4,s4,hh,Qae).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Fet(){return eo.apply(h4(jJe,OJe,Ac,d4,wT,vT,c4,o4,hh,Jae).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ET(){var e=0,t=1,n,r,i,a,s=ua,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:s(i===0?.5:(h=(a(h)-n)*i,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(s=h,u):s};function d(h){return function(f){var m,p;return arguments.length?([m,p]=f,s=h(m,p),u):[s(0),s(1)]}}return u.range=d(s0),u.rangeRound=d(ZL),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return a=h,n=h(e),r=h(t),i=n===r?0:1/(r-n),u}}function Ad(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ese(){var e=kd(ET()(ua));return e.copy=function(){return Ad(e,ese())},Fc.apply(e,arguments)}function tse(){var e=t4(ET()).domain([1,10]);return e.copy=function(){return Ad(e,tse()).base(e.base())},Fc.apply(e,arguments)}function nse(){var e=n4(ET());return e.copy=function(){return Ad(e,nse()).constant(e.constant())},Fc.apply(e,arguments)}function f4(){var e=r4(ET());return e.copy=function(){return Ad(e,f4()).exponent(e.exponent())},Fc.apply(e,arguments)}function zet(){return f4.apply(null,arguments).exponent(.5)}function rse(){var e=[],t=ua;function n(r){if(r!=null&&!isNaN(r=+r))return t((Jb(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Wu),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>vQe(e,a/r))},n.copy=function(){return rse(t).domain(e)},Fc.apply(n,arguments)}function ST(){var e=0,t=.5,n=1,r=1,i,a,s,l,c,u=ua,d,h=!1,f;function m(g){return isNaN(g=+g)?f:(g=.5+((g=+d(g))-a)*(r*g<r*a?l:c),u(h?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,n]=g,i=d(e=+e),a=d(t=+t),s=d(n=+n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,m):[e,t,n]},m.clamp=function(g){return arguments.length?(h=!!g,m):h},m.interpolator=function(g){return arguments.length?(u=g,m):u};function p(g){return function(x){var y,v,b;return arguments.length?([y,v,b]=x,u=ZQe(g,[y,v,b]),m):[u(0),u(.5),u(1)]}}return m.range=p(s0),m.rangeRound=p(ZL),m.unknown=function(g){return arguments.length?(f=g,m):f},function(g){return d=g,i=g(e),a=g(t),s=g(n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function ise(){var e=kd(ST()(ua));return e.copy=function(){return Ad(e,ise())},Fc.apply(e,arguments)}function ase(){var e=t4(ST()).domain([.1,1,10]);return e.copy=function(){return Ad(e,ase()).base(e.base())},Fc.apply(e,arguments)}function sse(){var e=n4(ST());return e.copy=function(){return Ad(e,sse()).constant(e.constant())},Fc.apply(e,arguments)}function m4(){var e=r4(ST());return e.copy=function(){return Ad(e,m4()).exponent(e.exponent())},Fc.apply(e,arguments)}function Uet(){return m4.apply(null,arguments).exponent(.5)}const aU=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:yv,scaleDiverging:ise,scaleDivergingLog:ase,scaleDivergingPow:m4,scaleDivergingSqrt:Uet,scaleDivergingSymlog:sse,scaleIdentity:$ae,scaleImplicit:GP,scaleLinear:h_,scaleLog:Fae,scaleOrdinal:KL,scalePoint:ax,scalePow:i4,scaleQuantile:Hae,scaleQuantize:Vae,scaleRadial:Uae,scaleSequential:ese,scaleSequentialLog:tse,scaleSequentialPow:f4,scaleSequentialQuantile:rse,scaleSequentialSqrt:zet,scaleSequentialSymlog:nse,scaleSqrt:bJe,scaleSymlog:zae,scaleThreshold:Wae,scaleTime:Bet,scaleUtc:Fet,tickFormat:Lae},Symbol.toStringTag,{value:"Module"}));var Het=Zg;function Vet(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(s!=null&&(l===void 0?s===s&&!Het(s):n(s,l)))var l=s,c=a}return c}var _T=Vet;function Wet(e,t){return e>t}var ose=Wet,qet=_T,Get=ose,Yet=a0;function Ket(e){return e&&e.length?qet(e,Yet,Get):void 0}var Xet=Ket;const CT=sn(Xet);function Zet(e,t){return e<t}var lse=Zet,Qet=_T,Jet=lse,ett=a0;function ttt(e){return e&&e.length?Qet(e,ett,Jet):void 0}var ntt=ttt;const TT=sn(ntt);var rtt=yL,itt=Pl,att=hae,stt=Wa;function ott(e,t){var n=stt(e)?rtt:att;return n(e,itt(t))}var ltt=ott,ctt=uae,utt=ltt;function dtt(e,t){return ctt(utt(e,t),1)}var htt=dtt;const ftt=sn(htt);var mtt=VL;function ptt(e,t){return mtt(e,t)}var gtt=ptt;const r1=sn(gtt);var o0=1e9,ytt={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},g4,rr=!0,Gs="[DecimalError] ",jh=Gs+"Invalid argument: ",p4=Gs+"Exponent out of range: ",l0=Math.floor,Kd=Math.pow,xtt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,os,li=1e7,Yn=7,cse=9007199254740991,g_=l0(cse/Yn),at={};at.absoluteValue=at.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};at.comparedTo=at.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};at.decimalPlaces=at.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Yn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};at.dividedBy=at.div=function(e){return pc(this,new this.constructor(e))};at.dividedToIntegerBy=at.idiv=function(e){var t=this,n=t.constructor;return In(pc(t,new n(e),0,1),n.precision)};at.equals=at.eq=function(e){return!this.cmp(e)};at.exponent=function(){return Hr(this)};at.greaterThan=at.gt=function(e){return this.cmp(e)>0};at.greaterThanOrEqualTo=at.gte=function(e){return this.cmp(e)>=0};at.isInteger=at.isint=function(){return this.e>this.d.length-2};at.isNegative=at.isneg=function(){return this.s<0};at.isPositive=at.ispos=function(){return this.s>0};at.isZero=function(){return this.s===0};at.lessThan=at.lt=function(e){return this.cmp(e)<0};at.lessThanOrEqualTo=at.lte=function(e){return this.cmp(e)<1};at.logarithm=at.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(os))throw Error(Gs+"NaN");if(n.s<1)throw Error(Gs+(n.s?"NaN":"-Infinity"));return n.eq(os)?new r(0):(rr=!1,t=pc(wv(n,a),wv(e,a),a),rr=!0,In(t,i))};at.minus=at.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?hse(t,e):use(t,(e.s=-e.s,e))};at.modulo=at.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Gs+"NaN");return n.s?(rr=!1,t=pc(n,e,0,1).times(e),rr=!0,n.minus(t)):In(new r(n),i)};at.naturalExponential=at.exp=function(){return dse(this)};at.naturalLogarithm=at.ln=function(){return wv(this)};at.negated=at.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};at.plus=at.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?use(t,e):hse(t,(e.s=-e.s,e))};at.precision=at.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jh+e);if(t=Hr(i)+1,r=i.d.length-1,n=r*Yn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};at.squareRoot=at.sqrt=function(){var e,t,n,r,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Gs+"NaN")}for(e=Hr(l),rr=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=al(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=l0((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(pc(l,a,s+2)).times(.5),al(a.d).slice(0,s)===(t=al(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(In(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;s+=4}return rr=!0,In(r,n)};at.times=at.mul=function(e){var t,n,r,i,a,s,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,c=f.length,u=m.length,c<u&&(a=f,f=m,m=a,s=c,c=u,u=s),a=[],s=c+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=a[i]+m[r]*f[i-r-1]+t,a[i--]=l%li|0,t=l/li|0;a[i]=(a[i]+t)%li|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,rr?In(e,h.precision):e};at.toDecimalPlaces=at.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(El(e,0,o0),t===void 0?t=r.rounding:El(t,0,8),In(n,e+Hr(n)+1,t))};at.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=tf(r,!0):(El(e,0,o0),t===void 0?t=i.rounding:El(t,0,8),r=In(new i(r),e+1,t),n=tf(r,!0,e+1)),n};at.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?tf(i):(El(e,0,o0),t===void 0?t=a.rounding:El(t,0,8),r=In(new a(i),e+Hr(i)+1,t),n=tf(r.abs(),!1,e+Hr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};at.toInteger=at.toint=function(){var e=this,t=e.constructor;return In(new t(e),Hr(e)+1,t.rounding)};at.toNumber=function(){return+this};at.toPower=at.pow=function(e){var t,n,r,i,a,s,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(os);if(l=new c(l),!l.s){if(e.s<1)throw Error(Gs+"Infinity");return l}if(l.eq(os))return l;if(r=c.precision,e.eq(os))return In(l,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=l.s,s){if((n=d<0?-d:d)<=cse){for(i=new c(os),t=Math.ceil(r/Yn+4),rr=!1;n%2&&(i=i.times(l),oU(i.d,t)),n=l0(n/2),n!==0;)l=l.times(l),oU(l.d,t);return rr=!0,e.s<0?new c(os).div(i):In(i,r)}}else if(a<0)throw Error(Gs+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,rr=!1,i=e.times(wv(l,r+u)),rr=!0,i=dse(i),i.s=a,i};at.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Hr(i),r=tf(i,n<=a.toExpNeg||n>=a.toExpPos)):(El(e,1,o0),t===void 0?t=a.rounding:El(t,0,8),i=In(new a(i),e,t),n=Hr(i),r=tf(i,e<=n||n<=a.toExpNeg,e)),r};at.toSignificantDigits=at.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(El(e,1,o0),t===void 0?t=r.rounding:El(t,0,8)),In(new r(n),e,t)};at.toString=at.valueOf=at.val=at.toJSON=at[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Hr(e),n=e.constructor;return tf(e,t<=n.toExpNeg||t>=n.toExpPos)};function use(e,t){var n,r,i,a,s,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),rr?In(t,h):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,l=u.length):(r=u,i=s,l=c.length),s=Math.ceil(h/Yn),l=s>l?s+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/li|0,c[a]%=li;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,rr?In(t,h):t}function El(e,t,n){if(e!==~~e||e<t||e>n)throw Error(jh+e)}function al(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=Yn-r.length,n&&(a+=fu(n)),a+=r;s=e[t],r=s+"",n=Yn-r.length,n&&(a+=fu(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var pc=function(){function e(r,i){var a,s=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+s,r[l]=a%li|0,s=a/li|0;return s&&r.unshift(s),r}function t(r,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*li+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var l,c,u,d,h,f,m,p,g,x,y,v,b,E,_,S,C,T,j=r.constructor,k=r.s==i.s?1:-1,O=r.d,M=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(Gs+"Division by zero");for(c=r.e-i.e,C=M.length,_=O.length,m=new j(k),p=m.d=[],u=0;M[u]==(O[u]||0);)++u;if(M[u]>(O[u]||0)&&--c,a==null?v=a=j.precision:s?v=a+(Hr(r)-Hr(i))+1:v=a,v<0)return new j(0);if(v=v/Yn+2|0,u=0,C==1)for(d=0,M=M[0],v++;(u<_||d)&&v--;u++)b=d*li+(O[u]||0),p[u]=b/M|0,d=b%M|0;else{for(d=li/(M[0]+1)|0,d>1&&(M=e(M,d),O=e(O,d),C=M.length,_=O.length),E=C,g=O.slice(0,C),x=g.length;x<C;)g[x++]=0;T=M.slice(),T.unshift(0),S=M[0],M[1]>=li/2&&++S;do d=0,l=t(M,g,C,x),l<0?(y=g[0],C!=x&&(y=y*li+(g[1]||0)),d=y/S|0,d>1?(d>=li&&(d=li-1),h=e(M,d),f=h.length,x=g.length,l=t(h,g,f,x),l==1&&(d--,n(h,C<f?T:M,f))):(d==0&&(l=d=1),h=M.slice()),f=h.length,f<x&&h.unshift(0),n(g,h,x),l==-1&&(x=g.length,l=t(M,g,C,x),l<1&&(d++,n(g,C<x?T:M,x))),x=g.length):l===0&&(d++,g=[0]),p[u++]=d,l&&g[0]?g[x++]=O[E]||0:(g=[O[E]],x=1);while((E++<_||g[0]!==void 0)&&v--)}return p[0]||p.shift(),m.e=c,In(m,s?a+Hr(m)+1:a)}}();function dse(e,t){var n,r,i,a,s,l,c=0,u=0,d=e.constructor,h=d.precision;if(Hr(e)>16)throw Error(p4+Hr(e));if(!e.s)return new d(os);for(t==null?(rr=!1,l=h):l=t,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(r=Math.log(Kd(2,u))/Math.LN10*2+5|0,l+=r,n=i=a=new d(os),d.precision=l;;){if(i=In(i.times(e),l),n=n.times(++c),s=a.plus(pc(i,n,l)),al(s.d).slice(0,l)===al(a.d).slice(0,l)){for(;u--;)a=In(a.times(a),l);return d.precision=h,t==null?(rr=!0,In(a,h)):a}a=s}}function Hr(e){for(var t=e.e*Yn,n=e.d[0];n>=10;n/=10)t++;return t}function xA(e,t,n){if(t>e.LN10.sd())throw rr=!0,n&&(e.precision=n),Error(Gs+"LN10 precision limit exceeded");return In(new e(e.LN10),t)}function fu(e){for(var t="";e--;)t+="0";return t}function wv(e,t){var n,r,i,a,s,l,c,u,d,h=1,f=10,m=e,p=m.d,g=m.constructor,x=g.precision;if(m.s<1)throw Error(Gs+(m.s?"NaN":"-Infinity"));if(m.eq(os))return new g(0);if(t==null?(rr=!1,u=x):u=t,m.eq(10))return t==null&&(rr=!0),xA(g,u);if(u+=f,g.precision=u,n=al(p),r=n.charAt(0),a=Hr(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=al(m.d),r=n.charAt(0),h++;a=Hr(m),r>1?(m=new g("0."+n),a++):m=new g(r+"."+n.slice(1))}else return c=xA(g,u+2,x).times(a+""),m=wv(new g(r+"."+n.slice(1)),u-f).plus(c),g.precision=x,t==null?(rr=!0,In(m,x)):m;for(l=s=m=pc(m.minus(os),m.plus(os),u),d=In(m.times(m),u),i=3;;){if(s=In(s.times(d),u),c=l.plus(pc(s,new g(i),u)),al(c.d).slice(0,u)===al(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(xA(g,u+2,x).times(a+""))),l=pc(l,new g(h),u),g.precision=x,t==null?(rr=!0,In(l,x)):l;l=c,i+=2}}function sU(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=l0(n/Yn),e.d=[],r=(n+1)%Yn,n<0&&(r+=Yn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Yn;r<i;)e.d.push(+t.slice(r,r+=Yn));t=t.slice(r),r=Yn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),rr&&(e.e>g_||e.e<-g_))throw Error(p4+n)}else e.s=0,e.e=0,e.d=[0];return e}function In(e,t,n){var r,i,a,s,l,c,u,d,h=e.d;for(s=1,a=h[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=Yn,i=t,u=h[d=0];else{if(d=Math.ceil((r+1)/Yn),a=h.length,d>=a)return e;for(u=a=h[d],s=1;a>=10;a/=10)s++;r%=Yn,i=r-Yn+s}if(n!==void 0&&(a=Kd(10,s-i-1),l=u/a%10|0,c=t<0||h[d+1]!==void 0||u%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/Kd(10,s-i):0:h[d-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return c?(a=Hr(e),h.length=1,t=t-a-1,h[0]=Kd(10,(Yn-t%Yn)%Yn),e.e=l0(-t/Yn)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(r==0?(h.length=d,a=1,d--):(h.length=d+1,a=Kd(10,Yn-r),h[d]=i>0?(u/Kd(10,s-i)%Kd(10,i)|0)*a:0),c)for(;;)if(d==0){(h[0]+=a)==li&&(h[0]=1,++e.e);break}else{if(h[d]+=a,h[d]!=li)break;h[d--]=0,a=1}for(r=h.length;h[--r]===0;)h.pop();if(rr&&(e.e>g_||e.e<-g_))throw Error(p4+Hr(e));return e}function hse(e,t){var n,r,i,a,s,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),rr?In(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),s=u-r,s){for(d=s<0,d?(n=c,s=-s,l=h.length):(n=h,r=u,l=c.length),i=Math.max(Math.ceil(m/Yn),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=h.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}s=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>s;){if(c[--i]<h[i]){for(a=i;a&&c[--a]===0;)c[a]=li-1;--c[a],c[i]+=li}c[i]-=h[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,rr?In(t,m):t):new f(0)}function tf(e,t,n){var r,i=Hr(e),a=al(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+fu(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+fu(-i-1)+a,n&&(r=n-s)>0&&(a+=fu(r))):i>=s?(a+=fu(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+fu(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=fu(r))),e.s<0?"-"+a:a}function oU(e,t){if(e.length>t)return e.length=t,!0}function fse(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(jh+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return sU(s,a.toString())}else if(typeof a!="string")throw Error(jh+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,xtt.test(a))sU(s,a);else throw Error(jh+a)}if(i.prototype=at,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=fse,i.config=i.set=vtt,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function vtt(e){if(!e||typeof e!="object")throw Error(Gs+"Object expected");var t,n,r,i=["precision",1,o0,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(l0(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(jh+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(jh+n+": "+r);return this}var g4=fse(ytt);os=new g4(1);const jn=g4;function btt(e){return _tt(e)||Stt(e)||Ett(e)||wtt()}function wtt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ett(e,t){if(e){if(typeof e=="string")return QP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QP(e,t)}}function Stt(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function _tt(e){if(Array.isArray(e))return QP(e)}function QP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ctt=function(t){return t},mse={"@@functional/placeholder":!0},pse=function(t){return t===mse},lU=function(t){return function n(){return arguments.length===0||arguments.length===1&&pse(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Ttt=function e(t,n){return t===1?n:lU(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==mse}).length;return s>=t?n.apply(void 0,i):e(t-s,lU(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(h){return pse(h)?c.shift():h});return n.apply(void 0,btt(d).concat(c))}))})},NT=function(t){return Ttt(t.length,t)},JP=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},Ntt=NT(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),ktt=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Ctt;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},eM=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},gse=function(t){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=t.apply(void 0,a)),r}};function Att(e){var t;return e===0?t=1:t=Math.floor(new jn(e).abs().log(10).toNumber())+1,t}function jtt(e,t,n){for(var r=new jn(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Ott=NT(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),Ptt=NT(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),Mtt=NT(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const kT={rangeStep:jtt,getDigitCount:Att,interpolateNumber:Ott,uninterpolateNumber:Ptt,uninterpolateTruncation:Mtt};function tM(e){return Dtt(e)||Rtt(e)||yse(e)||Itt()}function Itt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rtt(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Dtt(e){if(Array.isArray(e))return nM(e)}function Ev(e,t){return Btt(e)||$tt(e,t)||yse(e,t)||Ltt()}function Ltt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yse(e,t){if(e){if(typeof e=="string")return nM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nM(e,t)}}function nM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $tt(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function Btt(e){if(Array.isArray(e))return e}function xse(e){var t=Ev(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function vse(e,t,n){if(e.lte(0))return new jn(0);var r=kT.getDigitCount(e.toNumber()),i=new jn(10).pow(r),a=e.div(i),s=r!==1?.05:.1,l=new jn(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=l.mul(i);return t?c:new jn(Math.ceil(c))}function Ftt(e,t,n){var r=1,i=new jn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new jn(10).pow(kT.getDigitCount(e)-1),i=new jn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new jn(Math.floor(e)))}else e===0?i=new jn(Math.floor((t-1)/2)):n||(i=new jn(Math.floor(e)));var s=Math.floor((t-1)/2),l=ktt(Ntt(function(c){return i.add(new jn(c-s).mul(r)).toNumber()}),JP);return l(0,t)}function bse(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new jn(0),tickMin:new jn(0),tickMax:new jn(0)};var a=vse(new jn(t).sub(e).div(n-1),r,i),s;e<=0&&t>=0?s=new jn(0):(s=new jn(e).add(t).div(2),s=s.sub(new jn(s).mod(a)));var l=Math.ceil(s.sub(e).div(a).toNumber()),c=Math.ceil(new jn(t).sub(s).div(a).toNumber()),u=l+c+1;return u>n?bse(e,t,n,r,i+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:a,tickMin:s.sub(new jn(l).mul(a)),tickMax:s.add(new jn(c).mul(a))})}function ztt(e){var t=Ev(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=xse([n,r]),c=Ev(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(tM(JP(0,i-1).map(function(){return 1/0}))):[].concat(tM(JP(0,i-1).map(function(){return-1/0})),[d]);return n>r?eM(h):h}if(u===d)return Ftt(u,i,a);var f=bse(u,d,s,a),m=f.step,p=f.tickMin,g=f.tickMax,x=kT.rangeStep(p,g.add(new jn(.1).mul(m)),m);return n>r?eM(x):x}function Utt(e,t){var n=Ev(e,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=xse([r,i]),l=Ev(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var d=Math.max(t,2),h=vse(new jn(u).sub(c).div(d-1),a,0),f=[].concat(tM(kT.rangeStep(new jn(c),new jn(u).sub(new jn(.99).mul(h)),h)),[u]);return r>i?eM(f):f}var Htt=gse(ztt),Vtt=gse(Utt),Wtt="Invariant failed";function nf(e,t){throw new Error(Wtt)}var qtt=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Gp(e){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gp(e)}function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y_.apply(this,arguments)}function Gtt(e,t){return Ztt(e)||Xtt(e,t)||Ktt(e,t)||Ytt()}function Ytt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ktt(e,t){if(e){if(typeof e=="string")return cU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cU(e,t)}}function cU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xtt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function Ztt(e){if(Array.isArray(e))return e}function Qtt(e,t){if(e==null)return{};var n=Jtt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Jtt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ent(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tnt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sse(r.key),r)}}function nnt(e,t,n){return t&&tnt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rnt(e,t,n){return t=x_(t),int(e,wse()?Reflect.construct(t,n||[],x_(e).constructor):t.apply(e,n))}function int(e,t){if(t&&(Gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ant(e)}function ant(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wse(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wse=function(){return!!e})()}function x_(e){return x_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},x_(e)}function snt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rM(e,t)}function rM(e,t){return rM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rM(e,t)}function Ese(e,t,n){return t=Sse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sse(e){var t=ont(e,"string");return Gp(t)=="symbol"?t:t+""}function ont(e,t){if(Gp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i1=function(e){function t(){return ent(this,t),rnt(this,t,arguments)}return snt(t,e),nnt(t,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,h=r.yAxis,f=Qtt(r,qtt),m=At(f,!1);this.props.direction==="x"&&d.type!=="number"&&nf();var p=c.map(function(g){var x=u(g,l),y=x.x,v=x.y,b=x.value,E=x.errorVal;if(!E)return null;var _=[],S,C;if(Array.isArray(E)){var T=Gtt(E,2);S=T[0],C=T[1]}else S=C=E;if(a==="vertical"){var j=d.scale,k=v+i,O=k+s,M=k-s,B=j(b-S),N=j(b+C);_.push({x1:N,y1:O,x2:N,y2:M}),_.push({x1:B,y1:k,x2:N,y2:k}),_.push({x1:B,y1:O,x2:B,y2:M})}else if(a==="horizontal"){var D=h.scale,P=y+i,L=P-s,I=P+s,U=D(b-S),$=D(b+C);_.push({x1:L,y1:$,x2:I,y2:$}),_.push({x1:P,y1:U,x2:P,y2:$}),_.push({x1:L,y1:U,x2:I,y2:U})}return q.createElement(yn,y_({className:"recharts-errorBar",key:"bar-".concat(_.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},m),_.map(function(W){return q.createElement("line",y_({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return q.createElement(yn,{className:"recharts-errorBars"},p)}}])}(q.Component);Ese(i1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Ese(i1,"displayName","ErrorBar");function Sv(e){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sv(e)}function uU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uU(Object(n),!0).forEach(function(r){lnt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lnt(e,t,n){return t=cnt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cnt(e){var t=unt(e,"string");return Sv(t)=="symbol"?t:t+""}function unt(e,t){if(Sv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Sv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _se=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,s=rs(n,Zm);if(!s)return null;var l=Zm.defaultProps,c=l!==void 0?Bd(Bd({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(r||[]).reduce(function(d,h){var f=h.item,m=h.props,p=m.sectors||m.data||[];return d.concat(p.map(function(g){return{type:s.props.iconType||f.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(d){var h=d.item,f=h.type.defaultProps,m=f!==void 0?Bd(Bd({},f),h.props):{},p=m.dataKey,g=m.name,x=m.legendType,y=m.hide;return{inactive:y,dataKey:p,type:c.iconType||x||"square",color:y4(h),value:g||p,payload:m}}),Bd(Bd(Bd({},c),Zm.getWithHeight(s,i)),{},{payload:u,item:s})};function _v(e){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_v(e)}function dU(e){return mnt(e)||fnt(e)||hnt(e)||dnt()}function dnt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hnt(e,t){if(e){if(typeof e=="string")return iM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iM(e,t)}}function fnt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mnt(e){if(Array.isArray(e))return iM(e)}function iM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hU(Object(n),!0).forEach(function(r){Jm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jm(e,t,n){return t=pnt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pnt(e){var t=gnt(e,"string");return _v(t)=="symbol"?t:t+""}function gnt(e,t){if(_v(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_v(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xr(e,t,n){return Ut(e)||Ut(t)?n:Jr(t)?fs(e,t,n):Bt(t)?t(e):n}function sx(e,t,n,r){var i=ftt(e,function(l){return Xr(l,t)});if(n==="number"){var a=i.filter(function(l){return qe(l)||parseFloat(l)});return a.length?[TT(a),CT(a)]:[1/0,-1/0]}var s=r?i.filter(function(l){return!Ut(l)}):i;return s.map(function(l){return Jr(l)||l instanceof Date?l:""})}var ynt=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,h=i[u].coordinate,f=u>=l-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(la(h-d)!==la(f-h)){var p=[];if(la(f-h)===la(c[1]-c[0])){m=f;var g=h+c[1]-c[0];p[0]=Math.min(g,(g+d)/2),p[1]=Math.max(g,(g+d)/2)}else{m=d;var x=f+c[1]-c[0];p[0]=Math.min(h,(x+h)/2),p[1]=Math.max(h,(x+h)/2)}var y=[Math.min(h,(m+h)/2),Math.max(h,(m+h)/2)];if(t>y[0]&&t<=y[1]||t>=p[0]&&t<=p[1]){s=i[u].index;break}}else{var v=Math.min(d,f),b=Math.max(d,f);if(t>(v+h)/2&&t<=(b+h)/2){s=i[u].index;break}}}else for(var E=0;E<l;E++)if(E===0&&t<=(r[E].coordinate+r[E+1].coordinate)/2||E>0&&E<l-1&&t>(r[E].coordinate+r[E-1].coordinate)/2&&t<=(r[E].coordinate+r[E+1].coordinate)/2||E===l-1&&t>(r[E].coordinate+r[E-1].coordinate)/2){s=r[E].index;break}return s},y4=function(t){var n,r=t,i=r.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Sr(Sr({},t.type.defaultProps),t.props):t.props,s=a.stroke,l=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},xnt=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,h=Object.keys(d),f=0,m=h.length;f<m;f++){var p=d[h[f]],g=p.items,x=p.cateAxisId,y=g.filter(function(C){return mc(C.type).indexOf("Bar")>=0});if(y&&y.length){var v=y[0].type.defaultProps,b=v!==void 0?Sr(Sr({},v),y[0].props):y[0].props,E=b.barSize,_=b[x];s[_]||(s[_]=[]);var S=Ut(E)?n:E;s[_].push({item:y[0],stackList:y.slice(1),barSize:Ut(S)?void 0:ca(S,r,0)})}}return s},vnt=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,a=t.sizeList,s=a===void 0?[]:a,l=t.maxBarSize,c=s.length;if(c<1)return null;var u=ca(n,i,0,!0),d,h=[];if(s[0].barSize===+s[0].barSize){var f=!1,m=i/c,p=s.reduce(function(E,_){return E+_.barSize||0},0);p+=(c-1)*u,p>=i&&(p-=(c-1)*u,u=0),p>=i&&m>0&&(f=!0,m*=.9,p=c*m);var g=(i-p)/2>>0,x={offset:g-u,size:0};d=s.reduce(function(E,_){var S={item:_.item,position:{offset:x.offset+x.size+u,size:f?m:_.barSize}},C=[].concat(dU(E),[S]);return x=C[C.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(T){C.push({item:T,position:x})}),C},h)}else{var y=ca(r,i,0,!0);i-2*y-(c-1)*u<=0&&(u=0);var v=(i-2*y-(c-1)*u)/c;v>1&&(v>>=0);var b=l===+l?Math.min(v,l):v;d=s.reduce(function(E,_,S){var C=[].concat(dU(E),[{item:_.item,position:{offset:y+(v+u)*S+(v-b)/2,size:b}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(T){C.push({item:T,position:C[C.length-1].position})}),C},h)}return d},bnt=function(t,n,r,i){var a=r.children,s=r.width,l=r.margin,c=s-(l.left||0)-(l.right||0),u=_se({children:a,legendWidth:c});if(u){var d=i||{},h=d.width,f=d.height,m=u.align,p=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&p==="middle")&&m!=="center"&&qe(t[m]))return Sr(Sr({},t),{},Jm({},m,t[m]+(h||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&p!=="middle"&&qe(t[p]))return Sr(Sr({},t),{},Jm({},p,t[p]+(f||0)))}return t},wnt=function(t,n,r){return Ut(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Cse=function(t,n,r,i,a){var s=n.props.children,l=ms(s,i1).filter(function(u){return wnt(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var h=Xr(d,r);if(Ut(h))return u;var f=Array.isArray(h)?[TT(h),CT(h)]:[h,h],m=c.reduce(function(p,g){var x=Xr(d,g,0),y=f[0]-Math.abs(Array.isArray(x)?x[0]:x),v=f[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,p[0]),Math.max(v,p[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Ent=function(t,n,r,i,a){var s=n.map(function(l){return Cse(t,l,r,a,i)}).filter(function(l){return!Ut(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Tse=function(t,n,r,i,a){var s=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&Cse(t,c,u,i)||sx(t,u,r,a)});if(r==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Nse=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},kse=function(t,n,r,i){if(i)return t.map(function(c){return c.coordinate});var a,s,l=t.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(s=!0),c.coordinate});return a||l.push(n),s||l.push(r),l},lc=function(t,n,r){if(!t)return null;var i=t.scale,a=t.duplicateDomain,s=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?la(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(h){var f=a?a.indexOf(h):h;return{coordinate:i(f)+u,value:h,offset:u}});return d.filter(function(h){return!Xb(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,f){return{coordinate:i(h)+u,value:h,index:f,offset:u}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,f){return{coordinate:i(h)+u,value:a?a[h]:h,index:f,offset:u}})},vA=new WeakMap,kw=function(t,n){if(typeof n!="function")return t;vA.has(t)||vA.set(t,new WeakMap);var r=vA.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Ase=function(t,n,r){var i=t.scale,a=t.type,s=t.layout,l=t.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:yv(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:h_(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ax(),realScaleType:"point"}:a==="category"?{scale:yv(),realScaleType:"band"}:{scale:h_(),realScaleType:"linear"};if(Kb(i)){var c="scale".concat(uT(i));return{scale:(aU[c]||ax)(),realScaleType:aU[c]?c:"point"}}return Bt(i)?{scale:i}:{scale:ax(),realScaleType:"point"}},fU=1e-4,jse=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),a=Math.min(i[0],i[1])-fU,s=Math.max(i[0],i[1])+fU,l=t(n[0]),c=t(n[r-1]);(l<a||l>s||c<a||c>s)&&t.domain([n[0],n[r-1]])}},Snt=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},_nt=function(t,n){if(!n||n.length!==2||!qe(n[0])||!qe(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!qe(t[0])||t[0]<r)&&(a[0]=r),(!qe(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Cnt=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,s=0,l=0;l<n;++l){var c=Xb(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=a,t[l][r][1]=a+c,a=t[l][r][1]):(t[l][r][0]=s,t[l][r][1]=s+c,s=t[l][r][1])}},Tnt=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var l=Xb(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=a,t[s][r][1]=a+l,a=t[s][r][1]):(t[s][r][0]=0,t[s][r][1]=0)}},Nnt={sign:Cnt,expand:$7e,none:Bp,silhouette:B7e,wiggle:F7e,positive:Tnt},knt=function(t,n,r){var i=n.map(function(l){return l.props.dataKey}),a=Nnt[r],s=L7e().keys(i).value(function(l,c){return+Xr(l,c,0)}).order(kP).offset(a);return s(t)},Ant=function(t,n,r,i,a,s){if(!t)return null;var l=s?n.reverse():n,c={},u=l.reduce(function(h,f){var m,p=(m=f.type)!==null&&m!==void 0&&m.defaultProps?Sr(Sr({},f.type.defaultProps),f.props):f.props,g=p.stackId,x=p.hide;if(x)return h;var y=p[r],v=h[y]||{hasStack:!1,stackGroups:{}};if(Jr(g)){var b=v.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(f),v.hasStack=!0,v.stackGroups[g]=b}else v.stackGroups[n0("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return Sr(Sr({},h),{},Jm({},y,v))},c),d={};return Object.keys(u).reduce(function(h,f){var m=u[f];if(m.hasStack){var p={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,x){var y=m.stackGroups[x];return Sr(Sr({},g),{},Jm({},x,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:knt(t,y.items,a)}))},p)}return Sr(Sr({},h),{},Jm({},f,m))},d)},Ose=function(t,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Htt(u,a,l);return t.domain([TT(d),CT(d)]),{niceTicks:d}}if(a&&i==="number"){var h=t.domain(),f=Vtt(h,a,l);return{niceTicks:f}}return null};function mU(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,a=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ut(i[t.dataKey])){var l=qS(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=Xr(i,Ut(s)?t.dataKey:s);return Ut(c)?null:t.scale(c)}var pU=function(t){var n=t.axis,r=t.ticks,i=t.offset,a=t.bandSize,s=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=Xr(s,n.dataKey,n.domain[l]);return Ut(c)?null:n.scale(c)-a/2+i},jnt=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},Ont=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Sr(Sr({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(Jr(a)){var s=n[a];if(s){var l=s.items.indexOf(t);return l>=0?s.stackedData[l]:null}}return null},Pnt=function(t){return t.reduce(function(n,r){return[TT(r.concat([n[0]]).filter(qe)),CT(r.concat([n[1]]).filter(qe))]},[1/0,-1/0])},Pse=function(t,n,r){return Object.keys(t).reduce(function(i,a){var s=t[a],l=s.stackedData,c=l.reduce(function(u,d){var h=Pnt(d.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},gU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aM=function(t,n,r){if(Bt(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(qe(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(gU.test(t[0])){var a=+gU.exec(t[0])[1];i[0]=n[0]-a}else Bt(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(qe(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(yU.test(t[1])){var s=+yU.exec(t[1])[1];i[1]=n[1]+s}else Bt(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},v_=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var a=qL(n,function(h){return h.coordinate}),s=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},xU=function(t,n,r){return!t||!t.length||r1(t,fs(r,"type.defaultProps.domain"))?n:t},Mse=function(t,n){var r=t.type.defaultProps?Sr(Sr({},t.type.defaultProps),t.props):t.props,i=r.dataKey,a=r.name,s=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return Sr(Sr({},At(t,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:y4(t),value:Xr(n,i),type:c,payload:n,chartType:u,hide:d})};function Cv(e){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cv(e)}function vU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vU(Object(n),!0).forEach(function(r){Ise(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ise(e,t,n){return t=Mnt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mnt(e){var t=Int(e,"string");return Cv(t)=="symbol"?t:t+""}function Int(e,t){if(Cv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Cv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rnt(e,t){return Bnt(e)||$nt(e,t)||Lnt(e,t)||Dnt()}function Dnt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lnt(e,t){if(e){if(typeof e=="string")return bU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bU(e,t)}}function bU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $nt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function Bnt(e){if(Array.isArray(e))return e}var b_=Math.PI/180,Fnt=function(t){return t*180/Math.PI},Hn=function(t,n,r,i){return{x:t+Math.cos(-b_*i)*r,y:n+Math.sin(-b_*i)*r}},Rse=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},znt=function(t,n,r,i,a){var s=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=ca(t.cx,s,s/2),h=ca(t.cy,l,l/2),f=Rse(s,l,r),m=ca(t.innerRadius,f,0),p=ca(t.outerRadius,f,f*.8),g=Object.keys(n);return g.reduce(function(x,y){var v=n[y],b=v.domain,E=v.reversed,_;if(Ut(v.range))i==="angleAxis"?_=[c,u]:i==="radiusAxis"&&(_=[m,p]),E&&(_=[_[1],_[0]]);else{_=v.range;var S=_,C=Rnt(S,2);c=C[0],u=C[1]}var T=Ase(v,a),j=T.realScaleType,k=T.scale;k.domain(b).range(_),jse(k);var O=Ose(k,Zl(Zl({},v),{},{realScaleType:j})),M=Zl(Zl(Zl({},v),O),{},{range:_,radius:p,realScaleType:j,scale:k,cx:d,cy:h,innerRadius:m,outerRadius:p,startAngle:c,endAngle:u});return Zl(Zl({},x),{},Ise({},y,M))},{})},Unt=function(t,n){var r=t.x,i=t.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},Hnt=function(t,n){var r=t.x,i=t.y,a=n.cx,s=n.cy,l=Unt({x:r,y:i},{x:a,y:s});if(l<=0)return{radius:l};var c=(r-a)/l,u=Math.acos(c);return i>s&&(u=2*Math.PI-u),{radius:l,angle:Fnt(u),angleInRadian:u}},Vnt=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},Wnt=function(t,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),l=Math.min(a,s);return t+l*360},wU=function(t,n){var r=t.x,i=t.y,a=Hnt({x:r,y:i},n),s=a.radius,l=a.angle,c=n.innerRadius,u=n.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=Vnt(n),h=d.startAngle,f=d.endAngle,m=l,p;if(h<=f){for(;m>f;)m-=360;for(;m<h;)m+=360;p=m>=h&&m<=f}else{for(;m>h;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=h}return p?Zl(Zl({},n),{},{radius:s,angle:Wnt(m,n)}):null},Dse=function(t){return!w.isValidElement(t)&&!Bt(t)&&typeof t!="boolean"?t.className:""};function Tv(e){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tv(e)}var qnt=["offset"];function Gnt(e){return Znt(e)||Xnt(e)||Knt(e)||Ynt()}function Ynt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Knt(e,t){if(e){if(typeof e=="string")return sM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sM(e,t)}}function Xnt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Znt(e){if(Array.isArray(e))return sM(e)}function sM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qnt(e,t){if(e==null)return{};var n=Jnt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Jnt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function EU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EU(Object(n),!0).forEach(function(r){ert(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ert(e,t,n){return t=trt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function trt(e){var t=nrt(e,"string");return Tv(t)=="symbol"?t:t+""}function nrt(e,t){if(Tv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Tv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nv.apply(this,arguments)}var rrt=function(t){var n=t.value,r=t.formatter,i=Ut(t.children)?n:t.children;return Bt(r)?r(i):i},irt=function(t,n){var r=la(n-t),i=Math.min(Math.abs(n-t),360);return r*i},art=function(t,n,r){var i=t.position,a=t.viewBox,s=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,h=c.innerRadius,f=c.outerRadius,m=c.startAngle,p=c.endAngle,g=c.clockWise,x=(h+f)/2,y=irt(m,p),v=y>=0?1:-1,b,E;i==="insideStart"?(b=m+v*s,E=g):i==="insideEnd"?(b=p-v*s,E=!g):i==="end"&&(b=p+v*s,E=g),E=y<=0?E:!E;var _=Hn(u,d,x,b),S=Hn(u,d,x,b+(E?1:-1)*359),C="M".concat(_.x,",").concat(_.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(E?0:1,`,
    `).concat(S.x,",").concat(S.y),T=Ut(t.id)?n0("recharts-radial-line-"):t.id;return q.createElement("text",Nv({},r,{dominantBaseline:"central",className:Wt("recharts-radial-bar-label",l)}),q.createElement("defs",null,q.createElement("path",{id:T,d:C})),q.createElement("textPath",{xlinkHref:"#".concat(T)},n))},srt=function(t){var n=t.viewBox,r=t.offset,i=t.position,a=n,s=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,h=a.endAngle,f=(d+h)/2;if(i==="outside"){var m=Hn(s,l,u+r,f),p=m.x,g=m.y;return{x:p,y:g,textAnchor:p>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,y=Hn(s,l,x,f),v=y.x,b=y.y;return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},ort=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,a=t.position,s=n,l=s.x,c=s.y,u=s.width,d=s.height,h=d>=0?1:-1,f=h*i,m=h>0?"end":"start",p=h>0?"start":"end",g=u>=0?1:-1,x=g*i,y=g>0?"end":"start",v=g>0?"start":"end";if(a==="top"){var b={x:l+u/2,y:c-h*i,textAnchor:"middle",verticalAnchor:m};return qr(qr({},b),r?{height:Math.max(c-r.y,0),width:u}:{})}if(a==="bottom"){var E={x:l+u/2,y:c+d+f,textAnchor:"middle",verticalAnchor:p};return qr(qr({},E),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(a==="left"){var _={x:l-x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return qr(qr({},_),r?{width:Math.max(_.x-r.x,0),height:d}:{})}if(a==="right"){var S={x:l+u+x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return qr(qr({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:d}:{})}var C=r?{width:u,height:d}:{};return a==="insideLeft"?qr({x:l+x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},C):a==="insideRight"?qr({x:l+u-x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},C):a==="insideTop"?qr({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:p},C):a==="insideBottom"?qr({x:l+u/2,y:c+d-f,textAnchor:"middle",verticalAnchor:m},C):a==="insideTopLeft"?qr({x:l+x,y:c+f,textAnchor:v,verticalAnchor:p},C):a==="insideTopRight"?qr({x:l+u-x,y:c+f,textAnchor:y,verticalAnchor:p},C):a==="insideBottomLeft"?qr({x:l+x,y:c+d-f,textAnchor:v,verticalAnchor:m},C):a==="insideBottomRight"?qr({x:l+u-x,y:c+d-f,textAnchor:y,verticalAnchor:m},C):Qg(a)&&(qe(a.x)||uh(a.x))&&(qe(a.y)||uh(a.y))?qr({x:l+ca(a.x,u),y:c+ca(a.y,d),textAnchor:"end",verticalAnchor:"end"},C):qr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},lrt=function(t){return"cx"in t&&qe(t.cx)};function di(e){var t=e.offset,n=t===void 0?5:t,r=Qnt(e,qnt),i=qr({offset:n},r),a=i.viewBox,s=i.position,l=i.value,c=i.children,u=i.content,d=i.className,h=d===void 0?"":d,f=i.textBreakAll;if(!a||Ut(l)&&Ut(c)&&!w.isValidElement(u)&&!Bt(u))return null;if(w.isValidElement(u))return w.cloneElement(u,i);var m;if(Bt(u)){if(m=w.createElement(u,i),w.isValidElement(m))return m}else m=rrt(i);var p=lrt(a),g=At(i,!0);if(p&&(s==="insideStart"||s==="insideEnd"||s==="end"))return art(i,m,g);var x=p?srt(i):ort(i);return q.createElement(Jh,Nv({className:Wt("recharts-label",h)},g,x,{breakAll:f}),m)}di.displayName="Label";var Lse=function(t){var n=t.cx,r=t.cy,i=t.angle,a=t.startAngle,s=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,h=t.x,f=t.y,m=t.top,p=t.left,g=t.width,x=t.height,y=t.clockWise,v=t.labelViewBox;if(v)return v;if(qe(g)&&qe(x)){if(qe(h)&&qe(f))return{x:h,y:f,width:g,height:x};if(qe(m)&&qe(p))return{x:m,y:p,width:g,height:x}}return qe(h)&&qe(f)?{x:h,y:f,width:0,height:0}:qe(n)&&qe(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},crt=function(t,n){return t?t===!0?q.createElement(di,{key:"label-implicit",viewBox:n}):Jr(t)?q.createElement(di,{key:"label-implicit",viewBox:n,value:t}):w.isValidElement(t)?t.type===di?w.cloneElement(t,{key:"label-implicit",viewBox:n}):q.createElement(di,{key:"label-implicit",content:t,viewBox:n}):Bt(t)?q.createElement(di,{key:"label-implicit",content:t,viewBox:n}):Qg(t)?q.createElement(di,Nv({viewBox:n},t,{key:"label-implicit"})):null:null},urt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,a=Lse(t),s=ms(i,di).map(function(c,u){return w.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return s;var l=crt(t.label,n||a);return[l].concat(Gnt(s))};di.parseViewBox=Lse;di.renderCallByParent=urt;function drt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var hrt=drt;const frt=sn(hrt);function kv(e){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kv(e)}var mrt=["valueAccessor"],prt=["data","dataKey","clockWise","id","textBreakAll"];function grt(e){return brt(e)||vrt(e)||xrt(e)||yrt()}function yrt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xrt(e,t){if(e){if(typeof e=="string")return oM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oM(e,t)}}function vrt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function brt(e){if(Array.isArray(e))return oM(e)}function oM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w_(){return w_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w_.apply(this,arguments)}function SU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _U(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SU(Object(n),!0).forEach(function(r){wrt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wrt(e,t,n){return t=Ert(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ert(e){var t=Srt(e,"string");return kv(t)=="symbol"?t:t+""}function Srt(e,t){if(kv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(kv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CU(e,t){if(e==null)return{};var n=_rt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _rt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Crt=function(t){return Array.isArray(t.value)?frt(t.value):t.value};function gc(e){var t=e.valueAccessor,n=t===void 0?Crt:t,r=CU(e,mrt),i=r.data,a=r.dataKey,s=r.clockWise,l=r.id,c=r.textBreakAll,u=CU(r,prt);return!i||!i.length?null:q.createElement(yn,{className:"recharts-label-list"},i.map(function(d,h){var f=Ut(a)?n(d,h):Xr(d&&d.payload,a),m=Ut(l)?{}:{id:"".concat(l,"-").concat(h)};return q.createElement(di,w_({},At(d,!0),u,m,{parentViewBox:d.parentViewBox,value:f,textBreakAll:c,viewBox:di.parseViewBox(Ut(s)?d:_U(_U({},d),{},{clockWise:s})),key:"label-".concat(h),index:h}))}))}gc.displayName="LabelList";function Trt(e,t){return e?e===!0?q.createElement(gc,{key:"labelList-implicit",data:t}):q.isValidElement(e)||Bt(e)?q.createElement(gc,{key:"labelList-implicit",data:t,content:e}):Qg(e)?q.createElement(gc,w_({data:t},e,{key:"labelList-implicit"})):null:null}function Nrt(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=ms(r,gc).map(function(s,l){return w.cloneElement(s,{data:t,key:"labelList-".concat(l)})});if(!n)return i;var a=Trt(e.label,t);return[a].concat(grt(i))}gc.renderCallByParent=Nrt;function Av(e){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Av(e)}function lM(){return lM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lM.apply(this,arguments)}function TU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TU(Object(n),!0).forEach(function(r){krt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function krt(e,t,n){return t=Art(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Art(e){var t=jrt(e,"string");return Av(t)=="symbol"?t:t+""}function jrt(e,t){if(Av(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Av(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ort=function(t,n){var r=la(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},Aw=function(t){var n=t.cx,r=t.cy,i=t.radius,a=t.angle,s=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+i,h=Math.asin(c/d)/b_,f=u?a:a+s*h,m=Hn(n,r,d,f),p=Hn(n,r,i,f),g=u?a-s*h:a,x=Hn(n,r,d*Math.cos(h*b_),g);return{center:m,circleTangency:p,lineTangency:x,theta:h}},$se=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.startAngle,l=t.endAngle,c=Ort(s,l),u=s+c,d=Hn(n,r,a,s),h=Hn(n,r,a,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var m=Hn(n,r,i,s),p=Hn(n,r,i,u);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},Prt=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=la(d-u),f=Aw({cx:n,cy:r,radius:a,angle:u,sign:h,cornerRadius:s,cornerIsExternal:c}),m=f.circleTangency,p=f.lineTangency,g=f.theta,x=Aw({cx:n,cy:r,radius:a,angle:d,sign:-h,cornerRadius:s,cornerIsExternal:c}),y=x.circleTangency,v=x.lineTangency,b=x.theta,E=c?Math.abs(u-d):Math.abs(u-d)-g-b;if(E<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):$se({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var _="M ".concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(E>180),",").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var S=Aw({cx:n,cy:r,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),C=S.circleTangency,T=S.lineTangency,j=S.theta,k=Aw({cx:n,cy:r,radius:i,angle:d,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),O=k.circleTangency,M=k.lineTangency,B=k.theta,N=c?Math.abs(u-d):Math.abs(u-d)-j-B;if(N<0&&s===0)return"".concat(_,"L").concat(n,",").concat(r,"Z");_+="L".concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,"Z")}else _+="L".concat(n,",").concat(r,"Z");return _},Mrt={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Bse=function(t){var n=NU(NU({},Mrt),t),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,h=n.endAngle,f=n.className;if(s<a||d===h)return null;var m=Wt("recharts-sector",f),p=s-a,g=ca(l,p,0,!0),x;return g>0&&Math.abs(d-h)<360?x=Prt({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,p/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):x=$se({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:h}),q.createElement("path",lM({},At(n,!0),{className:m,d:x,role:"img"}))};function jv(e){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv(e)}function cM(){return cM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cM.apply(this,arguments)}function kU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function AU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kU(Object(n),!0).forEach(function(r){Irt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Irt(e,t,n){return t=Rrt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rrt(e){var t=Drt(e,"string");return jv(t)=="symbol"?t:t+""}function Drt(e,t){if(jv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jU={curveBasisClosed:Tie,curveBasisOpen:kie,curveBasis:nx,curveBumpX:CL,curveBumpY:TL,curveLinearClosed:Die,curveLinear:Qh,curveMonotoneX:PL,curveMonotoneY:ML,curveNatural:IL,curveStep:RL,curveStepAfter:LL,curveStepBefore:DL},jw=function(t){return t.x===+t.x&&t.y===+t.y},Z0=function(t){return t.x},Q0=function(t){return t.y},Lrt=function(t,n){if(Bt(t))return t;var r="curve".concat(uT(t));return(r==="curveMonotone"||r==="curveBump")&&n?jU["".concat(r).concat(n==="vertical"?"Y":"X")]:jU[r]||Qh},$rt=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,s=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Lrt(r,l),h=u?a.filter(function(g){return jw(g)}):a,f;if(Array.isArray(s)){var m=u?s.filter(function(g){return jw(g)}):s,p=h.map(function(g,x){return AU(AU({},g),{},{base:m[x]})});return l==="vertical"?f=vw().y(Q0).x1(Z0).x0(function(g){return g.base.x}):f=vw().x(Z0).y1(Q0).y0(function(g){return g.base.y}),f.defined(jw).curve(d),f(p)}return l==="vertical"&&qe(s)?f=vw().y(Q0).x1(Z0).x0(s):qe(s)?f=vw().x(Z0).y1(Q0).y0(s):f=_L().x(Z0).y(Q0),f.defined(jw).curve(d),f(h)},E_=function(t){var n=t.className,r=t.points,i=t.path,a=t.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?$rt(t):i;return q.createElement("path",cM({},At(t,!1),GS(t),{className:Wt("recharts-curve",n),d:s,ref:a}))},Fse={exports:{}},Brt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Frt=Brt,zrt=Frt;function zse(){}function Use(){}Use.resetWarningCache=zse;var Urt=function(){function e(r,i,a,s,l,c){if(c!==zrt){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Use,resetWarningCache:zse};return n.PropTypes=n,n};Fse.exports=Urt();var Hrt=Fse.exports;const Gt=sn(Hrt);var Vrt=Object.getOwnPropertyNames,Wrt=Object.getOwnPropertySymbols,qrt=Object.prototype.hasOwnProperty;function OU(e,t){return function(r,i,a){return e(r,i,a)&&t(r,i,a)}}function Ow(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var a=i.cache,s=a.get(n),l=a.get(r);if(s&&l)return s===r&&l===n;a.set(n,r),a.set(r,n);var c=e(n,r,i);return a.delete(n),a.delete(r),c}}function PU(e){return Vrt(e).concat(Wrt(e))}var Hse=Object.hasOwn||function(e,t){return qrt.call(e,t)};function c0(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var Vse="_owner",MU=Object.getOwnPropertyDescriptor,IU=Object.keys;function Grt(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function Yrt(e,t){return c0(e.getTime(),t.getTime())}function RU(e,t,n){if(e.size!==t.size)return!1;for(var r={},i=e.entries(),a=0,s,l;(s=i.next())&&!s.done;){for(var c=t.entries(),u=!1,d=0;(l=c.next())&&!l.done;){var h=s.value,f=h[0],m=h[1],p=l.value,g=p[0],x=p[1];!u&&!r[d]&&(u=n.equals(f,g,a,d,e,t,n)&&n.equals(m,x,f,g,e,t,n))&&(r[d]=!0),d++}if(!u)return!1;a++}return!0}function Krt(e,t,n){var r=IU(e),i=r.length;if(IU(t).length!==i)return!1;for(var a;i-- >0;)if(a=r[i],a===Vse&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!Hse(t,a)||!n.equals(e[a],t[a],a,a,e,t,n))return!1;return!0}function J0(e,t,n){var r=PU(e),i=r.length;if(PU(t).length!==i)return!1;for(var a,s,l;i-- >0;)if(a=r[i],a===Vse&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!Hse(t,a)||!n.equals(e[a],t[a],a,a,e,t,n)||(s=MU(e,a),l=MU(t,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function Xrt(e,t){return c0(e.valueOf(),t.valueOf())}function Zrt(e,t){return e.source===t.source&&e.flags===t.flags}function DU(e,t,n){if(e.size!==t.size)return!1;for(var r={},i=e.values(),a,s;(a=i.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(s=l.next())&&!s.done;)!c&&!r[u]&&(c=n.equals(a.value,s.value,a.value,s.value,e,t,n))&&(r[u]=!0),u++;if(!c)return!1}return!0}function Qrt(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}var Jrt="[object Arguments]",eit="[object Boolean]",tit="[object Date]",nit="[object Map]",rit="[object Number]",iit="[object Object]",ait="[object RegExp]",sit="[object Set]",oit="[object String]",lit=Array.isArray,LU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,$U=Object.assign,cit=Object.prototype.toString.call.bind(Object.prototype.toString);function uit(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,i=e.areObjectsEqual,a=e.arePrimitiveWrappersEqual,s=e.areRegExpsEqual,l=e.areSetsEqual,c=e.areTypedArraysEqual;return function(d,h,f){if(d===h)return!0;if(d==null||h==null||typeof d!="object"||typeof h!="object")return d!==d&&h!==h;var m=d.constructor;if(m!==h.constructor)return!1;if(m===Object)return i(d,h,f);if(lit(d))return t(d,h,f);if(LU!=null&&LU(d))return c(d,h,f);if(m===Date)return n(d,h,f);if(m===RegExp)return s(d,h,f);if(m===Map)return r(d,h,f);if(m===Set)return l(d,h,f);var p=cit(d);return p===tit?n(d,h,f):p===ait?s(d,h,f):p===nit?r(d,h,f):p===sit?l(d,h,f):p===iit?typeof d.then!="function"&&typeof h.then!="function"&&i(d,h,f):p===Jrt?i(d,h,f):p===eit||p===rit||p===oit?a(d,h,f):!1}}function dit(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?J0:Grt,areDatesEqual:Yrt,areMapsEqual:r?OU(RU,J0):RU,areObjectsEqual:r?J0:Krt,arePrimitiveWrappersEqual:Xrt,areRegExpsEqual:Zrt,areSetsEqual:r?OU(DU,J0):DU,areTypedArraysEqual:r?J0:Qrt};if(n&&(i=$U({},i,n(i))),t){var a=Ow(i.areArraysEqual),s=Ow(i.areMapsEqual),l=Ow(i.areObjectsEqual),c=Ow(i.areSetsEqual);i=$U({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return i}function hit(e){return function(t,n,r,i,a,s,l){return e(t,n,l)}}function fit(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,a=e.strict;if(r)return function(c,u){var d=r(),h=d.cache,f=h===void 0?t?new WeakMap:void 0:h,m=d.meta;return n(c,u,{cache:f,equals:i,meta:m,strict:a})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return n(c,u,s)}}var mit=jd();jd({strict:!0});jd({circular:!0});jd({circular:!0,strict:!0});jd({createInternalComparator:function(){return c0}});jd({strict:!0,createInternalComparator:function(){return c0}});jd({circular:!0,createInternalComparator:function(){return c0}});jd({circular:!0,createInternalComparator:function(){return c0},strict:!0});function jd(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,a=e.strict,s=a===void 0?!1:a,l=dit(e),c=uit(l),u=r?r(c):hit(c);return fit({circular:n,comparator:c,createState:i,equals:u,strict:s})}function pit(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function BU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):pit(i)};requestAnimationFrame(r)}function uM(e){"@babel/helpers - typeof";return uM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uM(e)}function git(e){return bit(e)||vit(e)||xit(e)||yit()}function yit(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xit(e,t){if(e){if(typeof e=="string")return FU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FU(e,t)}}function FU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vit(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bit(e){if(Array.isArray(e))return e}function wit(){var e={},t=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,l=git(s),c=l[0],u=l.slice(1);if(typeof c=="number"){BU(i.bind(null,u),c);return}i(c),BU(i.bind(null,u));return}uM(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Ov(e){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ov(e)}function zU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zU(Object(n),!0).forEach(function(r){Wse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wse(e,t,n){return t=Eit(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eit(e){var t=Sit(e,"string");return Ov(t)==="symbol"?t:String(t)}function Sit(e,t){if(Ov(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ov(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _it=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Cit=function(t){return t},Tit=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},ox=function(t,n){return Object.keys(n).reduce(function(r,i){return UU(UU({},r),{},Wse({},i,t(i,n[i])))},{})},HU=function(t,n,r){return t.map(function(i){return"".concat(Tit(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Nit(e,t){return jit(e)||Ait(e,t)||qse(e,t)||kit()}function kit(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ait(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function jit(e){if(Array.isArray(e))return e}function Oit(e){return Iit(e)||Mit(e)||qse(e)||Pit()}function Pit(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qse(e,t){if(e){if(typeof e=="string")return dM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dM(e,t)}}function Mit(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Iit(e){if(Array.isArray(e))return dM(e)}function dM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S_=1e-4,Gse=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},Yse=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},VU=function(t,n){return function(r){var i=Gse(t,n);return Yse(i,r)}},Rit=function(t,n){return function(r){var i=Gse(t,n),a=[].concat(Oit(i.map(function(s,l){return s*l}).slice(1)),[0]);return Yse(a,r)}},WU=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=Nit(u,4);i=d[0],a=d[1],s=d[2],l=d[3]}}}var h=VU(i,s),f=VU(a,l),m=Rit(i,s),p=function(y){return y>1?1:y<0?0:y},g=function(y){for(var v=y>1?1:y,b=v,E=0;E<8;++E){var _=h(b)-v,S=m(b);if(Math.abs(_-v)<S_||S<S_)return f(b);b=p(b-_/S)}return f(b)};return g.isStepper=!1,g},Dit=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,s=t.dt,l=s===void 0?17:s,c=function(d,h,f){var m=-(d-h)*r,p=f*a,g=f+(m-p)*l/1e3,x=f*l/1e3+d;return Math.abs(x-h)<S_&&Math.abs(g)<S_?[h,0]:[x,g]};return c.isStepper=!0,c.dt=l,c},Lit=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return WU(i);case"spring":return Dit();default:if(i.split("(")[0]==="cubic-bezier")return WU(i)}return typeof i=="function"?i:null};function Pv(e){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pv(e)}function qU(e){return Fit(e)||Bit(e)||Kse(e)||$it()}function $it(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bit(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fit(e){if(Array.isArray(e))return fM(e)}function GU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GU(Object(n),!0).forEach(function(r){hM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hM(e,t,n){return t=zit(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zit(e){var t=Uit(e,"string");return Pv(t)==="symbol"?t:String(t)}function Uit(e,t){if(Pv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Pv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hit(e,t){return qit(e)||Wit(e,t)||Kse(e,t)||Vit()}function Vit(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kse(e,t){if(e){if(typeof e=="string")return fM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fM(e,t)}}function fM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wit(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function qit(e){if(Array.isArray(e))return e}var __=function(t,n,r){return t+(n-t)*r},mM=function(t){var n=t.from,r=t.to;return n!==r},Git=function e(t,n,r){var i=ox(function(a,s){if(mM(s)){var l=t(s.from,s.to,s.velocity),c=Hit(l,2),u=c[0],d=c[1];return xi(xi({},s),{},{from:u,velocity:d})}return s},n);return r<1?ox(function(a,s){return mM(s)?xi(xi({},s),{},{velocity:__(s.velocity,i[a].velocity,r),from:__(s.from,i[a].from,r)}):s},n):e(t,i,r-1)};const Yit=function(e,t,n,r,i){var a=_it(e,t),s=a.reduce(function(x,y){return xi(xi({},x),{},hM({},y,[e[y],t[y]]))},{}),l=a.reduce(function(x,y){return xi(xi({},x),{},hM({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,h=function(){return null},f=function(){return ox(function(y,v){return v.from},l)},m=function(){return!Object.values(l).filter(mM).length},p=function(y){u||(u=y);var v=y-u,b=v/n.dt;l=Git(n,l,b),i(xi(xi(xi({},e),t),f())),u=y,m()||(c=requestAnimationFrame(h))},g=function(y){d||(d=y);var v=(y-d)/r,b=ox(function(_,S){return __.apply(void 0,qU(S).concat([n(v)]))},s);if(i(xi(xi(xi({},e),t),b)),v<1)c=requestAnimationFrame(h);else{var E=ox(function(_,S){return __.apply(void 0,qU(S).concat([n(1)]))},s);i(xi(xi(xi({},e),t),E))}};return h=n.isStepper?p:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Yp(e){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yp(e)}var Kit=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Xit(e,t){if(e==null)return{};var n=Zit(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Zit(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function bA(e){return tat(e)||eat(e)||Jit(e)||Qit()}function Qit(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jit(e,t){if(e){if(typeof e=="string")return pM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pM(e,t)}}function eat(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tat(e){if(Array.isArray(e))return pM(e)}function pM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YU(Object(n),!0).forEach(function(r){Ty(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ty(e,t,n){return t=Xse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rat(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xse(r.key),r)}}function iat(e,t,n){return t&&rat(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xse(e){var t=aat(e,"string");return Yp(t)==="symbol"?t:String(t)}function aat(e,t){if(Yp(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sat(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gM(e,t)}function gM(e,t){return gM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gM(e,t)}function oat(e){var t=lat();return function(){var r=C_(e),i;if(t){var a=C_(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return yM(this,i)}}function yM(e,t){if(t&&(Yp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xM(e)}function xM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lat(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C_(e){return C_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},C_(e)}var Sl=function(e){sat(n,e);var t=oat(n);function n(r,i){var a;nat(this,n),a=t.call(this,r,i);var s=a.props,l=s.isActive,c=s.attributeName,u=s.from,d=s.to,h=s.steps,f=s.children,m=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(xM(a)),a.changeStyle=a.changeStyle.bind(xM(a)),!l||m<=0)return a.state={style:{}},typeof f=="function"&&(a.state={style:d}),yM(a);if(h&&h.length)a.state={style:h[0].style};else if(u){if(typeof f=="function")return a.state={style:u},yM(a);a.state={style:c?Ty({},c,u):u}}else a.state={style:{}};return a}return iat(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,h=a.from,f=this.state.style;if(l){if(!s){var m={style:c?Ty({},c,d):d};this.state&&f&&(c&&f[c]!==d||!c&&f!==d)&&this.setState(m);return}if(!(mit(i.to,d)&&i.canBegin&&i.isActive)){var p=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=p||u?h:i.to;if(this.state&&f){var x={style:c?Ty({},c,g):g};(c&&f[c]!==g||!c&&f!==g)&&this.setState(x)}this.runAnimation(oo(oo({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,h=i.onAnimationEnd,f=i.onAnimationStart,m=Yit(s,l,Lit(u),c,this.changeStyle),p=function(){a.stopJSAnimation=m()};this.manager.start([f,d,p,c,h])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,c=i.onAnimationStart,u=s[0],d=u.style,h=u.duration,f=h===void 0?0:h,m=function(g,x,y){if(y===0)return g;var v=x.duration,b=x.easing,E=b===void 0?"ease":b,_=x.style,S=x.properties,C=x.onAnimationEnd,T=y>0?s[y-1]:x,j=S||Object.keys(_);if(typeof E=="function"||E==="spring")return[].concat(bA(g),[a.runJSAnimation.bind(a,{from:T.style,to:_,duration:v,easing:E}),v]);var k=HU(j,v,E),O=oo(oo(oo({},T.style),_),{},{transition:k});return[].concat(bA(g),[O,v,C]).filter(Cit)};return this.manager.start([c].concat(bA(s.reduce(m,[d,Math.max(f,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=wit());var a=i.begin,s=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,h=i.onAnimationEnd,f=i.steps,m=i.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var g=l?Ty({},l,c):c,x=HU(Object.keys(g),s,u);p.start([d,a,oo(oo({},g),{},{transition:x}),s,h])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Xit(i,Kit),u=w.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||s<=0)return a;var h=function(m){var p=m.props,g=p.style,x=g===void 0?{}:g,y=p.className,v=w.cloneElement(m,oo(oo({},c),{},{style:oo(oo({},x),d),className:y}));return v};return u===1?h(w.Children.only(a)):q.createElement("div",null,w.Children.map(a,function(f){return h(f)}))}}]),n}(w.PureComponent);Sl.displayName="Animate";Sl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Sl.propTypes={from:Gt.oneOfType([Gt.object,Gt.string]),to:Gt.oneOfType([Gt.object,Gt.string]),attributeName:Gt.string,duration:Gt.number,begin:Gt.number,easing:Gt.oneOfType([Gt.string,Gt.func]),steps:Gt.arrayOf(Gt.shape({duration:Gt.number.isRequired,style:Gt.object.isRequired,easing:Gt.oneOfType([Gt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Gt.func]),properties:Gt.arrayOf("string"),onAnimationEnd:Gt.func})),children:Gt.oneOfType([Gt.node,Gt.func]),isActive:Gt.bool,canBegin:Gt.bool,onAnimationEnd:Gt.func,shouldReAnimate:Gt.bool,onAnimationStart:Gt.func,onAnimationReStart:Gt.func};Gt.object,Gt.object,Gt.object,Gt.element;Gt.object,Gt.object,Gt.object,Gt.oneOfType([Gt.array,Gt.element]),Gt.any;function Mv(e){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mv(e)}function T_(){return T_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T_.apply(this,arguments)}function cat(e,t){return fat(e)||hat(e,t)||dat(e,t)||uat()}function uat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dat(e,t){if(e){if(typeof e=="string")return KU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KU(e,t)}}function KU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hat(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function fat(e){if(Array.isArray(e))return e}function XU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XU(Object(n),!0).forEach(function(r){mat(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mat(e,t,n){return t=pat(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pat(e){var t=gat(e,"string");return Mv(t)=="symbol"?t:t+""}function gat(e,t){if(Mv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QU=function(t,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(s>0&&a instanceof Array){for(var h=[0,0,0,0],f=0,m=4;f<m;f++)h[f]=a[f]>s?s:a[f];d="M".concat(t,",").concat(n+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(t+c*h[0],",").concat(n)),d+="L ".concat(t+r-c*h[1],",").concat(n),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+l*h[1])),d+="L ".concat(t+r,",").concat(n+i-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(t+r-c*h[2],",").concat(n+i)),d+="L ".concat(t+c*h[3],",").concat(n+i),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-l*h[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var p=Math.min(s,a);d="M ".concat(t,",").concat(n+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+c*p,",").concat(n,`
            L `).concat(t+r-c*p,",").concat(n,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+r,",").concat(n+l*p,`
            L `).concat(t+r,",").concat(n+i-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+r-c*p,",").concat(n+i,`
            L `).concat(t+c*p,",").concat(n+i,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t,",").concat(n+i-l*p," Z")}else d="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},yat=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,a=n.x,s=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),h=Math.min(s,s+c),f=Math.max(s,s+c);return r>=u&&r<=d&&i>=h&&i<=f}return!1},xat={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},x4=function(t){var n=ZU(ZU({},xat),t),r=w.useRef(),i=w.useState(-1),a=cat(i,2),s=a[0],l=a[1];w.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&l(E)}catch{}},[]);var c=n.x,u=n.y,d=n.width,h=n.height,f=n.radius,m=n.className,p=n.animationEasing,g=n.animationDuration,x=n.animationBegin,y=n.isAnimationActive,v=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var b=Wt("recharts-rectangle",m);return v?q.createElement(Sl,{canBegin:s>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:g,animationEasing:p,isActive:v},function(E){var _=E.width,S=E.height,C=E.x,T=E.y;return q.createElement(Sl,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:y,easing:p},q.createElement("path",T_({},At(n,!0),{className:b,d:QU(C,T,_,S,f),ref:r})))}):q.createElement("path",T_({},At(n,!0),{className:b,d:QU(c,u,d,h,f)}))},vat=["points","className","baseLinePoints","connectNulls"];function Tm(){return Tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tm.apply(this,arguments)}function bat(e,t){if(e==null)return{};var n=wat(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wat(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function JU(e){return Cat(e)||_at(e)||Sat(e)||Eat()}function Eat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sat(e,t){if(e){if(typeof e=="string")return vM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vM(e,t)}}function _at(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cat(e){if(Array.isArray(e))return vM(e)}function vM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var e7=function(t){return t&&t.x===+t.x&&t.y===+t.y},Tat=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){e7(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),e7(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},lx=function(t,n){var r=Tat(t);n&&(r=[r.reduce(function(a,s){return[].concat(JU(a),JU(s))},[])]);var i=r.map(function(a){return a.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Nat=function(t,n,r){var i=lx(t,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(lx(n.reverse(),r).slice(1))},kat=function(t){var n=t.points,r=t.className,i=t.baseLinePoints,a=t.connectNulls,s=bat(t,vat);if(!n||!n.length)return null;var l=Wt("recharts-polygon",r);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",u=Nat(n,i,a);return q.createElement("g",{className:l},q.createElement("path",Tm({},At(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?q.createElement("path",Tm({},At(s,!0),{fill:"none",d:lx(n,a)})):null,c?q.createElement("path",Tm({},At(s,!0),{fill:"none",d:lx(i,a)})):null)}var d=lx(n,a);return q.createElement("path",Tm({},At(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:l,d}))};function bM(){return bM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bM.apply(this,arguments)}var AT=function(t){var n=t.cx,r=t.cy,i=t.r,a=t.className,s=Wt("recharts-dot",a);return n===+n&&r===+r&&i===+i?q.createElement("circle",bM({},At(t,!1),GS(t),{className:s,cx:n,cy:r,r:i})):null};function Iv(e){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iv(e)}var Aat=["x","y","top","left","width","height","className"];function wM(){return wM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wM.apply(this,arguments)}function t7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jat(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t7(Object(n),!0).forEach(function(r){Oat(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oat(e,t,n){return t=Pat(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pat(e){var t=Mat(e,"string");return Iv(t)=="symbol"?t:t+""}function Mat(e,t){if(Iv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Iv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iat(e,t){if(e==null)return{};var n=Rat(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Rat(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Dat=function(t,n,r,i,a,s){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},Lat=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,s=t.top,l=s===void 0?0:s,c=t.left,u=c===void 0?0:c,d=t.width,h=d===void 0?0:d,f=t.height,m=f===void 0?0:f,p=t.className,g=Iat(t,Aat),x=jat({x:r,y:a,top:l,left:u,width:h,height:m},g);return!qe(r)||!qe(a)||!qe(h)||!qe(m)||!qe(l)||!qe(u)?null:q.createElement("path",wM({},At(x,!0),{className:Wt("recharts-cross",p),d:Dat(r,a,h,m,l,u)}))},$at=_T,Bat=ose,Fat=Pl;function zat(e,t){return e&&e.length?$at(e,Fat(t),Bat):void 0}var Uat=zat;const Hat=sn(Uat);var Vat=_T,Wat=Pl,qat=lse;function Gat(e,t){return e&&e.length?Vat(e,Wat(t),qat):void 0}var Yat=Gat;const Kat=sn(Yat);var Xat=["cx","cy","angle","ticks","axisLine"],Zat=["ticks","tick","angle","tickFormatter","stroke"];function Kp(e){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kp(e)}function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cx.apply(this,arguments)}function n7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n7(Object(n),!0).forEach(function(r){jT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r7(e,t){if(e==null)return{};var n=Qat(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Qat(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Jat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qse(r.key),r)}}function est(e,t,n){return t&&i7(e.prototype,t),n&&i7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tst(e,t,n){return t=N_(t),nst(e,Zse()?Reflect.construct(t,n||[],N_(e).constructor):t.apply(e,n))}function nst(e,t){if(t&&(Kp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rst(e)}function rst(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zse(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zse=function(){return!!e})()}function N_(e){return N_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},N_(e)}function ist(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EM(e,t)}function EM(e,t){return EM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EM(e,t)}function jT(e,t,n){return t=Qse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qse(e){var t=ast(e,"string");return Kp(t)=="symbol"?t:t+""}function ast(e,t){if(Kp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OT=function(e){function t(){return Jat(this,t),tst(this,t,arguments)}return ist(t,e),est(t,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,s=a.angle,l=a.cx,c=a.cy;return Hn(l,c,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,l=r.ticks,c=Hat(l,function(d){return d.coordinate||0}),u=Kat(l,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,l=r.ticks,c=r.axisLine,u=r7(r,Xat),d=l.reduce(function(p,g){return[Math.min(p[0],g.coordinate),Math.max(p[1],g.coordinate)]},[1/0,-1/0]),h=Hn(i,a,d[0],s),f=Hn(i,a,d[1],s),m=Fd(Fd(Fd({},At(u,!1)),{},{fill:"none"},At(c,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return q.createElement("line",cx({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=r7(i,Zat),h=this.getTickTextAnchor(),f=At(d,!1),m=At(s,!1),p=a.map(function(g,x){var y=r.getTickValueCoord(g),v=Fd(Fd(Fd(Fd({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},f),{},{stroke:"none",fill:u},m),{},{index:x},y),{},{payload:g});return q.createElement(yn,cx({className:Wt("recharts-polar-radius-axis-tick",Dse(s)),key:"tick-".concat(g.coordinate)},Zh(r.props,g,x)),t.renderTickItem(s,v,c?c(g.value,x):g.value))});return q.createElement(yn,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,s=r.tick;return!i||!i.length?null:q.createElement(yn,{className:Wt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),di.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return q.isValidElement(r)?s=q.cloneElement(r,i):Bt(r)?s=r(i):s=q.createElement(Jh,cx({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(w.PureComponent);jT(OT,"displayName","PolarRadiusAxis");jT(OT,"axisType","radiusAxis");jT(OT,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Xp(e){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xp(e)}function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nh.apply(this,arguments)}function a7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a7(Object(n),!0).forEach(function(r){PT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sst(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eoe(r.key),r)}}function ost(e,t,n){return t&&s7(e.prototype,t),n&&s7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lst(e,t,n){return t=k_(t),cst(e,Jse()?Reflect.construct(t,n||[],k_(e).constructor):t.apply(e,n))}function cst(e,t){if(t&&(Xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ust(e)}function ust(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jse(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jse=function(){return!!e})()}function k_(e){return k_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},k_(e)}function dst(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SM(e,t)}function SM(e,t){return SM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SM(e,t)}function PT(e,t,n){return t=eoe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eoe(e){var t=hst(e,"string");return Xp(t)=="symbol"?t:t+""}function hst(e,t){if(Xp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fst=Math.PI/180,o7=1e-5,MT=function(e){function t(){return sst(this,t),lst(this,t,arguments)}return dst(t,e),ost(t,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,s=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,h=Hn(a,s,l,r.coordinate),f=Hn(a,s,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:h.x,y1:h.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*fst),s;return a>o7?s=i==="outer"?"start":"end":a<-o7?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.radius,l=r.axisLine,c=r.axisLineType,u=zd(zd({},At(this.props,!1)),{},{fill:"none"},At(l,!1));if(c==="circle")return q.createElement(AT,nh({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:s}));var d=this.props.ticks,h=d.map(function(f){return Hn(i,a,s,f.coordinate)});return q.createElement(kat,nh({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=At(this.props,!1),h=At(s,!1),f=zd(zd({},d),{},{fill:"none"},At(l,!1)),m=a.map(function(p,g){var x=r.getTickLineCoord(p),y=r.getTickTextAnchor(p),v=zd(zd(zd({textAnchor:y},d),{},{stroke:"none",fill:u},h),{},{index:g,payload:p,x:x.x2,y:x.y2});return q.createElement(yn,nh({className:Wt("recharts-polar-angle-axis-tick",Dse(s)),key:"tick-".concat(p.coordinate)},Zh(r.props,p,g)),l&&q.createElement("line",nh({className:"recharts-polar-angle-axis-tick-line"},f,x)),s&&t.renderTickItem(s,v,c?c(p.value,g):p.value))});return q.createElement(yn,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,s=r.axisLine;return a<=0||!i||!i.length?null:q.createElement(yn,{className:Wt("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var s;return q.isValidElement(r)?s=q.cloneElement(r,i):Bt(r)?s=r(i):s=q.createElement(Jh,nh({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(w.PureComponent);PT(MT,"displayName","PolarAngleAxis");PT(MT,"axisType","angleAxis");PT(MT,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var mst=Jie,pst=mst(Object.getPrototypeOf,Object),gst=pst,yst=$c,xst=gst,vst=Bc,bst="[object Object]",wst=Function.prototype,Est=Object.prototype,toe=wst.toString,Sst=Est.hasOwnProperty,_st=toe.call(Object);function Cst(e){if(!vst(e)||yst(e)!=bst)return!1;var t=xst(e);if(t===null)return!0;var n=Sst.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&toe.call(n)==_st}var Tst=Cst;const Nst=sn(Tst);var kst=$c,Ast=Bc,jst="[object Boolean]";function Ost(e){return e===!0||e===!1||Ast(e)&&kst(e)==jst}var Pst=Ost;const Mst=sn(Pst);function Rv(e){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rv(e)}function A_(){return A_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A_.apply(this,arguments)}function Ist(e,t){return $st(e)||Lst(e,t)||Dst(e,t)||Rst()}function Rst(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dst(e,t){if(e){if(typeof e=="string")return l7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l7(e,t)}}function l7(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lst(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function $st(e){if(Array.isArray(e))return e}function c7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function u7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c7(Object(n),!0).forEach(function(r){Bst(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bst(e,t,n){return t=Fst(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fst(e){var t=zst(e,"string");return Rv(t)=="symbol"?t:t+""}function zst(e,t){if(Rv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d7=function(t,n,r,i,a){var s=r-i,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-s/2,",").concat(n+a),l+="L ".concat(t+r-s/2-i,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},Ust={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Hst=function(t){var n=u7(u7({},Ust),t),r=w.useRef(),i=w.useState(-1),a=Ist(i,2),s=a[0],l=a[1];w.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&l(b)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,h=n.lowerWidth,f=n.height,m=n.className,p=n.animationEasing,g=n.animationDuration,x=n.animationBegin,y=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var v=Wt("recharts-trapezoid",m);return y?q.createElement(Sl,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:f,x:c,y:u},duration:g,animationEasing:p,isActive:y},function(b){var E=b.upperWidth,_=b.lowerWidth,S=b.height,C=b.x,T=b.y;return q.createElement(Sl,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:p},q.createElement("path",A_({},At(n,!0),{className:v,d:d7(C,T,E,_,S),ref:r})))}):q.createElement("g",null,q.createElement("path",A_({},At(n,!0),{className:v,d:d7(c,u,d,h,f)})))},Vst=["option","shapeType","propTransformer","activeClassName","isActive"];function Dv(e){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dv(e)}function Wst(e,t){if(e==null)return{};var n=qst(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qst(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function h7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function j_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h7(Object(n),!0).forEach(function(r){Gst(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gst(e,t,n){return t=Yst(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yst(e){var t=Kst(e,"string");return Dv(t)=="symbol"?t:t+""}function Kst(e,t){if(Dv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Dv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xst(e,t){return j_(j_({},t),e)}function Zst(e,t){return e==="symbols"}function f7(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return q.createElement(x4,n);case"trapezoid":return q.createElement(Hst,n);case"sector":return q.createElement(Bse,n);case"symbols":if(Zst(t))return q.createElement($L,n);break;default:return null}}function Qst(e){return w.isValidElement(e)?e.props:e}function noe(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?Xst:r,a=e.activeClassName,s=a===void 0?"recharts-active-shape":a,l=e.isActive,c=Wst(e,Vst),u;if(w.isValidElement(t))u=w.cloneElement(t,j_(j_({},c),Qst(t)));else if(Bt(t))u=t(c);else if(Nst(t)&&!Mst(t)){var d=i(t,c);u=q.createElement(f7,{shapeType:n,elementProps:d})}else{var h=c;u=q.createElement(f7,{shapeType:n,elementProps:h})}return l?q.createElement(yn,{className:s},u):u}function IT(e,t){return t!=null&&"trapezoids"in e.props}function RT(e,t){return t!=null&&"sectors"in e.props}function Lv(e,t){return t!=null&&"points"in e.props}function Jst(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&a}function eot(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function tot(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function not(e,t){var n;return IT(e,t)?n=Jst:RT(e,t)?n=eot:Lv(e,t)&&(n=tot),n}function rot(e,t){var n;return IT(e,t)?n="trapezoids":RT(e,t)?n="sectors":Lv(e,t)&&(n="points"),n}function iot(e,t){if(IT(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(RT(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Lv(e,t)?t.payload:{}}function aot(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=rot(n,t),a=iot(n,t),s=r.filter(function(c,u){var d=r1(a,c),h=n.props[i].filter(function(p){var g=not(n,t);return g(p,t)}),f=n.props[i].indexOf(h[h.length-1]),m=u===f;return d&&m}),l=r.indexOf(s[s.length-1]);return l}var CE;function Zp(e){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zp(e)}function Nm(){return Nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nm.apply(this,arguments)}function m7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m7(Object(n),!0).forEach(function(r){Ds(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ioe(r.key),r)}}function oot(e,t,n){return t&&p7(e.prototype,t),n&&p7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lot(e,t,n){return t=O_(t),cot(e,roe()?Reflect.construct(t,n||[],O_(e).constructor):t.apply(e,n))}function cot(e,t){if(t&&(Zp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uot(e)}function uot(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function roe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(roe=function(){return!!e})()}function O_(e){return O_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},O_(e)}function dot(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_M(e,t)}function _M(e,t){return _M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_M(e,t)}function Ds(e,t,n){return t=ioe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ioe(e){var t=hot(e,"string");return Zp(t)=="symbol"?t:t+""}function hot(e,t){if(Zp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ml=function(e){function t(n){var r;return sot(this,t),r=lot(this,t,[n]),Ds(r,"pieRef",null),Ds(r,"sectorRefs",[]),Ds(r,"id",n0("recharts-pie-")),Ds(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Bt(i)&&i()}),Ds(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Bt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return dot(t,e),oot(t,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=At(this.props,!1),h=At(s,!1),f=At(l,!1),m=s&&s.offsetRadius||20,p=r.map(function(g,x){var y=(g.startAngle+g.endAngle)/2,v=Hn(g.cx,g.cy,g.outerRadius+m,y),b=Fn(Fn(Fn(Fn({},d),g),{},{stroke:"none"},h),{},{index:x,textAnchor:t.getTextAnchor(v.x,g.cx)},v),E=Fn(Fn(Fn(Fn({},d),g),{},{fill:"none",stroke:g.fill},f),{},{index:x,points:[Hn(g.cx,g.cy,g.outerRadius,y),v]}),_=c;return Ut(c)&&Ut(u)?_="value":Ut(c)&&(_=u),q.createElement(yn,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},l&&t.renderLabelLineItem(l,E,"line"),t.renderLabelItem(s,b,Xr(g,_)))});return q.createElement(yn,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,s=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var h=i.isActiveIndex(d),f=c&&i.hasActiveIndex()?c:null,m=h?s:f,p=Fn(Fn({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return q.createElement(yn,Nm({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Zh(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),q.createElement(noe,Nm({option:m,isActive:h,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state,f=h.prevSectors,m=h.prevIsAnimationActive;return q.createElement(Sl,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var g=p.t,x=[],y=a&&a[0],v=y.startAngle;return a.forEach(function(b,E){var _=f&&f[E],S=E>0?fs(b,"paddingAngle",0):0;if(_){var C=as(_.endAngle-_.startAngle,b.endAngle-b.startAngle),T=Fn(Fn({},b),{},{startAngle:v+S,endAngle:v+C(g)+S});x.push(T),v=T.endAngle}else{var j=b.endAngle,k=b.startAngle,O=as(0,j-k),M=O(g),B=Fn(Fn({},b),{},{startAngle:v+S,endAngle:v+M+S});x.push(B),v=B.endAngle}}),q.createElement(yn,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!r1(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,s=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,h=i.innerRadius,f=i.outerRadius,m=i.isAnimationActive,p=this.state.isAnimationFinished;if(a||!s||!s.length||!qe(u)||!qe(d)||!qe(h)||!qe(f))return null;var g=Wt("recharts-pie",l);return q.createElement(yn,{tabIndex:this.props.rootTabIndex,className:g,ref:function(y){r.pieRef=y}},this.renderSectors(),c&&this.renderLabels(s),di.renderCallByParent(this.props,null,!1),(!m||p)&&gc.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(q.isValidElement(r))return q.cloneElement(r,i);if(Bt(r))return r(i);var s=Wt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return q.createElement(E_,Nm({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,a){if(q.isValidElement(r))return q.cloneElement(r,i);var s=a;if(Bt(r)&&(s=r(i),q.isValidElement(s)))return s;var l=Wt("recharts-pie-label-text",typeof r!="boolean"&&!Bt(r)?r.className:"");return q.createElement(Jh,Nm({},i,{alignmentBaseline:"middle",className:l}),s)}}])}(w.PureComponent);CE=Ml;Ds(Ml,"displayName","Pie");Ds(Ml,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!cl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ds(Ml,"parseDeltaAngle",function(e,t){var n=la(t-e),r=Math.min(Math.abs(t-e),360);return n*r});Ds(Ml,"getRealPieData",function(e){var t=e.data,n=e.children,r=At(e,!1),i=ms(n,Qb);return t&&t.length?t.map(function(a,s){return Fn(Fn(Fn({payload:a},r),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Fn(Fn({},r),a.props)}):[]});Ds(Ml,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,i=t.width,a=t.height,s=Rse(i,a),l=r+ca(e.cx,i,i/2),c=n+ca(e.cy,a,a/2),u=ca(e.innerRadius,s,0),d=ca(e.outerRadius,s,s*.8),h=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:h}});Ds(Ml,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?Fn(Fn({},t.type.defaultProps),t.props):t.props,i=CE.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,s=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,h=r.valueKey,f=r.tooltipType,m=Math.abs(r.minAngle),p=CE.parseCoordinateOfPie(r,n),g=CE.parseDeltaAngle(s,l),x=Math.abs(g),y=u;Ut(u)&&Ut(h)?(Po(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Ut(u)&&(Po(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=h);var v=i.filter(function(T){return Xr(T,y,0)!==0}).length,b=(x>=360?v:v-1)*c,E=x-v*m-b,_=i.reduce(function(T,j){var k=Xr(j,y,0);return T+(qe(k)?k:0)},0),S;if(_>0){var C;S=i.map(function(T,j){var k=Xr(T,y,0),O=Xr(T,d,j),M=(qe(k)?k:0)/_,B;j?B=C.endAngle+la(g)*c*(k!==0?1:0):B=s;var N=B+la(g)*((k!==0?m:0)+M*E),D=(B+N)/2,P=(p.innerRadius+p.outerRadius)/2,L=[{name:O,value:k,payload:T,dataKey:y,type:f}],I=Hn(p.cx,p.cy,P,D);return C=Fn(Fn(Fn({percent:M,cornerRadius:a,name:O,tooltipPayload:L,midAngle:D,middleRadius:P,tooltipPosition:I},T),p),{},{value:Xr(T,y),startAngle:B,endAngle:N,payload:T,paddingAngle:la(g)*c}),C})}return Fn(Fn({},p),{},{sectors:S,data:i})});var fot=Math.ceil,mot=Math.max;function pot(e,t,n,r){for(var i=-1,a=mot(fot((t-e)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=e,e+=n;return s}var got=pot,yot=xae,g7=1/0,xot=17976931348623157e292;function vot(e){if(!e)return e===0?e:0;if(e=yot(e),e===g7||e===-g7){var t=e<0?-1:1;return t*xot}return e===e?e:0}var aoe=vot,bot=got,wot=gT,wA=aoe;function Eot(e){return function(t,n,r){return r&&typeof r!="number"&&wot(t,n,r)&&(n=r=void 0),t=wA(t),n===void 0?(n=t,t=0):n=wA(n),r=r===void 0?t<n?1:-1:wA(r),bot(t,n,r,e)}}var Sot=Eot,_ot=Sot,Cot=_ot(),Tot=Cot;const P_=sn(Tot);function $v(e){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$v(e)}function y7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function x7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y7(Object(n),!0).forEach(function(r){soe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function soe(e,t,n){return t=Not(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Not(e){var t=kot(e,"string");return $v(t)=="symbol"?t:t+""}function kot(e,t){if($v(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($v(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aot=["Webkit","Moz","O","ms"],jot=function(t,n){var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Aot.reduce(function(a,s){return x7(x7({},a),{},soe({},s+r,n))},{});return i[t]=n,i};function Qp(e){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qp(e)}function M_(){return M_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M_.apply(this,arguments)}function v7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v7(Object(n),!0).forEach(function(r){Ja(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,loe(r.key),r)}}function Pot(e,t,n){return t&&b7(e.prototype,t),n&&b7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mot(e,t,n){return t=I_(t),Iot(e,ooe()?Reflect.construct(t,n||[],I_(e).constructor):t.apply(e,n))}function Iot(e,t){if(t&&(Qp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rot(e)}function Rot(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ooe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ooe=function(){return!!e})()}function I_(e){return I_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},I_(e)}function Dot(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CM(e,t)}function CM(e,t){return CM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CM(e,t)}function Ja(e,t,n){return t=loe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function loe(e){var t=Lot(e,"string");return Qp(t)=="symbol"?t:t+""}function Lot(e,t){if(Qp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $ot=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,a=t.x,s=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=ax().domain(P_(0,c)).range([a,a+s-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},w7=function(t){return t.changedTouches&&!!t.changedTouches.length},Jp=function(e){function t(n){var r;return Oot(this,t),r=Mot(this,t,[n]),Ja(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ja(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ja(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),Ja(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ja(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ja(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ja(r,"handleSlideDragStart",function(i){var a=w7(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Dot(t,e),Pot(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(i,a),f=Math.max(i,a),m=t.getIndexInRange(s,h),p=t.getIndexInRange(s,f);return{startIndex:m-m%c,endIndex:p===d?d:p-p%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,c=Xr(a[r],l,r);return Bt(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,f=c.startIndex,m=c.endIndex,p=c.onChange,g=r.pageX-a;g>0?g=Math.min(g,u+d-h-l,u+d-h-s):g<0&&(g=Math.max(g,u-s,u-l));var x=this.getIndex({startX:s+g,endX:l+g});(x.startIndex!==f||x.endIndex!==m)&&p&&p(x),this.setState({startX:s+g,endX:l+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=w7(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[s],d=this.props,h=d.x,f=d.width,m=d.travellerWidth,p=d.onChange,g=d.gap,x=d.data,y={startX:this.state.startX,endX:this.state.endX},v=r.pageX-a;v>0?v=Math.min(v,h+f-m-u):v<0&&(v=Math.max(v,h-u)),y[s]=u+v;var b=this.getIndex(y),E=b.startIndex,_=b.endIndex,S=function(){var T=x.length-1;return s==="startX"&&(l>c?E%g===0:_%g===0)||l<c&&_===T||s==="endX"&&(l>c?_%g===0:E%g===0)||l>c&&_===T};this.setState(Ja(Ja({},s,u+v),"brushMoveStartX",r.pageX),function(){p&&S()&&p(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,d=this.state[i],h=l.indexOf(d);if(h!==-1){var f=h+r;if(!(f===-1||f>=l.length)){var m=l[f];i==="startX"&&m>=u||i==="endX"&&m<=c||this.setState(Ja({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.fill,u=r.stroke;return q.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,h=w.Children.only(u);return h?q.cloneElement(h,{x:i,y:a,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,f=c.traveller,m=c.ariaLabel,p=c.data,g=c.startIndex,x=c.endIndex,y=Math.max(r,this.props.x),v=EA(EA({},At(this.props,!1)),{},{x:y,y:u,width:d,height:h}),b=m||"Min value: ".concat((a=p[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=p[x])===null||s===void 0?void 0:s.name);return q.createElement(yn,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,v))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(r,i)+u,h=Math.max(Math.abs(i-r)-u,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:h,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,h=d.startX,f=d.endX,m=5,p={pointerEvents:"none",fill:u};return q.createElement(yn,{className:"recharts-brush-texts"},q.createElement(Jh,M_({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-m,y:s+l/2},p),this.getTextOfTick(i)),q.createElement(Jh,M_({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+m,y:s+l/2},p),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,l=r.x,c=r.y,u=r.width,d=r.height,h=r.alwaysShowText,f=this.state,m=f.startX,p=f.endX,g=f.isTextActive,x=f.isSlideMoving,y=f.isTravellerMoving,v=f.isTravellerFocused;if(!i||!i.length||!qe(l)||!qe(c)||!qe(u)||!qe(d)||u<=0||d<=0)return null;var b=Wt("recharts-brush",a),E=q.Children.count(s)===1,_=jot("userSelect","none");return q.createElement(yn,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(m,p),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(p,"endX"),(g||x||y||v||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,l=r.height,c=r.stroke,u=Math.floor(a+l/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:i,y:a,width:s,height:l,fill:c,stroke:"none"}),q.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return q.isValidElement(r)?a=q.cloneElement(r,i):Bt(r)?a=r(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,h=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return EA({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},a&&a.length?$ot({data:a,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var f=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,l=a-1;l-s>1;){var c=Math.floor((s+l)/2);r[c]>i?l=c:s=c}return i>=r[l]?l:s}}])}(w.PureComponent);Ja(Jp,"displayName","Brush");Ja(Jp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Bot=WL;function Fot(e,t){var n;return Bot(e,function(r,i,a){return n=t(r,i,a),!n}),!!n}var zot=Fot,Uot=Wie,Hot=Pl,Vot=zot,Wot=Wa,qot=gT;function Got(e,t,n){var r=Wot(e)?Uot:Vot;return n&&qot(e,t,n)&&(t=void 0),r(e,Hot(t))}var Yot=Got;const Kot=sn(Yot);var dl=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},E7=fae;function Xot(e,t,n){t=="__proto__"&&E7?E7(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Zot=Xot,Qot=Zot,Jot=dae,elt=Pl;function tlt(e,t){var n={};return t=elt(t),Jot(e,function(r,i,a){Qot(n,i,t(r,i,a))}),n}var nlt=tlt;const rlt=sn(nlt);function ilt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var alt=ilt,slt=WL;function olt(e,t){var n=!0;return slt(e,function(r,i,a){return n=!!t(r,i,a),n}),n}var llt=olt,clt=alt,ult=llt,dlt=Pl,hlt=Wa,flt=gT;function mlt(e,t,n){var r=hlt(e)?clt:ult;return n&&flt(e,t,n)&&(t=void 0),r(e,dlt(t))}var plt=mlt;const coe=sn(plt);var glt=["x","y"];function Bv(e){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bv(e)}function TM(){return TM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TM.apply(this,arguments)}function S7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ey(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S7(Object(n),!0).forEach(function(r){ylt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ylt(e,t,n){return t=xlt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xlt(e){var t=vlt(e,"string");return Bv(t)=="symbol"?t:t+""}function vlt(e,t){if(Bv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function blt(e,t){if(e==null)return{};var n=wlt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wlt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Elt(e,t){var n=e.x,r=e.y,i=blt(e,glt),a="".concat(n),s=parseInt(a,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),h="".concat(t.width||i.width),f=parseInt(h,10);return ey(ey(ey(ey(ey({},t),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:f,name:t.name,radius:t.radius})}function _7(e){return q.createElement(noe,TM({shapeType:"rectangle",propTransformer:Elt,activeClassName:"recharts-active-bar"},e))}var Slt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var a=typeof r=="number";return a?t(r,i):(a||nf(),n)}},_lt=["value","background"],uoe;function eg(e){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(e)}function Clt(e,t){if(e==null)return{};var n=Tlt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Tlt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function R_(){return R_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R_.apply(this,arguments)}function C7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C7(Object(n),!0).forEach(function(r){Pu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nlt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hoe(r.key),r)}}function klt(e,t,n){return t&&T7(e.prototype,t),n&&T7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Alt(e,t,n){return t=D_(t),jlt(e,doe()?Reflect.construct(t,n||[],D_(e).constructor):t.apply(e,n))}function jlt(e,t){if(t&&(eg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Olt(e)}function Olt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function doe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(doe=function(){return!!e})()}function D_(e){return D_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},D_(e)}function Plt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NM(e,t)}function NM(e,t){return NM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NM(e,t)}function Pu(e,t,n){return t=hoe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hoe(e){var t=Mlt(e,"string");return eg(t)=="symbol"?t:t+""}function Mlt(e,t){if(eg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Od=function(e){function t(){var n;Nlt(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Alt(this,t,[].concat(i)),Pu(n,"state",{isAnimationFinished:!1}),Pu(n,"id",n0("recharts-bar-")),Pu(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Pu(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return Plt(t,e),klt(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=At(this.props,!1);return r&&r.map(function(h,f){var m=f===c,p=m?u:s,g=Br(Br(Br({},d),h),{},{isActive:m,option:p,index:f,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return q.createElement(yn,R_({className:"recharts-bar-rectangle"},Zh(i.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)}),q.createElement(_7,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,h=i.animationId,f=this.state.prevData;return q.createElement(Sl,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var p=m.t,g=a.map(function(x,y){var v=f&&f[y];if(v){var b=as(v.x,x.x),E=as(v.y,x.y),_=as(v.width,x.width),S=as(v.height,x.height);return Br(Br({},x),{},{x:b(p),y:E(p),width:_(p),height:S(p)})}if(s==="horizontal"){var C=as(0,x.height),T=C(p);return Br(Br({},x),{},{y:x.y+x.height-T,height:T})}var j=as(0,x.width),k=j(p);return Br(Br({},x),{},{width:k})});return q.createElement(yn,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!r1(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,c=At(this.props.background,!1);return a.map(function(u,d){u.value;var h=u.background,f=Clt(u,_lt);if(!h)return null;var m=Br(Br(Br(Br(Br({},f),{},{fill:"#eee"},h),c),Zh(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return q.createElement(_7,R_({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,h=ms(d,i1);if(!h)return null;var f=u==="vertical"?s[0].height/2:s[0].width/2,m=function(x,y){var v=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:v,errorVal:Xr(x,y)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return q.createElement(yn,p,h.map(function(g){return q.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,h=r.width,f=r.height,m=r.isAnimationActive,p=r.background,g=r.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,y=Wt("recharts-bar",s),v=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,E=v||b,_=Ut(g)?this.id:g;return q.createElement(yn,{className:y},v||b?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(_)},q.createElement("rect",{x:v?u:u-h/2,y:b?d:d-f/2,width:v?h:h*2,height:b?f:f*2}))):null,q.createElement(yn,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(_,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,_),(!m||x)&&gc.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(w.PureComponent);uoe=Od;Pu(Od,"displayName","Bar");Pu(Od,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!cl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Pu(Od,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,s=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,f=e.offset,m=Snt(r,n);if(!m)return null;var p=t.layout,g=n.type.defaultProps,x=g!==void 0?Br(Br({},g),n.props):n.props,y=x.dataKey,v=x.children,b=x.minPointSize,E=p==="horizontal"?s:a,_=u?E.scale.domain():null,S=jnt({numericAxis:E}),C=ms(v,Qb),T=h.map(function(j,k){var O,M,B,N,D,P;u?O=_nt(u[d+k],_):(O=Xr(j,y),Array.isArray(O)||(O=[S,O]));var L=Slt(b,uoe.defaultProps.minPointSize)(O[1],k);if(p==="horizontal"){var I,U=[s.scale(O[0]),s.scale(O[1])],$=U[0],W=U[1];M=pU({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:j,index:k}),B=(I=W??$)!==null&&I!==void 0?I:void 0,N=m.size;var z=$-W;if(D=Number.isNaN(z)?0:z,P={x:M,y:s.y,width:N,height:s.height},Math.abs(L)>0&&Math.abs(D)<Math.abs(L)){var R=la(D||L)*(Math.abs(L)-Math.abs(D));B-=R,D+=R}}else{var G=[a.scale(O[0]),a.scale(O[1])],Q=G[0],oe=G[1];if(M=Q,B=pU({axis:s,ticks:c,bandSize:i,offset:m.offset,entry:j,index:k}),N=oe-Q,D=m.size,P={x:a.x,y:B,width:a.width,height:D},Math.abs(L)>0&&Math.abs(N)<Math.abs(L)){var re=la(N||L)*(Math.abs(L)-Math.abs(N));N+=re}}return Br(Br(Br({},j),{},{x:M,y:B,width:N,height:D,value:u?O:O[1],payload:j,background:P},C&&C[k]&&C[k].props),{},{tooltipPayload:[Mse(n,j)],tooltipPosition:{x:M+N/2,y:B+D/2}})});return Br({data:T,layout:p},f)});function Fv(e){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fv(e)}function Ilt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,foe(r.key),r)}}function Rlt(e,t,n){return t&&N7(e.prototype,t),n&&N7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function k7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function go(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k7(Object(n),!0).forEach(function(r){DT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DT(e,t,n){return t=foe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function foe(e){var t=Dlt(e,"string");return Fv(t)=="symbol"?t:t+""}function Dlt(e,t){if(Fv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var moe=function(t,n,r,i,a){var s=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),h={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},f=!!rs(u,Od);return d.reduce(function(m,p){var g=n[p],x=g.orientation,y=g.domain,v=g.padding,b=v===void 0?{}:v,E=g.mirror,_=g.reversed,S="".concat(x).concat(E?"Mirror":""),C,T,j,k,O;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var M=y[1]-y[0],B=1/0,N=g.categoricalDomain.sort();if(N.forEach(function(G,Q){Q>0&&(B=Math.min((G||0)-(N[Q-1]||0),B))}),Number.isFinite(B)){var D=B/M,P=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(C=D*P/2),g.padding==="no-gap"){var L=ca(t.barCategoryGap,D*P),I=D*P/2;C=I-L-(I-L)/P*L}}}i==="xAxis"?T=[r.left+(b.left||0)+(C||0),r.left+r.width-(b.right||0)-(C||0)]:i==="yAxis"?T=c==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(C||0),r.top+r.height-(b.bottom||0)-(C||0)]:T=g.range,_&&(T=[T[1],T[0]]);var U=Ase(g,a,f),$=U.scale,W=U.realScaleType;$.domain(y).range(T),jse($);var z=Ose($,go(go({},g),{},{realScaleType:W}));i==="xAxis"?(O=x==="top"&&!E||x==="bottom"&&E,j=r.left,k=h[S]-O*g.height):i==="yAxis"&&(O=x==="left"&&!E||x==="right"&&E,j=h[S]-O*g.width,k=r.top);var R=go(go(go({},g),z),{},{realScaleType:W,x:j,y:k,scale:$,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return R.bandSize=v_(R,z),!g.hide&&i==="xAxis"?h[S]+=(O?-1:1)*R.height:g.hide||(h[S]+=(O?-1:1)*R.width),go(go({},m),{},DT({},p,R))},{})},poe=function(t,n){var r=t.x,i=t.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},Llt=function(t){var n=t.x1,r=t.y1,i=t.x2,a=t.y2;return poe({x:n,y:r},{x:i,y:a})},goe=function(){function e(t){Ilt(this,e),this.scale=t}return Rlt(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();DT(goe,"EPS",1e-4);var v4=function(t){var n=Object.keys(t).reduce(function(r,i){return go(go({},r),{},DT({},i,goe.create(t[i])))},{});return go(go({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return rlt(i,function(c,u){return n[u].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return coe(i,function(a,s){return n[s].isInRange(a)})}})};function $lt(e){return(e%180+180)%180}var Blt=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=$lt(i),s=a*Math.PI/180,l=Math.atan(r/n),c=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},Flt=Pl,zlt=Zb,Ult=mT;function Hlt(e){return function(t,n,r){var i=Object(t);if(!zlt(t)){var a=Flt(n);t=Ult(t),n=function(l){return a(i[l],l,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:void 0}}var Vlt=Hlt,Wlt=aoe;function qlt(e){var t=Wlt(e),n=t%1;return t===t?n?t-n:t:0}var Glt=qlt,Ylt=aae,Klt=Pl,Xlt=Glt,Zlt=Math.max;function Qlt(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:Xlt(n);return i<0&&(i=Zlt(r+i,0)),Ylt(e,Klt(t),i)}var Jlt=Qlt,ect=Vlt,tct=Jlt,nct=ect(tct),rct=nct;const ict=sn(rct);var act=dze(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),b4=w.createContext(void 0),w4=w.createContext(void 0),yoe=w.createContext(void 0),xoe=w.createContext({}),voe=w.createContext(void 0),boe=w.createContext(0),woe=w.createContext(0),A7=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=t.clipPathId,l=t.children,c=t.width,u=t.height,d=act(a);return q.createElement(b4.Provider,{value:r},q.createElement(w4.Provider,{value:i},q.createElement(xoe.Provider,{value:a},q.createElement(yoe.Provider,{value:d},q.createElement(voe.Provider,{value:s},q.createElement(boe.Provider,{value:u},q.createElement(woe.Provider,{value:c},l)))))))},sct=function(){return w.useContext(voe)},Eoe=function(t){var n=w.useContext(b4);n==null&&nf();var r=n[t];return r==null&&nf(),r},oct=function(){var t=w.useContext(b4);return vu(t)},lct=function(){var t=w.useContext(w4),n=ict(t,function(r){return coe(r.domain,Number.isFinite)});return n||vu(t)},Soe=function(t){var n=w.useContext(w4);n==null&&nf();var r=n[t];return r==null&&nf(),r},cct=function(){var t=w.useContext(yoe);return t},uct=function(){return w.useContext(xoe)},E4=function(){return w.useContext(woe)},S4=function(){return w.useContext(boe)};function tg(e){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(e)}function dct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Coe(r.key),r)}}function fct(e,t,n){return t&&hct(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mct(e,t,n){return t=L_(t),pct(e,_oe()?Reflect.construct(t,n||[],L_(e).constructor):t.apply(e,n))}function pct(e,t){if(t&&(tg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gct(e)}function gct(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _oe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_oe=function(){return!!e})()}function L_(e){return L_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},L_(e)}function yct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kM(e,t)}function kM(e,t){return kM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kM(e,t)}function j7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function O7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j7(Object(n),!0).forEach(function(r){_4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _4(e,t,n){return t=Coe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Coe(e){var t=xct(e,"string");return tg(t)=="symbol"?t:t+""}function xct(e,t){if(tg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vct(e,t){return Sct(e)||Ect(e,t)||wct(e,t)||bct()}function bct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wct(e,t){if(e){if(typeof e=="string")return P7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P7(e,t)}}function P7(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ect(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function Sct(e){if(Array.isArray(e))return e}function AM(){return AM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AM.apply(this,arguments)}var _ct=function(t,n){var r;return q.isValidElement(t)?r=q.cloneElement(t,n):Bt(t)?r=t(n):r=q.createElement("line",AM({},n,{className:"recharts-reference-line-line"})),r},Cct=function(t,n,r,i,a,s,l,c,u){var d=a.x,h=a.y,f=a.width,m=a.height;if(r){var p=u.y,g=t.y.apply(p,{position:s});if(dl(u,"discard")&&!t.y.isInRange(g))return null;var x=[{x:d+f,y:g},{x:d,y:g}];return c==="left"?x.reverse():x}if(n){var y=u.x,v=t.x.apply(y,{position:s});if(dl(u,"discard")&&!t.x.isInRange(v))return null;var b=[{x:v,y:h+m},{x:v,y:h}];return l==="top"?b.reverse():b}if(i){var E=u.segment,_=E.map(function(S){return t.apply(S,{position:s})});return dl(u,"discard")&&Kot(_,function(S){return!t.isInRange(S)})?null:_}return null};function Tct(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,a=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=sct(),d=Eoe(i),h=Soe(a),f=cct();if(!u||!f)return null;Po(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=v4({x:d.scale,y:h.scale}),p=Jr(t),g=Jr(n),x=r&&r.length===2,y=Cct(m,p,g,x,f,e.position,d.orientation,h.orientation,e);if(!y)return null;var v=vct(y,2),b=v[0],E=b.x,_=b.y,S=v[1],C=S.x,T=S.y,j=dl(e,"hidden")?"url(#".concat(u,")"):void 0,k=O7(O7({clipPath:j},At(e,!0)),{},{x1:E,y1:_,x2:C,y2:T});return q.createElement(yn,{className:Wt("recharts-reference-line",l)},_ct(s,k),di.renderCallByParent(e,Llt({x1:E,y1:_,x2:C,y2:T})))}var C4=function(e){function t(){return dct(this,t),mct(this,t,arguments)}return yct(t,e),fct(t,[{key:"render",value:function(){return q.createElement(Tct,this.props)}}])}(q.Component);_4(C4,"displayName","ReferenceLine");_4(C4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function jM(){return jM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jM.apply(this,arguments)}function ng(e){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(e)}function M7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function I7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M7(Object(n),!0).forEach(function(r){LT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Noe(r.key),r)}}function Act(e,t,n){return t&&kct(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jct(e,t,n){return t=$_(t),Oct(e,Toe()?Reflect.construct(t,n||[],$_(e).constructor):t.apply(e,n))}function Oct(e,t){if(t&&(ng(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pct(e)}function Pct(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Toe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Toe=function(){return!!e})()}function $_(e){return $_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$_(e)}function Mct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OM(e,t)}function OM(e,t){return OM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OM(e,t)}function LT(e,t,n){return t=Noe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Noe(e){var t=Ict(e,"string");return ng(t)=="symbol"?t:t+""}function Ict(e,t){if(ng(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rct=function(t){var n=t.x,r=t.y,i=t.xAxis,a=t.yAxis,s=v4({x:i.scale,y:a.scale}),l=s.apply({x:n,y:r},{bandAware:!0});return dl(t,"discard")&&!s.isInRange(l)?null:l},$T=function(e){function t(){return Nct(this,t),jct(this,t,arguments)}return Mct(t,e),Act(t,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,l=r.alwaysShow,c=r.clipPathId,u=Jr(i),d=Jr(a);if(Po(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=Rct(this.props);if(!h)return null;var f=h.x,m=h.y,p=this.props,g=p.shape,x=p.className,y=dl(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=I7(I7({clipPath:y},At(this.props,!0)),{},{cx:f,cy:m});return q.createElement(yn,{className:Wt("recharts-reference-dot",x)},t.renderDot(g,v),di.renderCallByParent(this.props,{x:f-s,y:m-s,width:2*s,height:2*s}))}}])}(q.Component);LT($T,"displayName","ReferenceDot");LT($T,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});LT($T,"renderDot",function(e,t){var n;return q.isValidElement(e)?n=q.cloneElement(e,t):Bt(e)?n=e(t):n=q.createElement(AT,jM({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function PM(){return PM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PM.apply(this,arguments)}function rg(e){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(e)}function R7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function D7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R7(Object(n),!0).forEach(function(r){BT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Aoe(r.key),r)}}function $ct(e,t,n){return t&&Lct(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bct(e,t,n){return t=B_(t),Fct(e,koe()?Reflect.construct(t,n||[],B_(e).constructor):t.apply(e,n))}function Fct(e,t){if(t&&(rg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zct(e)}function zct(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function koe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(koe=function(){return!!e})()}function B_(e){return B_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},B_(e)}function Uct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MM(e,t)}function MM(e,t){return MM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},MM(e,t)}function BT(e,t,n){return t=Aoe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aoe(e){var t=Hct(e,"string");return rg(t)=="symbol"?t:t+""}function Hct(e,t){if(rg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vct=function(t,n,r,i,a){var s=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,h=a.yAxis;if(!d||!h)return null;var f=v4({x:d.scale,y:h.scale}),m={x:t?f.x.apply(s,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(c,{position:"start"}):f.y.rangeMin},p={x:n?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return dl(a,"discard")&&(!f.isInRange(m)||!f.isInRange(p))?null:poe(m,p)},FT=function(e){function t(){return Dct(this,t),Bct(this,t,arguments)}return Uct(t,e),$ct(t,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;Po(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Jr(i),f=Jr(a),m=Jr(s),p=Jr(l),g=this.props.shape;if(!h&&!f&&!m&&!p&&!g)return null;var x=Vct(h,f,m,p,this.props);if(!x&&!g)return null;var y=dl(this.props,"hidden")?"url(#".concat(d,")"):void 0;return q.createElement(yn,{className:Wt("recharts-reference-area",c)},t.renderRect(g,D7(D7({clipPath:y},At(this.props,!0)),x)),di.renderCallByParent(this.props,x))}}])}(q.Component);BT(FT,"displayName","ReferenceArea");BT(FT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});BT(FT,"renderRect",function(e,t){var n;return q.isValidElement(e)?n=q.cloneElement(e,t):Bt(e)?n=e(t):n=q.createElement(x4,PM({},t,{className:"recharts-reference-area-rect"})),n});function joe(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function Wct(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Blt(r,n)}function qct(e,t,n){var r=n==="width",i=e.x,a=e.y,s=e.width,l=e.height;return t===1?{start:r?i:a,end:r?i+s:a+l}:{start:r?i+s:a+l,end:r?i:a}}function F_(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Gct(e,t){return joe(e,t+1)}function Yct(e,t,n,r,i){for(var a=(r||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,h=function(){var p=r==null?void 0:r[c];if(p===void 0)return{v:joe(r,u)};var g=c,x,y=function(){return x===void 0&&(x=n(p,g)),x},v=p.coordinate,b=c===0||F_(e,v,y,d,l);b||(c=0,d=s,u+=1),b&&(d=v+e*(y()/2+i),c+=u)},f;u<=a.length;)if(f=h(),f)return f.v;return[]}function zv(e){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zv(e)}function L7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ri(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L7(Object(n),!0).forEach(function(r){Kct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kct(e,t,n){return t=Xct(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xct(e){var t=Zct(e,"string");return zv(t)=="symbol"?t:t+""}function Zct(e,t){if(zv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qct(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,l=t.start,c=t.end,u=function(f){var m=a[f],p,g=function(){return p===void 0&&(p=n(m,f)),p};if(f===s-1){var x=e*(m.coordinate+e*g()/2-c);a[f]=m=Ri(Ri({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else a[f]=m=Ri(Ri({},m),{},{tickCoord:m.coordinate});var y=F_(e,m.tickCoord,g,l,c);y&&(c=m.tickCoord-e*(g()/2+i),a[f]=Ri(Ri({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function Jct(e,t,n,r,i,a){var s=(r||[]).slice(),l=s.length,c=t.start,u=t.end;if(a){var d=r[l-1],h=n(d,l-1),f=e*(d.coordinate+e*h/2-u);s[l-1]=d=Ri(Ri({},d),{},{tickCoord:f>0?d.coordinate-f*e:d.coordinate});var m=F_(e,d.tickCoord,function(){return h},c,u);m&&(u=d.tickCoord-e*(h/2+i),s[l-1]=Ri(Ri({},d),{},{isShow:!0}))}for(var p=a?l-1:l,g=function(v){var b=s[v],E,_=function(){return E===void 0&&(E=n(b,v)),E};if(v===0){var S=e*(b.coordinate-e*_()/2-c);s[v]=b=Ri(Ri({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else s[v]=b=Ri(Ri({},b),{},{tickCoord:b.coordinate});var C=F_(e,b.tickCoord,_,c,u);C&&(c=b.tickCoord+e*(_()/2+i),s[v]=Ri(Ri({},b),{},{isShow:!0}))},x=0;x<p;x++)g(x);return s}function T4(e,t,n){var r=e.tick,i=e.ticks,a=e.viewBox,s=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,h=e.angle;if(!i||!i.length||!r)return[];if(qe(c)||cl.isSsr)return Gct(i,typeof c=="number"&&qe(c)?c:0);var f=[],m=l==="top"||l==="bottom"?"width":"height",p=d&&m==="width"?ix(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=function(b,E){var _=Bt(u)?u(b.value,E):b.value;return m==="width"?Wct(ix(_,{fontSize:t,letterSpacing:n}),p,h):ix(_,{fontSize:t,letterSpacing:n})[m]},x=i.length>=2?la(i[1].coordinate-i[0].coordinate):1,y=qct(a,x,m);return c==="equidistantPreserveStart"?Yct(x,y,g,i,s):(c==="preserveStart"||c==="preserveStartEnd"?f=Jct(x,y,g,i,s,c==="preserveStartEnd"):f=Qct(x,y,g,i,s),f.filter(function(v){return v.isShow}))}var eut=["viewBox"],tut=["viewBox"],nut=["ticks"];function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},km.apply(this,arguments)}function $7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$7(Object(n),!0).forEach(function(r){N4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SA(e,t){if(e==null)return{};var n=rut(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rut(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function iut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Poe(r.key),r)}}function aut(e,t,n){return t&&B7(e.prototype,t),n&&B7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sut(e,t,n){return t=z_(t),out(e,Ooe()?Reflect.construct(t,n||[],z_(e).constructor):t.apply(e,n))}function out(e,t){if(t&&(ig(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lut(e)}function lut(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ooe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ooe=function(){return!!e})()}function z_(e){return z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},z_(e)}function cut(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IM(e,t)}function IM(e,t){return IM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IM(e,t)}function N4(e,t,n){return t=Poe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Poe(e){var t=uut(e,"string");return ig(t)=="symbol"?t:t+""}function uut(e,t){if(ig(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u0=function(e){function t(n){var r;return iut(this,t),r=sut(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return cut(t,e),aut(t,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=SA(r,eut),l=this.props,c=l.viewBox,u=SA(l,tut);return!Xm(a,c)||!Xm(s,u)||!Xm(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,h=i.mirror,f=i.tickMargin,m,p,g,x,y,v,b=h?-1:1,E=r.tickSize||d,_=qe(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=p=r.coordinate,x=s+ +!h*c,g=x-b*E,v=g-b*f,y=_;break;case"left":g=x=r.coordinate,p=a+ +!h*l,m=p-b*E,y=m-b*f,v=_;break;case"right":g=x=r.coordinate,p=a+ +h*l,m=p+b*E,y=m+b*f,v=_;break;default:m=p=r.coordinate,x=s+ +h*c,g=x+b*E,v=g+b*f,y=_;break}return{line:{x1:m,y1:g,x2:p,y2:x},tick:{x:y,y:v}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,h=Qi(Qi(Qi({},At(this.props,!1)),At(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);h=Qi(Qi({},h),{},{x1:i,y1:a+f*l,x2:i+s,y2:a+f*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);h=Qi(Qi({},h),{},{x1:i+m*s,y1:a,x2:i+m*s,y2:a+l})}return q.createElement("line",km({},h,{className:Wt("recharts-cartesian-axis-line",fs(d,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,f=l.unit,m=T4(Qi(Qi({},this.props),{},{ticks:r}),i,a),p=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),x=At(this.props,!1),y=At(d,!1),v=Qi(Qi({},x),{},{fill:"none"},At(c,!1)),b=m.map(function(E,_){var S=s.getTickLineCoord(E),C=S.line,T=S.tick,j=Qi(Qi(Qi(Qi({textAnchor:p,verticalAnchor:g},x),{},{stroke:"none",fill:u},y),T),{},{index:_,payload:E,visibleTicksCount:m.length,tickFormatter:h});return q.createElement(yn,km({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},Zh(s.props,E,_)),c&&q.createElement("line",km({},v,C,{className:Wt("recharts-cartesian-axis-tick-line",fs(c,"className"))})),d&&t.renderTickItem(d,j,"".concat(Bt(h)?h(E.value,_):E.value).concat(f||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var h=this.props,f=h.ticks,m=SA(h,nut),p=f;return Bt(c)&&(p=f&&f.length>0?c(this.props):c(m)),s<=0||l<=0||!p||!p.length?null:q.createElement(yn,{className:Wt("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),di.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return q.isValidElement(r)?s=q.cloneElement(r,i):Bt(r)?s=r(i):s=q.createElement(Jh,km({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(w.Component);N4(u0,"displayName","CartesianAxis");N4(u0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var dut=["x1","y1","x2","y2","key"],hut=["offset"];function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function F7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F7(Object(n),!0).forEach(function(r){fut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fut(e,t,n){return t=mut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mut(e){var t=put(e,"string");return rf(t)=="symbol"?t:t+""}function put(e,t){if(rf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fh.apply(this,arguments)}function z7(e,t){if(e==null)return{};var n=gut(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gut(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var yut=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,a=t.y,s=t.width,l=t.height,c=t.ry;return q.createElement("rect",{x:i,y:a,ry:c,width:s,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Moe(e,t){var n;if(q.isValidElement(e))n=q.cloneElement(e,t);else if(Bt(e))n=e(t);else{var r=t.x1,i=t.y1,a=t.x2,s=t.y2,l=t.key,c=z7(t,dut),u=At(c,!1);u.offset;var d=z7(u,hut);n=q.createElement("line",fh({},d,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:l}))}return n}function xut(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var u=Bi(Bi({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return Moe(i,u)});return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function vut(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,a=e.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var u=Bi(Bi({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return Moe(i,u)});return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function but(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,a=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(f){return Math.round(f+i-i)}).sort(function(f,m){return f-m});i!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var p=!d[m+1],g=p?i+s-f:d[m+1]-f;if(g<=0)return null;var x=m%t.length;return q.createElement("rect",{key:"react-".concat(m),y:f,x:r,height:g,width:a,stroke:"none",fill:t[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function wut(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,a=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(f){return Math.round(f+a-a)}).sort(function(f,m){return f-m});a!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var p=!d[m+1],g=p?a+l-f:d[m+1]-f;if(g<=0)return null;var x=m%r.length;return q.createElement("rect",{key:"react-".concat(m),x:f,y:s,width:g,height:c,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Eut=function(t,n){var r=t.xAxis,i=t.width,a=t.height,s=t.offset;return kse(T4(Bi(Bi(Bi({},u0.defaultProps),r),{},{ticks:lc(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},Sut=function(t,n){var r=t.yAxis,i=t.width,a=t.height,s=t.offset;return kse(T4(Bi(Bi(Bi({},u0.defaultProps),r),{},{ticks:lc(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},Jf={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function RM(e){var t,n,r,i,a,s,l=E4(),c=S4(),u=uct(),d=Bi(Bi({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Jf.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Jf.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Jf.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Jf.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Jf.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Jf.verticalFill,x:qe(e.x)?e.x:u.left,y:qe(e.y)?e.y:u.top,width:qe(e.width)?e.width:u.width,height:qe(e.height)?e.height:u.height}),h=d.x,f=d.y,m=d.width,p=d.height,g=d.syncWithTicks,x=d.horizontalValues,y=d.verticalValues,v=oct(),b=lct();if(!qe(m)||m<=0||!qe(p)||p<=0||!qe(h)||h!==+h||!qe(f)||f!==+f)return null;var E=d.verticalCoordinatesGenerator||Eut,_=d.horizontalCoordinatesGenerator||Sut,S=d.horizontalPoints,C=d.verticalPoints;if((!S||!S.length)&&Bt(_)){var T=x&&x.length,j=_({yAxis:b?Bi(Bi({},b),{},{ticks:T?x:b.ticks}):void 0,width:l,height:c,offset:u},T?!0:g);Po(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(rf(j),"]")),Array.isArray(j)&&(S=j)}if((!C||!C.length)&&Bt(E)){var k=y&&y.length,O=E({xAxis:v?Bi(Bi({},v),{},{ticks:k?y:v.ticks}):void 0,width:l,height:c,offset:u},k?!0:g);Po(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(rf(O),"]")),Array.isArray(O)&&(C=O)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(yut,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),q.createElement(xut,fh({},d,{offset:u,horizontalPoints:S,xAxis:v,yAxis:b})),q.createElement(vut,fh({},d,{offset:u,verticalPoints:C,xAxis:v,yAxis:b})),q.createElement(but,fh({},d,{horizontalPoints:S})),q.createElement(wut,fh({},d,{verticalPoints:C})))}RM.displayName="CartesianGrid";var _ut=["type","layout","connectNulls","ref"],Cut=["key"];function ag(e){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(e)}function U7(e,t){if(e==null)return{};var n=Tut(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Tut(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ux.apply(this,arguments)}function H7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Za(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H7(Object(n),!0).forEach(function(r){yo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function em(e){return jut(e)||Aut(e)||kut(e)||Nut()}function Nut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kut(e,t){if(e){if(typeof e=="string")return DM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DM(e,t)}}function Aut(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jut(e){if(Array.isArray(e))return DM(e)}function DM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Out(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Roe(r.key),r)}}function Put(e,t,n){return t&&V7(e.prototype,t),n&&V7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mut(e,t,n){return t=U_(t),Iut(e,Ioe()?Reflect.construct(t,n||[],U_(e).constructor):t.apply(e,n))}function Iut(e,t){if(t&&(ag(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rut(e)}function Rut(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ioe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ioe=function(){return!!e})()}function U_(e){return U_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U_(e)}function Dut(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LM(e,t)}function LM(e,t){return LM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LM(e,t)}function yo(e,t,n){return t=Roe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Roe(e){var t=Lut(e,"string");return ag(t)=="symbol"?t:t+""}function Lut(e,t){if(ag(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a1=function(e){function t(){var n;Out(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Mut(this,t,[].concat(i)),yo(n,"state",{isAnimationFinished:!0,totalLength:0}),yo(n,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),yo(n,"getStrokeDasharray",function(s,l,c){var u=c.reduce(function(y,v){return y+v});if(!u)return n.generateSimpleStrokeDasharray(l,s);for(var d=Math.floor(s/u),h=s%u,f=l-s,m=[],p=0,g=0;p<c.length;g+=c[p],++p)if(g+c[p]>h){m=[].concat(em(c.slice(0,p)),[h-g]);break}var x=m.length%2===0?[0,f]:[f];return[].concat(em(t.repeat(c,d)),em(m),x).map(function(y){return"".concat(y,"px")}).join(", ")}),yo(n,"id",n0("recharts-line-")),yo(n,"pathRef",function(s){n.mainCurve=s}),yo(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),yo(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Dut(t,e),Put(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,h=ms(d,i1);if(!h)return null;var f=function(g,x){return{x:g.x,y:g.y,value:g.value,errorVal:Xr(g.payload,x)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return q.createElement(yn,m,h.map(function(p){return q.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=At(this.props,!1),f=At(c,!0),m=u.map(function(g,x){var y=Za(Za(Za({key:"dot-".concat(x),r:3},h),f),{},{value:g.value,dataKey:d,cx:g.x,cy:g.y,index:x,payload:g.payload});return t.renderDotItem(c,y)}),p={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return q.createElement(yn,ux({className:"recharts-line-dots",key:"dots"},p),m)}},{key:"renderCurveStatically",value:function(r,i,a,s){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var h=U7(l,_ut),f=Za(Za(Za({},At(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},s),{},{type:c,layout:u,connectNulls:d});return q.createElement(E_,ux({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,s=this.props,l=s.points,c=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,h=s.animationDuration,f=s.animationEasing,m=s.animationId,p=s.animateNewValues,g=s.width,x=s.height,y=this.state,v=y.prevPoints,b=y.totalLength;return q.createElement(Sl,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var _=E.t;if(v){var S=v.length/l.length,C=l.map(function(M,B){var N=Math.floor(B*S);if(v[N]){var D=v[N],P=as(D.x,M.x),L=as(D.y,M.y);return Za(Za({},M),{},{x:P(_),y:L(_)})}if(p){var I=as(g*2,M.x),U=as(x/2,M.y);return Za(Za({},M),{},{x:I(_),y:U(_)})}return Za(Za({},M),{},{x:M.x,y:M.y})});return a.renderCurveStatically(C,r,i)}var T=as(0,b),j=T(_),k;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});k=a.getStrokeDasharray(j,b,O)}else k=a.generateSimpleStrokeDasharray(b,j);return a.renderCurveStatically(l,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var a=this.props,s=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&s&&s.length&&(!u&&d>0||!r1(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,h=i.top,f=i.left,m=i.width,p=i.height,g=i.isAnimationActive,x=i.id;if(a||!l||!l.length)return null;var y=this.state.isAnimationFinished,v=l.length===1,b=Wt("recharts-line",c),E=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,S=E||_,C=Ut(x)?this.id:x,T=(r=At(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},j=T.r,k=j===void 0?3:j,O=T.strokeWidth,M=O===void 0?2:O,B=pUe(s)?s:{},N=B.clipDot,D=N===void 0?!0:N,P=k*2+M;return q.createElement(yn,{className:b},E||_?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(C)},q.createElement("rect",{x:E?f:f-m/2,y:_?h:h-p/2,width:E?m:m*2,height:_?p:p*2})),!D&&q.createElement("clipPath",{id:"clipPath-dots-".concat(C)},q.createElement("rect",{x:f-P/2,y:h-P/2,width:m+P,height:p+P}))):null,!v&&this.renderCurve(S,C),this.renderErrorBar(S,C),(v||s)&&this.renderDots(S,D,C),(!g||y)&&gc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(em(r),[0]):r,s=[],l=0;l<i;++l)s=[].concat(em(s),em(a));return s}},{key:"renderDotItem",value:function(r,i){var a;if(q.isValidElement(r))a=q.cloneElement(r,i);else if(Bt(r))a=r(i);else{var s=i.key,l=U7(i,Cut),c=Wt("recharts-line-dot",typeof r!="boolean"?r.className:"");a=q.createElement(AT,ux({key:s},l,{className:c}))}return a}}])}(w.PureComponent);yo(a1,"displayName","Line");yo(a1,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!cl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});yo(a1,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,s=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,h=c.map(function(f,m){var p=Xr(f,s);return d==="horizontal"?{x:mU({axis:n,ticks:i,bandSize:l,entry:f,index:m}),y:Ut(p)?null:r.scale(p),value:p,payload:f}:{x:Ut(p)?null:n.scale(p),y:mU({axis:r,ticks:a,bandSize:l,entry:f,index:m}),value:p,payload:f}});return Za({points:h,layout:d},u)});function sg(e){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sg(e)}function $ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function But(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$oe(r.key),r)}}function Fut(e,t,n){return t&&But(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zut(e,t,n){return t=H_(t),Uut(e,Doe()?Reflect.construct(t,n||[],H_(e).constructor):t.apply(e,n))}function Uut(e,t){if(t&&(sg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hut(e)}function Hut(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Doe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Doe=function(){return!!e})()}function H_(e){return H_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},H_(e)}function Vut(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$M(e,t)}function $M(e,t){return $M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$M(e,t)}function Loe(e,t,n){return t=$oe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $oe(e){var t=Wut(e,"string");return sg(t)=="symbol"?t:t+""}function Wut(e,t){if(sg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BM(){return BM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BM.apply(this,arguments)}function qut(e){var t=e.xAxisId,n=E4(),r=S4(),i=Eoe(t);return i==null?null:q.createElement(u0,BM({},i,{className:Wt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return lc(s,!0)}}))}var af=function(e){function t(){return $ut(this,t),zut(this,t,arguments)}return Vut(t,e),Fut(t,[{key:"render",value:function(){return q.createElement(qut,this.props)}}])}(q.Component);Loe(af,"displayName","XAxis");Loe(af,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function Gut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zoe(r.key),r)}}function Kut(e,t,n){return t&&Yut(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xut(e,t,n){return t=V_(t),Zut(e,Boe()?Reflect.construct(t,n||[],V_(e).constructor):t.apply(e,n))}function Zut(e,t){if(t&&(og(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qut(e)}function Qut(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Boe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Boe=function(){return!!e})()}function V_(e){return V_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},V_(e)}function Jut(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FM(e,t)}function FM(e,t){return FM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FM(e,t)}function Foe(e,t,n){return t=zoe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zoe(e){var t=edt(e,"string");return og(t)=="symbol"?t:t+""}function edt(e,t){if(og(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zM(){return zM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zM.apply(this,arguments)}var tdt=function(t){var n=t.yAxisId,r=E4(),i=S4(),a=Soe(n);return a==null?null:q.createElement(u0,zM({},a,{className:Wt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return lc(l,!0)}}))},sf=function(e){function t(){return Gut(this,t),Xut(this,t,arguments)}return Jut(t,e),Kut(t,[{key:"render",value:function(){return q.createElement(tdt,this.props)}}])}(q.Component);Foe(sf,"displayName","YAxis");Foe(sf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function W7(e){return adt(e)||idt(e)||rdt(e)||ndt()}function ndt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rdt(e,t){if(e){if(typeof e=="string")return UM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UM(e,t)}}function idt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function adt(e){if(Array.isArray(e))return UM(e)}function UM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var HM=function(t,n,r,i,a){var s=ms(t,C4),l=ms(t,$T),c=[].concat(W7(s),W7(l)),u=ms(t,FT),d="".concat(i,"Id"),h=i[0],f=n;if(c.length&&(f=c.reduce(function(g,x){if(x.props[d]===r&&dl(x.props,"extendDomain")&&qe(x.props[h])){var y=x.props[h];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},f)),u.length){var m="".concat(h,"1"),p="".concat(h,"2");f=u.reduce(function(g,x){if(x.props[d]===r&&dl(x.props,"extendDomain")&&qe(x.props[m])&&qe(x.props[p])){var y=x.props[m],v=x.props[p];return[Math.min(g[0],y,v),Math.max(g[1],y,v)]}return g},f)}return a&&a.length&&(f=a.reduce(function(g,x){return qe(x)?[Math.min(g[0],x),Math.max(g[1],x)]:g},f)),f},Uoe={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,h||c,f),p=n?n+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,p=new Array(m);f<m;f++)p[f]=h[f].fn;return p},l.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,m,p){var g=n?n+u:u;if(!this._events[g])return!1;var x=this._events[g],y=arguments.length,v,b;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,h),!0;case 4:return x.fn.call(x.context,d,h,f),!0;case 5:return x.fn.call(x.context,d,h,f,m),!0;case 6:return x.fn.call(x.context,d,h,f,m,p),!0}for(b=1,v=new Array(y-1);b<y;b++)v[b-1]=arguments[b];x.fn.apply(x.context,v)}else{var E=x.length,_;for(b=0;b<E;b++)switch(x[b].once&&this.removeListener(u,x[b].fn,void 0,!0),y){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,d);break;case 3:x[b].fn.call(x[b].context,d,h);break;case 4:x[b].fn.call(x[b].context,d,h,f);break;default:if(!v)for(_=1,v=new Array(y-1);_<y;_++)v[_-1]=arguments[_];x[b].fn.apply(x[b].context,v)}}return!0},l.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!f||p.once)&&(!h||p.context===h)&&s(this,m);else{for(var g=0,x=[],y=p.length;g<y;g++)(p[g].fn!==d||f&&!p[g].once||h&&p[g].context!==h)&&x.push(p[g]);x.length?this._events[m]=x.length===1?x[0]:x:s(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(Uoe);var sdt=Uoe.exports;const odt=sn(sdt);var _A=new odt,CA="recharts.syncMouseEvents";function Uv(e){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uv(e)}function ldt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cdt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hoe(r.key),r)}}function udt(e,t,n){return t&&cdt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TA(e,t,n){return t=Hoe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hoe(e){var t=ddt(e,"string");return Uv(t)=="symbol"?t:t+""}function ddt(e,t){if(Uv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Uv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hdt=function(){function e(){ldt(this,e),TA(this,"activeIndex",0),TA(this,"coordinateList",[]),TA(this,"layout","horizontal")}return udt(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,l=s===void 0?null:s,c=n.layout,u=c===void 0?null:c,d=n.offset,h=d===void 0?null:d,f=n.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=a+c+u,f=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function fdt(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&qe(r)&&qe(i))return!0}return!1}function mdt(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Voe(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,a=e.endAngle,s=Hn(t,n,r,i),l=Hn(t,n,r,a);return{points:[s,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function pdt(e,t,n){var r,i,a,s;if(e==="horizontal")r=t.x,a=r,i=n.top,s=n.top+n.height;else if(e==="vertical")i=t.y,s=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,h=t.angle,f=Hn(l,c,u,h),m=Hn(l,c,d,h);r=f.x,i=f.y,a=m.x,s=m.y}else return Voe(t);return[{x:r,y:i},{x:a,y:s}]}function Hv(e){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hv(e)}function q7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q7(Object(n),!0).forEach(function(r){gdt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gdt(e,t,n){return t=ydt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ydt(e){var t=xdt(e,"string");return Hv(t)=="symbol"?t:t+""}function xdt(e,t){if(Hv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vdt(e){var t,n,r=e.element,i=e.tooltipEventType,a=e.isActive,s=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,h=e.layout,f=e.chartName,m=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!a||!s||f!=="ScatterChart"&&i!=="axis")return null;var p,g=E_;if(f==="ScatterChart")p=s,g=Lat;else if(f==="BarChart")p=mdt(h,s,c,d),g=x4;else if(h==="radial"){var x=Voe(s),y=x.cx,v=x.cy,b=x.radius,E=x.startAngle,_=x.endAngle;p={cx:y,cy:v,startAngle:E,endAngle:_,innerRadius:b,outerRadius:b},g=Bse}else p={points:pdt(h,s,c)},g=E_;var S=Pw(Pw(Pw(Pw({stroke:"#ccc",pointerEvents:"none"},c),p),At(m,!1)),{},{payload:l,payloadIndex:u,className:Wt("recharts-tooltip-cursor",m.className)});return w.isValidElement(m)?w.cloneElement(m,S):w.createElement(g,S)}var bdt=["item"],wdt=["children","className","width","height","style","compact","title","desc"];function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}function dx(){return dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dx.apply(this,arguments)}function G7(e,t){return _dt(e)||Sdt(e,t)||qoe(e,t)||Edt()}function Edt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sdt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function _dt(e){if(Array.isArray(e))return e}function Y7(e,t){if(e==null)return{};var n=Cdt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Cdt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Tdt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ndt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Goe(r.key),r)}}function kdt(e,t,n){return t&&Ndt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Adt(e,t,n){return t=W_(t),jdt(e,Woe()?Reflect.construct(t,n||[],W_(e).constructor):t.apply(e,n))}function jdt(e,t){if(t&&(lg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Odt(e)}function Odt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Woe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Woe=function(){return!!e})()}function W_(e){return W_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},W_(e)}function Pdt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VM(e,t)}function VM(e,t){return VM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VM(e,t)}function cg(e){return Rdt(e)||Idt(e)||qoe(e)||Mdt()}function Mdt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qoe(e,t){if(e){if(typeof e=="string")return WM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WM(e,t)}}function Idt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rdt(e){if(Array.isArray(e))return WM(e)}function WM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K7(Object(n),!0).forEach(function(r){Mt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mt(e,t,n){return t=Goe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Goe(e){var t=Ddt(e,"string");return lg(t)=="symbol"?t:t+""}function Ddt(e,t){if(lg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ldt={xAxis:["bottom","top"],yAxis:["left","right"]},$dt={width:"100%",height:"100%"},Yoe={x:0,y:0};function Mw(e){return e}var Bdt=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},Fdt=function(t,n,r,i){var a=n.find(function(d){return d&&d.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var s=a.coordinate,l=i.radius;return _e(_e(_e({},i),Hn(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=a.coordinate,u=i.angle;return _e(_e(_e({},i),Hn(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return Yoe},zT=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(cg(l),cg(u)):l},[]);return s.length>0?s:t&&t.length&&qe(i)&&qe(a)?t.slice(i,a+1):[]};function Koe(e){return e==="number"?[0,"auto"]:void 0}var qM=function(t,n,r,i){var a=t.graphicalItems,s=t.tooltipAxis,l=zT(n,t);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:n;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(s.dataKey&&!s.allowDuplicatedCategory){var m=h===void 0?l:h;f=qS(m,s.dataKey,i)}else f=h&&h[r]||l[r];return f?[].concat(cg(c),[Mse(u,f)]):c},[])},X7=function(t,n,r,i){var a=i||{x:t.chartX,y:t.chartY},s=Bdt(a,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=ynt(s,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,f=qM(t,n,d,h),m=Fdt(r,l,d,a);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:m}}return null},zdt=function(t,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,h=t.children,f=t.stackOffset,m=Nse(d,a);return r.reduce(function(p,g){var x,y=g.type.defaultProps!==void 0?_e(_e({},g.type.defaultProps),g.props):g.props,v=y.type,b=y.dataKey,E=y.allowDataOverflow,_=y.allowDuplicatedCategory,S=y.scale,C=y.ticks,T=y.includeHidden,j=y[s];if(p[j])return p;var k=zT(t.data,{graphicalItems:i.filter(function(z){var R,G=s in z.props?z.props[s]:(R=z.type.defaultProps)===null||R===void 0?void 0:R[s];return G===j}),dataStartIndex:c,dataEndIndex:u}),O=k.length,M,B,N;fdt(y.domain,E,v)&&(M=aM(y.domain,null,E),m&&(v==="number"||S!=="auto")&&(N=sx(k,b,"category")));var D=Koe(v);if(!M||M.length===0){var P,L=(P=y.domain)!==null&&P!==void 0?P:D;if(b){if(M=sx(k,b,v),v==="category"&&m){var I=oUe(M);_&&I?(B=M,M=P_(0,O)):_||(M=xU(L,M,g).reduce(function(z,R){return z.indexOf(R)>=0?z:[].concat(cg(z),[R])},[]))}else if(v==="category")_?M=M.filter(function(z){return z!==""&&!Ut(z)}):M=xU(L,M,g).reduce(function(z,R){return z.indexOf(R)>=0||R===""||Ut(R)?z:[].concat(cg(z),[R])},[]);else if(v==="number"){var U=Ent(k,i.filter(function(z){var R,G,Q=s in z.props?z.props[s]:(R=z.type.defaultProps)===null||R===void 0?void 0:R[s],oe="hide"in z.props?z.props.hide:(G=z.type.defaultProps)===null||G===void 0?void 0:G.hide;return Q===j&&(T||!oe)}),b,a,d);U&&(M=U)}m&&(v==="number"||S!=="auto")&&(N=sx(k,b,"category"))}else m?M=P_(0,O):l&&l[j]&&l[j].hasStack&&v==="number"?M=f==="expand"?[0,1]:Pse(l[j].stackGroups,c,u):M=Tse(k,i.filter(function(z){var R=s in z.props?z.props[s]:z.type.defaultProps[s],G="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return R===j&&(T||!G)}),v,d,!0);if(v==="number")M=HM(h,M,j,a,C),L&&(M=aM(L,M,E));else if(v==="category"&&L){var $=L,W=M.every(function(z){return $.indexOf(z)>=0});W&&(M=$)}}return _e(_e({},p),{},Mt({},j,_e(_e({},y),{},{axisType:a,domain:M,categoricalDomain:N,duplicateDomain:B,originalDomain:(x=y.domain)!==null&&x!==void 0?x:D,isCategorical:m,layout:d})))},{})},Udt=function(t,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,h=t.children,f=zT(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),m=f.length,p=Nse(d,a),g=-1;return r.reduce(function(x,y){var v=y.type.defaultProps!==void 0?_e(_e({},y.type.defaultProps),y.props):y.props,b=v[s],E=Koe("number");if(!x[b]){g++;var _;return p?_=P_(0,m):l&&l[b]&&l[b].hasStack?(_=Pse(l[b].stackGroups,c,u),_=HM(h,_,b,a)):(_=aM(E,Tse(f,r.filter(function(S){var C,T,j=s in S.props?S.props[s]:(C=S.type.defaultProps)===null||C===void 0?void 0:C[s],k="hide"in S.props?S.props.hide:(T=S.type.defaultProps)===null||T===void 0?void 0:T.hide;return j===b&&!k}),"number",d),i.defaultProps.allowDataOverflow),_=HM(h,_,b,a)),_e(_e({},x),{},Mt({},b,_e(_e({axisType:a},i.defaultProps),{},{hide:!0,orientation:fs(Ldt,"".concat(a,".").concat(g%2),null),domain:_,originalDomain:E,isCategorical:p,layout:d})))}return x},{})},Hdt=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,h="".concat(i,"Id"),f=ms(d,a),m={};return f&&f.length?m=zdt(t,{axes:f,graphicalItems:s,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(m=Udt(t,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},Vdt=function(t){var n=vu(t),r=lc(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:qL(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:v_(n,r)}},Z7=function(t){var n=t.children,r=t.defaultShowTooltip,i=rs(n,Jp),a=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},Wdt=function(t){return!t||!t.length?!1:t.some(function(n){var r=mc(n&&n.type);return r&&r.indexOf("Bar")>=0})},Q7=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},qdt=function(t,n){var r=t.props,i=t.graphicalItems,a=t.xAxisMap,s=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,h=r.children,f=r.margin||{},m=rs(h,Jp),p=rs(h,Zm),g=Object.keys(c).reduce(function(_,S){var C=c[S],T=C.orientation;return!C.mirror&&!C.hide?_e(_e({},_),{},Mt({},T,_[T]+C.width)):_},{left:f.left||0,right:f.right||0}),x=Object.keys(s).reduce(function(_,S){var C=s[S],T=C.orientation;return!C.mirror&&!C.hide?_e(_e({},_),{},Mt({},T,fs(_,"".concat(T))+C.height)):_},{top:f.top||0,bottom:f.bottom||0}),y=_e(_e({},x),g),v=y.bottom;m&&(y.bottom+=m.props.height||Jp.defaultProps.height),p&&n&&(y=bnt(y,i,r,n));var b=u-y.left-y.right,E=d-y.top-y.bottom;return _e(_e({brushBottom:v},y),{},{width:Math.max(b,0),height:Math.max(E,0)})},Gdt=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},k4=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,s=t.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,h=t.defaultProps,f=function(x,y){var v=y.graphicalItems,b=y.stackGroups,E=y.offset,_=y.updateId,S=y.dataStartIndex,C=y.dataEndIndex,T=x.barSize,j=x.layout,k=x.barGap,O=x.barCategoryGap,M=x.maxBarSize,B=Q7(j),N=B.numericAxisName,D=B.cateAxisName,P=Wdt(v),L=[];return v.forEach(function(I,U){var $=zT(x.data,{graphicalItems:[I],dataStartIndex:S,dataEndIndex:C}),W=I.type.defaultProps!==void 0?_e(_e({},I.type.defaultProps),I.props):I.props,z=W.dataKey,R=W.maxBarSize,G=W["".concat(N,"Id")],Q=W["".concat(D,"Id")],oe={},re=c.reduce(function(ue,we){var Se=y["".concat(we.axisType,"Map")],K=W["".concat(we.axisType,"Id")];Se&&Se[K]||we.axisType==="zAxis"||nf();var Ce=Se[K];return _e(_e({},ue),{},Mt(Mt({},we.axisType,Ce),"".concat(we.axisType,"Ticks"),lc(Ce)))},oe),pe=re[D],ce=re["".concat(D,"Ticks")],me=b&&b[G]&&b[G].hasStack&&Ont(I,b[G].stackGroups),ye=mc(I.type).indexOf("Bar")>=0,ae=v_(pe,ce),Ae=[],H=P&&xnt({barSize:T,stackGroups:b,totalSize:Gdt(re,D)});if(ye){var Z,he,se=Ut(R)?M:R,V=(Z=(he=v_(pe,ce,!0))!==null&&he!==void 0?he:se)!==null&&Z!==void 0?Z:0;Ae=vnt({barGap:k,barCategoryGap:O,bandSize:V!==ae?V:ae,sizeList:H[Q],maxBarSize:se}),V!==ae&&(Ae=Ae.map(function(ue){return _e(_e({},ue),{},{position:_e(_e({},ue.position),{},{offset:ue.position.offset-V/2})})}))}var ie=I&&I.type&&I.type.getComposedData;ie&&L.push({props:_e(_e({},ie(_e(_e({},re),{},{displayedData:$,props:x,dataKey:z,item:I,bandSize:ae,barPosition:Ae,offset:E,stackedData:me,layout:j,dataStartIndex:S,dataEndIndex:C}))),{},Mt(Mt(Mt({key:I.key||"item-".concat(U)},N,re[N]),D,re[D]),"animationId",_)),childIndex:xUe(I,x.children),item:I})}),L},m=function(x,y){var v=x.props,b=x.dataStartIndex,E=x.dataEndIndex,_=x.updateId;if(!l9({props:v}))return null;var S=v.children,C=v.layout,T=v.stackOffset,j=v.data,k=v.reverseStackOrder,O=Q7(C),M=O.numericAxisName,B=O.cateAxisName,N=ms(S,r),D=Ant(j,N,"".concat(M,"Id"),"".concat(B,"Id"),T,k),P=c.reduce(function(W,z){var R="".concat(z.axisType,"Map");return _e(_e({},W),{},Mt({},R,Hdt(v,_e(_e({},z),{},{graphicalItems:N,stackGroups:z.axisType===M&&D,dataStartIndex:b,dataEndIndex:E}))))},{}),L=qdt(_e(_e({},P),{},{props:v,graphicalItems:N}),y==null?void 0:y.legendBBox);Object.keys(P).forEach(function(W){P[W]=d(v,P[W],L,W.replace("Map",""),n)});var I=P["".concat(B,"Map")],U=Vdt(I),$=f(v,_e(_e({},P),{},{dataStartIndex:b,dataEndIndex:E,updateId:_,graphicalItems:N,stackGroups:D,offset:L}));return _e(_e({formattedGraphicalItems:$,graphicalItems:N,offset:L,stackGroups:D},U),P)},p=function(g){function x(y){var v,b,E;return Tdt(this,x),E=Adt(this,x,[y]),Mt(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Mt(E,"accessibilityManager",new hdt),Mt(E,"handleLegendBBoxUpdate",function(_){if(_){var S=E.state,C=S.dataStartIndex,T=S.dataEndIndex,j=S.updateId;E.setState(_e({legendBBox:_},m({props:E.props,dataStartIndex:C,dataEndIndex:T,updateId:j},_e(_e({},E.state),{},{legendBBox:_}))))}}),Mt(E,"handleReceiveSyncEvent",function(_,S,C){if(E.props.syncId===_){if(C===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(S)}}),Mt(E,"handleBrushChange",function(_){var S=_.startIndex,C=_.endIndex;if(S!==E.state.dataStartIndex||C!==E.state.dataEndIndex){var T=E.state.updateId;E.setState(function(){return _e({dataStartIndex:S,dataEndIndex:C},m({props:E.props,dataStartIndex:S,dataEndIndex:C,updateId:T},E.state))}),E.triggerSyncEvent({dataStartIndex:S,dataEndIndex:C})}}),Mt(E,"handleMouseEnter",function(_){var S=E.getMouseInfo(_);if(S){var C=_e(_e({},S),{},{isTooltipActive:!0});E.setState(C),E.triggerSyncEvent(C);var T=E.props.onMouseEnter;Bt(T)&&T(C,_)}}),Mt(E,"triggeredAfterMouseMove",function(_){var S=E.getMouseInfo(_),C=S?_e(_e({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(C),E.triggerSyncEvent(C);var T=E.props.onMouseMove;Bt(T)&&T(C,_)}),Mt(E,"handleItemMouseEnter",function(_){E.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),Mt(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Mt(E,"handleMouseMove",function(_){_.persist(),E.throttleTriggeredAfterMouseMove(_)}),Mt(E,"handleMouseLeave",function(_){E.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};E.setState(S),E.triggerSyncEvent(S);var C=E.props.onMouseLeave;Bt(C)&&C(S,_)}),Mt(E,"handleOuterEvent",function(_){var S=yUe(_),C=fs(E.props,"".concat(S));if(S&&Bt(C)){var T,j;/.*touch.*/i.test(S)?j=E.getMouseInfo(_.changedTouches[0]):j=E.getMouseInfo(_),C((T=j)!==null&&T!==void 0?T:{},_)}}),Mt(E,"handleClick",function(_){var S=E.getMouseInfo(_);if(S){var C=_e(_e({},S),{},{isTooltipActive:!0});E.setState(C),E.triggerSyncEvent(C);var T=E.props.onClick;Bt(T)&&T(C,_)}}),Mt(E,"handleMouseDown",function(_){var S=E.props.onMouseDown;if(Bt(S)){var C=E.getMouseInfo(_);S(C,_)}}),Mt(E,"handleMouseUp",function(_){var S=E.props.onMouseUp;if(Bt(S)){var C=E.getMouseInfo(_);S(C,_)}}),Mt(E,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),Mt(E,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&E.handleMouseDown(_.changedTouches[0])}),Mt(E,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&E.handleMouseUp(_.changedTouches[0])}),Mt(E,"triggerSyncEvent",function(_){E.props.syncId!==void 0&&_A.emit(CA,E.props.syncId,_,E.eventEmitterSymbol)}),Mt(E,"applySyncEvent",function(_){var S=E.props,C=S.layout,T=S.syncMethod,j=E.state.updateId,k=_.dataStartIndex,O=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)E.setState(_e({dataStartIndex:k,dataEndIndex:O},m({props:E.props,dataStartIndex:k,dataEndIndex:O,updateId:j},E.state)));else if(_.activeTooltipIndex!==void 0){var M=_.chartX,B=_.chartY,N=_.activeTooltipIndex,D=E.state,P=D.offset,L=D.tooltipTicks;if(!P)return;if(typeof T=="function")N=T(L,_);else if(T==="value"){N=-1;for(var I=0;I<L.length;I++)if(L[I].value===_.activeLabel){N=I;break}}var U=_e(_e({},P),{},{x:P.left,y:P.top}),$=Math.min(M,U.x+U.width),W=Math.min(B,U.y+U.height),z=L[N]&&L[N].value,R=qM(E.state,E.props.data,N),G=L[N]?{x:C==="horizontal"?L[N].coordinate:$,y:C==="horizontal"?W:L[N].coordinate}:Yoe;E.setState(_e(_e({},_),{},{activeLabel:z,activeCoordinate:G,activePayload:R,activeTooltipIndex:N}))}else E.setState(_)}),Mt(E,"renderCursor",function(_){var S,C=E.state,T=C.isTooltipActive,j=C.activeCoordinate,k=C.activePayload,O=C.offset,M=C.activeTooltipIndex,B=C.tooltipAxisBandSize,N=E.getTooltipEventType(),D=(S=_.props.active)!==null&&S!==void 0?S:T,P=E.props.layout,L=_.key||"_recharts-cursor";return q.createElement(vdt,{key:L,activeCoordinate:j,activePayload:k,activeTooltipIndex:M,chartName:n,element:_,isActive:D,layout:P,offset:O,tooltipAxisBandSize:B,tooltipEventType:N})}),Mt(E,"renderPolarAxis",function(_,S,C){var T=fs(_,"type.axisType"),j=fs(E.state,"".concat(T,"Map")),k=_.type.defaultProps,O=k!==void 0?_e(_e({},k),_.props):_.props,M=j&&j[O["".concat(T,"Id")]];return w.cloneElement(_,_e(_e({},M),{},{className:Wt(T,M.className),key:_.key||"".concat(S,"-").concat(C),ticks:lc(M,!0)}))}),Mt(E,"renderPolarGrid",function(_){var S=_.props,C=S.radialLines,T=S.polarAngles,j=S.polarRadius,k=E.state,O=k.radiusAxisMap,M=k.angleAxisMap,B=vu(O),N=vu(M),D=N.cx,P=N.cy,L=N.innerRadius,I=N.outerRadius;return w.cloneElement(_,{polarAngles:Array.isArray(T)?T:lc(N,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(j)?j:lc(B,!0).map(function(U){return U.coordinate}),cx:D,cy:P,innerRadius:L,outerRadius:I,key:_.key||"polar-grid",radialLines:C})}),Mt(E,"renderLegend",function(){var _=E.state.formattedGraphicalItems,S=E.props,C=S.children,T=S.width,j=S.height,k=E.props.margin||{},O=T-(k.left||0)-(k.right||0),M=_se({children:C,formattedGraphicalItems:_,legendWidth:O,legendContent:u});if(!M)return null;var B=M.item,N=Y7(M,bdt);return w.cloneElement(B,_e(_e({},N),{},{chartWidth:T,chartHeight:j,margin:k,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Mt(E,"renderTooltip",function(){var _,S=E.props,C=S.children,T=S.accessibilityLayer,j=rs(C,Aa);if(!j)return null;var k=E.state,O=k.isTooltipActive,M=k.activeCoordinate,B=k.activePayload,N=k.activeLabel,D=k.offset,P=(_=j.props.active)!==null&&_!==void 0?_:O;return w.cloneElement(j,{viewBox:_e(_e({},D),{},{x:D.left,y:D.top}),active:P,label:N,payload:P?B:[],coordinate:M,accessibilityLayer:T})}),Mt(E,"renderBrush",function(_){var S=E.props,C=S.margin,T=S.data,j=E.state,k=j.offset,O=j.dataStartIndex,M=j.dataEndIndex,B=j.updateId;return w.cloneElement(_,{key:_.key||"_recharts-brush",onChange:kw(E.handleBrushChange,_.props.onChange),data:T,x:qe(_.props.x)?_.props.x:k.left,y:qe(_.props.y)?_.props.y:k.top+k.height+k.brushBottom-(C.bottom||0),width:qe(_.props.width)?_.props.width:k.width,startIndex:O,endIndex:M,updateId:"brush-".concat(B)})}),Mt(E,"renderReferenceElement",function(_,S,C){if(!_)return null;var T=E,j=T.clipPathId,k=E.state,O=k.xAxisMap,M=k.yAxisMap,B=k.offset,N=_.type.defaultProps||{},D=_.props,P=D.xAxisId,L=P===void 0?N.xAxisId:P,I=D.yAxisId,U=I===void 0?N.yAxisId:I;return w.cloneElement(_,{key:_.key||"".concat(S,"-").concat(C),xAxis:O[L],yAxis:M[U],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:j})}),Mt(E,"renderActivePoints",function(_){var S=_.item,C=_.activePoint,T=_.basePoint,j=_.childIndex,k=_.isRange,O=[],M=S.props.key,B=S.item.type.defaultProps!==void 0?_e(_e({},S.item.type.defaultProps),S.item.props):S.item.props,N=B.activeDot,D=B.dataKey,P=_e(_e({index:j,dataKey:D,cx:C.x,cy:C.y,r:4,fill:y4(S.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},At(N,!1)),GS(N));return O.push(x.renderActiveDot(N,P,"".concat(M,"-activePoint-").concat(j))),T?O.push(x.renderActiveDot(N,_e(_e({},P),{},{cx:T.x,cy:T.y}),"".concat(M,"-basePoint-").concat(j))):k&&O.push(null),O}),Mt(E,"renderGraphicChild",function(_,S,C){var T=E.filterFormatItem(_,S,C);if(!T)return null;var j=E.getTooltipEventType(),k=E.state,O=k.isTooltipActive,M=k.tooltipAxis,B=k.activeTooltipIndex,N=k.activeLabel,D=E.props.children,P=rs(D,Aa),L=T.props,I=L.points,U=L.isRange,$=L.baseLine,W=T.item.type.defaultProps!==void 0?_e(_e({},T.item.type.defaultProps),T.item.props):T.item.props,z=W.activeDot,R=W.hide,G=W.activeBar,Q=W.activeShape,oe=!!(!R&&O&&P&&(z||G||Q)),re={};j!=="axis"&&P&&P.props.trigger==="click"?re={onClick:kw(E.handleItemMouseEnter,_.props.onClick)}:j!=="axis"&&(re={onMouseLeave:kw(E.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:kw(E.handleItemMouseEnter,_.props.onMouseEnter)});var pe=w.cloneElement(_,_e(_e({},T.props),re));function ce(we){return typeof M.dataKey=="function"?M.dataKey(we.payload):null}if(oe)if(B>=0){var me,ye;if(M.dataKey&&!M.allowDuplicatedCategory){var ae=typeof M.dataKey=="function"?ce:"payload.".concat(M.dataKey.toString());me=qS(I,ae,N),ye=U&&$&&qS($,ae,N)}else me=I==null?void 0:I[B],ye=U&&$&&$[B];if(Q||G){var Ae=_.props.activeIndex!==void 0?_.props.activeIndex:B;return[w.cloneElement(_,_e(_e(_e({},T.props),re),{},{activeIndex:Ae})),null,null]}if(!Ut(me))return[pe].concat(cg(E.renderActivePoints({item:T,activePoint:me,basePoint:ye,childIndex:B,isRange:U})))}else{var H,Z=(H=E.getItemByXY(E.state.activeCoordinate))!==null&&H!==void 0?H:{graphicalItem:pe},he=Z.graphicalItem,se=he.item,V=se===void 0?_:se,ie=he.childIndex,ue=_e(_e(_e({},T.props),re),{},{activeIndex:ie});return[w.cloneElement(V,ue),null,null]}return U?[pe,null,null]:[pe,null]}),Mt(E,"renderCustomized",function(_,S,C){return w.cloneElement(_,_e(_e({key:"recharts-customized-".concat(C)},E.props),E.state))}),Mt(E,"renderMap",{CartesianGrid:{handler:Mw,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:Mw},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:Mw},YAxis:{handler:Mw},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((v=y.id)!==null&&v!==void 0?v:n0("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=vae(E.triggeredAfterMouseMove,(b=y.throttleDelay)!==null&&b!==void 0?b:1e3/60),E.state={},E}return Pdt(x,g),kdt(x,[{key:"componentDidMount",value:function(){var v,b;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(b=this.props.margin.top)!==null&&b!==void 0?b:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,b=v.children,E=v.data,_=v.height,S=v.layout,C=rs(b,Aa);if(C){var T=C.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var j=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,k=qM(this.state,E,T,j),O=this.state.tooltipTicks[T].coordinate,M=(this.state.offset.top+_)/2,B=S==="horizontal",N=B?{x:O,y:M}:{y:O,x:M},D=this.state.formattedGraphicalItems.find(function(L){var I=L.item;return I.type.name==="Scatter"});D&&(N=_e(_e({},N),D.props.points[T].tooltipPosition),k=D.props.points[T].tooltipPayload);var P={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:j,activePayload:k,activeCoordinate:N};this.setState(P),this.renderCursor(C),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,b){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==b.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var E,_;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(v){vP([rs(v.children,Aa)],[rs(this.props.children,Aa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=rs(this.props.children,Aa);if(v&&typeof v.props.shared=="boolean"){var b=v.props.shared?"axis":"item";return l.indexOf(b)>=0?b:a}return a}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var b=this.container,E=b.getBoundingClientRect(),_=LZe(E),S={chartX:Math.round(v.pageX-_.left),chartY:Math.round(v.pageY-_.top)},C=E.width/b.offsetWidth||1,T=this.inRange(S.chartX,S.chartY,C);if(!T)return null;var j=this.state,k=j.xAxisMap,O=j.yAxisMap,M=this.getTooltipEventType();if(M!=="axis"&&k&&O){var B=vu(k).scale,N=vu(O).scale,D=B&&B.invert?B.invert(S.chartX):null,P=N&&N.invert?N.invert(S.chartY):null;return _e(_e({},S),{},{xValue:D,yValue:P})}var L=X7(this.state,this.props.data,this.props.layout,T);return L?_e(_e({},S),L):null}},{key:"inRange",value:function(v,b){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,S=v/E,C=b/E;if(_==="horizontal"||_==="vertical"){var T=this.state.offset,j=S>=T.left&&S<=T.left+T.width&&C>=T.top&&C<=T.top+T.height;return j?{x:S,y:C}:null}var k=this.state,O=k.angleAxisMap,M=k.radiusAxisMap;if(O&&M){var B=vu(O);return wU({x:S,y:C},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,b=this.getTooltipEventType(),E=rs(v,Aa),_={};E&&b==="axis"&&(E.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var S=GS(this.props,this.handleOuterEvent);return _e(_e({},S),_)}},{key:"addListener",value:function(){_A.on(CA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){_A.removeListener(CA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,b,E){for(var _=this.state.formattedGraphicalItems,S=0,C=_.length;S<C;S++){var T=_[S];if(T.item===v||T.props.key===v.key||b===mc(T.item.type)&&E===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,b=this.state.offset,E=b.left,_=b.top,S=b.height,C=b.width;return q.createElement("defs",null,q.createElement("clipPath",{id:v},q.createElement("rect",{x:E,y:_,height:S,width:C})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(b,E){var _=G7(E,2),S=_[0],C=_[1];return _e(_e({},b),{},Mt({},S,C.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(b,E){var _=G7(E,2),S=_[0],C=_[1];return _e(_e({},b),{},Mt({},S,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var b;return(b=this.state.xAxisMap)===null||b===void 0||(b=b[v])===null||b===void 0?void 0:b.scale}},{key:"getYScaleByAxisId",value:function(v){var b;return(b=this.state.yAxisMap)===null||b===void 0||(b=b[v])===null||b===void 0?void 0:b.scale}},{key:"getItemByXY",value:function(v){var b=this.state,E=b.formattedGraphicalItems,_=b.activeItem;if(E&&E.length)for(var S=0,C=E.length;S<C;S++){var T=E[S],j=T.props,k=T.item,O=k.type.defaultProps!==void 0?_e(_e({},k.type.defaultProps),k.props):k.props,M=mc(k.type);if(M==="Bar"){var B=(j.data||[]).find(function(L){return yat(v,L)});if(B)return{graphicalItem:T,payload:B}}else if(M==="RadialBar"){var N=(j.data||[]).find(function(L){return wU(v,L)});if(N)return{graphicalItem:T,payload:N}}else if(IT(T,_)||RT(T,_)||Lv(T,_)){var D=aot({graphicalItem:T,activeTooltipItem:_,itemData:O.data}),P=O.activeIndex===void 0?D:O.activeIndex;return{graphicalItem:_e(_e({},T),{},{childIndex:P}),payload:Lv(T,_)?O.data[D]:T.props.data[D]}}}return null}},{key:"render",value:function(){var v=this;if(!l9(this))return null;var b=this.props,E=b.children,_=b.className,S=b.width,C=b.height,T=b.style,j=b.compact,k=b.title,O=b.desc,M=Y7(b,wdt),B=At(M,!1);if(j)return q.createElement(A7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(wP,dx({},B,{width:S,height:C,title:k,desc:O}),this.renderClipPath(),u9(E,this.renderMap)));if(this.props.accessibilityLayer){var N,D;B.tabIndex=(N=this.props.tabIndex)!==null&&N!==void 0?N:0,B.role=(D=this.props.role)!==null&&D!==void 0?D:"application",B.onKeyDown=function(L){v.accessibilityManager.keyboardEvent(L)},B.onFocus=function(){v.accessibilityManager.focus()}}var P=this.parseEventsOfWrapper();return q.createElement(A7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",dx({className:Wt("recharts-wrapper",_),style:_e({position:"relative",cursor:"default",width:S,height:C},T)},P,{ref:function(I){v.container=I}}),q.createElement(wP,dx({},B,{width:S,height:C,title:k,desc:O,style:$dt}),this.renderClipPath(),u9(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);return Mt(p,"displayName",n),Mt(p,"defaultProps",_e({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Mt(p,"getDerivedStateFromProps",function(g,x){var y=g.dataKey,v=g.data,b=g.children,E=g.width,_=g.height,S=g.layout,C=g.stackOffset,T=g.margin,j=x.dataStartIndex,k=x.dataEndIndex;if(x.updateId===void 0){var O=Z7(g);return _e(_e(_e({},O),{},{updateId:0},m(_e(_e({props:g},O),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:v,prevWidth:E,prevHeight:_,prevLayout:S,prevStackOffset:C,prevMargin:T,prevChildren:b})}if(y!==x.prevDataKey||v!==x.prevData||E!==x.prevWidth||_!==x.prevHeight||S!==x.prevLayout||C!==x.prevStackOffset||!Xm(T,x.prevMargin)){var M=Z7(g),B={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},N=_e(_e({},X7(x,v,S)),{},{updateId:x.updateId+1}),D=_e(_e(_e({},M),B),N);return _e(_e(_e({},D),m(_e({props:g},D),x)),{},{prevDataKey:y,prevData:v,prevWidth:E,prevHeight:_,prevLayout:S,prevStackOffset:C,prevMargin:T,prevChildren:b})}if(!vP(b,x.prevChildren)){var P,L,I,U,$=rs(b,Jp),W=$&&(P=(L=$.props)===null||L===void 0?void 0:L.startIndex)!==null&&P!==void 0?P:j,z=$&&(I=(U=$.props)===null||U===void 0?void 0:U.endIndex)!==null&&I!==void 0?I:k,R=W!==j||z!==k,G=!Ut(v),Q=G&&!R?x.updateId:x.updateId+1;return _e(_e({updateId:Q},m(_e(_e({props:g},x),{},{updateId:Q,dataStartIndex:W,dataEndIndex:z}),x)),{},{prevChildren:b,dataStartIndex:W,dataEndIndex:z})}return null}),Mt(p,"renderActiveDot",function(g,x,y){var v;return w.isValidElement(g)?v=w.cloneElement(g,x):Bt(g)?v=g(x):v=q.createElement(AT,x),q.createElement(yn,{className:"recharts-active-dot",key:y},v)}),function(x){return q.createElement(p,x)}},Ydt=k4({chartName:"LineChart",GraphicalChild:a1,axisComponents:[{axisType:"xAxis",AxisComp:af},{axisType:"yAxis",AxisComp:sf}],formatAxisMap:moe}),Xoe=k4({chartName:"BarChart",GraphicalChild:Od,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:af},{axisType:"yAxis",AxisComp:sf}],formatAxisMap:moe}),Zoe=k4({chartName:"PieChart",GraphicalChild:Ml,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:MT},{axisType:"radiusAxis",AxisComp:OT}],formatAxisMap:znt,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Kdt=[{name:"Age Group",description:"Customer age segments",qualified_name:"customer.age_group",importance:.85,dimensionType:oi.CATEGORICAL},{name:"Product Type",description:"Insurance product categories",qualified_name:"product.type",importance:.78,dimensionType:oi.CATEGORICAL},{name:"Region",description:"Geographic regions",qualified_name:"customer.region",importance:.72,dimensionType:oi.GEO},{name:"Channel",description:"Sales channels",qualified_name:"sales.channel",importance:.68,dimensionType:oi.CATEGORICAL},{name:"Customer Segment",description:"Customer value segments",qualified_name:"customer.segment",importance:.65,dimensionType:oi.CATEGORICAL},{name:"Time Period",description:"Time-based analysis",qualified_name:"time.period",importance:.6,dimensionType:oi.TIME}],J7={"customer.age_group":[{name:"18-25",value:1250,percentage:15.2},{name:"26-35",value:2180,percentage:26.5},{name:"36-45",value:2850,percentage:34.7},{name:"46-55",value:1420,percentage:17.3},{name:"56+",value:520,percentage:6.3}],"product.type":[{name:"Auto Insurance",value:3420,percentage:42},{name:"Health Insurance",value:2280,percentage:28},{name:"Life Insurance",value:1220,percentage:15},{name:"Property Insurance",value:815,percentage:10},{name:"Others",value:405,percentage:5}],"customer.region":[{name:"North",value:2850,percentage:35},{name:"South",value:2040,percentage:25},{name:"East",value:1630,percentage:20},{name:"West",value:1220,percentage:15},{name:"Central",value:410,percentage:5}],"sales.channel":[{name:"Online",value:3260,percentage:40},{name:"Agent",value:2850,percentage:35},{name:"Branch",value:1220,percentage:15},{name:"Phone",value:815,percentage:10}],"customer.segment":[{name:"Premium",value:2440,percentage:30},{name:"Standard",value:3660,percentage:45},{name:"Basic",value:2040,percentage:25}],"time.period":[{name:"Q1 2023",value:1950,percentage:24},{name:"Q2 2023",value:2110,percentage:26},{name:"Q3 2023",value:2280,percentage:28},{name:"Q4 2023",value:1800,percentage:22}]};class Xdt{async getAvailableDimensions(t){try{const n=await fetch(`${Ke}/metrics/${t}/dimensions`,{headers:tt()});return await gt(n)}catch(n){return console.error("Error fetching dimensions:",n),console.log("Falling back to mock data"),Kdt}}async getDrillDownData(t){try{const n=await fetch(`${Ke}/metrics/${t.metricId}/drill-down`,{method:"POST",headers:tt(),body:JSON.stringify(t)});return await gt(n)}catch(n){console.error("Error fetching drill-down data:",n),console.log("Falling back to mock data");const r=J7[t.dimension]||[];return{dimension:t.dimension,data:r.slice(0,t.limit||10),totalCount:r.length,hasMore:r.length>(t.limit||10)}}}async getMultiDimensionData(t,n){try{const r=await fetch(`${Ke}/metrics/${t}/multi-dimension`,{method:"POST",headers:tt(),body:JSON.stringify({dimensions:n})});return await gt(r)}catch(r){console.error("Error fetching multi-dimension data:",r),console.log("Falling back to mock data");const i={};for(const a of n){const s=J7[a]||[];i[a]={dimension:a,data:s,totalCount:s.length,hasMore:!1}}return i}}}const eH=new Xdt,Iw=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"],Zdt=({metricId:e,metricName:t,isOpen:n,onClose:r,onDrillDown:i})=>{const[a,s]=w.useState([]),[l,c]=w.useState(""),[u,d]=w.useState(null),[h,f]=w.useState([]),[m,p]=w.useState(!1),[g,x]=w.useState(!1),[y,v]=w.useState("bar");w.useEffect(()=>{n&&e&&b()},[n,e]),w.useEffect(()=>{l&&E()},[l,h]);const b=async()=>{x(!0);try{const k=await eH.getAvailableDimensions(e);s(k),k.length>0&&c(k[0].qualified_name||k[0].name)}catch(k){console.error("Error loading dimensions:",k)}finally{x(!1)}},E=async()=>{if(l){p(!0);try{const k=await eH.getDrillDownData({metricId:e,dimension:l,filters:h,limit:10});d(k)}catch(k){console.error("Error loading drill-down data:",k)}finally{p(!1)}}},_=k=>{c(k),f([])},S=(k,O)=>{const M={dimension:k,value:O,operator:"equals"};f(B=>[...B,M]),i&&i(k,O)},C=k=>{f(O=>O.filter((M,B)=>B!==k))},T=k=>k>=1e6?`${(k/1e6).toFixed(1)}M`:k>=1e3?`${(k/1e3).toFixed(1)}K`:k.toString(),j=()=>u!=null&&u.data?y==="pie"?o.jsx(rx,{width:"100%",height:300,children:o.jsxs(Zoe,{children:[o.jsx(Ml,{data:u.data,cx:"50%",cy:"50%",labelLine:!1,label:({name:k,percentage:O})=>`${k}: ${O}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:u.data.map((k,O)=>o.jsx(Qb,{fill:Iw[O%Iw.length]},`cell-${O}`))}),o.jsx(Aa,{formatter:k=>[T(k),"Value"]})]})}):o.jsx(rx,{width:"100%",height:300,children:o.jsxs(Xoe,{data:u.data,children:[o.jsx(af,{dataKey:"name",angle:-45,textAnchor:"end",height:80,fontSize:12}),o.jsx(sf,{tickFormatter:T}),o.jsx(Aa,{formatter:k=>[T(k),"Value"],labelFormatter:k=>`${k}`}),o.jsx(Od,{dataKey:"value",fill:"#0088FE",onClick:k=>{k&&k.name&&S(l,k.name)},style:{cursor:"pointer"}})]})}):null;return n?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs(Pe,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[o.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[o.jsxs(dt,{className:"text-xl font-semibold",children:[o.jsx(zi,{className:"inline-block w-5 h-5 mr-2"}),"Drill Down Analysis: ",t]}),o.jsx(te,{variant:"ghost",size:"sm",onClick:r,children:o.jsx(Pr,{className:"h-4 w-4"})})]}),o.jsxs(De,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Dimension"}),o.jsxs(Je,{value:l,onValueChange:_,children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Choose a dimension to analyze"})}),o.jsx(Qe,{children:a.map(k=>o.jsx(le,{value:k.qualified_name||k.name,children:o.jsxs("div",{className:"flex items-center justify-between w-full",children:[o.jsx("span",{children:k.name}),k.importance&&o.jsxs(Oe,{variant:"secondary",className:"ml-2",children:[Math.round(k.importance*100),"%"]})]})},k.qualified_name||k.name))})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Chart Type:"}),o.jsxs(Je,{value:y,onValueChange:k=>v(k),children:[o.jsx(Ze,{className:"w-24",children:o.jsx(et,{})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"bar",children:"Bar"}),o.jsx(le,{value:"pie",children:"Pie"})]})]})]})]}),h.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium flex items-center",children:[o.jsx(Ap,{className:"w-4 h-4 mr-1"}),"Applied Filters"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:h.map((k,O)=>o.jsxs(Oe,{variant:"outline",className:"flex items-center gap-1",children:[k.dimension,": ",k.value,o.jsx(te,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>C(O),children:o.jsx(Pr,{className:"h-3 w-3"})})]},O))})]}),o.jsx(wo,{}),(m||g)&&o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx(nr,{className:"h-6 w-6 animate-spin mr-2"}),o.jsx("span",{children:"Loading drill-down data..."})]}),!m&&!g&&u&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:j()}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Detailed Breakdown"}),o.jsx(Li,{className:"h-48 border rounded",children:o.jsx("div",{className:"p-4 space-y-2",children:u.data.map((k,O)=>o.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded cursor-pointer",onClick:()=>S(l,k.name),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Iw[O%Iw.length]}}),o.jsx("span",{className:"font-medium",children:k.name})]}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[o.jsx("span",{children:T(k.value)}),o.jsxs("span",{className:"flex items-center",children:[k.percentage>20?o.jsx(hi,{className:"w-4 h-4 text-green-500 mr-1"}):o.jsx(nX,{className:"w-4 h-4 text-red-500 mr-1"}),k.percentage.toFixed(1),"%"]})]})]},O))})})]}),o.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Total Items:"})," ",u.totalCount," |",o.jsx("strong",{children:" Showing:"})," ",u.data.length," items",u.hasMore&&" (more available)"]})})]}),!m&&!g&&!u&&l&&o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(zi,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No drill-down data available for this dimension"})]})]})]})}):null},Qdt=({analysisMethod:e,metricsData:t})=>{const[n,r]=w.useState({}),[i,a]=w.useState({}),[s,l]=w.useState(null),[c,u]=w.useState(!1);if(!t)return o.jsx(Pe,{className:"shadow-sm",children:o.jsxs(De,{className:"flex flex-col items-center justify-center h-64 text-center",children:[o.jsx("div",{className:"p-4 rounded-full bg-red-100 mb-4",children:o.jsx(Bh,{className:"h-8 w-8 text-red-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"Data Loading Error"}),o.jsx("p",{className:"text-red-500 mb-1",children:"Unable to load analysis data"}),o.jsx("p",{className:"text-sm text-red-400",children:"Please refresh the page or contact support"})]})});const d=(S,C,T)=>{if(!S||!S.data||!Array.isArray(S.data)||!S.columns)return[];const j=S.data.map(N=>{const D={};return S.columns.forEach((P,L)=>{const I=S.dimensions.find($=>$.qualified_name===P);let U=N[L];U!=null&&U!==""&&((I==null?void 0:I.dimensionType)===oi.NUMERICAL&&typeof U=="string"?U=parseFloat(U)||0:(I==null?void 0:I.dimensionType)===oi.BOOLEAN&&typeof U=="string"&&(U=U.toLowerCase()==="true"||U==="1")),D[P]=U}),D});if(!C||!T)return j;const k=C.qualified_name,O=T.qualified_name;console.log("transformedData",j);const M=j.reduce((N,D)=>{const P=D[k],L=P==null||P===""?"()":P,I=D[O];if(N[L]||(N[L]={[k]:L,[O]:0,_count:0}),I!=null&&I!==""){let U=0;if(typeof I=="number")U=I;else if(typeof I=="string"){const $=parseFloat(I);U=isNaN($)?0:$}N[L]._count===0&&(N[L][O]=0),N[L][O]+=U,N[L]._count+=1}return N},{}),B=Object.values(M).map(N=>(y(O)&&N._count>1&&(N[O]=N[O]/N._count),delete N._count,N));return C.dimensionType===oi.TIME?B.sort((N,D)=>new Date(N[k]).getTime()-new Date(D[k]).getTime()):B},h=S=>{const C=S.dimensions.filter(B=>B.dimensionType===oi.NUMERICAL&&B.qualified_name!==S.columns[0]),T=S.dimensions.filter(B=>B.dimensionType===oi.CATEGORICAL||B.dimensionType===oi.TEXT),j=S.dimensions.filter(B=>B.dimensionType===oi.TIME);S.columns.forEach(B=>{B.startsWith("metric_time")&&(j.some(N=>N.qualified_name===B)||j.push({qualified_name:B,name:B,description:B,dimensionType:oi.TIME}))});const k=[...C];S.name&&S.columns.includes(S.name)&&(k.some(N=>N.qualified_name===S.name)||S.dimensions.some(N=>N.qualified_name===S.name)||k.push({qualified_name:S.name,name:S.name,description:`Measure dimension: ${S.name}`,dimensionType:oi.NUMERICAL}));const O=T[0]||{qualified_name:S.columns[0]||"category",name:S.columns[0]||"category",description:"Default category dimension",dimensionType:oi.CATEGORICAL},M=k[0]||{qualified_name:S.columns[1]||"value",name:S.columns[1]||"value",description:"Default measure dimension",dimensionType:oi.NUMERICAL};return{measures:k,categories:T,timeDimensions:j,primaryCategory:O,primaryMeasure:M}},f=(S,C,T)=>{const j=h(S);return j.timeDimensions.length>0?"line":C===$r.DISTRIBUTION_ANALYSIS&&j.categories.length>0&&T&&T.length<=8?"pie":(C===$r.COMPARISON_ANALYSIS,"bar")},m=(S,C="default")=>C==="currency"?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(S):C==="percentage"?`${(S*100).toFixed(1)}%`:C==="decimal"?S.toFixed(2):new Intl.NumberFormat("en-US").format(S),p=S=>{switch(S){case $r.COMPARISON_ANALYSIS:return{title:"Comparison Analysis",description:"Compare key metrics across different groups or periods",icon:zi,color:"bg-blue-100 text-blue-800"};case $r.TREND_ANALYSIS:return{title:"Trend Analysis",description:"Observe metric trends and patterns over time",icon:hi,color:"bg-green-100 text-green-800"};case $r.DISTRIBUTION_ANALYSIS:return{title:"Distribution Analysis",description:"Understand data distribution characteristics and proportions",icon:Bbe,color:"bg-purple-100 text-purple-800"};default:return{title:"Data Analysis",description:"Deep insights into business data",icon:s2,color:"bg-gray-100 text-gray-800"}}},g=S=>({product_type:"Product Type",age_group:"Age Group",region:"Region",channel:"Channel",time_period:"Time Period",customer_segment:"Customer Segment",risk_level:"Risk Level",policy_duration:"Policy Duration",underwriting__main_entry_age:"Entry Age",underwriting__main_job_category:"Job Category",main_entry_age:"Entry Age"})[S.qualified_name]||S.description||S.name.replace(/_/g," ").replace(/\b\w/g,T=>T.toUpperCase()),x=S=>S.includes("premium")||S.includes("cost")||S.includes("value")||S.includes("profit"),y=S=>S.includes("rate")||S.includes("ratio")||S.includes("margin"),v=(S,C,T)=>{var O;const j=((O=T.payload)==null?void 0:O.metricName)||C;let k=S;return x(j)?k=m(S,"currency"):y(j)?k=m(S/100,"percentage"):typeof S=="number"&&(k=m(S)),[k,C]},b={primary:["#1e40af","#3b82f6","#60a5fa","#93c5fd","#dbeafe"],success:["#059669","#10b981","#34d399","#6ee7b7","#d1fae5"],warning:["#d97706","#f59e0b","#fbbf24","#fde047","#fef3c7"],danger:["#dc2626","#ef4444","#f87171","#fca5a5","#fee2e2"],purple:["#7c3aed","#8b5cf6","#a78bfa","#c4b5fd","#ede9fe"]},E=(S,C)=>{if(!S.length)return null;const T=C.columns.slice(1),j={};return T.forEach(k=>{const O=S.map(M=>Number(M[k])).filter(M=>!isNaN(M));if(O.length>0){const M=Math.max(...O),B=Math.min(...O),N=O.reduce((P,L)=>P+L,0)/O.length,D=O.reduce((P,L)=>P+L,0);j[k]={max:M,min:B,avg:N,total:D,count:O.length}}}),j},_=S=>{if(!S||!S.name||!S.dimensions||!Array.isArray(S.dimensions))return o.jsx(Pe,{className:"shadow-sm border-l-4 border-l-red-500",children:o.jsxs(De,{className:"flex flex-col items-center justify-center h-64 text-center",children:[o.jsx("div",{className:"p-4 rounded-full bg-red-100 mb-4",children:o.jsx(Bh,{className:"h-8 w-8 text-red-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"Data Format Error"}),o.jsx("p",{className:"text-red-500 mb-1",children:"Metric data format is incorrect"}),o.jsx("p",{className:"text-sm text-red-400",children:"Please check data source or contact support"})]})},(S==null?void 0:S.name)||"error");const C=h(S),T=S.name,j=p(e),k=j.icon,O=C.categories.concat(C.timeDimensions),M=C.measures,B=n[S.name]&&O.find(z=>z.qualified_name===n[S.name])||C.primaryCategory,N=i[S.name]&&M.find(z=>z.qualified_name===i[S.name])||C.primaryMeasure,D=d(S,B,N),P=f(S,e,D),L=E(D,S);if(console.log("chartData",D),!D||D.length===0)return o.jsx(Pe,{className:"shadow-sm border-l-4 border-l-yellow-500",children:o.jsxs(De,{className:"flex flex-col items-center justify-center h-64 text-center",children:[o.jsx("div",{className:"p-4 rounded-full bg-yellow-100 mb-4",children:o.jsx(k,{className:"h-8 w-8 text-yellow-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-yellow-700 mb-2",children:T}),o.jsx("p",{className:"text-yellow-500 mb-1",children:"No visualization data"}),o.jsx("p",{className:"text-sm text-yellow-400",children:"No chart data available for this metric"})]})},S.name);const I=()=>{switch(P){case"line":return $();case"pie":return W();case"bar":default:return U()}},U=()=>o.jsx(rx,{width:"100%",height:"100%",children:o.jsxs(Xoe,{data:D,margin:{top:10,right:10,left:10,bottom:40},children:[o.jsx(RM,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),o.jsx(af,{dataKey:B.qualified_name,angle:-45,textAnchor:"end",height:40,fontSize:10,tick:{fontSize:10}}),o.jsx(sf,{tickFormatter:z=>x(S.name)?m(z,"currency"):y(S.name)?m(z/100,"percentage"):m(z),fontSize:10,tick:{fontSize:10}}),o.jsx(Aa,{formatter:v,labelStyle:{color:"#374151",fontWeight:"bold",fontSize:"12px"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",fontSize:"12px"}}),o.jsx(Od,{dataKey:N.qualified_name,fill:b.primary[0],radius:[4,4,0,0],name:N.qualified_name})]})}),$=()=>{var z;return o.jsx(rx,{width:"100%",height:"100%",children:o.jsxs(Ydt,{data:D,margin:{top:10,right:10,left:10,bottom:40},children:[o.jsx(RM,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),o.jsx(af,{dataKey:((z=C.timeDimensions[0])==null?void 0:z.qualified_name)||B.qualified_name,angle:-45,textAnchor:"end",height:40,fontSize:10,tick:{fontSize:10}}),o.jsx(sf,{tickFormatter:R=>x(S.name)?m(R,"currency"):y(S.name)?m(R/100,"percentage"):m(R),fontSize:10,tick:{fontSize:10}}),o.jsx(Aa,{formatter:v,labelStyle:{color:"#374151",fontWeight:"bold",fontSize:"12px"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",fontSize:"12px"}}),o.jsx(a1,{type:"monotone",dataKey:N.qualified_name,stroke:b.success[0],strokeWidth:2,activeDot:{r:4,fill:b.success[0]},dot:{r:3,fill:b.success[0]},name:N.qualified_name})]})})},W=()=>o.jsx(rx,{width:"100%",height:"100%",children:o.jsxs(Zoe,{children:[o.jsx(Ml,{data:D,cx:"50%",cy:"50%",labelLine:!1,label:({name:z,percent:R})=>`${z} ${(R*100).toFixed(1)}%`,outerRadius:80,innerRadius:30,fill:"#8884d8",dataKey:N.qualified_name,nameKey:B.qualified_name,children:D.map((z,R)=>o.jsx(Qb,{fill:b.purple[R%b.purple.length]},`cell-${R}`))}),o.jsx(Aa,{formatter:(z,R)=>[x(S.name)?m(Number(z),"currency"):y(S.name)?m(Number(z)/100,"percentage"):m(Number(z)),g(N)],contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",fontSize:"12px"}})]})});return o.jsxs(Pe,{className:"shadow-sm",children:[o.jsxs(Ye,{className:"pb-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${j.color}`,children:o.jsx(k,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx(dt,{className:"text-lg font-semibold",children:T}),o.jsx(hn,{className:"text-sm text-gray-600",children:j.description})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(te,{variant:"outline",size:"sm",onClick:()=>{l({metric:S,chartData:D,currentCategory:B,currentMeasure:N}),u(!0)},className:"h-8 px-3 text-xs",children:[o.jsx(Hbe,{className:"h-3 w-3 mr-1"}),"Drill Down"]}),o.jsx(Oe,{variant:"outline",className:"text-xs",children:j.title})]})]}),o.jsx("div",{className:"flex gap-4 mt-4",children:O.length>1&&o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Category"}),o.jsxs(Je,{value:n[S.name]||C.primaryCategory.qualified_name,onValueChange:z=>r(R=>({...R,[S.name]:z})),children:[o.jsx(Ze,{className:"h-8 text-xs",children:o.jsx(et,{})}),o.jsx(Qe,{children:O.map(z=>o.jsx(le,{value:z.qualified_name,className:"text-xs",children:g(z)},z.qualified_name))})]})]})})]}),o.jsxs(De,{children:[o.jsx("div",{className:"h-64 w-full",children:I()}),L&&o.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[o.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Key Insights"}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(L).slice(0,2).map(([z,R])=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-1",children:z}),o.jsx("div",{className:"text-sm font-semibold text-gray-900",children:x(z)?m(R.avg,"currency"):y(z)?m(R.avg/100,"percentage"):m(R.avg,"decimal")}),o.jsx("div",{className:"text-xs text-gray-400",children:"Average"})]},z))})]})]})]},S.name)};if(!t||t.length===0){const S=p(e),C=S.icon;return o.jsx(Pe,{className:"shadow-sm",children:o.jsxs(De,{className:"flex flex-col items-center justify-center h-64 text-center",children:[o.jsx("div",{className:"p-4 rounded-full bg-gray-100 mb-4",children:o.jsx(C,{className:"h-8 w-8 text-gray-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Data Available"}),o.jsxs("p",{className:"text-gray-500 mb-1",children:["No ",S.title.toLowerCase()," data available"]}),o.jsx("p",{className:"text-sm text-gray-400",children:"Please ensure analysis data is loaded or select another analysis method"}),o.jsx("div",{className:"mt-4",children:o.jsx(Oe,{variant:"outline",className:"text-gray-500",children:S.title})})]})})}return o.jsxs("div",{className:"space-y-6",children:[t.map(S=>_(S)),c&&s&&o.jsx(Zdt,{metricId:s.metric.name,metricName:s.metric.name,isOpen:c,onClose:()=>u(!1),onDrillDown:(S,C)=>{console.log("Drill down:",S,C)}})]})},Jdt=({status:e})=>{switch(e){case"validated":return o.jsx(Fh,{className:"h-5 w-5 text-green-500"});case"rejected":return o.jsx(Hu,{className:"h-5 w-5 text-red-500"});case"testing":return o.jsx(ac,{className:"h-5 w-5 text-blue-500"});default:return o.jsx(zh,{className:"h-5 w-5 text-amber-500"})}},eht=({hypothesis:e})=>{const t=Dn(),n=()=>{t(`/graph?hypothesis=${e.id}`)};return o.jsx("div",{children:o.jsx(Ye,{children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Jdt,{status:e.status}),o.jsxs(Oe,{className:Be(e.status==="validated"&&"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300",e.status==="rejected"&&"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300",e.status==="testing"&&"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",e.status==="drafted"&&"bg-muted text-muted-foreground"),children:[e.status==="validated"&&"Validated",e.status==="rejected"&&"Rejected",e.status==="testing"&&"Testing",e.status==="drafted"&&"Draft"]})]}),o.jsx(dt,{className:"text-xl",children:e.title}),o.jsx(hn,{className:"mt-2",children:e.description})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(te,{variant:"outline",size:"sm",className:"flex items-center gap-1",onClick:n,children:[o.jsx(eX,{className:"h-4 w-4"}),"Graph View"]}),o.jsxs(te,{variant:"outline",size:"sm",className:"flex items-center gap-1",children:[o.jsx(rc,{className:"h-4 w-4"}),"Export Analysis"]}),o.jsxs(te,{size:"sm",className:"flex items-center gap-1",children:[o.jsx(ac,{className:"h-4 w-4"}),"Update Analysis"]})]})]})})})},tht=()=>{const e=Dn();return o.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[o.jsx($be,{className:"h-16 w-16 mb-4 text-muted-foreground opacity-40"}),o.jsx("h2",{className:"text-xl font-medium mb-2",children:"Select a Hypothesis to Analyze"}),o.jsx("p",{className:"text-muted-foreground text-center max-w-md",children:"Choose a hypothesis from the management page or specify a hypothesis ID via URL query parameter to view detailed analysis results."}),o.jsx(te,{className:"mt-6",onClick:()=>e("/hypotheses"),children:"Browse Hypotheses"})]})},nht=({className:e})=>{const[t,n]=w.useState([]),[r,i]=w.useState([]),[a,s]=w.useState(!0),[l,c]=w.useState(!1);w.useEffect(()=>{const y=async()=>{try{s(!0);const[b,E]=await Promise.all([$s.getActiveAlerts(),$s.getAnomalies()]);n(b),i(E)}catch(b){console.error("Error fetching alert data:",b)}finally{s(!1)}};y();const v=setInterval(y,3e4);return()=>clearInterval(v)},[]);const u=async y=>{try{await $s.acknowledgeAlert(y,"current-user@company.com");const v=await $s.getActiveAlerts();n(v)}catch(v){console.error("Error acknowledging alert:",v)}},d=y=>{switch(y){case"critical":return"bg-red-100 text-red-800 border-red-200";case"warning":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"info":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},h=y=>{switch(y){case"critical":return o.jsx(Ao,{className:"h-4 w-4"});case"warning":return o.jsx(Bh,{className:"h-4 w-4"});case"info":return o.jsx(gE,{className:"h-4 w-4"});default:return o.jsx(gE,{className:"h-4 w-4"})}},f=y=>y>=.7?"text-red-600":y>=.4?"text-yellow-600":"text-blue-600",m=y=>y>=1e6?`${(y/1e6).toFixed(1)}M`:y>=1e3?`${(y/1e3).toFixed(1)}K`:y.toLocaleString();if(a)return o.jsxs(Pe,{className:`${e} animate-pulse`,children:[o.jsxs(Ye,{children:[o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]}),o.jsx(De,{children:o.jsx("div",{className:"space-y-3",children:[1,2,3].map(y=>o.jsx("div",{className:"h-16 bg-gray-200 rounded"},y))})})]});const p=t.length,g=t.filter(y=>y.severity==="critical").length,x=t.filter(y=>y.severity==="warning").length;return o.jsxs(Pe,{className:e,children:[o.jsxs(Ye,{className:"pb-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(dt,{className:"flex items-center gap-2",children:[o.jsx(Ao,{className:"h-5 w-5 text-orange-500"}),"Anomaly Alert Monitoring"]}),o.jsx(hn,{children:"Real-time monitoring of key metric anomalies for timely business issue detection"})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(te,{variant:"outline",size:"sm",onClick:()=>c(!l),children:o.jsx(Wx,{className:"h-4 w-4"})})})]}),o.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Oe,{variant:"destructive",className:"px-2 py-1",children:g}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Critical"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Oe,{variant:"secondary",className:"px-2 py-1 bg-yellow-100 text-yellow-800",children:x}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Warning"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Oe,{variant:"outline",className:"px-2 py-1",children:p}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Total"})]})]})]}),o.jsxs(De,{className:"space-y-4",children:[t.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h4",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[o.jsx(gE,{className:"h-4 w-4"}),"Active Alerts (",t.length,")"]}),t.map(y=>o.jsx("div",{className:`p-3 rounded-lg border ${d(y.severity)} transition-all hover:shadow-sm`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h(y.severity),o.jsx("span",{className:"font-medium text-sm",children:y.ruleName}),o.jsx(Oe,{variant:"outline",className:"text-xs",children:y.metricName})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:y.message}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(bl,{className:"h-3 w-3"}),y.triggeredAt&&ZO(new Date(y.triggeredAt),{addSuffix:!0})]}),o.jsxs("span",{children:["Current: ",o.jsx("span",{className:"font-medium",children:m(y.currentValue)})]}),o.jsxs("span",{children:["Threshold: ",o.jsx("span",{className:"font-medium",children:m(y.thresholdValue)})]})]})]}),o.jsx("div",{className:"flex items-center gap-2 ml-4",children:o.jsxs(te,{size:"sm",variant:"outline",onClick:()=>u(y.id),className:"text-xs",children:[o.jsx(vr,{className:"h-3 w-3 mr-1"}),"Acknowledge"]})})]})},y.id))]}),r.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h4",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[o.jsx(hi,{className:"h-4 w-4"}),"Anomaly Detection (",r.length,")"]}),r.map((y,v)=>o.jsx("div",{className:"p-3 rounded-lg border border-blue-200 bg-blue-50 transition-all hover:shadow-sm",children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(nX,{className:"h-4 w-4 text-blue-600"}),o.jsx("span",{className:"font-medium text-sm",children:y.metricName}),o.jsxs(Oe,{variant:"outline",className:`text-xs ${f(y.anomalyScore)}`,children:["Anomaly: ",(y.anomalyScore*100).toFixed(0),"%"]})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:y.description}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[o.jsxs("span",{children:["Current: ",o.jsx("span",{className:"font-medium",children:y.currentValue})]}),o.jsxs("span",{children:["Expected Range: ",o.jsxs("span",{className:"font-medium",children:[y.expectedRange.min," - ",y.expectedRange.max]})]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(bl,{className:"h-3 w-3"}),ZO(new Date(y.detectedAt),{addSuffix:!0})]})]})]})})},v))]}),t.length===0&&r.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(vr,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"System Running Normally"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"No anomalous metrics or triggered alert rules detected"})]})]})]})},rht=({className:e,onClose:t})=>{var _,S,C,T;const[n,r]=w.useState([]),[i,a]=w.useState(!0),[s,l]=w.useState(null),[c,u]=w.useState(!1),[d,h]=w.useState({});w.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0);const j=await $s.getAlertRules();r(j)}catch(j){console.error("Error fetching alert rules:",j)}finally{a(!1)}},m=()=>{u(!0),l(null),h({name:"",metricId:"",metricName:"",thresholdType:"above",thresholdValue:0,severity:"warning",enabled:!0,description:"",notificationChannels:["email"]})},p=j=>{l(j),u(!1),h({...j})},g=async()=>{try{if(!d.name||!d.metricId){alert("Please fill in rule name and metric ID");return}const j={id:(s==null?void 0:s.id)||`rule_${Date.now()}`,name:d.name,metricId:d.metricId,metricName:d.metricName||d.metricId,thresholdType:d.thresholdType||"above",thresholdValue:d.thresholdValue||0,changeRateConfig:d.changeRateConfig,anomalyConfig:d.anomalyConfig,severity:d.severity||"warning",enabled:d.enabled!==!1,description:d.description||"",notificationChannels:d.notificationChannels||["email"],createdAt:(s==null?void 0:s.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};s?await $s.updateAlertRule(s.id,j):await $s.createAlertRule(j),await f(),l(null),u(!1),h({})}catch(j){console.error("Error saving alert rule:",j),alert("Failed to save rule, please try again")}},x=async j=>{if(confirm("Are you sure you want to delete this alert rule?"))try{await $s.deleteAlertRule(j),await f()}catch(k){console.error("Error deleting alert rule:",k),alert("Failed to delete rule, please try again")}},y=()=>{l(null),u(!1),h({})},v=j=>{switch(j){case"critical":return"bg-red-100 text-red-800";case"warning":return"bg-yellow-100 text-yellow-800";case"info":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},b=j=>{switch(j){case"above":case"below":return o.jsx(zi,{className:"h-4 w-4"});case"change_rate":return o.jsx(hi,{className:"h-4 w-4"});case"anomaly":return o.jsx(Ao,{className:"h-4 w-4"});default:return o.jsx(zi,{className:"h-4 w-4"})}},E=s!==null||c;return i?o.jsxs(Pe,{className:e,children:[o.jsxs(Ye,{children:[o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 animate-pulse"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 animate-pulse"})]}),o.jsx(De,{children:o.jsx("div",{className:"space-y-3",children:[1,2,3].map(j=>o.jsx("div",{className:"h-16 bg-gray-200 rounded animate-pulse"},j))})})]}):o.jsxs(Pe,{className:e,children:[o.jsx(Ye,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(dt,{className:"flex items-center gap-2",children:[o.jsx(Ao,{className:"h-5 w-5 text-orange-500"}),"Alert Rule Settings"]}),o.jsx(hn,{children:"Configure and manage metric alert rules to detect business anomalies in time"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[!E&&o.jsxs(te,{onClick:m,size:"sm",children:[o.jsx(or,{className:"h-4 w-4 mr-1"}),"New Rule"]}),t&&o.jsx(te,{variant:"outline",size:"sm",onClick:t,children:o.jsx(Pr,{className:"h-4 w-4"})})]})]})}),o.jsxs(De,{className:"space-y-4",children:[E&&o.jsxs(Pe,{className:"border-2 border-blue-200 bg-blue-50",children:[o.jsx(Ye,{className:"pb-3",children:o.jsx(dt,{className:"text-lg",children:s?"Edit Alert Rule":"Create New Alert Rule"})}),o.jsxs(De,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"ruleName",children:"Rule Name *"}),o.jsx(Me,{id:"ruleName",value:d.name||"",onChange:j=>h({...d,name:j.target.value}),placeholder:"Enter rule name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"metricId",children:"Metric ID *"}),o.jsx(Me,{id:"metricId",value:d.metricId||"",onChange:j=>h({...d,metricId:j.target.value}),placeholder:"Enter metric ID"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"metricName",children:"Metric Name"}),o.jsx(Me,{id:"metricName",value:d.metricName||"",onChange:j=>h({...d,metricName:j.target.value}),placeholder:"Enter metric display name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"thresholdType",children:"Rule Type"}),o.jsxs(Je,{value:d.thresholdType||"above",onValueChange:j=>h({...d,thresholdType:j}),children:[o.jsx(Ze,{children:o.jsx(et,{})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"above",children:"Above Threshold"}),o.jsx(le,{value:"below",children:"Below Threshold"}),o.jsx(le,{value:"change_rate",children:"Change Rate Detection"}),o.jsx(le,{value:"anomaly",children:"Anomaly Detection"})]})]})]})]}),(d.thresholdType==="above"||d.thresholdType==="below")&&o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"thresholdValue",children:"Threshold"}),o.jsx(Me,{id:"thresholdValue",type:"number",value:d.thresholdValue||0,onChange:j=>h({...d,thresholdValue:parseFloat(j.target.value)||0})})]})}),d.thresholdType==="change_rate"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"changeThreshold",children:"Change Rate Threshold (%)"}),o.jsx(Me,{id:"changeThreshold",type:"number",value:((_=d.changeRateConfig)==null?void 0:_.changeThreshold)||0,onChange:j=>{var k;return h({...d,changeRateConfig:{...d.changeRateConfig,changeThreshold:parseFloat(j.target.value)||0,timeWindow:((k=d.changeRateConfig)==null?void 0:k.timeWindow)||"1h"}})}})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"timeWindow",children:"Time Window"}),o.jsxs(Je,{value:((S=d.changeRateConfig)==null?void 0:S.timeWindow)||"1h",onValueChange:j=>{var k;return h({...d,changeRateConfig:{...d.changeRateConfig,changeThreshold:((k=d.changeRateConfig)==null?void 0:k.changeThreshold)||0,timeWindow:j}})},children:[o.jsx(Ze,{children:o.jsx(et,{})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"1h",children:"1 Hour"}),o.jsx(le,{value:"24h",children:"24 Hours"}),o.jsx(le,{value:"7d",children:"7 Days"}),o.jsx(le,{value:"30d",children:"30 Days"})]})]})]})]}),d.thresholdType==="anomaly"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"sensitivity",children:"Sensitivity"}),o.jsxs(Je,{value:((C=d.anomalyConfig)==null?void 0:C.sensitivity)||"medium",onValueChange:j=>{var k;return h({...d,anomalyConfig:{...d.anomalyConfig,sensitivity:j,historicalPeriod:((k=d.anomalyConfig)==null?void 0:k.historicalPeriod)||"30d"}})},children:[o.jsx(Ze,{children:o.jsx(et,{})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"low",children:"Low"}),o.jsx(le,{value:"medium",children:"Medium"}),o.jsx(le,{value:"high",children:"High"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"historicalPeriod",children:"Historical Period"}),o.jsxs(Je,{value:((T=d.anomalyConfig)==null?void 0:T.historicalPeriod)||"30d",onValueChange:j=>{var k;return h({...d,anomalyConfig:{...d.anomalyConfig,sensitivity:((k=d.anomalyConfig)==null?void 0:k.sensitivity)||"medium",historicalPeriod:j}})},children:[o.jsx(Ze,{children:o.jsx(et,{})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"7d",children:"7 Days"}),o.jsx(le,{value:"30d",children:"30 Days"}),o.jsx(le,{value:"90d",children:"90 Days"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"severity",children:"Severity"}),o.jsxs(Je,{value:d.severity||"warning",onValueChange:j=>h({...d,severity:j}),children:[o.jsx(Ze,{children:o.jsx(et,{})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"info",children:"Info"}),o.jsx(le,{value:"warning",children:"Warning"}),o.jsx(le,{value:"critical",children:"Critical"})]})]})]}),o.jsx("div",{className:"space-y-2",children:o.jsxs(ve,{htmlFor:"enabled",className:"flex items-center gap-2",children:["Enable Rule",o.jsx(G2,{id:"enabled",checked:d.enabled!==!1,onCheckedChange:j=>h({...d,enabled:j})})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"description",children:"Description"}),o.jsx(Pn,{id:"description",value:d.description||"",onChange:j=>h({...d,description:j.target.value}),placeholder:"Enter rule description",rows:3})]}),o.jsxs("div",{className:"flex items-center gap-2 pt-4",children:[o.jsxs(te,{onClick:g,children:[o.jsx(xu,{className:"h-4 w-4 mr-1"}),"Save Rule"]}),o.jsxs(te,{variant:"outline",onClick:y,children:[o.jsx(Pr,{className:"h-4 w-4 mr-1"}),"Cancel"]})]})]})]}),!E&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h4",{className:"text-sm font-medium text-foreground",children:["Configured Rules (",n.length,")"]}),n.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Ao,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Alert Rules"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create your first alert rule to monitor key metrics"}),o.jsxs(te,{onClick:m,children:[o.jsx(or,{className:"h-4 w-4 mr-1"}),"Create Rule"]})]}):n.map(j=>o.jsx("div",{className:"p-4 rounded-lg border border-gray-200 bg-white hover:shadow-sm transition-all",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b(j.thresholdType),o.jsx("span",{className:"font-medium",children:j.name}),o.jsx(Oe,{className:v(j.severity),children:j.severity==="critical"?"Critical":j.severity==="warning"?"Warning":"Info"}),o.jsx(Oe,{variant:"outline",children:j.metricName||j.metricId}),!j.enabled&&o.jsx(Oe,{variant:"secondary",children:"Disabled"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:j.description||"No description"}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[(j.thresholdType==="above"||j.thresholdType==="below")&&o.jsxs("span",{children:["Threshold: ",j.thresholdType==="above"?">":"<"," ",j.thresholdValue]}),j.thresholdType==="change_rate"&&j.changeRateConfig&&o.jsxs("span",{children:["Change Rate: ",j.changeRateConfig.changeThreshold,"% / ",j.changeRateConfig.timeWindow]}),j.thresholdType==="anomaly"&&j.anomalyConfig&&o.jsxs("span",{children:["Anomaly Detection: ",j.anomalyConfig.sensitivity," sensitivity"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[o.jsx(te,{size:"sm",variant:"outline",onClick:()=>p(j),children:o.jsx(oa,{className:"h-3 w-3"})}),o.jsx(te,{size:"sm",variant:"outline",onClick:()=>x(j.id),className:"text-red-600 hover:text-red-700",children:o.jsx(Uh,{className:"h-3 w-3"})})]})]})},j.id))]})]})]})},iht=!1;class aht{async load_analysis_data(t){console.log("AnalysisService - load_analysis_data called with hypothesisId:",t),console.log("AnalysisService - isMockMode:",iht);try{const n=await fetch(`${Ke}/watchmen/ai/analysis/hypothesis/${t}`,{headers:tt()}),r=await ec.getHypothesisById(t),i=await gt(n);return console.log("AnalysisService - API response:",i),{analysis_id:i.analysis_id,hypothesis:r,data_explain_dict:i.data_explain_dict,analysis_metrics:i.analysis_metrics}}catch(n){console.error("AnalysisService - Error fetching analysis data:",n),console.log("AnalysisService - Falling back to mock data due to API error")}}async start_analysis(t){try{const n=await fetch(`${Ke}/watchmen/ai/analysis/start`,{method:"POST",headers:tt(),body:JSON.stringify(t)});await gt(n)}catch(n){throw console.error("Error starting analysis:",n),n}}async save_analysis_result(t){try{const n=await fetch(`${Ke}/watchmen/ai/analysis/save`,{method:"POST",headers:tt(),body:JSON.stringify(t)});return await gt(n)}catch(n){throw console.error("Error saving analysis result:",n),n}}}const Qoe=new aht,sht=()=>{const{collapsed:e}=Tr(),t=Yi();Dn();const[n,r]=w.useState(null),[i,a]=w.useState(!0),[s,l]=w.useState(null),[c,u]=w.useState(!1),d=s&&s.analysis_id&&s.hypothesis;s!=null&&s.analysis_metrics;const h=(s==null?void 0:s.data_explain_dict)||[],f=(s==null?void 0:s.hypothesis)||n,m=()=>s!=null&&s.analysis_metrics?s.analysis_metrics.map(g=>({name:g.name,category:g.category,data:g.dataset.dataset.data,columns:g.dataset.dataset.column_names,dimensions:g.dimensions})):null,p=w.useMemo(()=>m(),[s]);return w.useEffect(()=>{(async()=>{try{const y=new URLSearchParams(t.search).get("hypothesis"),v=await Qoe.load_analysis_data(y);r(v.hypothesis),l(v)}catch(x){console.error("Error fetching analysis data:",x)}finally{a(!1)}})()},[t.search]),i?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ir,{}),o.jsxs("div",{className:`${e?"pl-20":"pl-56"} min-h-screen transition-all duration-300`,children:[o.jsx(Xn,{}),o.jsx("main",{className:"container py-6 flex items-center justify-center",children:o.jsx(Pe,{className:"glass-card border-0 shadow-sm p-8 text-center",children:o.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[o.jsxs("div",{className:"loading-dots",children:[o.jsx("span",{}),o.jsx("span",{}),o.jsx("span",{})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Loading Analysis"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetching hypothesis data and analysis results..."})]})]})})})]})]}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ir,{}),o.jsxs("div",{className:`${e?"pl-20":"pl-56"} min-h-screen transition-all duration-300`,children:[o.jsx(Xn,{}),o.jsx("main",{className:"container py-6",children:o.jsx(NFe,{initialHypothesis:f,children:f&&d?o.jsxs("div",{className:"space-y-6",children:[o.jsx(Pe,{className:"glass-card border-0 shadow-lg",children:o.jsx(eht,{hypothesis:f})}),o.jsx(Pe,{className:"glass-card border-0 shadow-sm",children:o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Analysis Configuration"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure dimensions and time range for your analysis"})]})})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx(nht,{className:"h-full"})}),o.jsx("div",{className:"lg:col-span-1",children:o.jsx(Pe,{className:"glass-card border-0 shadow-sm h-full",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-2 flex items-center gap-2",children:[o.jsx(Ao,{className:"h-5 w-5 text-orange-500"}),"Alert Management"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure and manage metric alert rules"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("button",{onClick:()=>u(!c),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[o.jsx(Ao,{className:"h-4 w-4"}),c?"Close Settings":"Configure Alert Rules"]}),o.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Active Rules:"}),o.jsx("span",{className:"font-medium",children:"3"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Monitored Metrics:"}),o.jsx("span",{className:"font-medium",children:"8"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Latest Alert:"}),o.jsx("span",{className:"font-medium",children:"2 hours ago"})]})]})]})]})})})]}),c&&o.jsx(Pe,{className:"glass-card border-0 shadow-lg",children:o.jsx(rht,{className:"",onClose:()=>u(!1)})}),o.jsx(Pe,{className:"glass-card border-0 shadow-sm",children:o.jsx("div",{className:"p-6",children:o.jsxs(Oo,{defaultValue:"insights",className:"w-full",children:[o.jsxs(Us,{className:"grid w-full grid-cols-2 mb-6",children:[o.jsxs(Xt,{value:"insights",className:"flex items-center gap-3",children:[o.jsx(iX,{className:"h-4 w-4"}),"AI Insights"]}),o.jsxs(Xt,{value:"data",className:"flex items-center gap-3",children:[o.jsx(kp,{className:"h-4 w-4"}),"Data Analysis"]})]}),o.jsx(Zt,{value:"insights",className:"mt-0",children:o.jsx(kFe,{dataExplanations:h})}),o.jsx(Zt,{value:"data",className:"mt-0",children:o.jsx(Qdt,{analysisMethod:f==null?void 0:f.analysisMethod,metricsData:p})})]})})})]}):f&&!d?o.jsx("div",{className:"flex flex-col items-center justify-center min-h-[400px] space-y-4",children:o.jsxs(Pe,{className:"glass-card border-0 shadow-sm p-8 text-center max-w-md",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx(kp,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Analysis Data Available"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Analysis data for this hypothesis is not yet available. Please check back later or contact support."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Hypothesis ID: ",f==null?void 0:f.id]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Status: ",f==null?void 0:f.status]})]})]})}):o.jsx(tht,{})})})]})]})};var A4="Collapsible",[oht,QRt]=Ua(A4),[lht,j4]=oht(A4),Joe=w.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:a,onOpenChange:s,...l}=e,[c=!1,u]=qs({prop:r,defaultProp:i,onChange:s});return o.jsx(lht,{scope:n,disabled:a,contentId:us(),open:c,onOpenToggle:w.useCallback(()=>u(d=>!d),[u]),children:o.jsx(rt.div,{"data-state":P4(c),"data-disabled":a?"":void 0,...l,ref:t})})});Joe.displayName=A4;var ele="CollapsibleTrigger",tle=w.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=j4(ele,n);return o.jsx(rt.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":P4(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:Ie(e.onClick,i.onOpenToggle)})});tle.displayName=ele;var O4="CollapsibleContent",nle=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=j4(O4,e.__scopeCollapsible);return o.jsx(ti,{present:n||i.open,children:({present:a})=>o.jsx(cht,{...r,ref:t,present:a})})});nle.displayName=O4;var cht=w.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...a}=e,s=j4(O4,n),[l,c]=w.useState(r),u=w.useRef(null),d=jt(t,u),h=w.useRef(0),f=h.current,m=w.useRef(0),p=m.current,g=s.open||l,x=w.useRef(g),y=w.useRef();return w.useEffect(()=>{const v=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(v)},[]),pi(()=>{const v=u.current;if(v){y.current=y.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const b=v.getBoundingClientRect();h.current=b.height,m.current=b.width,x.current||(v.style.transitionDuration=y.current.transitionDuration,v.style.animationName=y.current.animationName),c(r)}},[s.open,r]),o.jsx(rt.div,{"data-state":P4(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!g,...a,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":p?`${p}px`:void 0,...e.style},children:g&&i})});function P4(e){return e?"open":"closed"}var uht=Joe;const rle=uht,ile=tle,ale=nle,Rw=e=>new Promise(t=>setTimeout(t,e)),Dw=[{id:"ca1",businessChallengeId:"bc1",title:"Customer Retention Analysis",summary:"Analysis shows that improving customer service response time and personalized offers can significantly reduce high-value customer churn rate. Key metrics indicate a 15% improvement potential.",createdAt:"2023-11-20T10:00:00Z",updatedAt:"2023-11-25T14:30:00Z",status:"completed",insights:[{title:"Customer Service Impact",type:"opportunity",description:"Customers who receive responses within 4 hours are 35% less likely to churn",priority:"high"},{title:"Pricing Sensitivity",type:"risk",description:"Premium increases above 8% result in 3x higher churn rate",priority:"medium"}],validatedHypotheses:[{id:"1",title:"Customer Service Response Time",description:"Faster customer service response times lead to higher retention rates",status:"validated",confidence:.92,metrics:["response_time","retention_rate"],createdAt:"2023-10-22T09:15:00Z",businessProblemId:"bp1"}],rejectedHypotheses:[{id:"2",title:"Product Feature Impact",description:"Adding more product features will reduce churn rate",status:"rejected",confidence:.35,metrics:["feature_count","churn_rate"],createdAt:"2023-10-23T11:30:00Z",businessProblemId:"bp1"}],keyMetrics:[{id:"metric1",name:"Customer Churn Rate",value:5.2,unit:"%",change:-1.3,valueReadable:"5.2%",changeReadable:"-1.3%",status:"positive",description:"Percentage of customers who left within the last 30 days",lastUpdated:"2023-11-24T00:00:00Z",category:"Ratio"},{id:"metric2",name:"Customer Lifetime Value",value:2450,unit:"$",change:320,valueReadable:"$2,450",changeReadable:"+$320",status:"positive",description:"Average revenue expected from a customer throughout their relationship",lastUpdated:"2023-11-24T00:00:00Z",category:"Average"}],businessProblems:[{id:"bp1",title:"High-value Customer Churn Issue",description:"High-value customer churn rate exceeds industry average, requiring root cause analysis and intervention strategies.",status:"in_progress",hypothesisIds:["1","2"],createdAt:"2023-10-20T10:15:00Z",businessChallengeId:"bc1"}],recommendations:["Implement a service level agreement ensuring 90% of customer inquiries are responded to within 4 hours","Develop a personalized retention program for high-value customers","Review pricing strategy to ensure increases stay below the 8% threshold"],nextSteps:["Pilot the new customer service response time program in Q1 2024","Develop customer segmentation model for personalized retention offers","Conduct A/B testing on different retention strategies"]},{id:"ca2",businessChallengeId:"bc2",title:"Marketing Efficiency Analysis",summary:"Digital channels show 2.3x higher ROI than traditional channels. Reallocating 30% of budget from traditional to digital channels could increase overall marketing ROI by 25%.",createdAt:"2023-11-15T09:00:00Z",updatedAt:"2023-11-22T16:45:00Z",status:"completed",insights:[{title:"Digital Channel Efficiency",type:"opportunity",description:"Digital channels deliver 2.3x higher ROI than traditional channels",priority:"high"},{title:"Customer Acquisition Cost Trend",type:"trendup",description:"CAC has increased 12% year-over-year across all channels",priority:"medium"}],validatedHypotheses:[{id:"5",title:"Digital Marketing Efficiency",description:"Digital marketing channels provide better ROI than traditional channels",status:"validated",confidence:.89,metrics:["marketing_roi","cac"],createdAt:"2023-11-06T14:20:00Z",businessProblemId:"bp3"}],rejectedHypotheses:[],keyMetrics:[{id:"metric3",name:"Marketing ROI",value:3.2,unit:"ratio",change:.4,valueReadable:"3.2x",changeReadable:"+0.4x",status:"positive",description:"Return on investment for marketing spend",lastUpdated:"2023-11-20T00:00:00Z",category:"Ratio"},{id:"metric4",name:"Customer Acquisition Cost",value:125,unit:"$",change:15,valueReadable:"$125",changeReadable:"+$15",status:"negative",description:"Average cost to acquire a new customer",lastUpdated:"2023-11-20T00:00:00Z",category:"Average"}],businessProblems:[{id:"bp3",title:"Marketing Channel Efficiency Variance",description:"Significant differences in customer acquisition costs and quality across marketing channels require resource allocation optimization.",status:"in_progress",hypothesisIds:["5"],createdAt:"2023-11-05T11:45:00Z",businessChallengeId:"bc2"}],recommendations:["Reallocate 30% of traditional marketing budget to high-performing digital channels","Implement attribution modeling to better track customer journey across channels","Develop channel-specific messaging based on customer segment performance"],nextSteps:["Create detailed budget reallocation plan for Q1 2024","Select and implement marketing attribution solution","Develop performance Smart Console for real-time channel ROI monitoring"]}];class dht{async getChallengeAnalysesSummaries(){try{const t=await fetch(`${Ke}/watchmen/ai/challenge-analyses`,{headers:tt()});return await gt(t)}catch(t){return console.error("Error fetching challenge analyses:",t),await Rw(500),Dw.map(n=>({id:n.id,businessChallengeId:n.businessChallengeId,title:n.title,summary:n.summary,createdAt:n.createdAt,status:n.status,insightsCount:n.insights.length,validatedHypothesesCount:n.validatedHypotheses.length,rejectedHypothesesCount:n.rejectedHypotheses.length}))}}async getChallengeAnalysis(t){try{const n=await fetch(`${Ke}/watchmen/ai/challenge-analyses/${t}`,{headers:tt()});return await gt(n)}catch(n){if(console.error(`Error fetching challenge analysis with ID ${t}:`,n),await Rw(500),!Dw.find(i=>i.id===t))throw new Error(`Challenge analysis with ID ${t} not found`);return Dw[0]}}async getChallengeAnalysesByAnalysisId(t){try{const n=await fetch(`${Ke}/watchmen/ai/analysis/${t}`,{headers:tt()}),r=await gt(n);return console.log("result",r.result.simulation_result),r.result.simulation_result}catch(n){console.error(`Error fetching challenge analyses for business challenge ID ${t}:`,n)}}async getChallengeAnalysesByChallengeId(t){try{const n=await fetch(`${Ke}/watchmen/ai/analysis/challenge/${t}`,{headers:tt()});return(await gt(n)).simulation_result}catch(n){throw console.error(`Error fetching challenge analyses for challenge ID ${t}:`,n),await Rw(500),n}}async generateChallengeAnalysis(t){try{const n=await fetch(`${Ke}/watchmen/ai/challenge-analyses/generate`,{method:"POST",headers:tt(),body:JSON.stringify({businessChallengeId:t})});return await gt(n)}catch(n){console.error(`Error generating challenge analysis for business challenge ID ${t}:`,n),await Rw(1500);const r=Dw.filter(a=>a.businessChallengeId===t);return r.length>0?r[0]:{id:`ca${Date.now()}`,businessChallengeId:t,title:"New Challenge Analysis",summary:"This is a newly generated analysis for the business challenge.",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),status:"completed",insights:[{title:"Initial Insight",type:"opportunity",description:"This is an automatically generated insight.",priority:"medium"}],validatedHypotheses:[],rejectedHypotheses:[],keyMetrics:[],businessProblems:[],recommendations:["This is an automatically generated recommendation."],nextSteps:["This is an automatically generated next step."]}}}}const NA=new dht,hht=()=>{var S,C,T,j,k,O,M,B,N,D,P,L,I,U,$,W,z,R,G,Q,oe,re,pe,ce,me,ye,ae,Ae,H,Z,he,se,V,ie,ue,we,Se,K,Ce,Le;const{collapsed:e}=Tr(),t=Dn(),[n]=sZ(),r=n.get("challengeId"),i=n.get("analysisId"),[a,s]=w.useState(null),[l,c]=w.useState(null),[u,d]=w.useState(!0),[h,f]=w.useState(null);w.useState(new Set);const[m,p]=w.useState("overview"),{toast:g}=za(),x=Y=>{if(!Y||!Y.hypothesisResultDict)return{validated:0,rejected:0};let ee=0,be=0;return Object.values(Y.hypothesisResultDict).forEach(Te=>{Te.data_explain_dict&&Array.isArray(Te.data_explain_dict)&&Te.data_explain_dict.forEach(fe=>{fe.hypothesisValidationFlag===!0?ee++:fe.hypothesisValidationFlag===!1&&be++})}),console.log("validated",ee),console.log("rejected",be),{validated:ee,rejected:be}},y=(Y,ee,be)=>{if(!ee||!ee.hypothesisResultDict||!Y||!Y.problems)return[];const Te=[];return Y.problems.forEach(fe=>{be&&fe.id!==be||fe.hypotheses&&Array.isArray(fe.hypotheses)&&fe.hypotheses.forEach(Ne=>{const Nt=ee.hypothesisResultDict[Ne.id];Nt&&Nt.data_explain_dict&&Array.isArray(Nt.data_explain_dict)&&Nt.data_explain_dict.forEach(vt=>{vt.hypothesisValidationFlag===!0&&Te.push({id:Ne.id,title:Ne.title,problemId:fe.id,description:Ne.description,problemTitle:fe.title,hypothesisValidation:vt.hypothesisValidation,keyMetricChange:vt.keyMetricChange,summaryFinding:vt.summaryFinding,...Nt})})})}),Te},v=(Y,ee,be)=>{if(!ee||!ee.hypothesisResultDict||!Y||!Y.problems)return[];const Te=[];return Y.problems.forEach(fe=>{be&&fe.id!==be||fe.hypotheses&&Array.isArray(fe.hypotheses)&&fe.hypotheses.forEach(Ne=>{const Nt=ee.hypothesisResultDict[Ne.id];Nt&&Nt.data_explain_dict&&Array.isArray(Nt.data_explain_dict)&&Nt.data_explain_dict.forEach(vt=>{vt.hypothesisValidationFlag===!1&&Te.push({id:Ne.id,title:Ne.title,problemId:fe.id,description:Ne.description,problemTitle:fe.title,hypothesisValidation:vt.hypothesisValidation,keyMetricChange:vt.keyMetricChange,summaryFinding:vt.summaryFinding,...Nt})})})}),Te};w.useEffect(()=>{(async()=>{if(!r){f("No challenge ID provided"),d(!1);return}try{d(!0),f(null);let ee;i?ee=await NA.getChallengeAnalysesByAnalysisId(i):ee=await NA.getChallengeAnalysesByChallengeId(r),console.log("challengeData",ee.challenge),c(ee.challenge),ee.result&&s(ee.result)}catch{f("Failed to load analysis data. Please try again later."),g({title:"Error",description:"Failed to load analysis data. Please try again later.",variant:"destructive"})}finally{d(!1)}})()},[r,i,g]);const b=async()=>{if(r)try{d(!0);const Y=await NA.generateChallengeAnalysis(r);s(Y),g({title:"Analysis Generated",description:"A new challenge analysis has been generated successfully."})}catch{g({title:"Error",description:"Failed to generate new analysis. Please try again later.",variant:"destructive"})}finally{d(!1)}},E=()=>{t("/challenges")};if(u)return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ir,{}),o.jsxs("div",{className:`${e?"pl-20":"pl-56"} min-h-screen transition-all duration-300`,children:[o.jsx(Xn,{}),o.jsx("main",{className:"container py-6",children:o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx(nr,{className:"h-8 w-8 animate-spin text-primary"})})})]})]});if(h||!l||!a)return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ir,{}),o.jsxs("div",{className:`${e?"pl-20":"pl-56"} min-h-screen transition-all duration-300`,children:[o.jsx(Xn,{}),o.jsx("main",{className:"container py-6",children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:h||"Analysis not found"}),o.jsxs(te,{onClick:E,variant:"outline",children:[o.jsx(xl,{className:"mr-2 h-4 w-4"}),"Back to Business Challenges"]})]})})]})]});const _=[{id:"overview",label:"Challenge Overview",icon:yS},...(l.problems||[]).map((Y,ee)=>({id:`problem${ee+1}`,label:Y.title,problemId:Y.id,icon:Y.status==="resolved"?vr:Y.status==="in_progress"?hi:Ao})),{id:"summary",label:"Summary and Action Tracking",icon:nd}];return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ir,{}),o.jsxs("div",{className:`${e?"pl-20":"pl-56"} min-h-screen transition-all duration-300`,children:[o.jsx(Xn,{}),o.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[o.jsxs("div",{className:"w-64 bg-card border-r border-border p-4 overflow-y-auto",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs(te,{onClick:E,variant:"ghost",className:"w-full justify-start mb-4",children:[o.jsx(xl,{className:"mr-2 h-4 w-4"}),"Back to Challenge List"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Analysis Report Navigation"})]}),o.jsx("nav",{className:"space-y-2",children:_.map(Y=>{const ee=Y.icon;return o.jsxs("button",{onClick:()=>p(Y.id),className:`w-full flex items-start px-3 py-2 text-sm rounded-md transition-colors ${m===Y.id?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[o.jsx(ee,{className:"mr-2 h-4 w-4 flex-shrink-0"}),o.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis block w-full",children:Y.label})]},Y.id)})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),o.jsxs("p",{className:"text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString("en-US")]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(te,{variant:"outline",size:"sm",children:[o.jsx(rc,{className:"mr-2 h-4 w-4"}),"Export PDF"]}),o.jsxs(te,{variant:"outline",size:"sm",children:[o.jsx(r1e,{className:"mr-2 h-4 w-4"}),"Add Notes"]}),(a==null?void 0:a.challengeMarkdown)&&o.jsxs(te,{variant:"outline",size:"sm",onClick:()=>{const Y=window.open("","_blank","width=800,height=600,scrollbars=yes");if(Y){const ee=a.challengeMarkdown,be=`
                          <!DOCTYPE html>
                          <html>
                          <head>
                            <title>Challenge Analysis Report</title>
                            <meta charset="UTF-8">
                            <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"><\/script>
                            <style>
                              body { 
                                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
                                margin: 40px; 
                                line-height: 1.6; 
                                color: #333;
                                max-width: 800px;
                              }
                              h1, h2, h3, h4, h5, h6 { 
                                color: #2c3e50; 
                                margin-top: 24px; 
                                margin-bottom: 16px;
                              }
                              h1 { border-bottom: 2px solid #eee; padding-bottom: 10px; }
                              h2 { border-bottom: 1px solid #eee; padding-bottom: 8px; }
                              p { margin-bottom: 16px; }
                              ul, ol { margin-bottom: 16px; padding-left: 24px; }
                              li { margin-bottom: 8px; }
                              blockquote { 
                                border-left: 4px solid #ddd; 
                                margin: 16px 0; 
                                padding-left: 16px; 
                                color: #666;
                              }
                              code { 
                                background: #f4f4f4; 
                                padding: 2px 4px; 
                                border-radius: 3px; 
                                font-family: 'Monaco', 'Consolas', monospace;
                              }
                              pre { 
                                background: #f4f4f4; 
                                padding: 16px; 
                                border-radius: 6px; 
                                overflow-x: auto;
                              }
                              table { 
                                border-collapse: collapse; 
                                width: 100%; 
                                margin-bottom: 16px;
                              }
                              th, td { 
                                border: 1px solid #ddd; 
                                padding: 8px 12px; 
                                text-align: left;
                              }
                              th { background-color: #f8f9fa; }
                            </style>
                          </head>
                          <body>
                            <div id="content"></div>
                            <script>
                              document.getElementById('content').innerHTML = marked.parse(${JSON.stringify(ee)});
                            <\/script>
                          </body>
                          </html>
                        `;Y.document.write(be),Y.document.close()}},children:[o.jsx(Wi,{className:"mr-2 h-4 w-4"}),"View Report"]}),o.jsxs(te,{onClick:b,size:"sm",children:[o.jsx(nr,{className:"mr-2 h-4 w-4"}),"Refresh Analysis"]})]})]}),m==="overview"&&o.jsxs("div",{className:"space-y-8",children:[o.jsx(Pe,{className:"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 border-blue-200 shadow-lg",children:o.jsx(Ye,{className:"pb-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx(dt,{className:"text-2xl font-bold text-gray-800 mb-2",children:l.title}),o.jsx(hn,{className:"text-lg text-gray-600",children:l.description})]})})})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(Pe,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 shadow-md hover:shadow-lg transition-shadow",children:[o.jsx(Ye,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:o.jsx(vr,{className:"h-5 w-5 text-green-600"})}),o.jsx("h3",{className:"font-semibold text-lg text-green-800",children:"Analysis Conclusion"})]})}),o.jsx(De,{children:o.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-4 rounded-lg border border-green-100",children:[o.jsx("div",{className:"mb-3",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 mb-2",children:"Key Finding"})}),o.jsx("p",{className:"text-sm text-gray-700 leading-relaxed mb-3",children:((S=a.challengeInsightResult)==null?void 0:S.answerForConclusion)||"The Renewable Female Critical Illness insurance product is predominantly purchased by women due to its tailored coverage for female-specific illnesses and affordability."}),o.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(kD,{className:"h-3 w-3 mr-1"}),o.jsx("span",{children:"30-40 age group"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(hi,{className:"h-3 w-3 mr-1"}),o.jsx("span",{children:"High renewal rate"})]})]})]})})]}),o.jsxs(Pe,{className:"bg-gradient-to-br from-blue-50 to-cyan-50 border-blue-200 shadow-md hover:shadow-lg transition-shadow",children:[o.jsx(Ye,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:o.jsx(ZK,{className:"h-5 w-5 text-blue-600"})}),o.jsx("h3",{className:"font-semibold text-lg text-blue-800",children:"Key Findings Summary"})]})}),o.jsx(De,{children:o.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-4 rounded-lg border border-blue-100",children:[o.jsx("div",{className:"mb-3",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 mb-2",children:"Behavioral Insights"})}),o.jsx("p",{className:"text-sm text-gray-700 leading-relaxed mb-3",children:((C=a.challengeInsightResult)==null?void 0:C.summaryForQuestions)||"Females in the 30-40 age group are more likely to renew their policies, and higher premiums are associated with younger age groups, suggesting income and life-stage factors influence purchasing behaviors."}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[o.jsxs("div",{className:"bg-blue-50 p-2 rounded text-center",children:[o.jsx("div",{className:"font-semibold text-blue-700",children:"Premium Factor"}),o.jsx("div",{className:"text-gray-600",children:"Age-based pricing"})]}),o.jsxs("div",{className:"bg-blue-50 p-2 rounded text-center",children:[o.jsx("div",{className:"font-semibold text-blue-700",children:"Coverage Appeal"}),o.jsx("div",{className:"text-gray-600",children:"Female-specific"})]})]})]})})]}),o.jsxs(Pe,{className:"bg-gradient-to-br from-purple-50 to-violet-50 border-purple-200 shadow-md hover:shadow-lg transition-shadow",children:[o.jsx(Ye,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:o.jsx(Fa,{className:"h-5 w-5 text-purple-600"})}),o.jsx("h3",{className:"font-semibold text-lg text-purple-800",children:"Future Analysis Recommendations"})]})}),o.jsx(De,{children:o.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-4 rounded-lg border border-purple-100",children:[o.jsx("div",{className:"mb-3",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 mb-2",children:"Research Priorities"})}),(T=a.challengeInsightResult)!=null&&T.futureAnalysis?o.jsx("div",{className:"text-sm text-gray-700 leading-relaxed",children:a.challengeInsightResult.futureAnalysis}):o.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full mt-2 flex-shrink-0"}),o.jsxs("span",{children:["Obtain more ",o.jsx("strong",{className:"text-purple-700",children:"granular income data"})," to understand purchasing behavior"]})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full mt-2 flex-shrink-0"}),o.jsxs("span",{children:["Explore ",o.jsx("strong",{className:"text-purple-700",children:"life-stage factors"})," influencing the 30-40 age group"]})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full mt-2 flex-shrink-0"}),o.jsxs("span",{children:["Evaluate ",o.jsx("strong",{className:"text-purple-700",children:"marketing effectiveness"})," in communicating benefits"]})]})]})]})})]}),o.jsxs(Pe,{className:"bg-gradient-to-br from-orange-50 to-amber-50 border-orange-200 shadow-md hover:shadow-lg transition-shadow",children:[o.jsx(Ye,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"bg-orange-100 p-2 rounded-full",children:o.jsx(hi,{className:"h-5 w-5 text-orange-600"})}),o.jsx("h3",{className:"font-semibold text-lg text-orange-800",children:"Future Business Actions"})]})}),o.jsx(De,{children:o.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-4 rounded-lg border border-orange-100",children:[o.jsx("div",{className:"mb-3",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800 mb-2",children:"Strategic Actions"})}),(j=a.challengeInsightResult)!=null&&j.futureBusinessAction?o.jsx("div",{className:"text-sm text-gray-700 leading-relaxed",children:a.challengeInsightResult.futureBusinessAction}):o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[o.jsx("div",{className:"font-medium text-sm text-orange-800 mb-1",children:"Target Marketing"}),o.jsx("div",{className:"text-xs text-gray-600",children:"Develop campaigns for females 30-40, emphasizing renewal value"})]}),o.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[o.jsx("div",{className:"font-medium text-sm text-orange-800 mb-1",children:"Product Innovation"}),o.jsx("div",{className:"text-xs text-gray-600",children:"Create tailored products for younger age groups (20-35 years)"})]}),o.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[o.jsx("div",{className:"font-medium text-sm text-orange-800 mb-1",children:"Market Expansion"}),o.jsx("div",{className:"text-xs text-gray-600",children:"Explore opportunities for male buyers and complementary products"})]})]})]})})]})]}),o.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg mb-4",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx(Wi,{className:"h-5 w-5 text-primary mr-2"}),o.jsx("h4",{className:"font-medium text-sm",children:"Analysis Summary"})]}),(()=>{const Y=x(a),ee=Y.validated+Y.rejected;return o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:["Based on ",ee," tested hypotheses, we've validated ",Y.validated," key factors affecting ",l==null?void 0:l.title.toLowerCase(),"."]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3",children:[o.jsx("div",{className:"bg-white p-3 rounded-md border shadow-sm",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center mr-2",children:o.jsx(vr,{className:"h-4 w-4 text-green-600"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-sm font-medium",children:[Y.validated," Validated"]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Hypotheses confirmed"})]})]})}),o.jsx("div",{className:"bg-white p-3 rounded-md border shadow-sm",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-red-100 flex items-center justify-center mr-2",children:o.jsx(Hu,{className:"h-4 w-4 text-red-600"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-sm font-medium",children:[Y.rejected," Rejected"]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Hypotheses disproven"})]})]})})]})]})})()]})]}),m.startsWith("problem")&&(()=>{var be,Te;const Y=parseInt(m.replace("problem",""))-1,ee=(be=l==null?void 0:l.problems)==null?void 0:be[Y];return ee?o.jsx("div",{className:"space-y-6",children:o.jsxs(Pe,{children:[o.jsxs(Ye,{children:[o.jsxs(dt,{className:"flex items-center",children:[ee.status==="resolved"?o.jsx(vr,{className:"mr-2 h-5 w-5 text-green-500"}):ee.status==="in_progress"?o.jsx(bl,{className:"mr-2 h-5 w-5 text-blue-500"}):o.jsx(Ao,{className:"mr-2 h-5 w-5 text-red-500"}),ee.title]}),o.jsx(hn,{children:ee.description})]}),o.jsxs(De,{children:[o.jsxs("div",{className:"mb-6 p-4 bg-muted/50 rounded-lg",children:[o.jsx("h3",{className:"font-medium mb-2",children:"Problem Overview"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:ee.description}),o.jsx("div",{className:"mt-3",children:o.jsxs(Oe,{className:"text-xs bg-blue-100 text-blue-800",children:["Status: ",ee.status.charAt(0).toUpperCase()+ee.status.slice(1)]})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-r from-yellow-400 to-orange-500 flex items-center justify-center mr-3",children:o.jsx(zh,{className:"h-4 w-4 text-white"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Key Insights"}),o.jsx("div",{className:"ml-auto",children:o.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-3 py-1",children:"AI Analysis Results"})})]}),a.questionResultDict&&a.questionResultDict[ee.id]?o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"relative p-6 rounded-xl bg-gradient-to-br from-blue-50 to-indigo-100 border-l-4 border-blue-500 shadow-lg hover:shadow-xl transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center mr-3",children:o.jsx(kp,{className:"h-5 w-5 text-white"})}),o.jsxs("div",{children:[o.jsx(Oe,{className:"text-xs bg-blue-500 text-white mb-1",children:"Core Analysis"}),o.jsx("h4",{className:"font-semibold text-base text-gray-900",children:"Problem Analysis Results"})]})]}),o.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:a.questionResultDict[ee.id].answerForQuestion}),o.jsx("div",{className:"absolute top-4 right-4",children:o.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-500 animate-pulse"})})]}),o.jsxs("div",{className:"relative p-6 rounded-xl bg-gradient-to-br from-green-50 to-emerald-100 border-l-4 border-green-500 shadow-lg hover:shadow-xl transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-full bg-green-500 flex items-center justify-center mr-3",children:o.jsx(vr,{className:"h-5 w-5 text-white"})}),o.jsxs("div",{children:[o.jsx(Oe,{className:"text-xs bg-green-500 text-white mb-1",children:"Key Findings"}),o.jsx("h4",{className:"font-semibold text-base text-gray-900",children:"Hypothesis Validation Summary"})]})]}),o.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:a.questionResultDict[ee.id].summaryForHypothesis}),o.jsx("div",{className:"absolute top-4 right-4",children:o.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"})})]}),o.jsxs("div",{className:"relative p-6 rounded-xl bg-gradient-to-br from-purple-50 to-violet-100 border-l-4 border-purple-500 shadow-lg hover:shadow-xl transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-500 flex items-center justify-center mr-3",children:o.jsx(hi,{className:"h-5 w-5 text-white"})}),o.jsxs("div",{children:[o.jsx(Oe,{className:"text-xs bg-purple-500 text-white mb-1",children:"Future Analysis"}),o.jsx("h4",{className:"font-semibold text-base text-gray-900",children:"Recommended Analysis Directions"})]})]}),o.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:a.questionResultDict[ee.id].futureAnalysis}),o.jsx("div",{className:"absolute top-4 right-4",children:o.jsx("div",{className:"h-2 w-2 rounded-full bg-purple-500 animate-pulse"})})]}),o.jsxs("div",{className:"relative p-6 rounded-xl bg-gradient-to-br from-orange-50 to-red-100 border-l-4 border-orange-500 shadow-lg hover:shadow-xl transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-orange-500 to-red-500 flex items-center justify-center mr-3",children:o.jsx(yS,{className:"h-5 w-5 text-white"})}),o.jsxs("div",{children:[o.jsx(Oe,{className:"text-xs bg-gradient-to-r from-orange-500 to-red-500 text-white mb-1",children:"Action Recommendations"}),o.jsx("h4",{className:"font-semibold text-base text-gray-900",children:"Business Action Plan"})]})]}),o.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:a.questionResultDict[ee.id].futureBusinessAction}),o.jsx("div",{className:"absolute top-4 right-4",children:o.jsx("div",{className:"h-2 w-2 rounded-full bg-orange-500 animate-pulse"})})]})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(Te=a.insights)==null?void 0:Te.slice(0,2).map((fe,Ne)=>o.jsxs("div",{className:"p-4 rounded-lg border bg-card",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx(Oe,{className:`text-xs ${fe.type==="opportunity"?"bg-green-100 text-green-800":fe.type==="risk"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:fe.type==="opportunity"?"Opportunity":fe.type==="risk"?"Risk":"Insight"}),o.jsx(Oe,{className:"ml-2 text-xs",variant:"outline",children:fe.priority})]}),o.jsx("h4",{className:"font-medium text-sm mb-1",children:fe.title}),o.jsx("p",{className:"text-xs text-muted-foreground",children:fe.description})]},Ne))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"font-medium",children:"Hypothesis Analysis"}),o.jsxs(te,{variant:"link",size:"sm",className:"text-primary",onClick:()=>t(`/hypotheses?challengeId=${r}`),children:["View All Hypotheses",o.jsx(U6,{className:"ml-1 h-4 w-4"})]})]}),o.jsxs("div",{className:"bg-white rounded-lg border mb-4",children:[o.jsx("div",{className:"p-3 border-b bg-green-50",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(vr,{className:"h-4 w-4 text-green-600 mr-2"}),o.jsxs("h4",{className:"font-medium text-sm text-green-800",children:["Validated Hypotheses (",y(l,a,ee.id).length,")"]})]})}),o.jsxs("div",{className:"divide-y",children:[y(l,a,ee.id).map((fe,Ne)=>o.jsxs("div",{className:"p-3 hover:bg-green-50/50",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"h-6 w-6 rounded-full bg-green-100 flex items-center justify-center mr-2",children:o.jsx(vr,{className:"h-3 w-3 text-green-600"})}),o.jsx("h5",{className:"font-medium text-sm",children:o.jsx("button",{onClick:()=>t(`/analysis?hypothesis=${fe.id}`),className:"text-left hover:text-blue-600 hover:underline transition-colors",children:fe.hypothesis||`${fe.title}`})})]}),o.jsx(Oe,{variant:"default",className:"text-xs bg-green-100 text-green-800",children:"Validated"})]}),o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:fe.hypothesisValidation||"Hypothesis validation details"}),fe.keyMetricChange&&o.jsxs("div",{className:"text-xs text-green-700 mb-2",children:[o.jsx("span",{className:"font-medium",children:"Key Metric Change:"})," ",fe.keyMetricChange]}),fe.summaryFinding&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.jsx("span",{className:"font-medium",children:"Summary:"})," ",fe.summaryFinding]})]},`validated-${fe.id}-${Ne}`)),y(l,a,ee.id).length===0&&o.jsx("div",{className:"p-4 text-center text-muted-foreground text-sm",children:"No validated hypotheses found"})]})]}),o.jsxs("div",{className:"bg-white rounded-lg border mb-4",children:[o.jsx("div",{className:"p-3 border-b bg-red-50",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Hu,{className:"h-4 w-4 text-red-600 mr-2"}),o.jsxs("h4",{className:"font-medium text-sm text-red-800",children:["Rejected Hypotheses (",v(l,a,ee.id).length,")"]})]})}),o.jsxs("div",{className:"divide-y",children:[v(l,a,ee.id).map((fe,Ne)=>o.jsxs("div",{className:"p-3 hover:bg-red-50/50",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"h-6 w-6 rounded-full bg-red-100 flex items-center justify-center mr-2",children:o.jsx(Hu,{className:"h-3 w-3 text-red-600"})}),o.jsx("h5",{className:"font-medium text-sm",children:o.jsx("button",{onClick:()=>t(`/analysis?hypothesis=${fe.id}`),className:"text-left hover:text-blue-600 hover:underline transition-colors",children:fe.hypothesis||`${fe.title}`})})]}),o.jsx(Oe,{variant:"destructive",className:"text-xs",children:"Rejected"})]}),o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:fe.hypothesisValidation||"Hypothesis validation details"}),fe.keyMetricChange&&o.jsxs("div",{className:"text-xs text-red-700 mb-2",children:[o.jsx("span",{className:"font-medium",children:"Key Metric Change:"})," ",fe.keyMetricChange]}),fe.summaryFinding&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.jsx("span",{className:"font-medium",children:"Summary:"})," ",fe.summaryFinding]})]},`rejected-${fe.id}-${Ne}`)),v(l,a,ee.id).length===0&&o.jsx("div",{className:"p-4 text-center text-muted-foreground text-sm",children:"No rejected hypotheses found"})]})]}),y(l,a,ee.id).slice(0,2).map(fe=>o.jsxs(rle,{children:[o.jsx(ile,{asChild:!0,children:o.jsxs(te,{variant:"outline",className:"w-full justify-between p-4 h-auto",children:[o.jsxs("div",{className:"text-left",children:[o.jsx("h4",{className:"font-medium",children:fe.title}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:fe.description})]}),o.jsx(xf,{className:"h-4 w-4"})]})}),o.jsx(ale,{className:"mt-2",children:o.jsx(Pe,{children:o.jsxs(De,{className:"p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium text-sm mb-2",children:"Analysis Method"}),o.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Trend Analysis + Comparative Analysis"}),o.jsx("div",{className:"bg-muted/50 p-3 rounded text-center text-sm",children:" Chart Area (Trend Graph)"})]}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium text-sm mb-2",children:"Simulation Scenarios"}),o.jsxs("div",{className:"space-y-2 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Baseline Scenario:"}),o.jsx("span",{className:"font-medium",children:"85%"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Optimized Scenario:"}),o.jsx("span",{className:"font-medium text-green-600",children:"92%"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Pessimistic Scenario:"}),o.jsx("span",{className:"font-medium text-red-600",children:"78%"})]})]})]})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t",children:[o.jsx("h5",{className:"font-medium text-sm mb-2",children:"Key Findings"}),o.jsxs("div",{className:"bg-blue-50 p-3 rounded-md mb-3",children:[o.jsxs("div",{className:"flex items-center mb-1",children:[o.jsx(vr,{className:"h-4 w-4 text-blue-600 mr-1"}),o.jsx("span",{className:"text-xs font-medium text-blue-800",children:fe.status==="validated"?"Validated Hypothesis":"Testing Results"})]}),o.jsx("p",{className:"text-xs text-blue-700",children:fe.status==="validated"?"This hypothesis has been validated with statistical significance (p<0.05).":"Initial testing shows promising results with 92% confidence interval."})]}),o.jsxs("div",{className:"space-y-2 mb-3",children:[o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"h-5 w-5 flex items-center justify-center rounded-full bg-green-100 text-green-600 mr-2 flex-shrink-0 mt-0.5",children:o.jsx(hi,{className:"h-3 w-3"})}),o.jsxs("p",{className:"text-xs",children:[o.jsx("span",{className:"font-medium",children:"Positive Impact:"})," ",fe.confidence>70?"Significant improvement in renewal rates by 7.2% across targeted segments.":"Moderate improvement in customer engagement metrics."]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"h-5 w-5 flex items-center justify-center rounded-full bg-blue-100 text-blue-600 mr-2 flex-shrink-0 mt-0.5",children:o.jsx(zh,{className:"h-3 w-3"})}),o.jsxs("p",{className:"text-xs",children:[o.jsx("span",{className:"font-medium",children:"Key Insight:"})," ",fe.confidence>70?"Personalized messaging based on customer lifecycle stage shows 3x higher engagement.":"Customer segments respond differently to incentive structures."]})]})]})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h5",{className:"font-medium text-sm",children:"Recommendations & Action Items"}),o.jsxs(te,{variant:"ghost",size:"sm",className:"text-xs",onClick:()=>t(`/hypotheses/${fe.id}`),children:["View Details",o.jsx(U6,{className:"ml-1 h-3 w-3"})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(Oe,{variant:"secondary",className:"text-xs",children:"Short-term"}),o.jsx(Oe,{variant:"outline",className:"text-xs",children:"Marketing Dept"}),o.jsx(Oe,{className:"text-xs bg-orange-100 text-orange-800",children:"High Priority"})]})]})]})})})]},fe.id))]})]})]})}):null})(),m==="summary"&&o.jsx("div",{className:"space-y-6",children:o.jsxs(Pe,{className:"bg-gradient-to-br from-indigo-50 to-purple-50 border-indigo-200",children:[o.jsxs(Ye,{children:[o.jsxs(dt,{className:"flex items-center",children:[o.jsx(kp,{className:"mr-2 h-5 w-5 text-indigo-600"}),"Analysis Quality Assessment"]}),o.jsx(hn,{children:"Comprehensive evaluation of analysis effectiveness across key dimensions"})]}),o.jsx(De,{children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Quality Metrics"}),[{label:"Goal Alignment",score:((k=a.evaluation)==null?void 0:k.goal_alignment_score)||0,description:((O=a.evaluation)==null?void 0:O.goal_alignment)||"Aligns well with business goals"},{label:"Challenge Understanding",score:((M=a.evaluation)==null?void 0:M.challenge_understanding_score)||0,description:((B=a.evaluation)==null?void 0:B.challenge_understanding)||"Clear understanding of core challenges"},{label:"Hypothesis Coverage",score:((N=a.evaluation)==null?void 0:N.hypothesis_coverage_score)||0,description:((D=a.evaluation)==null?void 0:D.hypothesis_coverage)||"Addresses key hypotheses effectively"},{label:"Actionable Insights",score:((P=a.evaluation)==null?void 0:P.actionable_insights_score)||0,description:((L=a.evaluation)==null?void 0:L.actionable_insights)||"Provides practical recommendations"},{label:"Verification Reliability",score:((I=a.evaluation)==null?void 0:I.verification_reliability_score)||0,description:((U=a.evaluation)==null?void 0:U.verification_reliability)||"Logical reasoning with data support"},{label:"Data Sufficiency",score:(($=a.evaluation)==null?void 0:$.data_sufficiency_score)||0,description:((W=a.evaluation)==null?void 0:W.data_sufficiency)||"Sufficient for initial conclusions"}].map((Y,ee)=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:Y.label}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-sm font-bold",children:[Y.score,"/5"]}),o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y.score===5?"bg-green-100 text-green-800":Y.score===4?"bg-blue-100 text-blue-800":Y.score===3?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:Y.score===5?"Excellent":Y.score===4?"Good":Y.score===3?"Fair":"Poor"})]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${Y.score===5?"bg-green-500":Y.score===4?"bg-blue-500":Y.score===3?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Y.score/5*100}%`}})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:Y.description})]},ee))]}),o.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-6 rounded-lg border border-indigo-100",children:[(()=>{var Te,fe,Ne,Nt,vt,an;const Y=[((Te=a.evaluation)==null?void 0:Te.goal_alignment_score)||0,((fe=a.evaluation)==null?void 0:fe.challenge_understanding_score)||0,((Ne=a.evaluation)==null?void 0:Ne.hypothesis_coverage_score)||0,((Nt=a.evaluation)==null?void 0:Nt.actionable_insights_score)||0,((vt=a.evaluation)==null?void 0:vt.verification_reliability_score)||0,((an=a.evaluation)==null?void 0:an.data_sufficiency_score)||0],ee=Y.reduce((Ln,_t)=>Ln+_t,0)/Y.length,be=Math.round(ee/5*100);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsxs("div",{className:"text-3xl font-bold text-indigo-600 mb-2",children:[ee.toFixed(1),"/5"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Overall Quality Score"}),o.jsx("div",{className:"mt-2",children:o.jsx(Oe,{className:`${ee>=4.5?"bg-green-100 text-green-800":ee>=3.5?"bg-blue-100 text-blue-800":ee>=2.5?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:ee>=4.5?"Excellent Analysis":ee>=3.5?"High Quality Analysis":ee>=2.5?"Good Analysis":"Needs Improvement"})})]}),o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs("div",{className:"relative w-24 h-24",children:[o.jsxs("svg",{className:"w-24 h-24 transform -rotate-90",viewBox:"0 0 100 100",children:[o.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"#e5e7eb",strokeWidth:"8",fill:"none"}),o.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"#3b82f6",strokeWidth:"8",fill:"none",strokeDasharray:`${ee/5*251.2} 251.2`,className:"transition-all duration-1000 ease-out"})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsxs("span",{className:"text-lg font-bold text-indigo-600",children:[be,"%"]})})]})})]})})(),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h5",{className:"font-medium text-sm text-gray-800",children:"Key Strengths"}),o.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[[{key:"goal_alignment",label:"Goal Alignment",score:((z=a.evaluation)==null?void 0:z.goal_alignment_score)||0},{key:"challenge_understanding",label:"Challenge Understanding",score:((R=a.evaluation)==null?void 0:R.challenge_understanding_score)||0},{key:"hypothesis_coverage",label:"Hypothesis Coverage",score:((G=a.evaluation)==null?void 0:G.hypothesis_coverage_score)||0},{key:"actionable_insights",label:"Actionable Insights",score:((Q=a.evaluation)==null?void 0:Q.actionable_insights_score)||0},{key:"verification_reliability",label:"Verification Reliability",score:((oe=a.evaluation)==null?void 0:oe.verification_reliability_score)||0},{key:"data_sufficiency",label:"Data Sufficiency",score:((re=a.evaluation)==null?void 0:re.data_sufficiency_score)||0}].filter(Y=>Y.score>=4).sort((Y,ee)=>ee.score-Y.score).slice(0,3).map((Y,ee)=>o.jsxs("div",{className:"flex items-center",children:[o.jsx(vr,{className:`h-3 w-3 mr-1 ${Y.score===5?"text-green-500":"text-blue-500"}`}),o.jsxs("span",{children:[Y.score===5?"Excellent":"Good"," ",Y.label.toLowerCase()]})]},ee)),[{key:"goal_alignment",label:"Goal Alignment",score:((pe=a.evaluation)==null?void 0:pe.goal_alignment_score)||0},{key:"challenge_understanding",label:"Challenge Understanding",score:((ce=a.evaluation)==null?void 0:ce.challenge_understanding_score)||0},{key:"hypothesis_coverage",label:"Hypothesis Coverage",score:((me=a.evaluation)==null?void 0:me.hypothesis_coverage_score)||0},{key:"actionable_insights",label:"Actionable Insights",score:((ye=a.evaluation)==null?void 0:ye.actionable_insights_score)||0},{key:"verification_reliability",label:"Verification Reliability",score:((ae=a.evaluation)==null?void 0:ae.verification_reliability_score)||0},{key:"data_sufficiency",label:"Data Sufficiency",score:((Ae=a.evaluation)==null?void 0:Ae.data_sufficiency_score)||0}].filter(Y=>Y.score>=4).length===0&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(vr,{className:"h-3 w-3 text-gray-400 mr-1"}),o.jsx("span",{children:"Analysis completed successfully"})]})]})]}),o.jsxs("div",{className:"space-y-2 mt-4",children:[o.jsx("h5",{className:"font-medium text-sm text-gray-800",children:"Areas for Improvement"}),o.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[[{key:"goal_alignment",label:"Goal Alignment",score:((H=a.evaluation)==null?void 0:H.goal_alignment_score)||0},{key:"challenge_understanding",label:"Challenge Understanding",score:((Z=a.evaluation)==null?void 0:Z.challenge_understanding_score)||0},{key:"hypothesis_coverage",label:"Hypothesis Coverage",score:((he=a.evaluation)==null?void 0:he.hypothesis_coverage_score)||0},{key:"actionable_insights",label:"Actionable Insights",score:((se=a.evaluation)==null?void 0:se.actionable_insights_score)||0},{key:"verification_reliability",label:"Verification Reliability",score:((V=a.evaluation)==null?void 0:V.verification_reliability_score)||0},{key:"data_sufficiency",label:"Data Sufficiency",score:((ie=a.evaluation)==null?void 0:ie.data_sufficiency_score)||0}].filter(Y=>Y.score<4).sort((Y,ee)=>Y.score-ee.score).slice(0,3).map((Y,ee)=>o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ao,{className:`h-3 w-3 mr-1 ${Y.score<2?"text-red-500":"text-yellow-500"}`}),o.jsxs("span",{children:["Enhance ",Y.label.toLowerCase()]})]},ee)),[{key:"goal_alignment",label:"Goal Alignment",score:((ue=a.evaluation)==null?void 0:ue.goal_alignment_score)||0},{key:"challenge_understanding",label:"Challenge Understanding",score:((we=a.evaluation)==null?void 0:we.challenge_understanding_score)||0},{key:"hypothesis_coverage",label:"Hypothesis Coverage",score:((Se=a.evaluation)==null?void 0:Se.hypothesis_coverage_score)||0},{key:"actionable_insights",label:"Actionable Insights",score:((K=a.evaluation)==null?void 0:K.actionable_insights_score)||0},{key:"verification_reliability",label:"Verification Reliability",score:((Ce=a.evaluation)==null?void 0:Ce.verification_reliability_score)||0},{key:"data_sufficiency",label:"Data Sufficiency",score:((Le=a.evaluation)==null?void 0:Le.data_sufficiency_score)||0}].filter(Y=>Y.score<4).length===0&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(vr,{className:"h-3 w-3 text-green-500 mr-1"}),o.jsx("span",{children:"All metrics performing well"})]})]})]})]})]})})]})})]})})]})]})]})};function Vr(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Vr(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var fht={value:()=>{}};function UT(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new TE(n)}function TE(e){this._=e}function mht(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}TE.prototype=UT.prototype={constructor:TE,on:function(e,t){var n=this._,r=mht(e+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(e=r[a]).type)&&(i=pht(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(i=(e=r[a]).type)n[i]=tH(n[i],e.name,t);else if(t==null)for(i in n)n[i]=tH(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new TE(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function pht(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function tH(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=fht,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var GM="http://www.w3.org/1999/xhtml";const nH={svg:"http://www.w3.org/2000/svg",xhtml:GM,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function HT(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),nH.hasOwnProperty(t)?{space:nH[t],local:e}:e}function ght(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===GM&&t.documentElement.namespaceURI===GM?t.createElement(e):t.createElementNS(n,e)}}function yht(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function sle(e){var t=HT(e);return(t.local?yht:ght)(t)}function xht(){}function M4(e){return e==null?xht:function(){return this.querySelector(e)}}function vht(e){typeof e!="function"&&(e=M4(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,l=r[i]=new Array(s),c,u,d=0;d<s;++d)(c=a[d])&&(u=e.call(c,c.__data__,d,a))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new ys(r,this._parents)}function bht(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function wht(){return[]}function ole(e){return e==null?wht:function(){return this.querySelectorAll(e)}}function Eht(e){return function(){return bht(e.apply(this,arguments))}}function Sht(e){typeof e=="function"?e=Eht(e):e=ole(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var s=t[a],l=s.length,c,u=0;u<l;++u)(c=s[u])&&(r.push(e.call(c,c.__data__,u,s)),i.push(c));return new ys(r,i)}function lle(e){return function(){return this.matches(e)}}function cle(e){return function(t){return t.matches(e)}}var _ht=Array.prototype.find;function Cht(e){return function(){return _ht.call(this.children,e)}}function Tht(){return this.firstElementChild}function Nht(e){return this.select(e==null?Tht:Cht(typeof e=="function"?e:cle(e)))}var kht=Array.prototype.filter;function Aht(){return Array.from(this.children)}function jht(e){return function(){return kht.call(this.children,e)}}function Oht(e){return this.selectAll(e==null?Aht:jht(typeof e=="function"?e:cle(e)))}function Pht(e){typeof e!="function"&&(e=lle(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,l=r[i]=[],c,u=0;u<s;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&l.push(c);return new ys(r,this._parents)}function ule(e){return new Array(e.length)}function Mht(){return new ys(this._enter||this._groups.map(ule),this._parents)}function q_(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}q_.prototype={constructor:q_,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Iht(e){return function(){return e}}function Rht(e,t,n,r,i,a){for(var s=0,l,c=t.length,u=a.length;s<u;++s)(l=t[s])?(l.__data__=a[s],r[s]=l):n[s]=new q_(e,a[s]);for(;s<c;++s)(l=t[s])&&(i[s]=l)}function Dht(e,t,n,r,i,a,s){var l,c,u=new Map,d=t.length,h=a.length,f=new Array(d),m;for(l=0;l<d;++l)(c=t[l])&&(f[l]=m=s.call(c,c.__data__,l,t)+"",u.has(m)?i[l]=c:u.set(m,c));for(l=0;l<h;++l)m=s.call(e,a[l],l,a)+"",(c=u.get(m))?(r[l]=c,c.__data__=a[l],u.delete(m)):n[l]=new q_(e,a[l]);for(l=0;l<d;++l)(c=t[l])&&u.get(f[l])===c&&(i[l]=c)}function Lht(e){return e.__data__}function $ht(e,t){if(!arguments.length)return Array.from(this,Lht);var n=t?Dht:Rht,r=this._parents,i=this._groups;typeof e!="function"&&(e=Iht(e));for(var a=i.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var d=r[u],h=i[u],f=h.length,m=Bht(e.call(d,d&&d.__data__,u,r)),p=m.length,g=l[u]=new Array(p),x=s[u]=new Array(p),y=c[u]=new Array(f);n(d,h,g,x,y,m,t);for(var v=0,b=0,E,_;v<p;++v)if(E=g[v]){for(v>=b&&(b=v+1);!(_=x[b])&&++b<p;);E._next=_||null}}return s=new ys(s,r),s._enter=l,s._exit=c,s}function Bht(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Fht(){return new ys(this._exit||this._groups.map(ule),this._parents)}function zht(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function Uht(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,s=Math.min(i,a),l=new Array(i),c=0;c<s;++c)for(var u=n[c],d=r[c],h=u.length,f=l[c]=new Array(h),m,p=0;p<h;++p)(m=u[p]||d[p])&&(f[p]=m);for(;c<i;++c)l[c]=n[c];return new ys(l,this._parents)}function Hht(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function Vht(e){e||(e=Wht);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],l=s.length,c=i[a]=new Array(l),u,d=0;d<l;++d)(u=s[d])&&(c[d]=u);c.sort(t)}return new ys(i,this._parents).order()}function Wht(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function qht(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Ght(){return Array.from(this)}function Yht(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function Kht(){let e=0;for(const t of this)++e;return e}function Xht(){return!this.node()}function Zht(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,s=i.length,l;a<s;++a)(l=i[a])&&e.call(l,l.__data__,a,i);return this}function Qht(e){return function(){this.removeAttribute(e)}}function Jht(e){return function(){this.removeAttributeNS(e.space,e.local)}}function eft(e,t){return function(){this.setAttribute(e,t)}}function tft(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function nft(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function rft(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ift(e,t){var n=HT(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Jht:Qht:typeof t=="function"?n.local?rft:nft:n.local?tft:eft)(n,t))}function dle(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function aft(e){return function(){this.style.removeProperty(e)}}function sft(e,t,n){return function(){this.style.setProperty(e,t,n)}}function oft(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function lft(e,t,n){return arguments.length>1?this.each((t==null?aft:typeof t=="function"?oft:sft)(e,t,n??"")):ug(this.node(),e)}function ug(e,t){return e.style.getPropertyValue(t)||dle(e).getComputedStyle(e,null).getPropertyValue(t)}function cft(e){return function(){delete this[e]}}function uft(e,t){return function(){this[e]=t}}function dft(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function hft(e,t){return arguments.length>1?this.each((t==null?cft:typeof t=="function"?dft:uft)(e,t)):this.node()[e]}function hle(e){return e.trim().split(/^|\s+/)}function I4(e){return e.classList||new fle(e)}function fle(e){this._node=e,this._names=hle(e.getAttribute("class")||"")}fle.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function mle(e,t){for(var n=I4(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function ple(e,t){for(var n=I4(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function fft(e){return function(){mle(this,e)}}function mft(e){return function(){ple(this,e)}}function pft(e,t){return function(){(t.apply(this,arguments)?mle:ple)(this,e)}}function gft(e,t){var n=hle(e+"");if(arguments.length<2){for(var r=I4(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?pft:t?fft:mft)(n,t))}function yft(){this.textContent=""}function xft(e){return function(){this.textContent=e}}function vft(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function bft(e){return arguments.length?this.each(e==null?yft:(typeof e=="function"?vft:xft)(e)):this.node().textContent}function wft(){this.innerHTML=""}function Eft(e){return function(){this.innerHTML=e}}function Sft(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function _ft(e){return arguments.length?this.each(e==null?wft:(typeof e=="function"?Sft:Eft)(e)):this.node().innerHTML}function Cft(){this.nextSibling&&this.parentNode.appendChild(this)}function Tft(){return this.each(Cft)}function Nft(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function kft(){return this.each(Nft)}function Aft(e){var t=typeof e=="function"?e:sle(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function jft(){return null}function Oft(e,t){var n=typeof e=="function"?e:sle(e),r=t==null?jft:typeof t=="function"?t:M4(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Pft(){var e=this.parentNode;e&&e.removeChild(this)}function Mft(){return this.each(Pft)}function Ift(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Rft(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Dft(e){return this.select(e?Rft:Ift)}function Lft(e){return arguments.length?this.property("__data__",e):this.node().__data__}function $ft(e){return function(t){e.call(this,t,this.__data__)}}function Bft(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Fft(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function zft(e,t,n){return function(){var r=this.__on,i,a=$ft(t);if(r){for(var s=0,l=r.length;s<l;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function Uft(e,t,n){var r=Bft(e+""),i,a=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(i=0,d=l[c];i<a;++i)if((s=r[i]).type===d.type&&s.name===d.name)return d.value}return}for(l=t?zft:Fft,i=0;i<a;++i)this.each(l(r[i],t,n));return this}function gle(e,t,n){var r=dle(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Hft(e,t){return function(){return gle(this,e,t)}}function Vft(e,t){return function(){return gle(this,e,t.apply(this,arguments))}}function Wft(e,t){return this.each((typeof t=="function"?Vft:Hft)(e,t))}function*qft(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var yle=[null];function ys(e,t){this._groups=e,this._parents=t}function s1(){return new ys([[document.documentElement]],yle)}function Gft(){return this}ys.prototype=s1.prototype={constructor:ys,select:vht,selectAll:Sht,selectChild:Nht,selectChildren:Oht,filter:Pht,data:$ht,enter:Mht,exit:Fht,join:zht,merge:Uht,selection:Gft,order:Hht,sort:Vht,call:qht,nodes:Ght,node:Yht,size:Kht,empty:Xht,each:Zht,attr:ift,style:lft,property:hft,classed:gft,text:bft,html:_ft,raise:Tft,lower:kft,append:Aft,insert:Oft,remove:Mft,clone:Dft,datum:Lft,on:Uft,dispatch:Wft,[Symbol.iterator]:qft};function Lt(e){return typeof e=="string"?new ys([[document.querySelector(e)]],[document.documentElement]):new ys([[e]],yle)}function Yft(e){let t;for(;t=e.sourceEvent;)e=t;return e}function xo(e,t){if(e=Yft(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const Kft={passive:!1},Vv={capture:!0,passive:!1};function kA(e){e.stopImmediatePropagation()}function ep(e){e.preventDefault(),e.stopImmediatePropagation()}function xle(e){var t=e.document.documentElement,n=Lt(e).on("dragstart.drag",ep,Vv);"onselectstart"in t?n.on("selectstart.drag",ep,Vv):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function vle(e,t){var n=e.document.documentElement,r=Lt(e).on("dragstart.drag",null);t&&(r.on("click.drag",ep,Vv),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Lw=e=>()=>e;function YM(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:a,x:s,y:l,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}YM.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Xft(e){return!e.ctrlKey&&!e.button}function Zft(){return this.parentNode}function Qft(e,t){return t??{x:e.x,y:e.y}}function Jft(){return navigator.maxTouchPoints||"ontouchstart"in this}function ble(){var e=Xft,t=Zft,n=Qft,r=Jft,i={},a=UT("start","drag","end"),s=0,l,c,u,d,h=0;function f(E){E.on("mousedown.drag",m).filter(r).on("touchstart.drag",x).on("touchmove.drag",y,Kft).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(E,_){if(!(d||!e.call(this,E,_))){var S=b(this,t.call(this,E,_),E,_,"mouse");S&&(Lt(E.view).on("mousemove.drag",p,Vv).on("mouseup.drag",g,Vv),xle(E.view),kA(E),u=!1,l=E.clientX,c=E.clientY,S("start",E))}}function p(E){if(ep(E),!u){var _=E.clientX-l,S=E.clientY-c;u=_*_+S*S>h}i.mouse("drag",E)}function g(E){Lt(E.view).on("mousemove.drag mouseup.drag",null),vle(E.view,u),ep(E),i.mouse("end",E)}function x(E,_){if(e.call(this,E,_)){var S=E.changedTouches,C=t.call(this,E,_),T=S.length,j,k;for(j=0;j<T;++j)(k=b(this,C,E,_,S[j].identifier,S[j]))&&(kA(E),k("start",E,S[j]))}}function y(E){var _=E.changedTouches,S=_.length,C,T;for(C=0;C<S;++C)(T=i[_[C].identifier])&&(ep(E),T("drag",E,_[C]))}function v(E){var _=E.changedTouches,S=_.length,C,T;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),C=0;C<S;++C)(T=i[_[C].identifier])&&(kA(E),T("end",E,_[C]))}function b(E,_,S,C,T,j){var k=a.copy(),O=xo(j||S,_),M,B,N;if((N=n.call(E,new YM("beforestart",{sourceEvent:S,target:f,identifier:T,active:s,x:O[0],y:O[1],dx:0,dy:0,dispatch:k}),C))!=null)return M=N.x-O[0]||0,B=N.y-O[1]||0,function D(P,L,I){var U=O,$;switch(P){case"start":i[T]=D,$=s++;break;case"end":delete i[T],--s;case"drag":O=xo(I||L,_),$=s;break}k.call(P,E,new YM(P,{sourceEvent:L,subject:N,target:f,identifier:T,active:$,x:O[0]+M,y:O[1]+B,dx:O[0]-U[0],dy:O[1]-U[1],dispatch:k}),C)}}return f.filter=function(E){return arguments.length?(e=typeof E=="function"?E:Lw(!!E),f):e},f.container=function(E){return arguments.length?(t=typeof E=="function"?E:Lw(E),f):t},f.subject=function(E){return arguments.length?(n=typeof E=="function"?E:Lw(E),f):n},f.touchable=function(E){return arguments.length?(r=typeof E=="function"?E:Lw(!!E),f):r},f.on=function(){var E=a.on.apply(a,arguments);return E===a?f:E},f.clickDistance=function(E){return arguments.length?(h=(E=+E)*E,f):Math.sqrt(h)},f}var dg=0,Ny=0,ty=0,wle=1e3,G_,ky,Y_=0,of=0,VT=0,Wv=typeof performance=="object"&&performance.now?performance:Date,Ele=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function R4(){return of||(Ele(emt),of=Wv.now()+VT)}function emt(){of=0}function K_(){this._call=this._time=this._next=null}K_.prototype=Sle.prototype={constructor:K_,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?R4():+n)+(t==null?0:+t),!this._next&&ky!==this&&(ky?ky._next=this:G_=this,ky=this),this._call=e,this._time=n,KM()},stop:function(){this._call&&(this._call=null,this._time=1/0,KM())}};function Sle(e,t,n){var r=new K_;return r.restart(e,t,n),r}function tmt(){R4(),++dg;for(var e=G_,t;e;)(t=of-e._time)>=0&&e._call.call(void 0,t),e=e._next;--dg}function rH(){of=(Y_=Wv.now())+VT,dg=Ny=0;try{tmt()}finally{dg=0,rmt(),of=0}}function nmt(){var e=Wv.now(),t=e-Y_;t>wle&&(VT-=t,Y_=e)}function rmt(){for(var e,t=G_,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:G_=n);ky=e,KM(r)}function KM(e){if(!dg){Ny&&(Ny=clearTimeout(Ny));var t=e-of;t>24?(e<1/0&&(Ny=setTimeout(rH,e-Wv.now()-VT)),ty&&(ty=clearInterval(ty))):(ty||(Y_=Wv.now(),ty=setInterval(nmt,wle)),dg=1,Ele(rH))}}function iH(e,t,n){var r=new K_;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var imt=UT("start","end","cancel","interrupt"),amt=[],_le=0,aH=1,XM=2,NE=3,sH=4,ZM=5,kE=6;function WT(e,t,n,r,i,a){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;smt(e,n,{name:t,index:r,group:i,on:imt,tween:amt,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:_le})}function D4(e,t){var n=zo(e,t);if(n.state>_le)throw new Error("too late; already scheduled");return n}function Il(e,t){var n=zo(e,t);if(n.state>NE)throw new Error("too late; already running");return n}function zo(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function smt(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Sle(a,0,n.time);function a(u){n.state=aH,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var d,h,f,m;if(n.state!==aH)return c();for(d in r)if(m=r[d],m.name===n.name){if(m.state===NE)return iH(s);m.state===sH?(m.state=kE,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[d]):+d<t&&(m.state=kE,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[d])}if(iH(function(){n.state===NE&&(n.state=sH,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=XM,n.on.call("start",e,e.__data__,n.index,n.group),n.state===XM){for(n.state=NE,i=new Array(f=n.tween.length),d=0,h=-1;d<f;++d)(m=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=m);i.length=h+1}}function l(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=ZM,1),h=-1,f=i.length;++h<f;)i[h].call(e,d);n.state===ZM&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=kE,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function AE(e,t){var n=e.__transition,r,i,a=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){a=!1;continue}i=r.state>XM&&r.state<ZM,r.state=kE,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}a&&delete e.__transition}}function omt(e){return this.each(function(){AE(this,e)})}function lmt(e,t){var n,r;return function(){var i=Il(this,e),a=i.tween;if(a!==n){r=n=a;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function cmt(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Il(this,e),s=a.tween;if(s!==r){i=(r=s).slice();for(var l={name:t,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===t){i[c]=l;break}c===u&&i.push(l)}a.tween=i}}function umt(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=zo(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?lmt:cmt)(n,e,t))}function L4(e,t,n){var r=e._id;return e.each(function(){var i=Il(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return zo(i,r).value[t]}}function Cle(e,t){var n;return(typeof t=="number"?bo:t instanceof ef?c_:(n=ef(t))?(t=n,c_):Pae)(e,t)}function dmt(e){return function(){this.removeAttribute(e)}}function hmt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fmt(e,t,n){var r,i=n+"",a;return function(){var s=this.getAttribute(e);return s===i?null:s===r?a:a=t(r=s,n)}}function mmt(e,t,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?a:a=t(r=s,n)}}function pmt(e,t,n){var r,i,a;return function(){var s,l=n(this),c;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=l+"",s===c?null:s===r&&c===i?a:(i=c,a=t(r=s,l)))}}function gmt(e,t,n){var r,i,a;return function(){var s,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=l+"",s===c?null:s===r&&c===i?a:(i=c,a=t(r=s,l)))}}function ymt(e,t){var n=HT(e),r=n==="transform"?qQe:Cle;return this.attrTween(e,typeof t=="function"?(n.local?gmt:pmt)(n,r,L4(this,"attr."+e,t)):t==null?(n.local?hmt:dmt)(n):(n.local?mmt:fmt)(n,r,t))}function xmt(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function vmt(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function bmt(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&vmt(e,a)),n}return i._value=t,i}function wmt(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&xmt(e,a)),n}return i._value=t,i}function Emt(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=HT(e);return this.tween(n,(r.local?bmt:wmt)(r,t))}function Smt(e,t){return function(){D4(this,e).delay=+t.apply(this,arguments)}}function _mt(e,t){return t=+t,function(){D4(this,e).delay=t}}function Cmt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Smt:_mt)(t,e)):zo(this.node(),t).delay}function Tmt(e,t){return function(){Il(this,e).duration=+t.apply(this,arguments)}}function Nmt(e,t){return t=+t,function(){Il(this,e).duration=t}}function kmt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Tmt:Nmt)(t,e)):zo(this.node(),t).duration}function Amt(e,t){if(typeof t!="function")throw new Error;return function(){Il(this,e).ease=t}}function jmt(e){var t=this._id;return arguments.length?this.each(Amt(t,e)):zo(this.node(),t).ease}function Omt(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Il(this,e).ease=n}}function Pmt(e){if(typeof e!="function")throw new Error;return this.each(Omt(this._id,e))}function Mmt(e){typeof e!="function"&&(e=lle(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,l=r[i]=[],c,u=0;u<s;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&l.push(c);return new jc(r,this._parents,this._name,this._id)}function Imt(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),s=new Array(r),l=0;l<a;++l)for(var c=t[l],u=n[l],d=c.length,h=s[l]=new Array(d),f,m=0;m<d;++m)(f=c[m]||u[m])&&(h[m]=f);for(;l<r;++l)s[l]=t[l];return new jc(s,this._parents,this._name,this._id)}function Rmt(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Dmt(e,t,n){var r,i,a=Rmt(t)?D4:Il;return function(){var s=a(this,e),l=s.on;l!==r&&(i=(r=l).copy()).on(t,n),s.on=i}}function Lmt(e,t){var n=this._id;return arguments.length<2?zo(this.node(),n).on.on(e):this.each(Dmt(n,e,t))}function $mt(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Bmt(){return this.on("end.remove",$mt(this._id))}function Fmt(e){var t=this._name,n=this._id;typeof e!="function"&&(e=M4(e));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var l=r[s],c=l.length,u=a[s]=new Array(c),d,h,f=0;f<c;++f)(d=l[f])&&(h=e.call(d,d.__data__,f,l))&&("__data__"in d&&(h.__data__=d.__data__),u[f]=h,WT(u[f],t,n,f,u,zo(d,n)));return new jc(a,this._parents,t,n)}function zmt(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ole(e));for(var r=this._groups,i=r.length,a=[],s=[],l=0;l<i;++l)for(var c=r[l],u=c.length,d,h=0;h<u;++h)if(d=c[h]){for(var f=e.call(d,d.__data__,h,c),m,p=zo(d,n),g=0,x=f.length;g<x;++g)(m=f[g])&&WT(m,t,n,g,f,p);a.push(f),s.push(d)}return new jc(a,s,t,n)}var Umt=s1.prototype.constructor;function Hmt(){return new Umt(this._groups,this._parents)}function Vmt(e,t){var n,r,i;return function(){var a=ug(this,e),s=(this.style.removeProperty(e),ug(this,e));return a===s?null:a===n&&s===r?i:i=t(n=a,r=s)}}function Tle(e){return function(){this.style.removeProperty(e)}}function Wmt(e,t,n){var r,i=n+"",a;return function(){var s=ug(this,e);return s===i?null:s===r?a:a=t(r=s,n)}}function qmt(e,t,n){var r,i,a;return function(){var s=ug(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),ug(this,e))),s===c?null:s===r&&c===i?a:(i=c,a=t(r=s,l))}}function Gmt(e,t){var n,r,i,a="style."+t,s="end."+a,l;return function(){var c=Il(this,e),u=c.on,d=c.value[a]==null?l||(l=Tle(t)):void 0;(u!==n||i!==d)&&(r=(n=u).copy()).on(s,i=d),c.on=r}}function Ymt(e,t,n){var r=(e+="")=="transform"?WQe:Cle;return t==null?this.styleTween(e,Vmt(e,r)).on("end.style."+e,Tle(e)):typeof t=="function"?this.styleTween(e,qmt(e,r,L4(this,"style."+e,t))).each(Gmt(this._id,e)):this.styleTween(e,Wmt(e,r,t),n).on("end.style."+e,null)}function Kmt(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Xmt(e,t,n){var r,i;function a(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&Kmt(e,s,n)),r}return a._value=t,a}function Zmt(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Xmt(e,t,n??""))}function Qmt(e){return function(){this.textContent=e}}function Jmt(e){return function(){var t=e(this);this.textContent=t??""}}function ept(e){return this.tween("text",typeof e=="function"?Jmt(L4(this,"text",e)):Qmt(e==null?"":e+""))}function tpt(e){return function(t){this.textContent=e.call(this,t)}}function npt(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&tpt(i)),t}return r._value=e,r}function rpt(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,npt(e))}function ipt(){for(var e=this._name,t=this._id,n=Nle(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],l=s.length,c,u=0;u<l;++u)if(c=s[u]){var d=zo(c,t);WT(c,e,n,u,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new jc(r,this._parents,e,n)}function apt(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var l={value:s},c={value:function(){--i===0&&a()}};n.each(function(){var u=Il(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),i===0&&a()})}var spt=0;function jc(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Nle(){return++spt}var zl=s1.prototype;jc.prototype={constructor:jc,select:Fmt,selectAll:zmt,selectChild:zl.selectChild,selectChildren:zl.selectChildren,filter:Mmt,merge:Imt,selection:Hmt,transition:ipt,call:zl.call,nodes:zl.nodes,node:zl.node,size:zl.size,empty:zl.empty,each:zl.each,on:Lmt,attr:ymt,attrTween:Emt,style:Ymt,styleTween:Zmt,text:ept,textTween:rpt,remove:Bmt,tween:umt,delay:Cmt,duration:kmt,ease:jmt,easeVarying:Pmt,end:apt,[Symbol.iterator]:zl[Symbol.iterator]};function opt(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var lpt={time:null,delay:0,duration:250,ease:opt};function cpt(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function upt(e){var t,n;e instanceof jc?(t=e._id,e=e._name):(t=Nle(),(n=lpt).time=R4(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],l=s.length,c,u=0;u<l;++u)(c=s[u])&&WT(c,e,t,u,s,n||cpt(c,t));return new jc(r,this._parents,e,t)}s1.prototype.interrupt=omt;s1.prototype.transition=upt;const $w=e=>()=>e;function dpt(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function cc(e,t,n){this.k=e,this.x=t,this.y=n}cc.prototype={constructor:cc,scale:function(e){return e===1?this:new cc(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new cc(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var qT=new cc(1,0,0);kle.prototype=cc.prototype;function kle(e){for(;!e.__zoom;)if(!(e=e.parentNode))return qT;return e.__zoom}function AA(e){e.stopImmediatePropagation()}function ny(e){e.preventDefault(),e.stopImmediatePropagation()}function hpt(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function fpt(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function oH(){return this.__zoom||qT}function mpt(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function ppt(){return navigator.maxTouchPoints||"ontouchstart"in this}function gpt(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function Ale(){var e=hpt,t=fpt,n=gpt,r=mpt,i=ppt,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,c=XQe,u=UT("start","zoom","end"),d,h,f,m=500,p=150,g=0,x=10;function y(N){N.property("__zoom",oH).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",j).on("dblclick.zoom",k).filter(i).on("touchstart.zoom",O).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(N,D,P,L){var I=N.selection?N.selection():N;I.property("__zoom",oH),N!==I?_(N,D,P,L):I.interrupt().each(function(){S(this,arguments).event(L).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},y.scaleBy=function(N,D,P,L){y.scaleTo(N,function(){var I=this.__zoom.k,U=typeof D=="function"?D.apply(this,arguments):D;return I*U},P,L)},y.scaleTo=function(N,D,P,L){y.transform(N,function(){var I=t.apply(this,arguments),U=this.__zoom,$=P==null?E(I):typeof P=="function"?P.apply(this,arguments):P,W=U.invert($),z=typeof D=="function"?D.apply(this,arguments):D;return n(b(v(U,z),$,W),I,s)},P,L)},y.translateBy=function(N,D,P,L){y.transform(N,function(){return n(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof P=="function"?P.apply(this,arguments):P),t.apply(this,arguments),s)},null,L)},y.translateTo=function(N,D,P,L,I){y.transform(N,function(){var U=t.apply(this,arguments),$=this.__zoom,W=L==null?E(U):typeof L=="function"?L.apply(this,arguments):L;return n(qT.translate(W[0],W[1]).scale($.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof P=="function"?-P.apply(this,arguments):-P),U,s)},L,I)};function v(N,D){return D=Math.max(a[0],Math.min(a[1],D)),D===N.k?N:new cc(D,N.x,N.y)}function b(N,D,P){var L=D[0]-P[0]*N.k,I=D[1]-P[1]*N.k;return L===N.x&&I===N.y?N:new cc(N.k,L,I)}function E(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function _(N,D,P,L){N.on("start.zoom",function(){S(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(L).end()}).tween("zoom",function(){var I=this,U=arguments,$=S(I,U).event(L),W=t.apply(I,U),z=P==null?E(W):typeof P=="function"?P.apply(I,U):P,R=Math.max(W[1][0]-W[0][0],W[1][1]-W[0][1]),G=I.__zoom,Q=typeof D=="function"?D.apply(I,U):D,oe=c(G.invert(z).concat(R/G.k),Q.invert(z).concat(R/Q.k));return function(re){if(re===1)re=Q;else{var pe=oe(re),ce=R/pe[2];re=new cc(ce,z[0]-pe[0]*ce,z[1]-pe[1]*ce)}$.zoom(null,re)}})}function S(N,D,P){return!P&&N.__zooming||new C(N,D)}function C(N,D){this.that=N,this.args=D,this.active=0,this.sourceEvent=null,this.extent=t.apply(N,D),this.taps=0}C.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,D){return this.mouse&&N!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var D=Lt(this.that).datum();u.call(N,this.that,new dpt(N,{sourceEvent:this.sourceEvent,target:y,type:N,transform:this.that.__zoom,dispatch:u}),D)}};function T(N,...D){if(!e.apply(this,arguments))return;var P=S(this,D).event(N),L=this.__zoom,I=Math.max(a[0],Math.min(a[1],L.k*Math.pow(2,r.apply(this,arguments)))),U=xo(N);if(P.wheel)(P.mouse[0][0]!==U[0]||P.mouse[0][1]!==U[1])&&(P.mouse[1]=L.invert(P.mouse[0]=U)),clearTimeout(P.wheel);else{if(L.k===I)return;P.mouse=[U,L.invert(U)],AE(this),P.start()}ny(N),P.wheel=setTimeout($,p),P.zoom("mouse",n(b(v(L,I),P.mouse[0],P.mouse[1]),P.extent,s));function $(){P.wheel=null,P.end()}}function j(N,...D){if(f||!e.apply(this,arguments))return;var P=N.currentTarget,L=S(this,D,!0).event(N),I=Lt(N.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",R,!0),U=xo(N,P),$=N.clientX,W=N.clientY;xle(N.view),AA(N),L.mouse=[U,this.__zoom.invert(U)],AE(this),L.start();function z(G){if(ny(G),!L.moved){var Q=G.clientX-$,oe=G.clientY-W;L.moved=Q*Q+oe*oe>g}L.event(G).zoom("mouse",n(b(L.that.__zoom,L.mouse[0]=xo(G,P),L.mouse[1]),L.extent,s))}function R(G){I.on("mousemove.zoom mouseup.zoom",null),vle(G.view,L.moved),ny(G),L.event(G).end()}}function k(N,...D){if(e.apply(this,arguments)){var P=this.__zoom,L=xo(N.changedTouches?N.changedTouches[0]:N,this),I=P.invert(L),U=P.k*(N.shiftKey?.5:2),$=n(b(v(P,U),L,I),t.apply(this,D),s);ny(N),l>0?Lt(this).transition().duration(l).call(_,$,L,N):Lt(this).call(y.transform,$,L,N)}}function O(N,...D){if(e.apply(this,arguments)){var P=N.touches,L=P.length,I=S(this,D,N.changedTouches.length===L).event(N),U,$,W,z;for(AA(N),$=0;$<L;++$)W=P[$],z=xo(W,this),z=[z,this.__zoom.invert(z),W.identifier],I.touch0?!I.touch1&&I.touch0[2]!==z[2]&&(I.touch1=z,I.taps=0):(I.touch0=z,U=!0,I.taps=1+!!d);d&&(d=clearTimeout(d)),U&&(I.taps<2&&(h=z[0],d=setTimeout(function(){d=null},m)),AE(this),I.start())}}function M(N,...D){if(this.__zooming){var P=S(this,D).event(N),L=N.changedTouches,I=L.length,U,$,W,z;for(ny(N),U=0;U<I;++U)$=L[U],W=xo($,this),P.touch0&&P.touch0[2]===$.identifier?P.touch0[0]=W:P.touch1&&P.touch1[2]===$.identifier&&(P.touch1[0]=W);if($=P.that.__zoom,P.touch1){var R=P.touch0[0],G=P.touch0[1],Q=P.touch1[0],oe=P.touch1[1],re=(re=Q[0]-R[0])*re+(re=Q[1]-R[1])*re,pe=(pe=oe[0]-G[0])*pe+(pe=oe[1]-G[1])*pe;$=v($,Math.sqrt(re/pe)),W=[(R[0]+Q[0])/2,(R[1]+Q[1])/2],z=[(G[0]+oe[0])/2,(G[1]+oe[1])/2]}else if(P.touch0)W=P.touch0[0],z=P.touch0[1];else return;P.zoom("touch",n(b($,W,z),P.extent,s))}}function B(N,...D){if(this.__zooming){var P=S(this,D).event(N),L=N.changedTouches,I=L.length,U,$;for(AA(N),f&&clearTimeout(f),f=setTimeout(function(){f=null},m),U=0;U<I;++U)$=L[U],P.touch0&&P.touch0[2]===$.identifier?delete P.touch0:P.touch1&&P.touch1[2]===$.identifier&&delete P.touch1;if(P.touch1&&!P.touch0&&(P.touch0=P.touch1,delete P.touch1),P.touch0)P.touch0[1]=this.__zoom.invert(P.touch0[0]);else if(P.end(),P.taps===2&&($=xo($,this),Math.hypot(h[0]-$[0],h[1]-$[1])<x)){var W=Lt(this).on("dblclick.zoom");W&&W.apply(this,arguments)}}}return y.wheelDelta=function(N){return arguments.length?(r=typeof N=="function"?N:$w(+N),y):r},y.filter=function(N){return arguments.length?(e=typeof N=="function"?N:$w(!!N),y):e},y.touchable=function(N){return arguments.length?(i=typeof N=="function"?N:$w(!!N),y):i},y.extent=function(N){return arguments.length?(t=typeof N=="function"?N:$w([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),y):t},y.scaleExtent=function(N){return arguments.length?(a[0]=+N[0],a[1]=+N[1],y):[a[0],a[1]]},y.translateExtent=function(N){return arguments.length?(s[0][0]=+N[0][0],s[1][0]=+N[1][0],s[0][1]=+N[0][1],s[1][1]=+N[1][1],y):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},y.constrain=function(N){return arguments.length?(n=N,y):n},y.duration=function(N){return arguments.length?(l=+N,y):l},y.interpolate=function(N){return arguments.length?(c=N,y):c},y.on=function(){var N=u.on.apply(u,arguments);return N===u?y:N},y.clickDistance=function(N){return arguments.length?(g=(N=+N)*N,y):Math.sqrt(g)},y.tapDistance=function(N){return arguments.length?(x=+N,y):x},y}const _l={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},qv=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],jle=["Enter"," ","Escape"];var hg;(function(e){e.Strict="strict",e.Loose="loose"})(hg||(hg={}));var Oh;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Oh||(Oh={}));var Gv;(function(e){e.Partial="partial",e.Full="full"})(Gv||(Gv={}));const Ole={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var bu;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(bu||(bu={}));var X_;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(X_||(X_={}));var Et;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Et||(Et={}));const lH={[Et.Left]:Et.Right,[Et.Right]:Et.Left,[Et.Top]:Et.Bottom,[Et.Bottom]:Et.Top};function Ple(e){return e===null?null:e?"valid":"invalid"}const Mle=e=>"id"in e&&"source"in e&&"target"in e,ypt=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),$4=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),o1=(e,t=[0,0])=>{const{width:n,height:r}=zc(e),i=e.origin??t,a=n*i[0],s=r*i[1];return{x:e.position.x-a,y:e.position.y-s}},xpt=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const a=typeof i=="string";let s=!t.nodeLookup&&!a?i:void 0;t.nodeLookup&&(s=a?t.nodeLookup.get(i):$4(i)?i:t.nodeLookup.get(i.id));const l=s?Z_(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return GT(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return YT(n)},l1=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const i=Z_(r);n=GT(n,i)}}),YT(n)},Ile=(e,t,[n,r,i]=[0,0,1],a=!1,s=!1)=>{const l={...c1(t,[n,r,i]),width:t.width/i,height:t.height/i},c=[];for(const u of e.values()){const{measured:d,selectable:h=!0,hidden:f=!1}=u;if(s&&!h||f)continue;const m=d.width??u.width??u.initialWidth??null,p=d.height??u.height??u.initialHeight??null,g=Yv(l,mg(u)),x=(m??0)*(p??0),y=a&&g>0;(!u.internals.handleBounds||y||g>=x||u.dragging)&&c.push(u)}return c},vpt=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function bpt(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function wpt({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:a},s){if(e.size===0)return Promise.resolve(!0);const l=bpt(e,s),c=l1(l),u=B4(c,t,n,(s==null?void 0:s.minZoom)??i,(s==null?void 0:s.maxZoom)??a,(s==null?void 0:s.padding)??.1);return await r.setViewport(u,{duration:s==null?void 0:s.duration}),Promise.resolve(!0)}function Rle({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:a}){const s=n.get(e),l=s.parentId?n.get(s.parentId):void 0,{x:c,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},d=s.origin??r;let h=i;if(s.extent==="parent"&&!s.expandParent)if(!l)a==null||a("005",_l.error005());else{const m=l.measured.width,p=l.measured.height;m&&p&&(h=[[c,u],[c+m,u+p]])}else l&&pg(s.extent)&&(h=[[s.extent[0][0]+c,s.extent[0][1]+u],[s.extent[1][0]+c,s.extent[1][1]+u]]);const f=pg(h)?lf(t,h,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(a==null||a("015",_l.error015())),{position:{x:f.x-c+(s.measured.width??0)*d[0],y:f.y-u+(s.measured.height??0)*d[1]},positionAbsolute:f}}async function Ept({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const a=new Set(e.map(f=>f.id)),s=[];for(const f of n){if(f.deletable===!1)continue;const m=a.has(f.id),p=!m&&f.parentId&&s.find(g=>g.id===f.parentId);(m||p)&&s.push(f)}const l=new Set(t.map(f=>f.id)),c=r.filter(f=>f.deletable!==!1),d=vpt(s,c);for(const f of c)l.has(f.id)&&!d.find(p=>p.id===f.id)&&d.push(f);if(!i)return{edges:d,nodes:s};const h=await i({nodes:s,edges:d});return typeof h=="boolean"?h?{edges:d,nodes:s}:{edges:[],nodes:[]}:h}const fg=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),lf=(e={x:0,y:0},t,n)=>({x:fg(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:fg(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Dle(e,t,n){const{width:r,height:i}=zc(n),{x:a,y:s}=n.internals.positionAbsolute;return lf(e,[[a,s],[a+r,s+i]],t)}const cH=(e,t,n)=>e<t?fg(Math.abs(e-t),1,t)/t:e>n?-fg(Math.abs(e-n),1,t)/t:0,Lle=(e,t,n=15,r=40)=>{const i=cH(e.x,r,t.width-r)*n,a=cH(e.y,r,t.height-r)*n;return[i,a]},GT=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),QM=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),YT=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),mg=(e,t=[0,0])=>{var i,a;const{x:n,y:r}=$4(e)?e.internals.positionAbsolute:o1(e,t);return{x:n,y:r,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((a=e.measured)==null?void 0:a.height)??e.height??e.initialHeight??0}},Z_=(e,t=[0,0])=>{var i,a;const{x:n,y:r}=$4(e)?e.internals.positionAbsolute:o1(e,t);return{x:n,y:r,x2:n+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:r+(((a=e.measured)==null?void 0:a.height)??e.height??e.initialHeight??0)}},$le=(e,t)=>YT(GT(QM(e),QM(t))),Yv=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},uH=e=>To(e.width)&&To(e.height)&&To(e.x)&&To(e.y),To=e=>!isNaN(e)&&isFinite(e),Spt=(e,t)=>{},KT=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),c1=({x:e,y:t},[n,r,i],a=!1,s=[1,1])=>{const l={x:(e-n)/i,y:(t-r)/i};return a?KT(l,s):l},Q_=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function tm(e,t){if(typeof e=="number")return Math.floor(t-t/(1+e));if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function _pt(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=tm(e,n),i=tm(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=tm(e.top??e.y??0,n),i=tm(e.bottom??e.y??0,n),a=tm(e.left??e.x??0,t),s=tm(e.right??e.x??0,t);return{top:r,right:s,bottom:i,left:a,x:a+s,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Cpt(e,t,n,r,i,a){const{x:s,y:l}=Q_(e,[t,n,r]),{x:c,y:u}=Q_({x:e.x+e.width,y:e.y+e.height},[t,n,r]),d=i-c,h=a-u;return{left:Math.floor(s),top:Math.floor(l),right:Math.floor(d),bottom:Math.floor(h)}}const B4=(e,t,n,r,i,a)=>{const s=_pt(a,t,n),l=(t-s.x)/e.width,c=(n-s.y)/e.height,u=Math.min(l,c),d=fg(u,r,i),h=e.x+e.width/2,f=e.y+e.height/2,m=t/2-h*d,p=n/2-f*d,g=Cpt(e,m,p,d,t,n),x={left:Math.min(g.left-s.left,0),top:Math.min(g.top-s.top,0),right:Math.min(g.right-s.right,0),bottom:Math.min(g.bottom-s.bottom,0)};return{x:m-x.left+x.right,y:p-x.top+x.bottom,zoom:d}},J_=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function pg(e){return e!==void 0&&e!=="parent"}function zc(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function Ble(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function Fle(e,t={width:0,height:0},n,r,i){const a={...e},s=r.get(n);if(s){const l=s.origin||i;a.x+=s.internals.positionAbsolute.x-(t.width??0)*l[0],a.y+=s.internals.positionAbsolute.y-(t.height??0)*l[1]}return a}function dH(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function hx(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:a,y:s}=yc(e),l=c1({x:a-((i==null?void 0:i.left)??0),y:s-((i==null?void 0:i.top)??0)},r),{x:c,y:u}=n?KT(l,t):l;return{xSnapped:c,ySnapped:u,...l}}const F4=e=>({width:e.offsetWidth,height:e.offsetHeight}),zle=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Tpt=["INPUT","SELECT","TEXTAREA"];function Ule(e){var r,i;const t=((i=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:Tpt.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Hle=e=>"clientX"in e,yc=(e,t)=>{var a,s;const n=Hle(e),r=n?e.clientX:(a=e.touches)==null?void 0:a[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},hH=(e,t,n,r,i)=>{const a=t.querySelectorAll(`.${e}`);return!a||!a.length?null:Array.from(a).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:i,position:s.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...F4(s)}})};function Vle({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:a,targetControlX:s,targetControlY:l}){const c=e*.125+i*.375+s*.375+n*.125,u=t*.125+a*.375+l*.375+r*.125,d=Math.abs(c-e),h=Math.abs(u-t);return[c,u,d,h]}function Bw(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function fH({pos:e,x1:t,y1:n,x2:r,y2:i,c:a}){switch(e){case Et.Left:return[t-Bw(t-r,a),n];case Et.Right:return[t+Bw(r-t,a),n];case Et.Top:return[t,n-Bw(n-i,a)];case Et.Bottom:return[t,n+Bw(i-n,a)]}}function Wle({sourceX:e,sourceY:t,sourcePosition:n=Et.Bottom,targetX:r,targetY:i,targetPosition:a=Et.Top,curvature:s=.25}){const[l,c]=fH({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[u,d]=fH({pos:a,x1:r,y1:i,x2:e,y2:t,c:s}),[h,f,m,p]=Vle({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${l},${c} ${u},${d} ${r},${i}`,h,f,m,p]}function qle({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,a=n<e?n+i:n-i,s=Math.abs(r-t)/2,l=r<t?r+s:r-s;return[a,l,i,s]}function Npt({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const a=n||t.selected||e.selected,s=Math.max(e.internals.z||0,t.internals.z||0,1e3);return r+(a?s:0)}function kpt({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const a=GT(Z_(e),Z_(t));a.x===a.x2&&(a.x2+=1),a.y===a.y2&&(a.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Yv(s,YT(a))>0}const Apt=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,jpt=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Opt=(e,t)=>{if(!e.source||!e.target)return t;let n;return Mle(e)?n={...e}:n={...e,id:Apt(e)},jpt(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function Gle({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,a,s,l]=qle({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,a,s,l]}const mH={[Et.Left]:{x:-1,y:0},[Et.Right]:{x:1,y:0},[Et.Top]:{x:0,y:-1},[Et.Bottom]:{x:0,y:1}},Ppt=({source:e,sourcePosition:t=Et.Bottom,target:n})=>t===Et.Left||t===Et.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},pH=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Mpt({source:e,sourcePosition:t=Et.Bottom,target:n,targetPosition:r=Et.Top,center:i,offset:a}){const s=mH[t],l=mH[r],c={x:e.x+s.x*a,y:e.y+s.y*a},u={x:n.x+l.x*a,y:n.y+l.y*a},d=Ppt({source:c,sourcePosition:t,target:u}),h=d.x!==0?"x":"y",f=d[h];let m=[],p,g;const x={x:0,y:0},y={x:0,y:0},[v,b,E,_]=qle({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[h]*l[h]===-1){p=i.x??v,g=i.y??b;const C=[{x:p,y:c.y},{x:p,y:u.y}],T=[{x:c.x,y:g},{x:u.x,y:g}];s[h]===f?m=h==="x"?C:T:m=h==="x"?T:C}else{const C=[{x:c.x,y:u.y}],T=[{x:u.x,y:c.y}];if(h==="x"?m=s.x===f?T:C:m=s.y===f?C:T,t===r){const B=Math.abs(e[h]-n[h]);if(B<=a){const N=Math.min(a-1,a-B);s[h]===f?x[h]=(c[h]>e[h]?-1:1)*N:y[h]=(u[h]>n[h]?-1:1)*N}}if(t!==r){const B=h==="x"?"y":"x",N=s[h]===l[B],D=c[B]>u[B],P=c[B]<u[B];(s[h]===1&&(!N&&D||N&&P)||s[h]!==1&&(!N&&P||N&&D))&&(m=h==="x"?C:T)}const j={x:c.x+x.x,y:c.y+x.y},k={x:u.x+y.x,y:u.y+y.y},O=Math.max(Math.abs(j.x-m[0].x),Math.abs(k.x-m[0].x)),M=Math.max(Math.abs(j.y-m[0].y),Math.abs(k.y-m[0].y));O>=M?(p=(j.x+k.x)/2,g=m[0].y):(p=m[0].x,g=(j.y+k.y)/2)}return[[e,{x:c.x+x.x,y:c.y+x.y},...m,{x:u.x+y.x,y:u.y+y.y},n],p,g,E,_]}function Ipt(e,t,n,r){const i=Math.min(pH(e,t)/2,pH(t,n)/2,r),{x:a,y:s}=t;if(e.x===a&&a===n.x||e.y===s&&s===n.y)return`L${a} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${a+i*u},${s}Q ${a},${s} ${a},${s+i*d}`}const l=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${a},${s+i*c}Q ${a},${s} ${a+i*l},${s}`}function JM({sourceX:e,sourceY:t,sourcePosition:n=Et.Bottom,targetX:r,targetY:i,targetPosition:a=Et.Top,borderRadius:s=5,centerX:l,centerY:c,offset:u=20}){const[d,h,f,m,p]=Mpt({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:a,center:{x:l,y:c},offset:u});return[d.reduce((x,y,v)=>{let b="";return v>0&&v<d.length-1?b=Ipt(d[v-1],y,d[v+1],s):b=`${v===0?"M":"L"}${y.x} ${y.y}`,x+=b,x},""),h,f,m,p]}function gH(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Rpt(e){var h;const{sourceNode:t,targetNode:n}=e;if(!gH(t)||!gH(n))return null;const r=t.internals.handleBounds||yH(t.handles),i=n.internals.handleBounds||yH(n.handles),a=xH((r==null?void 0:r.source)??[],e.sourceHandle),s=xH(e.connectionMode===hg.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!a||!s)return(h=e.onError)==null||h.call(e,"008",_l.error008(a?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(a==null?void 0:a.position)||Et.Bottom,c=(s==null?void 0:s.position)||Et.Top,u=Kv(t,a,l),d=Kv(n,s,c);return{sourceX:u.x,sourceY:u.y,targetX:d.x,targetY:d.y,sourcePosition:l,targetPosition:c}}function yH(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Kv(e,t,n=Et.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,a=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:l}=t??zc(e);if(r)return{x:i+s/2,y:a+l/2};switch((t==null?void 0:t.position)??n){case Et.Top:return{x:i+s/2,y:a};case Et.Right:return{x:i+s,y:a+l/2};case Et.Bottom:return{x:i+s/2,y:a+l};case Et.Left:return{x:i,y:a+l/2}}}function xH(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function eI(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function Dpt(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const a=new Set;return e.reduce((s,l)=>([l.markerStart||r,l.markerEnd||i].forEach(c=>{if(c&&typeof c=="object"){const u=eI(c,t);a.has(u)||(s.push({id:u,color:c.color||n,...c}),a.add(u))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))}const z4={nodeOrigin:[0,0],nodeExtent:qv,elevateNodesOnSelect:!0,defaults:{}},Lpt={...z4,checkEquality:!0};function U4(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function $pt(e,t,n){const r=U4(z4,n);for(const i of e.values())if(i.parentId)H4(i,e,t,r);else{const a=o1(i,r.nodeOrigin),s=pg(i.extent)?i.extent:r.nodeExtent,l=lf(a,s,zc(i));i.internals.positionAbsolute=l}}function tI(e,t,n,r){var c,u;const i=U4(Lpt,r);let a=!0;const s=new Map(t),l=i!=null&&i.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const d of e){let h=s.get(d.id);if(i.checkEquality&&d===(h==null?void 0:h.internals.userNode))t.set(d.id,h);else{const f=o1(d,i.nodeOrigin),m=pg(d.extent)?d.extent:i.nodeExtent,p=lf(f,m,zc(d));h={...i.defaults,...d,measured:{width:(c=d.measured)==null?void 0:c.width,height:(u=d.measured)==null?void 0:u.height},internals:{positionAbsolute:p,handleBounds:d.measured?h==null?void 0:h.internals.handleBounds:void 0,z:Yle(d,l),userNode:d}},t.set(d.id,h)}(!h.measured||!h.measured.width||!h.measured.height)&&!h.hidden&&(a=!1),d.parentId&&H4(h,t,n,r)}return a}function Bpt(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function H4(e,t,n,r){const{elevateNodesOnSelect:i,nodeOrigin:a,nodeExtent:s}=U4(z4,r),l=e.parentId,c=t.get(l);if(!c){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Bpt(e,n);const u=i?1e3:0,{x:d,y:h,z:f}=Fpt(e,c,a,s,u),{positionAbsolute:m}=e.internals,p=d!==m.x||h!==m.y;(p||f!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:p?{x:d,y:h}:m,z:f}})}function Yle(e,t){return(To(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function Fpt(e,t,n,r,i){const{x:a,y:s}=t.internals.positionAbsolute,l=zc(e),c=o1(e,n),u=pg(e.extent)?lf(c,e.extent,l):c;let d=lf({x:a+u.x,y:s+u.y},r,l);e.extent==="parent"&&(d=Dle(d,l,t));const h=Yle(e,i),f=t.internals.z??0;return{x:d.x,y:d.y,z:f>h?f:h}}function V4(e,t,n,r=[0,0]){var s;const i=[],a=new Map;for(const l of e){const c=t.get(l.parentId);if(!c)continue;const u=((s=a.get(l.parentId))==null?void 0:s.expandedRect)??mg(c),d=$le(u,l.rect);a.set(l.parentId,{expandedRect:d,parent:c})}return a.size>0&&a.forEach(({expandedRect:l,parent:c},u)=>{var b;const d=c.internals.positionAbsolute,h=zc(c),f=c.origin??r,m=l.x<d.x?Math.round(Math.abs(d.x-l.x)):0,p=l.y<d.y?Math.round(Math.abs(d.y-l.y)):0,g=Math.max(h.width,Math.round(l.width)),x=Math.max(h.height,Math.round(l.height)),y=(g-h.width)*f[0],v=(x-h.height)*f[1];(m>0||p>0||y||v)&&(i.push({id:u,type:"position",position:{x:c.position.x-m+y,y:c.position.y-p+v}}),(b=n.get(u))==null||b.forEach(E=>{e.some(_=>_.id===E.id)||i.push({id:E.id,type:"position",position:{x:E.position.x+m,y:E.position.y+p}})})),(h.width<l.width||h.height<l.height||m||p)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:g+(m?f[0]*m-y:0),height:x+(p?f[1]*p-v:0)}})}),i}function zpt(e,t,n,r,i,a){const s=r==null?void 0:r.querySelector(".xyflow__viewport");let l=!1;if(!s)return{changes:[],updatedInternals:l};const c=[],u=window.getComputedStyle(s),{m22:d}=new window.DOMMatrixReadOnly(u.transform),h=[];for(const f of e.values()){const m=t.get(f.id);if(!m)continue;if(m.hidden){t.set(m.id,{...m,internals:{...m.internals,handleBounds:void 0}}),l=!0;continue}const p=F4(f.nodeElement),g=m.measured.width!==p.width||m.measured.height!==p.height;if(!!(p.width&&p.height&&(g||!m.internals.handleBounds||f.force))){const y=f.nodeElement.getBoundingClientRect(),v=pg(m.extent)?m.extent:a;let{positionAbsolute:b}=m.internals;m.parentId&&m.extent==="parent"?b=Dle(b,p,t.get(m.parentId)):v&&(b=lf(b,v,p));const E={...m,measured:p,internals:{...m.internals,positionAbsolute:b,handleBounds:{source:hH("source",f.nodeElement,y,d,m.id),target:hH("target",f.nodeElement,y,d,m.id)}}};t.set(m.id,E),m.parentId&&H4(E,t,n,{nodeOrigin:i}),l=!0,g&&(c.push({id:m.id,type:"dimensions",dimensions:p}),m.expandParent&&m.parentId&&h.push({id:m.id,parentId:m.parentId,rect:mg(E,i)}))}}if(h.length>0){const f=V4(h,t,n,i);c.push(...f)}return{changes:c,updatedInternals:l}}async function Upt({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:a}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,a]],r),l=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(l)}function vH(e,t,n,r,i,a){let s=i;const l=r.get(s)||new Map;r.set(s,l.set(n,t)),s=`${i}-${e}`;const c=r.get(s)||new Map;if(r.set(s,c.set(n,t)),a){s=`${i}-${e}-${a}`;const u=r.get(s)||new Map;r.set(s,u.set(n,t))}}function Kle(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:a,sourceHandle:s=null,targetHandle:l=null}=r,c={edgeId:r.id,source:i,target:a,sourceHandle:s,targetHandle:l},u=`${i}-${s}--${a}-${l}`,d=`${a}-${l}--${i}-${s}`;vH("source",c,d,e,i,s),vH("target",c,u,e,a,l),t.set(r.id,r)}}function Xle(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Xle(n,t):!1}function bH(e,t,n){var i;let r=e;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function Hpt(e,t,n,r){const i=new Map;for(const[a,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!Xle(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const l=e.get(a);l&&i.set(a,{id:a,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return i}function jA({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,l,c;const i=[];for(const[u,d]of t){const h=(s=n.get(u))==null?void 0:s.internals.userNode;h&&i.push({...h,position:d.position,dragging:r})}if(!e)return[i[0],i];const a=(l=n.get(e))==null?void 0:l.internals.userNode;return[a?{...a,position:((c=t.get(e))==null?void 0:c.position)||a.position,dragging:r}:i[0],i]}function Vpt({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let a={x:null,y:null},s=0,l=new Map,c=!1,u={x:0,y:0},d=null,h=!1,f=null,m=!1;function p({noDragClassName:x,handleSelector:y,domNode:v,isSelectable:b,nodeId:E,nodeClickDistance:_=0}){f=Lt(v);function S({x:k,y:O},M){const{nodeLookup:B,nodeExtent:N,snapGrid:D,snapToGrid:P,nodeOrigin:L,onNodeDrag:I,onSelectionDrag:U,onError:$,updateNodePositions:W}=t();a={x:k,y:O};let z=!1,R={x:0,y:0,x2:0,y2:0};if(l.size>1&&N){const G=l1(l);R=QM(G)}for(const[G,Q]of l){if(!B.has(G))continue;let oe={x:k-Q.distance.x,y:O-Q.distance.y};P&&(oe=KT(oe,D));let re=[[N[0][0],N[0][1]],[N[1][0],N[1][1]]];if(l.size>1&&N&&!Q.extent){const{positionAbsolute:me}=Q.internals,ye=me.x-R.x+N[0][0],ae=me.x+Q.measured.width-R.x2+N[1][0],Ae=me.y-R.y+N[0][1],H=me.y+Q.measured.height-R.y2+N[1][1];re=[[ye,Ae],[ae,H]]}const{position:pe,positionAbsolute:ce}=Rle({nodeId:G,nextPosition:oe,nodeLookup:B,nodeExtent:re,nodeOrigin:L,onError:$});z=z||Q.position.x!==pe.x||Q.position.y!==pe.y,Q.position=pe,Q.internals.positionAbsolute=ce}if(z&&(W(l,!0),M&&(r||I||!E&&U))){const[G,Q]=jA({nodeId:E,dragItems:l,nodeLookup:B});r==null||r(M,l,G,Q),I==null||I(M,G,Q),E||U==null||U(M,Q)}}async function C(){if(!d)return;const{transform:k,panBy:O,autoPanSpeed:M,autoPanOnNodeDrag:B}=t();if(!B){c=!1,cancelAnimationFrame(s);return}const[N,D]=Lle(u,d,M);(N!==0||D!==0)&&(a.x=(a.x??0)-N/k[2],a.y=(a.y??0)-D/k[2],await O({x:N,y:D})&&S(a,null)),s=requestAnimationFrame(C)}function T(k){var z;const{nodeLookup:O,multiSelectionActive:M,nodesDraggable:B,transform:N,snapGrid:D,snapToGrid:P,selectNodesOnDrag:L,onNodeDragStart:I,onSelectionDragStart:U,unselectNodesAndEdges:$}=t();h=!0,(!L||!b)&&!M&&E&&((z=O.get(E))!=null&&z.selected||$()),b&&L&&E&&(e==null||e(E));const W=hx(k.sourceEvent,{transform:N,snapGrid:D,snapToGrid:P,containerBounds:d});if(a=W,l=Hpt(O,B,W,E),l.size>0&&(n||I||!E&&U)){const[R,G]=jA({nodeId:E,dragItems:l,nodeLookup:O});n==null||n(k.sourceEvent,l,R,G),I==null||I(k.sourceEvent,R,G),E||U==null||U(k.sourceEvent,G)}}const j=ble().clickDistance(_).on("start",k=>{const{domNode:O,nodeDragThreshold:M,transform:B,snapGrid:N,snapToGrid:D}=t();d=(O==null?void 0:O.getBoundingClientRect())||null,m=!1,M===0&&T(k),a=hx(k.sourceEvent,{transform:B,snapGrid:N,snapToGrid:D,containerBounds:d}),u=yc(k.sourceEvent,d)}).on("drag",k=>{const{autoPanOnNodeDrag:O,transform:M,snapGrid:B,snapToGrid:N,nodeDragThreshold:D,nodeLookup:P}=t(),L=hx(k.sourceEvent,{transform:M,snapGrid:B,snapToGrid:N,containerBounds:d});if((k.sourceEvent.type==="touchmove"&&k.sourceEvent.touches.length>1||E&&!P.has(E))&&(m=!0),!m){if(!c&&O&&h&&(c=!0,C()),!h){const I=L.xSnapped-(a.x??0),U=L.ySnapped-(a.y??0);Math.sqrt(I*I+U*U)>D&&T(k)}(a.x!==L.xSnapped||a.y!==L.ySnapped)&&l&&h&&(u=yc(k.sourceEvent,d),S(L,k.sourceEvent))}}).on("end",k=>{if(!(!h||m)&&(c=!1,h=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:O,updateNodePositions:M,onNodeDragStop:B,onSelectionDragStop:N}=t();if(M(l,!1),i||B||!E&&N){const[D,P]=jA({nodeId:E,dragItems:l,nodeLookup:O,dragging:!1});i==null||i(k.sourceEvent,l,D,P),B==null||B(k.sourceEvent,D,P),E||N==null||N(k.sourceEvent,P)}}}).filter(k=>{const O=k.target;return!k.button&&(!x||!bH(O,`.${x}`,v))&&(!y||bH(O,y,v))});f.call(j)}function g(){f==null||f.on(".drag",null)}return{update:p,destroy:g}}function Wpt(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const a of t.values())Yv(i,mg(a))>0&&r.push(a);return r}const qpt=250;function Gpt(e,t,n,r){var l,c;let i=[],a=1/0;const s=Wpt(e,n,t+qpt);for(const u of s){const d=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((c=u.internals.handleBounds)==null?void 0:c.target)??[]];for(const h of d){if(r.nodeId===h.nodeId&&r.type===h.type&&r.id===h.id)continue;const{x:f,y:m}=Kv(u,h,h.position,!0),p=Math.sqrt(Math.pow(f-e.x,2)+Math.pow(m-e.y,2));p>t||(p<a?(i=[{...h,x:f,y:m}],a=p):p===a&&i.push({...h,x:f,y:m}))}}if(!i.length)return null;if(i.length>1){const u=r.type==="source"?"target":"source";return i.find(d=>d.type===u)??i[0]}return i[0]}function Zle(e,t,n,r,i,a=!1){var u,d,h;const s=r.get(e);if(!s)return null;const l=i==="strict"?(u=s.internals.handleBounds)==null?void 0:u[t]:[...((d=s.internals.handleBounds)==null?void 0:d.source)??[],...((h=s.internals.handleBounds)==null?void 0:h.target)??[]],c=(n?l==null?void 0:l.find(f=>f.id===n):l==null?void 0:l[0])??null;return c&&a?{...c,...Kv(s,c,c.position,!0)}:c}function Qle(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Ypt(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Jle=()=>!0;function Kpt(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:a,isTarget:s,domNode:l,nodeLookup:c,lib:u,autoPanOnConnect:d,flowId:h,panBy:f,cancelConnection:m,onConnectStart:p,onConnect:g,onConnectEnd:x,isValidConnection:y=Jle,onReconnectEnd:v,updateConnection:b,getTransform:E,getFromHandle:_,autoPanSpeed:S}){const C=zle(e.target);let T=0,j;const{x:k,y:O}=yc(e),M=C==null?void 0:C.elementFromPoint(k,O),B=Qle(a,M),N=l==null?void 0:l.getBoundingClientRect();if(!N||!B)return;const D=Zle(i,B,r,c,t);if(!D)return;let P=yc(e,N),L=!1,I=null,U=!1,$=null;function W(){if(!d||!N)return;const[ce,me]=Lle(P,N,S);f({x:ce,y:me}),T=requestAnimationFrame(W)}const z={...D,nodeId:i,type:B,position:D.position},R=c.get(i),Q={inProgress:!0,isValid:null,from:Kv(R,z,Et.Left,!0),fromHandle:z,fromPosition:z.position,fromNode:R,to:P,toHandle:null,toPosition:lH[z.position],toNode:null};b(Q);let oe=Q;p==null||p(e,{nodeId:i,handleId:r,handleType:B});function re(ce){if(!_()||!z){pe(ce);return}const me=E();P=yc(ce,N),j=Gpt(c1(P,me,!1,[1,1]),n,c,z),L||(W(),L=!0);const ye=ece(ce,{handle:j,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:s?"target":"source",isValidConnection:y,doc:C,lib:u,flowId:h,nodeLookup:c});$=ye.handleDomNode,I=ye.connection,U=Ypt(!!j,ye.isValid);const ae={...oe,isValid:U,to:j&&U?Q_({x:j.x,y:j.y},me):P,toHandle:ye.toHandle,toPosition:U&&ye.toHandle?ye.toHandle.position:lH[z.position],toNode:ye.toHandle?c.get(ye.toHandle.nodeId):null};U&&j&&oe.toHandle&&ae.toHandle&&oe.toHandle.type===ae.toHandle.type&&oe.toHandle.nodeId===ae.toHandle.nodeId&&oe.toHandle.id===ae.toHandle.id&&oe.to.x===ae.to.x&&oe.to.y===ae.to.y||(b(ae),oe=ae)}function pe(ce){(j||$)&&I&&U&&(g==null||g(I));const{inProgress:me,...ye}=oe,ae={...ye,toPosition:oe.toHandle?oe.toPosition:null};x==null||x(ce,ae),a&&(v==null||v(ce,ae)),m(),cancelAnimationFrame(T),L=!1,U=!1,I=null,$=null,C.removeEventListener("mousemove",re),C.removeEventListener("mouseup",pe),C.removeEventListener("touchmove",re),C.removeEventListener("touchend",pe)}C.addEventListener("mousemove",re),C.addEventListener("mouseup",pe),C.addEventListener("touchmove",re),C.addEventListener("touchend",pe)}function ece(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:a,doc:s,lib:l,flowId:c,isValidConnection:u=Jle,nodeLookup:d}){const h=a==="target",f=t?s.querySelector(`.${l}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:m,y:p}=yc(e),g=s.elementFromPoint(m,p),x=g!=null&&g.classList.contains(`${l}-flow__handle`)?g:f,y={handleDomNode:x,isValid:!1,connection:null,toHandle:null};if(x){const v=Qle(void 0,x),b=x.getAttribute("data-nodeid"),E=x.getAttribute("data-handleid"),_=x.classList.contains("connectable"),S=x.classList.contains("connectableend");if(!b||!v)return y;const C={source:h?b:r,sourceHandle:h?E:i,target:h?r:b,targetHandle:h?i:E};y.connection=C;const j=_&&S&&(n===hg.Strict?h&&v==="source"||!h&&v==="target":b!==r||E!==i);y.isValid=j&&u(C),y.toHandle=Zle(b,v,E,d,n,!1)}return y}const nI={onPointerDown:Kpt,isValid:ece};function Xpt({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const i=Lt(e);function a({translateExtent:l,width:c,height:u,zoomStep:d=10,pannable:h=!0,zoomable:f=!0,inversePan:m=!1}){const p=b=>{const E=n();if(b.sourceEvent.type!=="wheel"||!t)return;const _=-b.sourceEvent.deltaY*(b.sourceEvent.deltaMode===1?.05:b.sourceEvent.deltaMode?1:.002)*d,S=E[2]*Math.pow(2,_);t.scaleTo(S)};let g=[0,0];const x=b=>{(b.sourceEvent.type==="mousedown"||b.sourceEvent.type==="touchstart")&&(g=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY])},y=b=>{const E=n();if(b.sourceEvent.type!=="mousemove"&&b.sourceEvent.type!=="touchmove"||!t)return;const _=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY],S=[_[0]-g[0],_[1]-g[1]];g=_;const C=r()*Math.max(E[2],Math.log(E[2]))*(m?-1:1),T={x:E[0]-S[0]*C,y:E[1]-S[1]*C},j=[[0,0],[c,u]];t.setViewportConstrained({x:T.x,y:T.y,zoom:E[2]},j,l)},v=Ale().on("start",x).on("zoom",h?y:null).on("zoom.wheel",f?p:null);i.call(v,{})}function s(){i.on("zoom",null)}return{update:a,destroy:s,pointer:xo}}const Zpt=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,XT=e=>({x:e.x,y:e.y,zoom:e.k}),OA=({x:e,y:t,zoom:n})=>qT.translate(e,t).scale(n),Am=(e,t)=>e.target.closest(`.${t}`),tce=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),PA=(e,t=0,n=()=>{})=>{const r=typeof t=="number"&&t>0;return r||n(),r?e.transition().duration(t).on("end",n):e},nce=e=>{const t=e.ctrlKey&&J_()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Qpt({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:a,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:c,onPanZoomEnd:u}){return d=>{if(Am(d,t))return!1;d.preventDefault(),d.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(d.ctrlKey&&s){const x=xo(d),y=nce(d),v=h*Math.pow(2,y);r.scaleTo(n,v,x,d);return}const f=d.deltaMode===1?20:1;let m=i===Oh.Vertical?0:d.deltaX*f,p=i===Oh.Horizontal?0:d.deltaY*f;!J_()&&d.shiftKey&&i!==Oh.Vertical&&(m=d.deltaY*f,p=0),r.translateBy(n,-(m/h)*a,-(p/h)*a,{internal:!0});const g=XT(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,l==null||l(d,g)),e.isPanScrolling&&(c==null||c(d,g),e.panScrollTimeout=setTimeout(()=>{u==null||u(d,g),e.isPanScrolling=!1},150))}}function Jpt({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const a=r.type==="wheel",s=!t&&a&&!r.ctrlKey,l=Am(r,e);if(r.ctrlKey&&a&&l&&r.preventDefault(),s||l)return null;r.preventDefault(),n.call(this,r,i)}}function egt({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var a,s,l;if((a=r.sourceEvent)!=null&&a.internal)return;const i=XT(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((l=r.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,i))}}function tgt({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return a=>{var s,l;e.usedRightMouseButton=!!(n&&tce(t,e.mouseButton??0)),(s=a.sourceEvent)!=null&&s.sync||r([a.transform.x,a.transform.y,a.transform.k]),i&&!((l=a.sourceEvent)!=null&&l.internal)&&(i==null||i(a.sourceEvent,XT(a.transform)))}}function ngt({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:a}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,a&&tce(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&a(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),i&&Zpt(e.prevViewport,s.transform))){const c=XT(s.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(s.sourceEvent,c)},n?150:0)}}}function rgt({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:a,userSelectionActive:s,noWheelClassName:l,noPanClassName:c,lib:u}){return d=>{var p;const h=e||t,f=n&&d.ctrlKey;if(d.button===1&&d.type==="mousedown"&&(Am(d,`${u}-flow__node`)||Am(d,`${u}-flow__edge`)))return!0;if(!r&&!h&&!i&&!a&&!n||s||Am(d,l)&&d.type==="wheel"||Am(d,c)&&(d.type!=="wheel"||i&&d.type==="wheel"&&!e)||!n&&d.ctrlKey&&d.type==="wheel")return!1;if(!n&&d.type==="touchstart"&&((p=d.touches)==null?void 0:p.length)>1)return d.preventDefault(),!1;if(!h&&!i&&!f&&d.type==="wheel"||!r&&(d.type==="mousedown"||d.type==="touchstart")||Array.isArray(r)&&!r.includes(d.button)&&d.type==="mousedown")return!1;const m=Array.isArray(r)&&r.includes(d.button)||!d.button||d.button<=1;return(!d.ctrlKey||d.type==="wheel")&&m}}function igt({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:a,onPanZoom:s,onPanZoomStart:l,onPanZoomEnd:c,onDraggingChange:u}){const d={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=e.getBoundingClientRect(),f=Ale().clickDistance(!To(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(i),m=Lt(e).call(f);b({x:a.x,y:a.y,zoom:fg(a.zoom,t,n)},[[0,0],[h.width,h.height]],i);const p=m.on("wheel.zoom"),g=m.on("dblclick.zoom");f.wheelDelta(nce);function x(M,B){return m?new Promise(N=>{f==null||f.transform(PA(m,B==null?void 0:B.duration,()=>N(!0)),M)}):Promise.resolve(!1)}function y({noWheelClassName:M,noPanClassName:B,onPaneContextMenu:N,userSelectionActive:D,panOnScroll:P,panOnDrag:L,panOnScrollMode:I,panOnScrollSpeed:U,preventScrolling:$,zoomOnPinch:W,zoomOnScroll:z,zoomOnDoubleClick:R,zoomActivationKeyPressed:G,lib:Q,onTransformChange:oe}){D&&!d.isZoomingOrPanning&&v();const pe=P&&!G&&!D?Qpt({zoomPanValues:d,noWheelClassName:M,d3Selection:m,d3Zoom:f,panOnScrollMode:I,panOnScrollSpeed:U,zoomOnPinch:W,onPanZoomStart:l,onPanZoom:s,onPanZoomEnd:c}):Jpt({noWheelClassName:M,preventScrolling:$,d3ZoomHandler:p});if(m.on("wheel.zoom",pe,{passive:!1}),!D){const me=egt({zoomPanValues:d,onDraggingChange:u,onPanZoomStart:l});f.on("start",me);const ye=tgt({zoomPanValues:d,panOnDrag:L,onPaneContextMenu:!!N,onPanZoom:s,onTransformChange:oe});f.on("zoom",ye);const ae=ngt({zoomPanValues:d,panOnDrag:L,panOnScroll:P,onPaneContextMenu:N,onPanZoomEnd:c,onDraggingChange:u});f.on("end",ae)}const ce=rgt({zoomActivationKeyPressed:G,panOnDrag:L,zoomOnScroll:z,panOnScroll:P,zoomOnDoubleClick:R,zoomOnPinch:W,userSelectionActive:D,noPanClassName:B,noWheelClassName:M,lib:Q});f.filter(ce),R?m.on("dblclick.zoom",g):m.on("dblclick.zoom",null)}function v(){f.on("zoom",null)}async function b(M,B,N){const D=OA(M),P=f==null?void 0:f.constrain()(D,B,N);return P&&await x(P),new Promise(L=>L(P))}async function E(M,B){const N=OA(M);return await x(N,B),new Promise(D=>D(N))}function _(M){if(m){const B=OA(M),N=m.property("__zoom");(N.k!==M.zoom||N.x!==M.x||N.y!==M.y)&&(f==null||f.transform(m,B,null,{sync:!0}))}}function S(){const M=m?kle(m.node()):{x:0,y:0,k:1};return{x:M.x,y:M.y,zoom:M.k}}function C(M,B){return m?new Promise(N=>{f==null||f.scaleTo(PA(m,B==null?void 0:B.duration,()=>N(!0)),M)}):Promise.resolve(!1)}function T(M,B){return m?new Promise(N=>{f==null||f.scaleBy(PA(m,B==null?void 0:B.duration,()=>N(!0)),M)}):Promise.resolve(!1)}function j(M){f==null||f.scaleExtent(M)}function k(M){f==null||f.translateExtent(M)}function O(M){const B=!To(M)||M<0?0:M;f==null||f.clickDistance(B)}return{update:y,destroy:v,setViewport:E,setViewportConstrained:b,getViewport:S,scaleTo:C,scaleBy:T,setScaleExtent:j,setTranslateExtent:k,syncViewport:_,setClickDistance:O}}var fx;(function(e){e.Line="line",e.Handle="handle"})(fx||(fx={}));function agt({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:a}){const s=e-t,l=n-r,c=[s>0?1:s<0?-1:0,l>0?1:l<0?-1:0];return s&&i&&(c[0]=c[0]*-1),l&&a&&(c[1]=c[1]*-1),c}function sgt(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function Jc(e,t){return Math.max(0,t-e)}function eu(e,t){return Math.max(0,e-t)}function Fw(e,t,n){return Math.max(0,t-e,e-n)}function wH(e,t){return e?!t:t}function ogt(e,t,n,r,i,a,s,l){let{affectsX:c,affectsY:u}=t;const{isHorizontal:d,isVertical:h}=t,f=d&&h,{xSnapped:m,ySnapped:p}=n,{minWidth:g,maxWidth:x,minHeight:y,maxHeight:v}=r,{x:b,y:E,width:_,height:S,aspectRatio:C}=e;let T=Math.floor(d?m-e.pointerX:0),j=Math.floor(h?p-e.pointerY:0);const k=_+(c?-T:T),O=S+(u?-j:j),M=-a[0]*_,B=-a[1]*S;let N=Fw(k,g,x),D=Fw(O,y,v);if(s){let I=0,U=0;c&&T<0?I=Jc(b+T+M,s[0][0]):!c&&T>0&&(I=eu(b+k+M,s[1][0])),u&&j<0?U=Jc(E+j+B,s[0][1]):!u&&j>0&&(U=eu(E+O+B,s[1][1])),N=Math.max(N,I),D=Math.max(D,U)}if(l){let I=0,U=0;c&&T>0?I=eu(b+T,l[0][0]):!c&&T<0&&(I=Jc(b+k,l[1][0])),u&&j>0?U=eu(E+j,l[0][1]):!u&&j<0&&(U=Jc(E+O,l[1][1])),N=Math.max(N,I),D=Math.max(D,U)}if(i){if(d){const I=Fw(k/C,y,v)*C;if(N=Math.max(N,I),s){let U=0;!c&&!u||c&&!u&&f?U=eu(E+B+k/C,s[1][1])*C:U=Jc(E+B+(c?T:-T)/C,s[0][1])*C,N=Math.max(N,U)}if(l){let U=0;!c&&!u||c&&!u&&f?U=Jc(E+k/C,l[1][1])*C:U=eu(E+(c?T:-T)/C,l[0][1])*C,N=Math.max(N,U)}}if(h){const I=Fw(O*C,g,x)/C;if(D=Math.max(D,I),s){let U=0;!c&&!u||u&&!c&&f?U=eu(b+O*C+M,s[1][0])/C:U=Jc(b+(u?j:-j)*C+M,s[0][0])/C,D=Math.max(D,U)}if(l){let U=0;!c&&!u||u&&!c&&f?U=Jc(b+O*C,l[1][0])/C:U=eu(b+(u?j:-j)*C,l[0][0])/C,D=Math.max(D,U)}}}j=j+(j<0?D:-D),T=T+(T<0?N:-N),i&&(f?k>O*C?j=(wH(c,u)?-T:T)/C:T=(wH(c,u)?-j:j)*C:d?(j=T/C,u=c):(T=j*C,c=u));const P=c?b+T:b,L=u?E+j:E;return{width:_+(c?-T:T),height:S+(u?-j:j),x:a[0]*T*(c?-1:1)+P,y:a[1]*j*(u?-1:1)+L}}const rce={width:0,height:0,x:0,y:0},lgt={...rce,pointerX:0,pointerY:0,aspectRatio:1};function cgt(e){return[[0,0],[e.measured.width,e.measured.height]]}function ugt(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,a=e.measured.width??0,s=e.measured.height??0,l=n[0]*a,c=n[1]*s;return[[r-l,i-c],[r+a-l,i+s-c]]}function dgt({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const a=Lt(e);function s({controlPosition:c,boundaries:u,keepAspectRatio:d,onResizeStart:h,onResize:f,onResizeEnd:m,shouldResize:p}){let g={...rce},x={...lgt};const y=sgt(c);let v,b=null,E=[],_,S,C;const T=ble().on("start",j=>{const{nodeLookup:k,transform:O,snapGrid:M,snapToGrid:B,nodeOrigin:N,paneDomNode:D}=n();if(v=k.get(t),!v)return;b=(D==null?void 0:D.getBoundingClientRect())??null;const{xSnapped:P,ySnapped:L}=hx(j.sourceEvent,{transform:O,snapGrid:M,snapToGrid:B,containerBounds:b});g={width:v.measured.width??0,height:v.measured.height??0,x:v.position.x??0,y:v.position.y??0},x={...g,pointerX:P,pointerY:L,aspectRatio:g.width/g.height},_=void 0,v.parentId&&(v.extent==="parent"||v.expandParent)&&(_=k.get(v.parentId),S=_&&v.extent==="parent"?cgt(_):void 0),E=[],C=void 0;for(const[I,U]of k)if(U.parentId===t&&(E.push({id:I,position:{...U.position},extent:U.extent}),U.extent==="parent"||U.expandParent)){const $=ugt(U,v,U.origin??N);C?C=[[Math.min($[0][0],C[0][0]),Math.min($[0][1],C[0][1])],[Math.max($[1][0],C[1][0]),Math.max($[1][1],C[1][1])]]:C=$}h==null||h(j,{...g})}).on("drag",j=>{const{transform:k,snapGrid:O,snapToGrid:M,nodeOrigin:B}=n(),N=hx(j.sourceEvent,{transform:k,snapGrid:O,snapToGrid:M,containerBounds:b}),D=[];if(!v)return;const{x:P,y:L,width:I,height:U}=g,$={},W=v.origin??B,{width:z,height:R,x:G,y:Q}=ogt(x,y,N,u,d,W,S,C),oe=z!==I,re=R!==U,pe=G!==P&&oe,ce=Q!==L&&re;if(!pe&&!ce&&!oe&&!re)return;if((pe||ce||W[0]===1||W[1]===1)&&($.x=pe?G:g.x,$.y=ce?Q:g.y,g.x=$.x,g.y=$.y,E.length>0)){const Ae=G-P,H=Q-L;for(const Z of E)Z.position={x:Z.position.x-Ae+W[0]*(z-I),y:Z.position.y-H+W[1]*(R-U)},D.push(Z)}if((oe||re)&&($.width=oe?z:g.width,$.height=re?R:g.height,g.width=$.width,g.height=$.height),_&&v.expandParent){const Ae=W[0]*($.width??0);$.x&&$.x<Ae&&(g.x=Ae,x.x=x.x-($.x-Ae));const H=W[1]*($.height??0);$.y&&$.y<H&&(g.y=H,x.y=x.y-($.y-H))}const me=agt({width:g.width,prevWidth:I,height:g.height,prevHeight:U,affectsX:y.affectsX,affectsY:y.affectsY}),ye={...g,direction:me};(p==null?void 0:p(j,ye))!==!1&&(f==null||f(j,ye),r($,D))}).on("end",j=>{m==null||m(j,{...g}),i==null||i({...g})});a.call(T)}function l(){a.on(".drag",null)}return{update:s,destroy:l}}var ice={exports:{}},ace={},sce={exports:{}},oce={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg=w;function hgt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fgt=typeof Object.is=="function"?Object.is:hgt,mgt=gg.useState,pgt=gg.useEffect,ggt=gg.useLayoutEffect,ygt=gg.useDebugValue;function xgt(e,t){var n=t(),r=mgt({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return ggt(function(){i.value=n,i.getSnapshot=t,MA(i)&&a({inst:i})},[e,n,t]),pgt(function(){return MA(i)&&a({inst:i}),e(function(){MA(i)&&a({inst:i})})},[e]),ygt(n),n}function MA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fgt(e,n)}catch{return!0}}function vgt(e,t){return t()}var bgt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vgt:xgt;oce.useSyncExternalStore=gg.useSyncExternalStore!==void 0?gg.useSyncExternalStore:bgt;sce.exports=oce;var wgt=sce.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT=w,Egt=wgt;function Sgt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _gt=typeof Object.is=="function"?Object.is:Sgt,Cgt=Egt.useSyncExternalStore,Tgt=ZT.useRef,Ngt=ZT.useEffect,kgt=ZT.useMemo,Agt=ZT.useDebugValue;ace.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=Tgt(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=kgt(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return h=p}return h=m}if(p=h,_gt(d,m))return p;var g=r(m);return i!==void 0&&i(p,g)?(d=m,p):(d=m,h=g)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,n,r,i]);var l=Cgt(e,a[0],a[1]);return Ngt(function(){s.hasValue=!0,s.value=l},[l]),Agt(l),l};ice.exports=ace;var jgt=ice.exports;const Ogt=sn(jgt),Pgt={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:3030",VITE_SHOW_BUSINESS_CHALLENGE:"true",VITE_SHOW_DATA_CATALOG:"true",VITE_SHOW_EVALUATION:"true",VITE_SHOW_METRICS:"true",VITE_SHOW_SMART_CONSOLE:"false",VITE_USE_MOCK_DATA:"false"},EH=e=>{let t;const n=new Set,r=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const m=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(p=>p(t,m))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(Pgt?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,c);return c},Mgt=e=>e?EH(e):EH,{useDebugValue:Igt}=q,{useSyncExternalStoreWithSelector:Rgt}=Ogt,Dgt=e=>e;function lce(e,t=Dgt,n){const r=Rgt(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Igt(r),r}const SH=(e,t)=>{const n=Mgt(e),r=(i,a=t)=>lce(n,i,a);return Object.assign(r,n),r},Lgt=(e,t)=>e?SH(e,t):SH;function Cr(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const QT=w.createContext(null),$gt=QT.Provider,cce=_l.error001();function mn(e,t){const n=w.useContext(QT);if(n===null)throw new Error(cce);return lce(n,e,t)}function ar(){const e=w.useContext(QT);if(e===null)throw new Error(cce);return w.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const _H={display:"none"},Bgt={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},uce="react-flow__node-desc",dce="react-flow__edge-desc",Fgt="react-flow__aria-live",zgt=e=>e.ariaLiveMessage;function Ugt({rfId:e}){const t=mn(zgt);return o.jsx("div",{id:`${Fgt}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Bgt,children:t})}function Hgt({rfId:e,disableKeyboardA11y:t}){return o.jsxs(o.Fragment,{children:[o.jsxs("div",{id:`${uce}-${e}`,style:_H,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),o.jsx("div",{id:`${dce}-${e}`,style:_H,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&o.jsx(Ugt,{rfId:e})]})}const Vgt=e=>e.userSelectionActive?"none":"all",JT=w.forwardRef(({position:e="top-left",children:t,className:n,style:r,...i},a)=>{const s=mn(Vgt),l=`${e}`.split("-");return o.jsx("div",{className:Vr(["react-flow__panel",n,...l]),style:{...r,pointerEvents:s},ref:a,...i,children:t})});JT.displayName="Panel";function Wgt({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:o.jsx(JT,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:o.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const qgt=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},zw=e=>e.id;function Ggt(e,t){return Cr(e.selectedNodes.map(zw),t.selectedNodes.map(zw))&&Cr(e.selectedEdges.map(zw),t.selectedEdges.map(zw))}function Ygt({onSelectionChange:e}){const t=ar(),{selectedNodes:n,selectedEdges:r}=mn(qgt,Ggt);return w.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChangeHandlers.forEach(a=>a(i))},[n,r,e]),null}const Kgt=e=>!!e.onSelectionChangeHandlers;function Xgt({onSelectionChange:e}){const t=mn(Kgt);return e||t?o.jsx(Ygt,{onSelectionChange:e}):null}const hce=[0,0],Zgt={x:0,y:0,zoom:1},Qgt=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],CH=[...Qgt,"rfId"],Jgt=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),TH={translateExtent:qv,nodeOrigin:hce,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function e0t(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:a,setNodeExtent:s,reset:l,setDefaultNodesAndEdges:c,setPaneClickDistance:u}=mn(Jgt,Cr),d=ar();w.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{h.current=TH,l()}),[]);const h=w.useRef(TH);return w.useEffect(()=>{for(const f of CH){const m=e[f],p=h.current[f];m!==p&&(typeof e[f]>"u"||(f==="nodes"?t(m):f==="edges"?n(m):f==="minZoom"?r(m):f==="maxZoom"?i(m):f==="translateExtent"?a(m):f==="nodeExtent"?s(m):f==="paneClickDistance"?u(m):f==="fitView"?d.setState({fitViewQueued:m}):f==="fitViewOptions"?d.setState({fitViewOptions:m}):d.setState({[f]:m})))}h.current=e},CH.map(f=>e[f])),null}function NH(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function t0t(e){var r;const[t,n]=w.useState(e==="system"?null:e);return w.useEffect(()=>{if(e!=="system"){n(e);return}const i=NH(),a=()=>n(i!=null&&i.matches?"dark":"light");return a(),i==null||i.addEventListener("change",a),()=>{i==null||i.removeEventListener("change",a)}},[e]),t!==null?t:(r=NH())!=null&&r.matches?"dark":"light"}const kH=typeof document<"u"?document:null;function Xv(e=null,t={target:kH,actInsideInputWithModifier:!0}){const[n,r]=w.useState(!1),i=w.useRef(!1),a=w.useRef(new Set([])),[s,l]=w.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(h=>typeof h=="string").map(h=>h.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=u.reduce((h,f)=>h.concat(...f),[]);return[u,d]}return[[],[]]},[e]);return w.useEffect(()=>{const c=(t==null?void 0:t.target)||kH;if(e!==null){const u=f=>{var g,x;if(i.current=f.ctrlKey||f.metaKey||f.shiftKey||f.altKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&Ule(f))return!1;const p=jH(f.code,l);if(a.current.add(f[p]),AH(s,a.current,!1)){const y=((x=(g=f.composedPath)==null?void 0:g.call(f))==null?void 0:x[0])||f.target,v=(y==null?void 0:y.nodeName)==="BUTTON"||(y==null?void 0:y.nodeName)==="A";t.preventDefault!==!1&&(i.current||!v)&&f.preventDefault(),r(!0)}},d=f=>{const m=jH(f.code,l);AH(s,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(f[m]),f.key==="Meta"&&a.current.clear(),i.current=!1},h=()=>{a.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",u),c==null||c.addEventListener("keyup",d),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{c==null||c.removeEventListener("keydown",u),c==null||c.removeEventListener("keyup",d),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[e,r]),n}function AH(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function jH(e,t){return t.includes(e)?"code":"key"}const n0t=()=>{const e=ar();return w.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,i,a],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??r,y:t.y??i,zoom:t.zoom??a},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>{const{width:i,height:a,maxZoom:s,panZoom:l}=e.getState(),c=typeof(r==null?void 0:r.zoom)<"u"?r.zoom:s,u=i/2-t*c,d=a/2-n*c;return l?(await l.setViewport({x:u,y:d,zoom:c},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{const{width:r,height:i,minZoom:a,maxZoom:s,panZoom:l}=e.getState(),c=B4(t,r,i,a,s,(n==null?void 0:n.padding)??.1);return l?(await l.setViewport(c,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:i,snapToGrid:a,domNode:s}=e.getState();if(!s)return t;const{x:l,y:c}=s.getBoundingClientRect(),u={x:t.x-l,y:t.y-c},d=n.snapGrid??i,h=n.snapToGrid??a;return c1(u,r,h,d)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:i,y:a}=r.getBoundingClientRect(),s=Q_(t,n);return{x:s.x+i,y:s.y+a}}}),[])};function fce(e,t){const n=[],r=new Map,i=[];for(const a of e)if(a.type==="add"){i.push(a);continue}else if(a.type==="remove"||a.type==="replace")r.set(a.id,[a]);else{const s=r.get(a.id);s?s.push(a):r.set(a.id,[a])}for(const a of t){const s=r.get(a.id);if(!s){n.push(a);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const l={...a};for(const c of s)r0t(c,l);n.push(l)}return i.length&&i.forEach(a=>{a.index!==void 0?n.splice(a.index,0,{...a.item}):n.push({...a.item})}),n}function r0t(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&(t.width=e.dimensions.width,t.height=e.dimensions.height)),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function mce(e,t){return fce(e,t)}function pce(e,t){return fce(e,t)}function Xd(e,t){return{id:e,type:"select",selected:t}}function jm(e,t=new Set,n=!1){const r=[];for(const[i,a]of e){const s=t.has(i);!(a.selected===void 0&&!s)&&a.selected!==s&&(n&&(a.selected=s),r.push(Xd(a.id,s)))}return r}function OH({items:e=[],lookup:t}){var i;const n=[],r=new Map(e.map(a=>[a.id,a]));for(const[a,s]of e.entries()){const l=t.get(s.id),c=((i=l==null?void 0:l.internals)==null?void 0:i.userNode)??l;c!==void 0&&c!==s&&n.push({id:s.id,item:s,type:"replace"}),c===void 0&&n.push({item:s,type:"add",index:a})}for(const[a]of t)r.get(a)===void 0&&n.push({id:a,type:"remove"});return n}function PH(e){return{id:e.id,type:"remove"}}const MH=e=>ypt(e),i0t=e=>Mle(e);function gce(e){return w.forwardRef(e)}const a0t=typeof window<"u"?w.useLayoutEffect:w.useEffect;function IH(e){const[t,n]=w.useState(BigInt(0)),[r]=w.useState(()=>s0t(()=>n(i=>i+BigInt(1))));return a0t(()=>{const i=r.get();i.length&&(e(i),r.reset())},[t]),r}function s0t(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const yce=w.createContext(null);function o0t({children:e}){const t=ar(),n=w.useCallback(l=>{const{nodes:c=[],setNodes:u,hasDefaultNodes:d,onNodesChange:h,nodeLookup:f,fitViewQueued:m}=t.getState();let p=c;for(const g of l)p=typeof g=="function"?g(p):g;if(d)u(p);else{const g=OH({items:p,lookup:f});g.length>0?h==null||h(g):m&&window.requestAnimationFrame(()=>{const{fitViewQueued:x,nodes:y,setNodes:v}=t.getState();x&&v(y)})}},[]),r=IH(n),i=w.useCallback(l=>{const{edges:c=[],setEdges:u,hasDefaultEdges:d,onEdgesChange:h,edgeLookup:f}=t.getState();let m=c;for(const p of l)m=typeof p=="function"?p(m):p;d?u(m):h&&h(OH({items:m,lookup:f}))},[]),a=IH(i),s=w.useMemo(()=>({nodeQueue:r,edgeQueue:a}),[]);return o.jsx(yce.Provider,{value:s,children:e})}function l0t(){const e=w.useContext(yce);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const c0t=e=>!!e.panZoom;function eN(){const e=n0t(),t=ar(),n=l0t(),r=mn(c0t),i=w.useMemo(()=>{const a=h=>t.getState().nodeLookup.get(h),s=h=>{n.nodeQueue.push(h)},l=h=>{n.edgeQueue.push(h)},c=h=>{var y,v;const{nodeLookup:f,nodeOrigin:m}=t.getState(),p=MH(h)?h:f.get(h.id),g=p.parentId?Fle(p.position,p.measured,p.parentId,f,m):p.position,x={...p,position:g,width:((y=p.measured)==null?void 0:y.width)??p.width,height:((v=p.measured)==null?void 0:v.height)??p.height};return mg(x)},u=(h,f,m={replace:!1})=>{s(p=>p.map(g=>{if(g.id===h){const x=typeof f=="function"?f(g):f;return m.replace&&MH(x)?x:{...g,...x}}return g}))},d=(h,f,m={replace:!1})=>{l(p=>p.map(g=>{if(g.id===h){const x=typeof f=="function"?f(g):f;return m.replace&&i0t(x)?x:{...g,...x}}return g}))};return{getNodes:()=>t.getState().nodes.map(h=>({...h})),getNode:h=>{var f;return(f=a(h))==null?void 0:f.internals.userNode},getInternalNode:a,getEdges:()=>{const{edges:h=[]}=t.getState();return h.map(f=>({...f}))},getEdge:h=>t.getState().edgeLookup.get(h),setNodes:s,setEdges:l,addNodes:h=>{const f=Array.isArray(h)?h:[h];n.nodeQueue.push(m=>[...m,...f])},addEdges:h=>{const f=Array.isArray(h)?h:[h];n.edgeQueue.push(m=>[...m,...f])},toObject:()=>{const{nodes:h=[],edges:f=[],transform:m}=t.getState(),[p,g,x]=m;return{nodes:h.map(y=>({...y})),edges:f.map(y=>({...y})),viewport:{x:p,y:g,zoom:x}}},deleteElements:async({nodes:h=[],edges:f=[]})=>{const{nodes:m,edges:p,onNodesDelete:g,onEdgesDelete:x,triggerNodeChanges:y,triggerEdgeChanges:v,onDelete:b,onBeforeDelete:E}=t.getState(),{nodes:_,edges:S}=await Ept({nodesToRemove:h,edgesToRemove:f,nodes:m,edges:p,onBeforeDelete:E}),C=S.length>0,T=_.length>0;if(C){const j=S.map(PH);x==null||x(S),v(j)}if(T){const j=_.map(PH);g==null||g(_),y(j)}return(T||C)&&(b==null||b({nodes:_,edges:S})),{deletedNodes:_,deletedEdges:S}},getIntersectingNodes:(h,f=!0,m)=>{const p=uH(h),g=p?h:c(h),x=m!==void 0;return g?(m||t.getState().nodes).filter(y=>{const v=t.getState().nodeLookup.get(y.id);if(v&&!p&&(y.id===h.id||!v.internals.positionAbsolute))return!1;const b=mg(x?y:v),E=Yv(b,g);return f&&E>0||E>=g.width*g.height}):[]},isNodeIntersecting:(h,f,m=!0)=>{const g=uH(h)?h:c(h);if(!g)return!1;const x=Yv(g,f);return m&&x>0||x>=g.width*g.height},updateNode:u,updateNodeData:(h,f,m={replace:!1})=>{u(h,p=>{const g=typeof f=="function"?f(p):f;return m.replace?{...p,data:g}:{...p,data:{...p.data,...g}}},m)},updateEdge:d,updateEdgeData:(h,f,m={replace:!1})=>{d(h,p=>{const g=typeof f=="function"?f(p):f;return m.replace?{...p,data:g}:{...p,data:{...p.data,...g}}},m)},getNodesBounds:h=>{const{nodeLookup:f,nodeOrigin:m}=t.getState();return xpt(h,{nodeLookup:f,nodeOrigin:m})},getHandleConnections:({type:h,id:f,nodeId:m})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${m}-${h}${f?`-${f}`:""}`))==null?void 0:p.values())??[])},getNodeConnections:({type:h,handleId:f,nodeId:m})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${m}${h?f?`-${h}-${f}`:`-${h}`:""}`))==null?void 0:p.values())??[])},fitView:async h=>{const f=t.getState().fitViewResolver??Promise.withResolvers();return t.setState({fitViewQueued:!0,fitViewOptions:h,fitViewResolver:f}),n.nodeQueue.push(m=>[...m]),f.promise}}},[]);return w.useMemo(()=>({...i,...e,viewportInitialized:r}),[r])}const RH=e=>e.selected,u0t={actInsideInputWithModifier:!1},d0t=typeof window<"u"?window:void 0;function h0t({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=ar(),{deleteElements:r}=eN(),i=Xv(e,u0t),a=Xv(t,{target:d0t});w.useEffect(()=>{if(i){const{edges:s,nodes:l}=n.getState();r({nodes:l.filter(RH),edges:s.filter(RH)}),n.setState({nodesSelectionActive:!1})}},[i]),w.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])}function f0t(e){const t=ar();w.useEffect(()=>{const n=()=>{var i,a;if(!e.current)return!1;const r=F4(e.current);(r.height===0||r.width===0)&&((a=(i=t.getState()).onError)==null||a.call(i,"004",_l.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const tN={position:"absolute",width:"100%",height:"100%",top:0,left:0},m0t=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function p0t({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:a=Oh.Free,zoomOnDoubleClick:s=!0,panOnDrag:l=!0,defaultViewport:c,translateExtent:u,minZoom:d,maxZoom:h,zoomActivationKeyCode:f,preventScrolling:m=!0,children:p,noWheelClassName:g,noPanClassName:x,onViewportChange:y,isControlledViewport:v,paneClickDistance:b}){const E=ar(),_=w.useRef(null),{userSelectionActive:S,lib:C}=mn(m0t,Cr),T=Xv(f),j=w.useRef();f0t(_);const k=w.useCallback(O=>{y==null||y({x:O[0],y:O[1],zoom:O[2]}),v||E.setState({transform:O})},[y,v]);return w.useEffect(()=>{if(_.current){j.current=igt({domNode:_.current,minZoom:d,maxZoom:h,translateExtent:u,viewport:c,paneClickDistance:b,onDraggingChange:N=>E.setState({paneDragging:N}),onPanZoomStart:(N,D)=>{const{onViewportChangeStart:P,onMoveStart:L}=E.getState();L==null||L(N,D),P==null||P(D)},onPanZoom:(N,D)=>{const{onViewportChange:P,onMove:L}=E.getState();L==null||L(N,D),P==null||P(D)},onPanZoomEnd:(N,D)=>{const{onViewportChangeEnd:P,onMoveEnd:L}=E.getState();L==null||L(N,D),P==null||P(D)}});const{x:O,y:M,zoom:B}=j.current.getViewport();return E.setState({panZoom:j.current,transform:[O,M,B],domNode:_.current.closest(".react-flow")}),()=>{var N;(N=j.current)==null||N.destroy()}}},[]),w.useEffect(()=>{var O;(O=j.current)==null||O.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:a,zoomOnDoubleClick:s,panOnDrag:l,zoomActivationKeyPressed:T,preventScrolling:m,noPanClassName:x,userSelectionActive:S,noWheelClassName:g,lib:C,onTransformChange:k})},[e,t,n,r,i,a,s,l,T,m,x,S,g,C,k]),o.jsx("div",{className:"react-flow__renderer",ref:_,style:tN,children:p})}const g0t=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function y0t(){const{userSelectionActive:e,userSelectionRect:t}=mn(g0t,Cr);return e&&t?o.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const IA=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},x0t=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function v0t({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Gv.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:a,onSelectionEnd:s,onPaneClick:l,onPaneContextMenu:c,onPaneScroll:u,onPaneMouseEnter:d,onPaneMouseMove:h,onPaneMouseLeave:f,children:m}){const p=ar(),{userSelectionActive:g,elementsSelectable:x,dragging:y,connectionInProgress:v}=mn(x0t,Cr),b=x&&(e||g),E=w.useRef(null),_=w.useRef(),S=w.useRef(new Set),C=w.useRef(new Set),T=w.useRef(!1),j=w.useRef(!1),k=L=>{if(T.current||v){T.current=!1;return}l==null||l(L),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},O=L=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){L.preventDefault();return}c==null||c(L)},M=u?L=>u(L):void 0,B=L=>{var z,R;const{resetSelectedElements:I,domNode:U}=p.getState();if(_.current=U==null?void 0:U.getBoundingClientRect(),!x||!e||L.button!==0||L.target!==E.current||!_.current)return;(R=(z=L.target)==null?void 0:z.setPointerCapture)==null||R.call(z,L.pointerId),j.current=!0,T.current=!1;const{x:$,y:W}=yc(L.nativeEvent,_.current);I(),p.setState({userSelectionRect:{width:0,height:0,startX:$,startY:W,x:$,y:W}}),a==null||a(L)},N=L=>{const{userSelectionRect:I,transform:U,nodeLookup:$,edgeLookup:W,connectionLookup:z,triggerNodeChanges:R,triggerEdgeChanges:G,defaultEdgeOptions:Q}=p.getState();if(!_.current||!I)return;T.current=!0;const{x:oe,y:re}=yc(L.nativeEvent,_.current),{startX:pe,startY:ce}=I,me={startX:pe,startY:ce,x:oe<pe?oe:pe,y:re<ce?re:ce,width:Math.abs(oe-pe),height:Math.abs(re-ce)},ye=S.current,ae=C.current;S.current=new Set(Ile($,me,U,n===Gv.Partial,!0).map(H=>H.id)),C.current=new Set;const Ae=(Q==null?void 0:Q.selectable)??!0;for(const H of S.current){const Z=z.get(H);if(Z)for(const{edgeId:he}of Z.values()){const se=W.get(he);se&&(se.selectable??Ae)&&C.current.add(he)}}if(!dH(ye,S.current)){const H=jm($,S.current,!0);R(H)}if(!dH(ae,C.current)){const H=jm(W,C.current);G(H)}p.setState({userSelectionRect:me,userSelectionActive:!0,nodesSelectionActive:!1})},D=L=>{var U,$;if(L.button!==0||!j.current)return;($=(U=L.target)==null?void 0:U.releasePointerCapture)==null||$.call(U,L.pointerId);const{userSelectionRect:I}=p.getState();!g&&I&&L.target===E.current&&(k==null||k(L)),p.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:S.current.size>0}),s==null||s(L),(t||i)&&(T.current=!1),j.current=!1},P=r===!0||Array.isArray(r)&&r.includes(0);return o.jsxs("div",{className:Vr(["react-flow__pane",{draggable:P,dragging:y,selection:e}]),onClick:b?void 0:IA(k,E),onContextMenu:IA(O,E),onWheel:IA(M,E),onPointerEnter:b?void 0:d,onPointerDown:b?B:h,onPointerMove:b?N:h,onPointerUp:b?D:void 0,onPointerLeave:f,ref:E,style:tN,children:[m,o.jsx(y0t,{})]})}function rI({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:a,multiSelectionActive:s,nodeLookup:l,onError:c}=t.getState(),u=l.get(e);if(!u){c==null||c("012",_l.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(a({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):i([e])}function xce({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:a,nodeClickDistance:s}){const l=ar(),[c,u]=w.useState(!1),d=w.useRef();return w.useEffect(()=>{d.current=Vpt({getStoreItems:()=>l.getState(),onNodeMouseDown:h=>{rI({id:h,store:l,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),w.useEffect(()=>{var h,f;if(t)(h=d.current)==null||h.destroy();else if(e.current)return(f=d.current)==null||f.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:a,nodeId:i,nodeClickDistance:s}),()=>{var m;(m=d.current)==null||m.destroy()}},[n,r,t,a,e,i]),c}const b0t=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function vce(){const e=ar();return w.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:a,nodesDraggable:s,onError:l,updateNodePositions:c,nodeLookup:u,nodeOrigin:d}=e.getState(),h=new Map,f=b0t(s),m=i?a[0]:5,p=i?a[1]:5,g=n.direction.x*m*n.factor,x=n.direction.y*p*n.factor;for(const[,y]of u){if(!f(y))continue;let v={x:y.internals.positionAbsolute.x+g,y:y.internals.positionAbsolute.y+x};i&&(v=KT(v,a));const{position:b,positionAbsolute:E}=Rle({nodeId:y.id,nextPosition:v,nodeLookup:u,nodeExtent:r,nodeOrigin:d,onError:l});y.position=b,y.internals.positionAbsolute=E,h.set(y.id,y)}c(h)},[])}const W4=w.createContext(null),w0t=W4.Provider;W4.Consumer;const bce=()=>w.useContext(W4),E0t=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),S0t=(e,t,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:a,connection:s}=r,{fromHandle:l,toHandle:c,isValid:u}=s,d=(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===n;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n,connectingTo:d,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.id)===t&&(i==null?void 0:i.type)===n,isPossibleEndHandle:a===hg.Strict?(l==null?void 0:l.type)!==n:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!i,valid:d&&u}};function _0t({type:e="source",position:t=Et.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:a=!0,id:s,onConnect:l,children:c,className:u,onMouseDown:d,onTouchStart:h,...f},m){var D,P;const p=s||null,g=e==="target",x=ar(),y=bce(),{connectOnClick:v,noPanClassName:b,rfId:E}=mn(E0t,Cr),{connectingFrom:_,connectingTo:S,clickConnecting:C,isPossibleEndHandle:T,connectionInProcess:j,clickConnectionInProcess:k,valid:O}=mn(S0t(y,p,e),Cr);y||(P=(D=x.getState()).onError)==null||P.call(D,"010",_l.error010());const M=L=>{const{defaultEdgeOptions:I,onConnect:U,hasDefaultEdges:$}=x.getState(),W={...I,...L};if($){const{edges:z,setEdges:R}=x.getState();R(Opt(W,z))}U==null||U(W),l==null||l(W)},B=L=>{if(!y)return;const I=Hle(L.nativeEvent);if(i&&(I&&L.button===0||!I)){const U=x.getState();nI.onPointerDown(L.nativeEvent,{autoPanOnConnect:U.autoPanOnConnect,connectionMode:U.connectionMode,connectionRadius:U.connectionRadius,domNode:U.domNode,nodeLookup:U.nodeLookup,lib:U.lib,isTarget:g,handleId:p,nodeId:y,flowId:U.rfId,panBy:U.panBy,cancelConnection:U.cancelConnection,onConnectStart:U.onConnectStart,onConnectEnd:U.onConnectEnd,updateConnection:U.updateConnection,onConnect:M,isValidConnection:n||U.isValidConnection,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,autoPanSpeed:U.autoPanSpeed})}I?d==null||d(L):h==null||h(L)},N=L=>{const{onClickConnectStart:I,onClickConnectEnd:U,connectionClickStartHandle:$,connectionMode:W,isValidConnection:z,lib:R,rfId:G,nodeLookup:Q,connection:oe}=x.getState();if(!y||!$&&!i)return;if(!$){I==null||I(L.nativeEvent,{nodeId:y,handleId:p,handleType:e}),x.setState({connectionClickStartHandle:{nodeId:y,type:e,id:p}});return}const re=zle(L.target),pe=n||z,{connection:ce,isValid:me}=nI.isValid(L.nativeEvent,{handle:{nodeId:y,id:p,type:e},connectionMode:W,fromNodeId:$.nodeId,fromHandleId:$.id||null,fromType:$.type,isValidConnection:pe,flowId:G,doc:re,lib:R,nodeLookup:Q});me&&ce&&M(ce);const ye=structuredClone(oe);delete ye.inProgress,ye.toPosition=ye.toHandle?ye.toHandle.position:null,U==null||U(L,ye),x.setState({connectionClickStartHandle:null})};return o.jsx("div",{"data-handleid":p,"data-nodeid":y,"data-handlepos":t,"data-id":`${E}-${y}-${p}-${e}`,className:Vr(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",b,u,{source:!g,target:g,connectable:r,connectablestart:i,connectableend:a,clickconnecting:C,connectingfrom:_,connectingto:S,valid:O,connectionindicator:r&&(!j||T)&&(j||k?a:i)}]),onMouseDown:B,onTouchStart:B,onClick:v?N:void 0,ref:m,...f,children:c})}const ud=w.memo(gce(_0t));function C0t({data:e,isConnectable:t,sourcePosition:n=Et.Bottom}){return o.jsxs(o.Fragment,{children:[e==null?void 0:e.label,o.jsx(ud,{type:"source",position:n,isConnectable:t})]})}function T0t({data:e,isConnectable:t,targetPosition:n=Et.Top,sourcePosition:r=Et.Bottom}){return o.jsxs(o.Fragment,{children:[o.jsx(ud,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,o.jsx(ud,{type:"source",position:r,isConnectable:t})]})}function N0t(){return null}function k0t({data:e,isConnectable:t,targetPosition:n=Et.Top}){return o.jsxs(o.Fragment,{children:[o.jsx(ud,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const eC={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},DH={input:C0t,default:T0t,output:k0t,group:N0t};function A0t(e){var t,n,r,i;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((i=e.style)==null?void 0:i.height)}}const j0t=e=>{const{width:t,height:n,x:r,y:i}=l1(e.nodeLookup,{filter:a=>!!a.selected});return{width:To(t)?t:null,height:To(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${i}px)`}};function O0t({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=ar(),{width:i,height:a,transformString:s,userSelectionActive:l}=mn(j0t,Cr),c=vce(),u=w.useRef(null);if(w.useEffect(()=>{var f;n||(f=u.current)==null||f.focus({preventScroll:!0})},[n]),xce({nodeRef:u}),l||!i||!a)return null;const d=e?f=>{const m=r.getState().nodes.filter(p=>p.selected);e(f,m)}:void 0,h=f=>{Object.prototype.hasOwnProperty.call(eC,f.key)&&(f.preventDefault(),c({direction:eC[f.key],factor:f.shiftKey?4:1}))};return o.jsx("div",{className:Vr(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:o.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:i,height:a}})})}const LH=typeof window<"u"?window:void 0,P0t=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function wce({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:s,paneClickDistance:l,deleteKeyCode:c,selectionKeyCode:u,selectionOnDrag:d,selectionMode:h,onSelectionStart:f,onSelectionEnd:m,multiSelectionKeyCode:p,panActivationKeyCode:g,zoomActivationKeyCode:x,elementsSelectable:y,zoomOnScroll:v,zoomOnPinch:b,panOnScroll:E,panOnScrollSpeed:_,panOnScrollMode:S,zoomOnDoubleClick:C,panOnDrag:T,defaultViewport:j,translateExtent:k,minZoom:O,maxZoom:M,preventScrolling:B,onSelectionContextMenu:N,noWheelClassName:D,noPanClassName:P,disableKeyboardA11y:L,onViewportChange:I,isControlledViewport:U}){const{nodesSelectionActive:$,userSelectionActive:W}=mn(P0t),z=Xv(u,{target:LH}),R=Xv(g,{target:LH}),G=R||T,Q=R||E,oe=d&&G!==!0,re=z||W||oe;return h0t({deleteKeyCode:c,multiSelectionKeyCode:p}),o.jsx(p0t,{onPaneContextMenu:a,elementsSelectable:y,zoomOnScroll:v,zoomOnPinch:b,panOnScroll:Q,panOnScrollSpeed:_,panOnScrollMode:S,zoomOnDoubleClick:C,panOnDrag:!z&&G,defaultViewport:j,translateExtent:k,minZoom:O,maxZoom:M,zoomActivationKeyCode:x,preventScrolling:B,noWheelClassName:D,noPanClassName:P,onViewportChange:I,isControlledViewport:U,paneClickDistance:l,children:o.jsxs(v0t,{onSelectionStart:f,onSelectionEnd:m,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:s,panOnDrag:G,isSelecting:!!re,selectionMode:h,selectionKeyPressed:z,selectionOnDrag:oe,children:[e,$&&o.jsx(O0t,{onSelectionContextMenu:N,noPanClassName:P,disableKeyboardA11y:L})]})})}wce.displayName="FlowRenderer";const M0t=w.memo(wce),I0t=e=>t=>e?Ile(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function R0t(e){return mn(w.useCallback(I0t(e),[e]),Cr)}const D0t=e=>e.updateNodeInternals;function L0t(){const e=mn(D0t),[t]=w.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const a=i.target.getAttribute("data-id");r.set(a,{id:a,nodeElement:i.target,force:!0})}),e(r)}));return w.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function $0t({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const i=ar(),a=w.useRef(null),s=w.useRef(null),l=w.useRef(e.sourcePosition),c=w.useRef(e.targetPosition),u=w.useRef(t),d=n&&!!e.internals.handleBounds;return w.useEffect(()=>{a.current&&!e.hidden&&(!d||s.current!==a.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(a.current),s.current=a.current)},[d,e.hidden]),w.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),w.useEffect(()=>{if(a.current){const h=u.current!==t,f=l.current!==e.sourcePosition,m=c.current!==e.targetPosition;(h||f||m)&&(u.current=t,l.current=e.sourcePosition,c.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:a.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),a}function B0t({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:a,onDoubleClick:s,nodesDraggable:l,elementsSelectable:c,nodesConnectable:u,nodesFocusable:d,resizeObserver:h,noDragClassName:f,noPanClassName:m,disableKeyboardA11y:p,rfId:g,nodeTypes:x,nodeClickDistance:y,onError:v}){const{node:b,internals:E,isParent:_}=mn(re=>{const pe=re.nodeLookup.get(e),ce=re.parentLookup.has(e);return{node:pe,internals:pe.internals,isParent:ce}},Cr);let S=b.type||"default",C=(x==null?void 0:x[S])||DH[S];C===void 0&&(v==null||v("003",_l.error003(S)),S="default",C=DH.default);const T=!!(b.draggable||l&&typeof b.draggable>"u"),j=!!(b.selectable||c&&typeof b.selectable>"u"),k=!!(b.connectable||u&&typeof b.connectable>"u"),O=!!(b.focusable||d&&typeof b.focusable>"u"),M=ar(),B=Ble(b),N=$0t({node:b,nodeType:S,hasDimensions:B,resizeObserver:h}),D=xce({nodeRef:N,disabled:b.hidden||!T,noDragClassName:f,handleSelector:b.dragHandle,nodeId:e,isSelectable:j,nodeClickDistance:y}),P=vce();if(b.hidden)return null;const L=zc(b),I=A0t(b),U=j||T||t||n||r||i,$=n?re=>n(re,{...E.userNode}):void 0,W=r?re=>r(re,{...E.userNode}):void 0,z=i?re=>i(re,{...E.userNode}):void 0,R=a?re=>a(re,{...E.userNode}):void 0,G=s?re=>s(re,{...E.userNode}):void 0,Q=re=>{const{selectNodesOnDrag:pe,nodeDragThreshold:ce}=M.getState();j&&(!pe||!T||ce>0)&&rI({id:e,store:M,nodeRef:N}),t&&t(re,{...E.userNode})},oe=re=>{if(!(Ule(re.nativeEvent)||p))if(jle.includes(re.key)&&j){const pe=re.key==="Escape";rI({id:e,store:M,unselect:pe,nodeRef:N})}else T&&b.selected&&Object.prototype.hasOwnProperty.call(eC,re.key)&&(re.preventDefault(),M.setState({ariaLiveMessage:`Moved selected node ${re.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~E.positionAbsolute.x}, y: ${~~E.positionAbsolute.y}`}),P({direction:eC[re.key],factor:re.shiftKey?4:1}))};return o.jsx("div",{className:Vr(["react-flow__node",`react-flow__node-${S}`,{[m]:T},b.className,{selected:b.selected,selectable:j,parent:_,draggable:T,dragging:D}]),ref:N,style:{zIndex:E.z,transform:`translate(${E.positionAbsolute.x}px,${E.positionAbsolute.y}px)`,pointerEvents:U?"all":"none",visibility:B?"visible":"hidden",...b.style,...I},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:$,onMouseMove:W,onMouseLeave:z,onContextMenu:R,onClick:Q,onDoubleClick:G,onKeyDown:O?oe:void 0,tabIndex:O?0:void 0,role:O?"button":void 0,"aria-describedby":p?void 0:`${uce}-${g}`,"aria-label":b.ariaLabel,children:o.jsx(w0t,{value:e,children:o.jsx(C,{id:e,data:b.data,type:S,positionAbsoluteX:E.positionAbsolute.x,positionAbsoluteY:E.positionAbsolute.y,selected:b.selected??!1,selectable:j,draggable:T,deletable:b.deletable??!0,isConnectable:k,sourcePosition:b.sourcePosition,targetPosition:b.targetPosition,dragging:D,dragHandle:b.dragHandle,zIndex:E.z,parentId:b.parentId,...L})})})}const F0t=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Ece(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:a}=mn(F0t,Cr),s=R0t(e.onlyRenderVisibleElements),l=L0t();return o.jsx("div",{className:"react-flow__nodes",style:tN,children:s.map(c=>o.jsx(B0t,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:a},c))})}Ece.displayName="NodeRenderer";const z0t=w.memo(Ece);function U0t(e){return mn(w.useCallback(n=>{if(!e)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const a=n.nodeLookup.get(i.source),s=n.nodeLookup.get(i.target);a&&s&&kpt({sourceNode:a,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[e]),Cr)}const H0t=({color:e="none",strokeWidth:t=1})=>o.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),V0t=({color:e="none",strokeWidth:t=1})=>o.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),$H={[X_.Arrow]:H0t,[X_.ArrowClosed]:V0t};function W0t(e){const t=ar();return w.useMemo(()=>{var i,a;return Object.prototype.hasOwnProperty.call($H,e)?$H[e]:((a=(i=t.getState()).onError)==null||a.call(i,"009",_l.error009(e)),null)},[e])}const q0t=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:a="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const c=W0t(t);return c?o.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:l,refX:"0",refY:"0",children:o.jsx(c,{color:n,strokeWidth:s})}):null},Sce=({defaultColor:e,rfId:t})=>{const n=mn(a=>a.edges),r=mn(a=>a.defaultEdgeOptions),i=w.useMemo(()=>Dpt(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return i.length?o.jsx("svg",{className:"react-flow__marker",children:o.jsx("defs",{children:i.map(a=>o.jsx(q0t,{id:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,strokeWidth:a.strokeWidth,orient:a.orient},a.id))})}):null};Sce.displayName="MarkerDefinitions";var G0t=w.memo(Sce);function _ce({x:e,y:t,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:a,labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:c,className:u,...d}){const[h,f]=w.useState({x:1,y:0,width:0,height:0}),m=Vr(["react-flow__edge-textwrapper",u]),p=w.useRef(null);return w.useEffect(()=>{if(p.current){const g=p.current.getBBox();f({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),n?o.jsxs("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:m,visibility:h.width?"visible":"hidden",...d,children:[i&&o.jsx("rect",{width:h.width+2*s[0],x:-s[0],y:-s[1],height:h.height+2*s[1],className:"react-flow__edge-textbg",style:a,rx:l,ry:l}),o.jsx("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:p,style:r,children:n}),c]}):null}_ce.displayName="EdgeText";const Y0t=w.memo(_ce);function nN({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,interactionWidth:u=20,...d}){return o.jsxs(o.Fragment,{children:[o.jsx("path",{...d,d:e,fill:"none",className:Vr(["react-flow__edge-path",d.className])}),u&&o.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}),r&&To(t)&&To(n)?o.jsx(Y0t,{x:t,y:n,label:r,labelStyle:i,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c}):null]})}function BH({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===Et.Left||e===Et.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function Cce({sourceX:e,sourceY:t,sourcePosition:n=Et.Bottom,targetX:r,targetY:i,targetPosition:a=Et.Top}){const[s,l]=BH({pos:n,x1:e,y1:t,x2:r,y2:i}),[c,u]=BH({pos:a,x1:r,y1:i,x2:e,y2:t}),[d,h,f,m]=Vle({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${s},${l} ${c},${u} ${r},${i}`,d,h,f,m]}function Tce(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:a,sourcePosition:s,targetPosition:l,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:m,style:p,markerEnd:g,markerStart:x,interactionWidth:y})=>{const[v,b,E]=Cce({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:a,targetPosition:l}),_=e.isInternal?void 0:t;return o.jsx(nN,{id:_,path:v,labelX:b,labelY:E,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:m,style:p,markerEnd:g,markerStart:x,interactionWidth:y})})}const K0t=Tce({isInternal:!1}),Nce=Tce({isInternal:!0});K0t.displayName="SimpleBezierEdge";Nce.displayName="SimpleBezierEdgeInternal";function kce(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:a,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,sourcePosition:m=Et.Bottom,targetPosition:p=Et.Top,markerEnd:g,markerStart:x,pathOptions:y,interactionWidth:v})=>{const[b,E,_]=JM({sourceX:n,sourceY:r,sourcePosition:m,targetX:i,targetY:a,targetPosition:p,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset}),S=e.isInternal?void 0:t;return o.jsx(nN,{id:S,path:b,labelX:E,labelY:_,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:g,markerStart:x,interactionWidth:v})})}const Ace=kce({isInternal:!1}),jce=kce({isInternal:!0});Ace.displayName="SmoothStepEdge";jce.displayName="SmoothStepEdgeInternal";function Oce(e){return w.memo(({id:t,...n})=>{var i;const r=e.isInternal?void 0:t;return o.jsx(Ace,{...n,id:r,pathOptions:w.useMemo(()=>{var a;return{borderRadius:0,offset:(a=n.pathOptions)==null?void 0:a.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const X0t=Oce({isInternal:!1}),Pce=Oce({isInternal:!0});X0t.displayName="StepEdge";Pce.displayName="StepEdgeInternal";function Mce(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:a,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:m,markerStart:p,interactionWidth:g})=>{const[x,y,v]=Gle({sourceX:n,sourceY:r,targetX:i,targetY:a}),b=e.isInternal?void 0:t;return o.jsx(nN,{id:b,path:x,labelX:y,labelY:v,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:m,markerStart:p,interactionWidth:g})})}const Z0t=Mce({isInternal:!1}),Ice=Mce({isInternal:!0});Z0t.displayName="StraightEdge";Ice.displayName="StraightEdgeInternal";function Rce(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:a,sourcePosition:s=Et.Bottom,targetPosition:l=Et.Top,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:m,style:p,markerEnd:g,markerStart:x,pathOptions:y,interactionWidth:v})=>{const[b,E,_]=Wle({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:a,targetPosition:l,curvature:y==null?void 0:y.curvature}),S=e.isInternal?void 0:t;return o.jsx(nN,{id:S,path:b,labelX:E,labelY:_,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:m,style:p,markerEnd:g,markerStart:x,interactionWidth:v})})}const Q0t=Rce({isInternal:!1}),Dce=Rce({isInternal:!0});Q0t.displayName="BezierEdge";Dce.displayName="BezierEdgeInternal";const FH={default:Dce,straight:Ice,step:Pce,smoothstep:jce,simplebezier:Nce},zH={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},J0t=(e,t,n)=>n===Et.Left?e-t:n===Et.Right?e+t:e,eyt=(e,t,n)=>n===Et.Top?e-t:n===Et.Bottom?e+t:e,UH="react-flow__edgeupdater";function HH({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:a,onMouseOut:s,type:l}){return o.jsx("circle",{onMouseDown:i,onMouseEnter:a,onMouseOut:s,className:Vr([UH,`${UH}-${l}`]),cx:J0t(t,r,e),cy:eyt(n,r,e),r,stroke:"transparent",fill:"transparent"})}function tyt({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:a,targetY:s,sourcePosition:l,targetPosition:c,onReconnect:u,onReconnectStart:d,onReconnectEnd:h,setReconnecting:f,setUpdateHover:m}){const p=ar(),g=(E,_)=>{if(E.button!==0)return;const{autoPanOnConnect:S,domNode:C,isValidConnection:T,connectionMode:j,connectionRadius:k,lib:O,onConnectStart:M,onConnectEnd:B,cancelConnection:N,nodeLookup:D,rfId:P,panBy:L,updateConnection:I}=p.getState(),U=_.type==="target";f(!0),d==null||d(E,n,_.type);const $=(z,R)=>{f(!1),h==null||h(z,n,_.type,R)},W=z=>u==null?void 0:u(n,z);nI.onPointerDown(E.nativeEvent,{autoPanOnConnect:S,connectionMode:j,connectionRadius:k,domNode:C,handleId:_.id,nodeId:_.nodeId,nodeLookup:D,isTarget:U,edgeUpdaterType:_.type,lib:O,flowId:P,cancelConnection:N,panBy:L,isValidConnection:T,onConnect:W,onConnectStart:M,onConnectEnd:B,onReconnectEnd:$,updateConnection:I,getTransform:()=>p.getState().transform,getFromHandle:()=>p.getState().connection.fromHandle})},x=E=>g(E,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),y=E=>g(E,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),v=()=>m(!0),b=()=>m(!1);return o.jsxs(o.Fragment,{children:[(e===!0||e==="source")&&o.jsx(HH,{position:l,centerX:r,centerY:i,radius:t,onMouseDown:x,onMouseEnter:v,onMouseOut:b,type:"source"}),(e===!0||e==="target")&&o.jsx(HH,{position:c,centerX:a,centerY:s,radius:t,onMouseDown:y,onMouseEnter:v,onMouseOut:b,type:"target"})]})}function nyt({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:a,onContextMenu:s,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,reconnectRadius:d,onReconnect:h,onReconnectStart:f,onReconnectEnd:m,rfId:p,edgeTypes:g,noPanClassName:x,onError:y,disableKeyboardA11y:v}){let b=mn(ae=>ae.edgeLookup.get(e));const E=mn(ae=>ae.defaultEdgeOptions);b=E?{...E,...b}:b;let _=b.type||"default",S=(g==null?void 0:g[_])||FH[_];S===void 0&&(y==null||y("011",_l.error011(_)),_="default",S=FH.default);const C=!!(b.focusable||t&&typeof b.focusable>"u"),T=typeof h<"u"&&(b.reconnectable||n&&typeof b.reconnectable>"u"),j=!!(b.selectable||r&&typeof b.selectable>"u"),k=w.useRef(null),[O,M]=w.useState(!1),[B,N]=w.useState(!1),D=ar(),{zIndex:P,sourceX:L,sourceY:I,targetX:U,targetY:$,sourcePosition:W,targetPosition:z}=mn(w.useCallback(ae=>{const Ae=ae.nodeLookup.get(b.source),H=ae.nodeLookup.get(b.target);if(!Ae||!H)return{zIndex:b.zIndex,...zH};const Z=Rpt({id:e,sourceNode:Ae,targetNode:H,sourceHandle:b.sourceHandle||null,targetHandle:b.targetHandle||null,connectionMode:ae.connectionMode,onError:y});return{zIndex:Npt({selected:b.selected,zIndex:b.zIndex,sourceNode:Ae,targetNode:H,elevateOnSelect:ae.elevateEdgesOnSelect}),...Z||zH}},[b.source,b.target,b.sourceHandle,b.targetHandle,b.selected,b.zIndex]),Cr),R=w.useMemo(()=>b.markerStart?`url('#${eI(b.markerStart,p)}')`:void 0,[b.markerStart,p]),G=w.useMemo(()=>b.markerEnd?`url('#${eI(b.markerEnd,p)}')`:void 0,[b.markerEnd,p]);if(b.hidden||L===null||I===null||U===null||$===null)return null;const Q=ae=>{var he;const{addSelectedEdges:Ae,unselectNodesAndEdges:H,multiSelectionActive:Z}=D.getState();j&&(D.setState({nodesSelectionActive:!1}),b.selected&&Z?(H({nodes:[],edges:[b]}),(he=k.current)==null||he.blur()):Ae([e])),i&&i(ae,b)},oe=a?ae=>{a(ae,{...b})}:void 0,re=s?ae=>{s(ae,{...b})}:void 0,pe=l?ae=>{l(ae,{...b})}:void 0,ce=c?ae=>{c(ae,{...b})}:void 0,me=u?ae=>{u(ae,{...b})}:void 0,ye=ae=>{var Ae;if(!v&&jle.includes(ae.key)&&j){const{unselectNodesAndEdges:H,addSelectedEdges:Z}=D.getState();ae.key==="Escape"?((Ae=k.current)==null||Ae.blur(),H({edges:[b]})):Z([e])}};return o.jsx("svg",{style:{zIndex:P},children:o.jsxs("g",{className:Vr(["react-flow__edge",`react-flow__edge-${_}`,b.className,x,{selected:b.selected,animated:b.animated,inactive:!j&&!i,updating:O,selectable:j}]),onClick:Q,onDoubleClick:oe,onContextMenu:re,onMouseEnter:pe,onMouseMove:ce,onMouseLeave:me,onKeyDown:C?ye:void 0,tabIndex:C?0:void 0,role:C?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":b.ariaLabel===null?void 0:b.ariaLabel||`Edge from ${b.source} to ${b.target}`,"aria-describedby":C?`${dce}-${p}`:void 0,ref:k,children:[!B&&o.jsx(S,{id:e,source:b.source,target:b.target,type:b.type,selected:b.selected,animated:b.animated,selectable:j,deletable:b.deletable??!0,label:b.label,labelStyle:b.labelStyle,labelShowBg:b.labelShowBg,labelBgStyle:b.labelBgStyle,labelBgPadding:b.labelBgPadding,labelBgBorderRadius:b.labelBgBorderRadius,sourceX:L,sourceY:I,targetX:U,targetY:$,sourcePosition:W,targetPosition:z,data:b.data,style:b.style,sourceHandleId:b.sourceHandle,targetHandleId:b.targetHandle,markerStart:R,markerEnd:G,pathOptions:"pathOptions"in b?b.pathOptions:void 0,interactionWidth:b.interactionWidth}),T&&o.jsx(tyt,{edge:b,isReconnectable:T,reconnectRadius:d,onReconnect:h,onReconnectStart:f,onReconnectEnd:m,sourceX:L,sourceY:I,targetX:U,targetY:$,sourcePosition:W,targetPosition:z,setUpdateHover:M,setReconnecting:N})]})})}const ryt=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Lce({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:a,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,reconnectRadius:h,onEdgeDoubleClick:f,onReconnectStart:m,onReconnectEnd:p,disableKeyboardA11y:g}){const{edgesFocusable:x,edgesReconnectable:y,elementsSelectable:v,onError:b}=mn(ryt,Cr),E=U0t(t);return o.jsxs("div",{className:"react-flow__edges",children:[o.jsx(G0t,{defaultColor:e,rfId:n}),E.map(_=>o.jsx(nyt,{id:_,edgesFocusable:x,edgesReconnectable:y,elementsSelectable:v,noPanClassName:i,onReconnect:a,onContextMenu:s,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:d,reconnectRadius:h,onDoubleClick:f,onReconnectStart:m,onReconnectEnd:p,rfId:n,onError:b,edgeTypes:r,disableKeyboardA11y:g},_))]})}Lce.displayName="EdgeRenderer";const iyt=w.memo(Lce),ayt=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function syt({children:e}){const t=mn(ayt);return o.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function oyt(e){const t=eN(),n=w.useRef(!1);w.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const lyt=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function cyt(e){const t=mn(lyt),n=ar();return w.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function uyt(e){return e.connection.inProgress?{...e.connection,to:c1(e.connection.to,e.transform)}:{...e.connection}}function dyt(e){return uyt}function hyt(e){const t=dyt();return mn(t,Cr)}const fyt=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function myt({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:i,width:a,height:s,isValid:l,inProgress:c}=mn(fyt,Cr);return!(a&&i&&c)?null:o.jsx("svg",{style:e,width:a,height:s,className:"react-flow__connectionline react-flow__container",children:o.jsx("g",{className:Vr(["react-flow__connection",Ple(l)]),children:o.jsx($ce,{style:t,type:n,CustomComponent:r,isValid:l})})})}const $ce=({style:e,type:t=bu.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:a,fromNode:s,fromHandle:l,fromPosition:c,to:u,toNode:d,toHandle:h,toPosition:f}=hyt();if(!i)return;if(n)return o.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:l,fromX:a.x,fromY:a.y,toX:u.x,toY:u.y,fromPosition:c,toPosition:f,connectionStatus:Ple(r),toNode:d,toHandle:h});let m="";const p={sourceX:a.x,sourceY:a.y,sourcePosition:c,targetX:u.x,targetY:u.y,targetPosition:f};switch(t){case bu.Bezier:[m]=Wle(p);break;case bu.SimpleBezier:[m]=Cce(p);break;case bu.Step:[m]=JM({...p,borderRadius:0});break;case bu.SmoothStep:[m]=JM(p);break;default:[m]=Gle(p)}return o.jsx("path",{d:m,fill:"none",className:"react-flow__connection-path",style:e})};$ce.displayName="ConnectionLine";const pyt={};function VH(e=pyt){w.useRef(e),ar(),w.useEffect(()=>{},[e])}function gyt(){ar(),w.useRef(!1),w.useEffect(()=>{},[])}function Bce({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:a,onEdgeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:d,onSelectionContextMenu:h,onSelectionStart:f,onSelectionEnd:m,connectionLineType:p,connectionLineStyle:g,connectionLineComponent:x,connectionLineContainerStyle:y,selectionKeyCode:v,selectionOnDrag:b,selectionMode:E,multiSelectionKeyCode:_,panActivationKeyCode:S,zoomActivationKeyCode:C,deleteKeyCode:T,onlyRenderVisibleElements:j,elementsSelectable:k,defaultViewport:O,translateExtent:M,minZoom:B,maxZoom:N,preventScrolling:D,defaultMarkerColor:P,zoomOnScroll:L,zoomOnPinch:I,panOnScroll:U,panOnScrollSpeed:$,panOnScrollMode:W,zoomOnDoubleClick:z,panOnDrag:R,onPaneClick:G,onPaneMouseEnter:Q,onPaneMouseMove:oe,onPaneMouseLeave:re,onPaneScroll:pe,onPaneContextMenu:ce,paneClickDistance:me,nodeClickDistance:ye,onEdgeContextMenu:ae,onEdgeMouseEnter:Ae,onEdgeMouseMove:H,onEdgeMouseLeave:Z,reconnectRadius:he,onReconnect:se,onReconnectStart:V,onReconnectEnd:ie,noDragClassName:ue,noWheelClassName:we,noPanClassName:Se,disableKeyboardA11y:K,nodeExtent:Ce,rfId:Le,viewport:Y,onViewportChange:ee}){return VH(e),VH(t),gyt(),oyt(n),cyt(Y),o.jsx(M0t,{onPaneClick:G,onPaneMouseEnter:Q,onPaneMouseMove:oe,onPaneMouseLeave:re,onPaneContextMenu:ce,onPaneScroll:pe,paneClickDistance:me,deleteKeyCode:T,selectionKeyCode:v,selectionOnDrag:b,selectionMode:E,onSelectionStart:f,onSelectionEnd:m,multiSelectionKeyCode:_,panActivationKeyCode:S,zoomActivationKeyCode:C,elementsSelectable:k,zoomOnScroll:L,zoomOnPinch:I,zoomOnDoubleClick:z,panOnScroll:U,panOnScrollSpeed:$,panOnScrollMode:W,panOnDrag:R,defaultViewport:O,translateExtent:M,minZoom:B,maxZoom:N,onSelectionContextMenu:h,preventScrolling:D,noDragClassName:ue,noWheelClassName:we,noPanClassName:Se,disableKeyboardA11y:K,onViewportChange:ee,isControlledViewport:!!Y,children:o.jsxs(syt,{children:[o.jsx(iyt,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:s,onReconnect:se,onReconnectStart:V,onReconnectEnd:ie,onlyRenderVisibleElements:j,onEdgeContextMenu:ae,onEdgeMouseEnter:Ae,onEdgeMouseMove:H,onEdgeMouseLeave:Z,reconnectRadius:he,defaultMarkerColor:P,noPanClassName:Se,disableKeyboardA11y:K,rfId:Le}),o.jsx(myt,{style:g,type:p,component:x,containerStyle:y}),o.jsx("div",{className:"react-flow__edgelabel-renderer"}),o.jsx(z0t,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:a,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:d,nodeClickDistance:ye,onlyRenderVisibleElements:j,noPanClassName:Se,noDragClassName:ue,disableKeyboardA11y:K,nodeExtent:Ce,rfId:Le}),o.jsx("div",{className:"react-flow__viewport-portal"})]})})}Bce.displayName="GraphView";const yyt=w.memo(Bce),WH=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:a,fitView:s,nodeOrigin:l,nodeExtent:c}={})=>{const u=new Map,d=new Map,h=new Map,f=new Map,m=r??t??[],p=n??e??[],g=l??[0,0],x=c??qv;Kle(h,f,m),tI(p,u,d,{nodeOrigin:g,nodeExtent:x,elevateNodesOnSelect:!1});let y=[0,0,1];if(s&&i&&a){const v=l1(u,{filter:S=>!!((S.width||S.initialWidth)&&(S.height||S.initialHeight))}),{x:b,y:E,zoom:_}=B4(v,i,a,.5,2,.1);y=[b,E,_]}return{rfId:"1",width:0,height:0,transform:y,nodes:p,nodeLookup:u,parentLookup:d,edges:m,edgeLookup:f,connectionLookup:h,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:qv,nodeExtent:x,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:hg.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:g,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:void 0,fitViewResolver:null,connection:{...Ole},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:Spt,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},xyt=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:a,fitView:s,nodeOrigin:l,nodeExtent:c})=>Lgt((u,d)=>{async function h(){const{nodeLookup:f,panZoom:m,fitViewOptions:p,fitViewResolver:g,width:x,height:y,minZoom:v,maxZoom:b}=d();m&&(await wpt({nodes:f,width:x,height:y,panZoom:m,minZoom:v,maxZoom:b},p),g==null||g.resolve(!0),u({fitViewResolver:null}))}return{...WH({nodes:e,edges:t,width:i,height:a,fitView:s,nodeOrigin:l,nodeExtent:c,defaultNodes:n,defaultEdges:r}),setNodes:f=>{const{nodeLookup:m,parentLookup:p,nodeOrigin:g,elevateNodesOnSelect:x,fitViewQueued:y}=d(),v=tI(f,m,p,{nodeOrigin:g,nodeExtent:c,elevateNodesOnSelect:x,checkEquality:!0});y&&v?(h(),u({nodes:f,fitViewQueued:!1,fitViewOptions:void 0})):u({nodes:f})},setEdges:f=>{const{connectionLookup:m,edgeLookup:p}=d();Kle(m,p,f),u({edges:f})},setDefaultNodesAndEdges:(f,m)=>{if(f){const{setNodes:p}=d();p(f),u({hasDefaultNodes:!0})}if(m){const{setEdges:p}=d();p(m),u({hasDefaultEdges:!0})}},updateNodeInternals:f=>{const{triggerNodeChanges:m,nodeLookup:p,parentLookup:g,domNode:x,nodeOrigin:y,nodeExtent:v,debug:b,fitViewQueued:E}=d(),{changes:_,updatedInternals:S}=zpt(f,p,g,x,y,v);S&&($pt(p,g,{nodeOrigin:y,nodeExtent:v}),E?(h(),u({fitViewQueued:!1,fitViewOptions:void 0})):u({}),(_==null?void 0:_.length)>0&&(b&&console.log("React Flow: trigger node changes",_),m==null||m(_)))},updateNodePositions:(f,m=!1)=>{const p=[],g=[],{nodeLookup:x,triggerNodeChanges:y}=d();for(const[v,b]of f){const E=x.get(v),_=!!(E!=null&&E.expandParent&&(E!=null&&E.parentId)&&(b!=null&&b.position)),S={id:v,type:"position",position:_?{x:Math.max(0,b.position.x),y:Math.max(0,b.position.y)}:b.position,dragging:m};_&&E.parentId&&p.push({id:v,parentId:E.parentId,rect:{...b.internals.positionAbsolute,width:b.measured.width??0,height:b.measured.height??0}}),g.push(S)}if(p.length>0){const{parentLookup:v,nodeOrigin:b}=d(),E=V4(p,x,v,b);g.push(...E)}y(g)},triggerNodeChanges:f=>{const{onNodesChange:m,setNodes:p,nodes:g,hasDefaultNodes:x,debug:y}=d();if(f!=null&&f.length){if(x){const v=mce(f,g);p(v)}y&&console.log("React Flow: trigger node changes",f),m==null||m(f)}},triggerEdgeChanges:f=>{const{onEdgesChange:m,setEdges:p,edges:g,hasDefaultEdges:x,debug:y}=d();if(f!=null&&f.length){if(x){const v=pce(f,g);p(v)}y&&console.log("React Flow: trigger edge changes",f),m==null||m(f)}},addSelectedNodes:f=>{const{multiSelectionActive:m,edgeLookup:p,nodeLookup:g,triggerNodeChanges:x,triggerEdgeChanges:y}=d();if(m){const v=f.map(b=>Xd(b,!0));x(v);return}x(jm(g,new Set([...f]),!0)),y(jm(p))},addSelectedEdges:f=>{const{multiSelectionActive:m,edgeLookup:p,nodeLookup:g,triggerNodeChanges:x,triggerEdgeChanges:y}=d();if(m){const v=f.map(b=>Xd(b,!0));y(v);return}y(jm(p,new Set([...f]))),x(jm(g,new Set,!0))},unselectNodesAndEdges:({nodes:f,edges:m}={})=>{const{edges:p,nodes:g,nodeLookup:x,triggerNodeChanges:y,triggerEdgeChanges:v}=d(),b=f||g,E=m||p,_=b.map(C=>{const T=x.get(C.id);return T&&(T.selected=!1),Xd(C.id,!1)}),S=E.map(C=>Xd(C.id,!1));y(_),v(S)},setMinZoom:f=>{const{panZoom:m,maxZoom:p}=d();m==null||m.setScaleExtent([f,p]),u({minZoom:f})},setMaxZoom:f=>{const{panZoom:m,minZoom:p}=d();m==null||m.setScaleExtent([p,f]),u({maxZoom:f})},setTranslateExtent:f=>{var m;(m=d().panZoom)==null||m.setTranslateExtent(f),u({translateExtent:f})},setPaneClickDistance:f=>{var m;(m=d().panZoom)==null||m.setClickDistance(f)},resetSelectedElements:()=>{const{edges:f,nodes:m,triggerNodeChanges:p,triggerEdgeChanges:g}=d(),x=m.reduce((v,b)=>b.selected?[...v,Xd(b.id,!1)]:v,[]),y=f.reduce((v,b)=>b.selected?[...v,Xd(b.id,!1)]:v,[]);p(x),g(y)},setNodeExtent:f=>{const{nodes:m,nodeLookup:p,parentLookup:g,nodeOrigin:x,elevateNodesOnSelect:y,nodeExtent:v}=d();f[0][0]===v[0][0]&&f[0][1]===v[0][1]&&f[1][0]===v[1][0]&&f[1][1]===v[1][1]||(tI(m,p,g,{nodeOrigin:x,nodeExtent:f,elevateNodesOnSelect:y,checkEquality:!1}),u({nodeExtent:f}))},panBy:f=>{const{transform:m,width:p,height:g,panZoom:x,translateExtent:y}=d();return Upt({delta:f,panZoom:x,transform:m,translateExtent:y,width:p,height:g})},cancelConnection:()=>{u({connection:{...Ole}})},updateConnection:f=>{u({connection:f})},reset:()=>u({...WH()})}},Object.is);function Fce({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:a,fitView:s,nodeOrigin:l,nodeExtent:c,children:u}){const[d]=w.useState(()=>xyt({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:a,fitView:s,nodeOrigin:l,nodeExtent:c}));return o.jsx($gt,{value:d,children:o.jsx(o0t,{children:u})})}function vyt({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:a,height:s,fitView:l,nodeOrigin:c,nodeExtent:u}){return w.useContext(QT)?o.jsx(o.Fragment,{children:e}):o.jsx(Fce,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:a,initialHeight:s,fitView:l,nodeOrigin:c,nodeExtent:u,children:e})}const byt={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function wyt({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:a,edgeTypes:s,onNodeClick:l,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:h,onMoveEnd:f,onConnect:m,onConnectStart:p,onConnectEnd:g,onClickConnectStart:x,onClickConnectEnd:y,onNodeMouseEnter:v,onNodeMouseMove:b,onNodeMouseLeave:E,onNodeContextMenu:_,onNodeDoubleClick:S,onNodeDragStart:C,onNodeDrag:T,onNodeDragStop:j,onNodesDelete:k,onEdgesDelete:O,onDelete:M,onSelectionChange:B,onSelectionDragStart:N,onSelectionDrag:D,onSelectionDragStop:P,onSelectionContextMenu:L,onSelectionStart:I,onSelectionEnd:U,onBeforeDelete:$,connectionMode:W,connectionLineType:z=bu.Bezier,connectionLineStyle:R,connectionLineComponent:G,connectionLineContainerStyle:Q,deleteKeyCode:oe="Backspace",selectionKeyCode:re="Shift",selectionOnDrag:pe=!1,selectionMode:ce=Gv.Full,panActivationKeyCode:me="Space",multiSelectionKeyCode:ye=J_()?"Meta":"Control",zoomActivationKeyCode:ae=J_()?"Meta":"Control",snapToGrid:Ae,snapGrid:H,onlyRenderVisibleElements:Z=!1,selectNodesOnDrag:he,nodesDraggable:se,nodesConnectable:V,nodesFocusable:ie,nodeOrigin:ue=hce,edgesFocusable:we,edgesReconnectable:Se,elementsSelectable:K=!0,defaultViewport:Ce=Zgt,minZoom:Le=.5,maxZoom:Y=2,translateExtent:ee=qv,preventScrolling:be=!0,nodeExtent:Te,defaultMarkerColor:fe="#b1b1b7",zoomOnScroll:Ne=!0,zoomOnPinch:Nt=!0,panOnScroll:vt=!1,panOnScrollSpeed:an=.5,panOnScrollMode:Ln=Oh.Free,zoomOnDoubleClick:_t=!0,panOnDrag:ri=!0,onPaneClick:pt,onPaneMouseEnter:on,onPaneMouseMove:Tt,onPaneMouseLeave:ln,onPaneScroll:Nr,onPaneContextMenu:Uo,paneClickDistance:Ho=0,nodeClickDistance:Yt=0,children:_a,onReconnect:Bf,onReconnectStart:Dl,onReconnectEnd:Ll,onEdgeContextMenu:no,onEdgeDoubleClick:ro,onEdgeMouseEnter:Rd,onEdgeMouseMove:Ni,onEdgeMouseLeave:qa,reconnectRadius:$l=10,onNodesChange:_1,onEdgesChange:E0,noDragClassName:C1="nodrag",noWheelClassName:io="nowheel",noPanClassName:S0="nopan",fitView:_0,fitViewOptions:T1,connectOnClick:N1,attributionPosition:ON,proOptions:bt,defaultEdgeOptions:de,elevateNodesOnSelect:Ue,elevateEdgesOnSelect:ct,disableKeyboardA11y:On=!1,autoPanOnConnect:ii,autoPanOnNodeDrag:kr,autoPanSpeed:ki,connectionRadius:ao,isValidConnection:Dd,onError:C0,style:ai,id:T0,nodeDragThreshold:k1,viewport:tye,onViewportChange:nye,width:rye,height:iye,colorMode:aye="light",debug:sye,onScroll:A1,...oye},lye){const PN=T0||"1",cye=t0t(aye),uye=w.useCallback(C5=>{C5.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),A1==null||A1(C5)},[A1]);return o.jsx("div",{"data-testid":"rf__wrapper",...oye,onScroll:uye,style:{...ai,...byt},ref:lye,className:Vr(["react-flow",i,cye]),id:T0,children:o.jsxs(vyt,{nodes:e,edges:t,width:rye,height:iye,fitView:_0,nodeOrigin:ue,nodeExtent:Te,children:[o.jsx(yyt,{onInit:u,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:v,onNodeMouseMove:b,onNodeMouseLeave:E,onNodeContextMenu:_,onNodeDoubleClick:S,nodeTypes:a,edgeTypes:s,connectionLineType:z,connectionLineStyle:R,connectionLineComponent:G,connectionLineContainerStyle:Q,selectionKeyCode:re,selectionOnDrag:pe,selectionMode:ce,deleteKeyCode:oe,multiSelectionKeyCode:ye,panActivationKeyCode:me,zoomActivationKeyCode:ae,onlyRenderVisibleElements:Z,defaultViewport:Ce,translateExtent:ee,minZoom:Le,maxZoom:Y,preventScrolling:be,zoomOnScroll:Ne,zoomOnPinch:Nt,zoomOnDoubleClick:_t,panOnScroll:vt,panOnScrollSpeed:an,panOnScrollMode:Ln,panOnDrag:ri,onPaneClick:pt,onPaneMouseEnter:on,onPaneMouseMove:Tt,onPaneMouseLeave:ln,onPaneScroll:Nr,onPaneContextMenu:Uo,paneClickDistance:Ho,nodeClickDistance:Yt,onSelectionContextMenu:L,onSelectionStart:I,onSelectionEnd:U,onReconnect:Bf,onReconnectStart:Dl,onReconnectEnd:Ll,onEdgeContextMenu:no,onEdgeDoubleClick:ro,onEdgeMouseEnter:Rd,onEdgeMouseMove:Ni,onEdgeMouseLeave:qa,reconnectRadius:$l,defaultMarkerColor:fe,noDragClassName:C1,noWheelClassName:io,noPanClassName:S0,rfId:PN,disableKeyboardA11y:On,nodeExtent:Te,viewport:tye,onViewportChange:nye}),o.jsx(e0t,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:p,onConnectEnd:g,onClickConnectStart:x,onClickConnectEnd:y,nodesDraggable:se,nodesConnectable:V,nodesFocusable:ie,edgesFocusable:we,edgesReconnectable:Se,elementsSelectable:K,elevateNodesOnSelect:Ue,elevateEdgesOnSelect:ct,minZoom:Le,maxZoom:Y,nodeExtent:Te,onNodesChange:_1,onEdgesChange:E0,snapToGrid:Ae,snapGrid:H,connectionMode:W,translateExtent:ee,connectOnClick:N1,defaultEdgeOptions:de,fitView:_0,fitViewOptions:T1,onNodesDelete:k,onEdgesDelete:O,onDelete:M,onNodeDragStart:C,onNodeDrag:T,onNodeDragStop:j,onSelectionDrag:D,onSelectionDragStart:N,onSelectionDragStop:P,onMove:d,onMoveStart:h,onMoveEnd:f,noPanClassName:S0,nodeOrigin:ue,rfId:PN,autoPanOnConnect:ii,autoPanOnNodeDrag:kr,autoPanSpeed:ki,onError:C0,connectionRadius:ao,isValidConnection:Dd,selectNodesOnDrag:he,nodeDragThreshold:k1,onBeforeDelete:$,paneClickDistance:Ho,debug:sye}),o.jsx(Xgt,{onSelectionChange:B}),_a,o.jsx(Wgt,{proOptions:bt,position:ON}),o.jsx(Hgt,{rfId:PN,disableKeyboardA11y:On})]})})}var Eyt=gce(wyt);function Syt(e){const[t,n]=w.useState(e),r=w.useCallback(i=>n(a=>mce(i,a)),[]);return[t,n,r]}function _yt(e){const[t,n]=w.useState(e),r=w.useCallback(i=>n(a=>pce(i,a)),[]);return[t,n,r]}function Cyt({dimensions:e,lineWidth:t,variant:n,className:r}){return o.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Vr(["react-flow__background-pattern",n,r])})}function Tyt({radius:e,className:t}){return o.jsx("circle",{cx:e,cy:e,r:e,className:Vr(["react-flow__background-pattern","dots",t])})}var qu;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(qu||(qu={}));const Nyt={[qu.Dots]:1,[qu.Lines]:1,[qu.Cross]:6},kyt=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function zce({id:e,variant:t=qu.Dots,gap:n=20,size:r,lineWidth:i=1,offset:a=0,color:s,bgColor:l,style:c,className:u,patternClassName:d}){const h=w.useRef(null),{transform:f,patternId:m}=mn(kyt,Cr),p=r||Nyt[t],g=t===qu.Dots,x=t===qu.Cross,y=Array.isArray(n)?n:[n,n],v=[y[0]*f[2]||1,y[1]*f[2]||1],b=p*f[2],E=Array.isArray(a)?a:[a,a],_=x?[b,b]:v,S=[E[0]*f[2]||1+_[0]/2,E[1]*f[2]||1+_[1]/2],C=`${m}${e||""}`;return o.jsxs("svg",{className:Vr(["react-flow__background",u]),style:{...c,...tN,"--xy-background-color-props":l,"--xy-background-pattern-color-props":s},ref:h,"data-testid":"rf__background",children:[o.jsx("pattern",{id:C,x:f[0]%v[0],y:f[1]%v[1],width:v[0],height:v[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${S[0]},-${S[1]})`,children:g?o.jsx(Tyt,{radius:b/2,className:d}):o.jsx(Cyt,{dimensions:_,lineWidth:i,variant:t,className:d})}),o.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${C})`})]})}zce.displayName="Background";const Ayt=w.memo(zce);function jyt(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:o.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Oyt(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:o.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Pyt(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:o.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Myt(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:o.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Iyt(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:o.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Uw({children:e,className:t,...n}){return o.jsx("button",{type:"button",className:Vr(["react-flow__controls-button",t]),...n,children:e})}const Ryt=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function Uce({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:a,onZoomOut:s,onFitView:l,onInteractiveChange:c,className:u,children:d,position:h="bottom-left",orientation:f="vertical","aria-label":m="React Flow controls"}){const p=ar(),{isInteractive:g,minZoomReached:x,maxZoomReached:y}=mn(Ryt,Cr),{zoomIn:v,zoomOut:b,fitView:E}=eN(),_=()=>{v(),a==null||a()},S=()=>{b(),s==null||s()},C=()=>{E(i),l==null||l()},T=()=>{p.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),c==null||c(!g)},j=f==="horizontal"?"horizontal":"vertical";return o.jsxs(JT,{className:Vr(["react-flow__controls",j,u]),position:h,style:e,"data-testid":"rf__controls","aria-label":m,children:[t&&o.jsxs(o.Fragment,{children:[o.jsx(Uw,{onClick:_,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:y,children:o.jsx(jyt,{})}),o.jsx(Uw,{onClick:S,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:x,children:o.jsx(Oyt,{})})]}),n&&o.jsx(Uw,{className:"react-flow__controls-fitview",onClick:C,title:"fit view","aria-label":"fit view",children:o.jsx(Pyt,{})}),r&&o.jsx(Uw,{className:"react-flow__controls-interactive",onClick:T,title:"toggle interactivity","aria-label":"toggle interactivity",children:g?o.jsx(Iyt,{}):o.jsx(Myt,{})}),d]})}Uce.displayName="Controls";const Dyt=w.memo(Uce);function Lyt({id:e,x:t,y:n,width:r,height:i,style:a,color:s,strokeColor:l,strokeWidth:c,className:u,borderRadius:d,shapeRendering:h,selected:f,onClick:m}){const{background:p,backgroundColor:g}=a||{},x=s||p||g;return o.jsx("rect",{className:Vr(["react-flow__minimap-node",{selected:f},u]),x:t,y:n,rx:d,ry:d,width:r,height:i,style:{fill:x,stroke:l,strokeWidth:c},shapeRendering:h,onClick:m?y=>m(y,e):void 0})}const $yt=w.memo(Lyt),Byt=e=>e.nodes.map(t=>t.id),RA=e=>e instanceof Function?e:()=>e;function Fyt({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:a=$yt,onClick:s}){const l=mn(Byt,Cr),c=RA(t),u=RA(e),d=RA(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return o.jsx(o.Fragment,{children:l.map(f=>o.jsx(Uyt,{id:f,nodeColorFunc:c,nodeStrokeColorFunc:u,nodeClassNameFunc:d,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:a,onClick:s,shapeRendering:h},f))})}function zyt({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:a,shapeRendering:s,NodeComponent:l,onClick:c}){const{node:u,x:d,y:h,width:f,height:m}=mn(p=>{const{internals:g}=p.nodeLookup.get(e),x=g.userNode,{x:y,y:v}=g.positionAbsolute,{width:b,height:E}=zc(x);return{node:x,x:y,y:v,width:b,height:E}},Cr);return!u||u.hidden||!Ble(u)?null:o.jsx(l,{x:d,y:h,width:f,height:m,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:i,strokeColor:n(u),strokeWidth:a,shapeRendering:s,onClick:c,id:u.id})}const Uyt=w.memo(zyt);var Hyt=w.memo(Fyt);const Vyt=200,Wyt=150,qyt=e=>!e.hidden,Gyt=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?$le(l1(e.nodeLookup,{filter:qyt}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}},Yyt="react-flow__minimap-desc";function Hce({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:a=5,nodeStrokeWidth:s,nodeComponent:l,bgColor:c,maskColor:u,maskStrokeColor:d,maskStrokeWidth:h,position:f="bottom-right",onClick:m,onNodeClick:p,pannable:g=!1,zoomable:x=!1,ariaLabel:y="React Flow mini map",inversePan:v,zoomStep:b=10,offsetScale:E=5}){const _=ar(),S=w.useRef(null),{boundingRect:C,viewBB:T,rfId:j,panZoom:k,translateExtent:O,flowWidth:M,flowHeight:B}=mn(Gyt,Cr),N=(e==null?void 0:e.width)??Vyt,D=(e==null?void 0:e.height)??Wyt,P=C.width/N,L=C.height/D,I=Math.max(P,L),U=I*N,$=I*D,W=E*I,z=C.x-(U-C.width)/2-W,R=C.y-($-C.height)/2-W,G=U+W*2,Q=$+W*2,oe=`${Yyt}-${j}`,re=w.useRef(0),pe=w.useRef();re.current=I,w.useEffect(()=>{if(S.current&&k)return pe.current=Xpt({domNode:S.current,panZoom:k,getTransform:()=>_.getState().transform,getViewScale:()=>re.current}),()=>{var ye;(ye=pe.current)==null||ye.destroy()}},[k]),w.useEffect(()=>{var ye;(ye=pe.current)==null||ye.update({translateExtent:O,width:M,height:B,inversePan:v,pannable:g,zoomStep:b,zoomable:x})},[g,x,v,b,O,M,B]);const ce=m?ye=>{var H;const[ae,Ae]=((H=pe.current)==null?void 0:H.pointer(ye))||[0,0];m(ye,{x:ae,y:Ae})}:void 0,me=p?w.useCallback((ye,ae)=>{const Ae=_.getState().nodeLookup.get(ae).internals.userNode;p(ye,Ae)},[]):void 0;return o.jsx(JT,{position:f,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof h=="number"?h*I:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:Vr(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:o.jsxs("svg",{width:N,height:D,viewBox:`${z} ${R} ${G} ${Q}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":oe,ref:S,onClick:ce,children:[y&&o.jsx("title",{id:oe,children:y}),o.jsx(Hyt,{onClick:me,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:a,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:l}),o.jsx("path",{className:"react-flow__minimap-mask",d:`M${z-W},${R-W}h${G+W*2}v${Q+W*2}h${-G-W*2}z
        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Hce.displayName="MiniMap";const Kyt=w.memo(Hce);function Xyt({nodeId:e,position:t,variant:n=fx.Handle,className:r,style:i={},children:a,color:s,minWidth:l=10,minHeight:c=10,maxWidth:u=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:h=!1,shouldResize:f,onResizeStart:m,onResize:p,onResizeEnd:g}){const x=bce(),y=typeof e=="string"?e:x,v=ar(),b=w.useRef(null),E=n===fx.Line?"right":"bottom-right",_=t??E,S=w.useRef(null);w.useEffect(()=>{if(!(!b.current||!y))return S.current||(S.current=dgt({domNode:b.current,nodeId:y,getStoreItems:()=>{const{nodeLookup:k,transform:O,snapGrid:M,snapToGrid:B,nodeOrigin:N,domNode:D}=v.getState();return{nodeLookup:k,transform:O,snapGrid:M,snapToGrid:B,nodeOrigin:N,paneDomNode:D}},onChange:(k,O)=>{const{triggerNodeChanges:M,nodeLookup:B,parentLookup:N,nodeOrigin:D}=v.getState(),P=[],L={x:k.x,y:k.y},I=B.get(y);if(I&&I.expandParent&&I.parentId){const U=I.origin??D,$=k.width??I.measured.width??0,W=k.height??I.measured.height??0,z={id:I.id,parentId:I.parentId,rect:{width:$,height:W,...Fle({x:k.x??I.position.x,y:k.y??I.position.y},{width:$,height:W},I.parentId,B,U)}},R=V4([z],B,N,D);P.push(...R),L.x=k.x?Math.max(U[0]*$,k.x):void 0,L.y=k.y?Math.max(U[1]*W,k.y):void 0}if(L.x!==void 0&&L.y!==void 0){const U={id:y,type:"position",position:{...L}};P.push(U)}if(k.width!==void 0&&k.height!==void 0){const U={id:y,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:k.width,height:k.height}};P.push(U)}for(const U of O){const $={...U,type:"position"};P.push($)}M(P)},onEnd:({width:k,height:O})=>{const M={id:y,type:"dimensions",resizing:!1,dimensions:{width:k,height:O}};v.getState().triggerNodeChanges([M])}})),S.current.update({controlPosition:_,boundaries:{minWidth:l,minHeight:c,maxWidth:u,maxHeight:d},keepAspectRatio:h,onResizeStart:m,onResize:p,onResizeEnd:g,shouldResize:f}),()=>{var k;(k=S.current)==null||k.destroy()}},[_,l,c,u,d,h,m,p,g,f]);const C=_.split("-"),T=n===fx.Line?"borderColor":"backgroundColor",j=s?{...i,[T]:s}:i;return o.jsx("div",{className:Vr(["react-flow__resize-control","nodrag",...C,n,r]),ref:b,style:j,children:a})}w.memo(Xyt);const Zyt=({onZoomIn:e,onZoomOut:t,onFitView:n,onRefresh:r,onHelp:i,className:a})=>o.jsx("div",{className:"flex gap-3",children:o.jsxs("div",{className:"flex overflow-hidden rounded-md border shadow-sm",children:[o.jsx(te,{onClick:e,variant:"ghost",size:"icon",className:"rounded-none border-r",title:"Zoom In",children:o.jsx(d1e,{className:"size-4"})}),o.jsx(te,{onClick:t,variant:"ghost",size:"icon",className:"rounded-none border-r",title:"Zoom Out",children:o.jsx(h1e,{className:"size-4"})}),o.jsx(te,{onClick:n,variant:"ghost",size:"icon",className:"rounded-none border-r",title:"Fit View",children:o.jsx(Wbe,{className:"size-4"})}),o.jsx(te,{onClick:r,variant:"ghost",size:"icon",className:"rounded-none",title:"Refresh",children:o.jsx(ac,{className:"size-4"})})]})}),Qyt=w.memo(({data:e,selected:t})=>o.jsxs("div",{className:Be("p-4 bg-cyan-100 dark:bg-cyan-900 border border-cyan-300 dark:border-cyan-700 rounded-md min-w-[180px] shadow-md transition-all duration-200",t&&"ring-2 ring-cyan-500 dark:ring-cyan-400 ring-offset-2 ring-offset-background scale-105"),children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(u1e,{className:"h-5 w-5 text-cyan-600 dark:text-cyan-400 mt-0.5 shrink-0"}),o.jsx("div",{children:o.jsx("div",{className:"font-medium text-sm",children:e.label})})]}),o.jsx(ud,{type:"source",position:Et.Bottom,className:"w-3 h-3 bg-cyan-600"})]})),Jyt=w.memo(({data:e,selected:t})=>o.jsxs("div",{className:Be("p-4 bg-amber-100 dark:bg-amber-900 border border-amber-300 dark:border-amber-700 rounded-md min-w-[180px] shadow-md transition-all duration-200",t&&"ring-2 ring-amber-500 dark:ring-amber-400 ring-offset-2 ring-offset-background scale-105"),children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Bh,{className:"h-5 w-5 text-amber-600 dark:text-amber-400 mt-0.5 shrink-0"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:e.label}),e.status&&o.jsx(Oe,{variant:"outline",className:Be("text-xs mt-2",e.status==="open"&&"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300",e.status==="in_progress"&&"bg-amber-100 dark:bg-amber-900 text-amber-700 dark:text-amber-300",e.status==="resolved"&&"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300"),children:e.status==="in_progress"?"In Progress":e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]}),o.jsx(ud,{type:"target",position:Et.Top,className:"w-3 h-3 bg-amber-600"}),o.jsx(ud,{type:"source",position:Et.Bottom,className:"w-3 h-3 bg-amber-600"})]})),ext=w.memo(({data:e,selected:t})=>o.jsxs("div",{className:Be("p-4 bg-indigo-100 dark:bg-indigo-900 border border-indigo-300 dark:border-indigo-700 rounded-md min-w-[180px] shadow-md transition-all duration-200",t&&"ring-2 ring-indigo-500 dark:ring-indigo-400 ring-offset-2 ring-offset-background scale-105"),children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Wi,{className:"h-5 w-5 text-indigo-600 dark:text-indigo-400 mt-0.5 shrink-0"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:e.label}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsxs(Oe,{variant:"outline",className:Be("text-xs",e.status==="validated"&&"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300",e.status==="rejected"&&"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300",e.status==="testing"&&"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300",e.status==="drafted"&&"bg-muted text-muted-foreground"),children:[e.status==="validated"&&"Validated",e.status==="rejected"&&"Rejected",e.status==="testing"&&"Testing",e.status==="drafted"&&"Draft"]}),e.confidence>0&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.confidence,"%"]})]})]})]}),o.jsx(ud,{type:"target",position:Et.Top,className:"w-3 h-3 bg-indigo-600"})]})),qH=200,ry=500,txt=100,GH=300,YH=async e=>{const t=new E3,n=await t.getChallenges(),r=await t.getProblems(),i=[],a=[],s=new Map,l=new Map;n.forEach(u=>{let d=0;const h=r.filter(f=>u.id==f.businessChallengeId);for(let f=0;f<h.length;f++){const m=h[f];if(m){const p=m.hypothesisIds.length,g=Math.max(GH,p*ry*1.2);l.set(m.id,g),d+=g}}s.set(u.id,Math.max(GH,d))});let c=txt;return n.forEach(u=>{const d=s.get(u.id),h=c+d/2;i.push({id:`challenge_${u.id}`,type:"challenge",data:{label:u.title,description:u.description,id:u.id},position:{x:h,y:0}});let f=c;const m=r.filter(p=>u.id==p.businessChallengeId);for(let p=0;p<m.length;p++){const g=m[p];if(g){const x=l.get(g.id),y=f+x/2;i.push({id:`problem_${g.id}`,type:"problem",data:{label:g.title,description:g.description,status:g.status,id:g.id},position:{x:y,y:qH}}),a.push({id:`edge_challenge_${u.id}_problem_${g.id}`,source:`challenge_${u.id}`,target:`problem_${g.id}`,type:"smoothstep",animated:!1});const b=g.hypothesisIds.length*ry;let E=y-b/2;g.hypothesisIds.forEach(_=>{const S=e.find(C=>C.id===_);S&&(i.push({id:`hypothesis_${S.id}`,type:"hypothesis",data:{label:S.title,description:S.description,status:S.status,confidence:S.confidence,id:S.id},position:{x:E,y:qH*2}}),a.push({id:`edge_problem_${g.id}_hypothesis_${S.id}`,source:`problem_${g.id}`,target:`hypothesis_${S.id}`,type:"smoothstep",animated:!1}),E+=ry)}),f+=x+ry*1.5}}c=f+ry}),e.forEach(u=>{u.relatedHypothesesIds&&u.relatedHypothesesIds.forEach(d=>{const h=i.some(m=>m.id===`hypothesis-${u.id}`),f=i.some(m=>m.id===`hypothesis-${d}`);h&&f&&a.push({id:`edge_hypothesis_${u.id}_hypothesis_${d}`,source:`hypothesis_${u.id}`,target:`hypothesis_${d}`,type:"smoothstep",animated:!0,style:{stroke:"#9c69e2",strokeDasharray:"5,5"}})})}),{nodes:i,edges:a}},nxt={challenge:Qyt,problem:Jyt,hypothesis:ext},rxt=({onEntitySelect:e})=>{Dn();const t=Yi(),[n,r,i]=Syt([]),[a,s]=w.useState([]);w.useEffect(()=>{(async()=>{try{const E=await ec.getHypotheses();s(E)}catch(E){console.error("Error fetching hypotheses:",E),er({title:"Error",description:"Failed to load hypothesis data. Please try again.",variant:"destructive"})}})()},[]);const[l,c,u]=_yt([]),[d,h]=w.useState(!0);w.useEffect(()=>{const b=async()=>{try{const{nodes:E,edges:_}=await YH(a);r(E),c(_)}catch(E){console.error("Error loading graph data:",E),er({title:"Error",description:"Failed to load graph data. Please try again.",variant:"destructive"})}finally{h(!1)}};a.length>0&&b()},[a]);const f=eN();w.useEffect(()=>{const b={challenge:n.filter(S=>S.type==="challenge"),problem:n.filter(S=>S.type==="problem"),hypothesis:n.filter(S=>S.type==="hypothesis")};b.challenge.forEach((S,C)=>{const T=window.innerWidth/(b.challenge.length+1);S.position={x:T*(C+1)-100,y:100}}),b.problem.forEach((S,C)=>{const T=window.innerWidth/(b.problem.length+1);S.position={x:T*(C+1)-100,y:300}}),b.hypothesis.forEach((S,C)=>{const T=window.innerWidth/(b.hypothesis.length+1);S.position={x:T*(C+1)-100,y:500}}),r([...b.challenge,...b.problem,...b.hypothesis]);const _=new URLSearchParams(t.search).get("hypothesis");if(_){const S=`hypothesis_${_}`,C=n.find(T=>T.id===S);if(C){const T=a.find(j=>j.id===_);T&&e({id:_,type:"hypothesis",data:{...C.data,...T,label:T.title||C.data.label}}),setTimeout(()=>{f.fitView({nodes:[C],padding:.2})},100)}}},[]);const m=async(b,E)=>{const[_,S]=E.id.split("_");let C=null;try{switch(_){case"challenge":C=await Kr.getBusinessChallengeById(S);break;case"problem":C=await Kr.getBusinessProblemById(S);break;case"hypothesis":C=a.find(T=>T.id===S);break}if(C){const T={id:S,type:_,data:{...E.data,...C,label:C.title||E.data.label}};e(T)}}catch(T){console.error("Error fetching entity data:",T)}},p=()=>{f.zoomIn()},g=()=>{f.zoomOut()},x=()=>{f.fitView({padding:.2})},y=async()=>{h(!0);try{const{nodes:b,edges:E}=await YH(a);r(b),c(E),er({title:"Graph refreshed",description:"The business graph has been regenerated with the latest data."})}catch(b){console.error("Error refreshing graph data:",b),er({title:"Error",description:"Failed to refresh graph data. Please try again.",variant:"destructive"})}finally{h(!1)}},v=()=>{er({title:"Graph Navigation Help",description:"Click on nodes to view details. Drag to pan. Use the mouse wheel to zoom. Use the toolbar for additional controls."})};return o.jsxs(Pe,{className:"h-[calc(100vh-12rem)] glass-card",children:[o.jsx(Ye,{className:"pb-0",children:o.jsx(Zyt,{onZoomIn:p,onZoomOut:g,onFitView:x,onRefresh:y,onHelp:v})}),o.jsx(De,{className:"h-[calc(100%-5rem)] overflow-hidden",children:o.jsxs(Eyt,{nodes:n,edges:l,onNodesChange:i,onEdgesChange:u,onNodeClick:m,nodeTypes:nxt,fitView:!0,minZoom:.2,maxZoom:2,children:[o.jsx(Dyt,{position:"bottom-right"}),o.jsx(Kyt,{nodeStrokeWidth:3,zoomable:!0,pannable:!0,position:"bottom-left"}),o.jsx(Ayt,{gap:12,size:1})]})})]})},ixt=()=>{const{collapsed:e}=Tr(),t=Dn(),[n,r]=w.useState(null),i=()=>{t(-1)},a=l=>{console.log("Selected entity:",l),r(l)},s=()=>{if(n)switch(n.type){case"challenge":t(`/challenges?id=${n.id}`);break;case"problem":t(`/problems?id=${n.id}`);break;case"hypothesis":t(`/analysis?hypothesis=${n.id}`);break}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ir,{}),o.jsxs("div",{className:`${e?"pl-20":"pl-56"} min-h-screen transition-all duration-300`,children:[o.jsx(Xn,{}),o.jsxs("main",{className:"container py-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(te,{variant:"outline",size:"sm",className:"flex items-center gap-1",onClick:i,children:[o.jsx(xl,{className:"h-4 w-4"}),"Back"]}),o.jsx("h1",{className:"text-2xl font-bold",children:"Business Knowledge Graph"})]})}),o.jsxs("div",{className:"grid grid-cols-3 gap-6 h-full",children:[o.jsx("div",{className:"col-span-2",children:o.jsx(Fce,{children:o.jsx(rxt,{onEntitySelect:a})})}),o.jsx("div",{className:"col-span-1",children:o.jsxs(Pe,{className:"glass-card h-[calc(100vh-12rem)]",children:[o.jsx(Ye,{children:o.jsx(dt,{children:"Selected Entity"})}),o.jsx(De,{children:n?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("h3",{className:"text-lg font-medium",children:n.data.label}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Oe,{variant:"outline",className:n.type==="challenge"?"bg-cyan-100 text-cyan-700 dark:bg-cyan-900 dark:text-cyan-300":n.type==="problem"?"bg-amber-100 text-amber-700 dark:bg-amber-900 dark:text-amber-300":"bg-indigo-100 text-indigo-700 dark:bg-indigo-900 dark:text-indigo-300",children:n.type.charAt(0).toUpperCase()+n.type.slice(1)}),n.type=="problem"&&o.jsx(Oe,{variant:"outline",className:n.data.status==="open"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":n.data.status==="in_progress"?"bg-amber-100 text-amber-700 dark:bg-amber-900 dark:text-amber-300":"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300",children:n.data.status==="in_progress"?"In Progress":n.data.status.charAt(0).toUpperCase()+n.data.status.slice(1)}),n.type=="hypothesis"&&o.jsx(Oe,{variant:"outline",className:n.data.status==="validated"?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":n.data.status==="rejected"?"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300":n.data.status==="testing"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-muted text-muted-foreground",children:n.data.status.charAt(0).toUpperCase()+n.data.status.slice(1)}),n.type==="hypothesis"&&n.data.confidence>0&&o.jsxs("div",{className:"text-xs bg-background border rounded px-2 py-1",children:["Confidence: ",n.data.confidence,"%"]})]})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:n.data.description}),o.jsx("div",{className:"pt-4",children:o.jsx(te,{className:"w-full",onClick:s,children:"View Details"})})]}):o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-4",children:[o.jsx(eX,{className:"h-12 w-12 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium",children:"No entity selected"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Click on a node in the graph to view its details here."})]})})]})})]})]})]})]})};var u1=e=>e.type==="checkbox",mh=e=>e instanceof Date,ia=e=>e==null;const Vce=e=>typeof e=="object";var Rr=e=>!ia(e)&&!Array.isArray(e)&&Vce(e)&&!mh(e),axt=e=>Rr(e)&&e.target?u1(e.target)?e.target.checked:e.target.value:e,sxt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,oxt=(e,t)=>e.has(sxt(t)),lxt=e=>{const t=e.constructor&&e.constructor.prototype;return Rr(t)&&t.hasOwnProperty("isPrototypeOf")},q4=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ks(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(q4&&(e instanceof Blob||e instanceof FileList))&&(n||Rr(e)))if(t=n?[]:{},!n&&!lxt(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=ks(e[r]));else return e;return t}var rN=e=>Array.isArray(e)?e.filter(Boolean):[],jr=e=>e===void 0,nt=(e,t,n)=>{if(!t||!Rr(e))return n;const r=rN(t.split(/[,[\].]+?/)).reduce((i,a)=>ia(i)?i:i[a],e);return jr(r)||r===e?jr(e[t])?n:e[t]:r},Xo=e=>typeof e=="boolean",G4=e=>/^\w*$/.test(e),Wce=e=>rN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),kn=(e,t,n)=>{let r=-1;const i=G4(t)?[t]:Wce(t),a=i.length,s=a-1;for(;++r<a;){const l=i[r];let c=n;if(r!==s){const u=e[l];c=Rr(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const KH={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},So={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ul={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};q.createContext(null);var cxt=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const s=a;return t._proxyFormState[s]!==So.all&&(t._proxyFormState[s]=!r||So.all),e[s]}});return i},ka=e=>Rr(e)&&!Object.keys(e).length,uxt=(e,t,n,r)=>{n(e);const{name:i,...a}=e;return ka(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(s=>t[s]===So.all)},jE=e=>Array.isArray(e)?e:[e];function dxt(e){const t=q.useRef(e);t.current=e,q.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var sl=e=>typeof e=="string",hxt=(e,t,n,r,i)=>sl(e)?(r&&t.watch.add(e),nt(n,e,i)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),nt(n,a))):(r&&(t.watchAll=!0),n),qce=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},XH=e=>({isOnSubmit:!e||e===So.onSubmit,isOnBlur:e===So.onBlur,isOnChange:e===So.onChange,isOnAll:e===So.all,isOnTouch:e===So.onTouched}),ZH=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const mx=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const a=nt(e,i);if(a){const{_f:s,...l}=a;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],i)&&!r)return!0;if(s.ref&&t(s.ref,s.name)&&!r)return!0;if(mx(l,t))break}else if(Rr(l)&&mx(l,t))break}}};var fxt=(e,t,n)=>{const r=jE(nt(e,n));return kn(r,"root",t[n]),kn(e,n,r),e},Y4=e=>e.type==="file",uc=e=>typeof e=="function",tC=e=>{if(!q4)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},OE=e=>sl(e),K4=e=>e.type==="radio",nC=e=>e instanceof RegExp;const QH={value:!1,isValid:!1},JH={value:!0,isValid:!0};var Gce=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!jr(e[0].attributes.value)?jr(e[0].value)||e[0].value===""?JH:{value:e[0].value,isValid:!0}:JH:QH}return QH};const eV={isValid:!1,value:null};var Yce=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,eV):eV;function tV(e,t,n="validate"){if(OE(e)||Array.isArray(e)&&e.every(OE)||Xo(e)&&!e)return{type:n,message:OE(e)?e:"",ref:t}}var nm=e=>Rr(e)&&!nC(e)?e:{value:e,message:""},nV=async(e,t,n,r,i)=>{const{ref:a,refs:s,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:m,name:p,valueAsNumber:g,mount:x,disabled:y}=e._f,v=nt(t,p);if(!x||y)return{};const b=s?s[0]:a,E=M=>{r&&b.reportValidity&&(b.setCustomValidity(Xo(M)?"":M||""),b.reportValidity())},_={},S=K4(a),C=u1(a),T=S||C,j=(g||Y4(a))&&jr(a.value)&&jr(v)||tC(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,k=qce.bind(null,p,n,_),O=(M,B,N,D=Ul.maxLength,P=Ul.minLength)=>{const L=M?B:N;_[p]={type:M?D:P,message:L,ref:a,...k(M?D:P,L)}};if(i?!Array.isArray(v)||!v.length:l&&(!T&&(j||ia(v))||Xo(v)&&!v||C&&!Gce(s).isValid||S&&!Yce(s).isValid)){const{value:M,message:B}=OE(l)?{value:!!l,message:l}:nm(l);if(M&&(_[p]={type:Ul.required,message:B,ref:b,...k(Ul.required,B)},!n))return E(B),_}if(!j&&(!ia(d)||!ia(h))){let M,B;const N=nm(h),D=nm(d);if(!ia(v)&&!isNaN(v)){const P=a.valueAsNumber||v&&+v;ia(N.value)||(M=P>N.value),ia(D.value)||(B=P<D.value)}else{const P=a.valueAsDate||new Date(v),L=$=>new Date(new Date().toDateString()+" "+$),I=a.type=="time",U=a.type=="week";sl(N.value)&&v&&(M=I?L(v)>L(N.value):U?v>N.value:P>new Date(N.value)),sl(D.value)&&v&&(B=I?L(v)<L(D.value):U?v<D.value:P<new Date(D.value))}if((M||B)&&(O(!!M,N.message,D.message,Ul.max,Ul.min),!n))return E(_[p].message),_}if((c||u)&&!j&&(sl(v)||i&&Array.isArray(v))){const M=nm(c),B=nm(u),N=!ia(M.value)&&v.length>+M.value,D=!ia(B.value)&&v.length<+B.value;if((N||D)&&(O(N,M.message,B.message),!n))return E(_[p].message),_}if(f&&!j&&sl(v)){const{value:M,message:B}=nm(f);if(nC(M)&&!v.match(M)&&(_[p]={type:Ul.pattern,message:B,ref:a,...k(Ul.pattern,B)},!n))return E(B),_}if(m){if(uc(m)){const M=await m(v,t),B=tV(M,b);if(B&&(_[p]={...B,...k(Ul.validate,B.message)},!n))return E(B.message),_}else if(Rr(m)){let M={};for(const B in m){if(!ka(M)&&!n)break;const N=tV(await m[B](v,t),b,B);N&&(M={...N,...k(B,N.message)},E(N.message),n&&(_[p]=M))}if(!ka(M)&&(_[p]={ref:b,...M},!n))return _}}return E(!0),_};function mxt(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=jr(e)?r++:e[t[r++]];return e}function pxt(e){for(const t in e)if(e.hasOwnProperty(t)&&!jr(e[t]))return!1;return!0}function Gr(e,t){const n=Array.isArray(t)?t:G4(t)?[t]:Wce(t),r=n.length===1?e:mxt(e,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(Rr(r)&&ka(r)||Array.isArray(r)&&pxt(r))&&Gr(e,n.slice(0,-1)),e}var DA=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},iI=e=>ia(e)||!Vce(e);function wu(e,t){if(iI(e)||iI(t))return e===t;if(mh(e)&&mh(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const a=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=t[i];if(mh(a)&&mh(s)||Rr(a)&&Rr(s)||Array.isArray(a)&&Array.isArray(s)?!wu(a,s):a!==s)return!1}}return!0}var Kce=e=>e.type==="select-multiple",gxt=e=>K4(e)||u1(e),LA=e=>tC(e)&&e.isConnected,Xce=e=>{for(const t in e)if(uc(e[t]))return!0;return!1};function rC(e,t={}){const n=Array.isArray(e);if(Rr(e)||n)for(const r in e)Array.isArray(e[r])||Rr(e[r])&&!Xce(e[r])?(t[r]=Array.isArray(e[r])?[]:{},rC(e[r],t[r])):ia(e[r])||(t[r]=!0);return t}function Zce(e,t,n){const r=Array.isArray(e);if(Rr(e)||r)for(const i in e)Array.isArray(e[i])||Rr(e[i])&&!Xce(e[i])?jr(t)||iI(n[i])?n[i]=Array.isArray(e[i])?rC(e[i],[]):{...rC(e[i])}:Zce(e[i],ia(t)?{}:t[i],n[i]):n[i]=!wu(e[i],t[i]);return n}var iy=(e,t)=>Zce(e,t,rC(t)),Qce=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>jr(e)?e:t?e===""?NaN:e&&+e:n&&sl(e)?new Date(e):r?r(e):e;function $A(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return Y4(t)?t.files:K4(t)?Yce(e.refs).value:Kce(t)?[...t.selectedOptions].map(({value:n})=>n):u1(t)?Gce(e.refs).value:Qce(jr(t.value)?e.ref.value:t.value,e)}var yxt=(e,t,n,r)=>{const i={};for(const a of e){const s=nt(t,a);s&&kn(i,a,s._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},ay=e=>jr(e)?e:nC(e)?e.source:Rr(e)?nC(e.value)?e.value.source:e.value:e;const rV="AsyncFunction";var xxt=e=>(!e||!e.validate)&&!!(uc(e.validate)&&e.validate.constructor.name===rV||Rr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===rV)),vxt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function iV(e,t,n){const r=nt(e,n);if(r||G4(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),s=nt(t,a),l=nt(e,a);if(s&&!Array.isArray(s)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};i.pop()}return{name:n}}var bxt=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,wxt=(e,t)=>!rN(nt(e,t)).length&&Gr(e,t);const Ext={mode:So.onSubmit,reValidateMode:So.onChange,shouldFocusError:!0};function Sxt(e={}){let t={...Ext,...e},n={submitCount:0,isDirty:!1,isLoading:uc(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=Rr(t.defaultValues)||Rr(t.values)?ks(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:ks(i),s={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:DA(),array:DA(),state:DA()},f=XH(t.mode),m=XH(t.reValidateMode),p=t.criteriaMode===So.all,g=V=>ie=>{clearTimeout(u),u=setTimeout(V,ie)},x=async V=>{if(!e.disabled&&(d.isValid||V)){const ie=t.resolver?ka((await T()).errors):await k(r,!0);ie!==n.isValid&&h.state.next({isValid:ie})}},y=(V,ie)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((V||Array.from(l.mount)).forEach(ue=>{ue&&(ie?kn(n.validatingFields,ue,ie):Gr(n.validatingFields,ue))}),h.state.next({validatingFields:n.validatingFields,isValidating:!ka(n.validatingFields)}))},v=(V,ie=[],ue,we,Se=!0,K=!0)=>{if(we&&ue&&!e.disabled){if(s.action=!0,K&&Array.isArray(nt(r,V))){const Ce=ue(nt(r,V),we.argA,we.argB);Se&&kn(r,V,Ce)}if(K&&Array.isArray(nt(n.errors,V))){const Ce=ue(nt(n.errors,V),we.argA,we.argB);Se&&kn(n.errors,V,Ce),wxt(n.errors,V)}if(d.touchedFields&&K&&Array.isArray(nt(n.touchedFields,V))){const Ce=ue(nt(n.touchedFields,V),we.argA,we.argB);Se&&kn(n.touchedFields,V,Ce)}d.dirtyFields&&(n.dirtyFields=iy(i,a)),h.state.next({name:V,isDirty:M(V,ie),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else kn(a,V,ie)},b=(V,ie)=>{kn(n.errors,V,ie),h.state.next({errors:n.errors})},E=V=>{n.errors=V,h.state.next({errors:n.errors,isValid:!1})},_=(V,ie,ue,we)=>{const Se=nt(r,V);if(Se){const K=nt(a,V,jr(ue)?nt(i,V):ue);jr(K)||we&&we.defaultChecked||ie?kn(a,V,ie?K:$A(Se._f)):D(V,K),s.mount&&x()}},S=(V,ie,ue,we,Se)=>{let K=!1,Ce=!1;const Le={name:V};if(!e.disabled){const Y=!!(nt(r,V)&&nt(r,V)._f&&nt(r,V)._f.disabled);if(!ue||we){d.isDirty&&(Ce=n.isDirty,n.isDirty=Le.isDirty=M(),K=Ce!==Le.isDirty);const ee=Y||wu(nt(i,V),ie);Ce=!!(!Y&&nt(n.dirtyFields,V)),ee||Y?Gr(n.dirtyFields,V):kn(n.dirtyFields,V,!0),Le.dirtyFields=n.dirtyFields,K=K||d.dirtyFields&&Ce!==!ee}if(ue){const ee=nt(n.touchedFields,V);ee||(kn(n.touchedFields,V,ue),Le.touchedFields=n.touchedFields,K=K||d.touchedFields&&ee!==ue)}K&&Se&&h.state.next(Le)}return K?Le:{}},C=(V,ie,ue,we)=>{const Se=nt(n.errors,V),K=d.isValid&&Xo(ie)&&n.isValid!==ie;if(e.delayError&&ue?(c=g(()=>b(V,ue)),c(e.delayError)):(clearTimeout(u),c=null,ue?kn(n.errors,V,ue):Gr(n.errors,V)),(ue?!wu(Se,ue):Se)||!ka(we)||K){const Ce={...we,...K&&Xo(ie)?{isValid:ie}:{},errors:n.errors,name:V};n={...n,...Ce},h.state.next(Ce)}},T=async V=>{y(V,!0);const ie=await t.resolver(a,t.context,yxt(V||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return y(V),ie},j=async V=>{const{errors:ie}=await T(V);if(V)for(const ue of V){const we=nt(ie,ue);we?kn(n.errors,ue,we):Gr(n.errors,ue)}else n.errors=ie;return ie},k=async(V,ie,ue={valid:!0})=>{for(const we in V){const Se=V[we];if(Se){const{_f:K,...Ce}=Se;if(K){const Le=l.array.has(K.name),Y=Se._f&&xxt(Se._f);Y&&d.validatingFields&&y([we],!0);const ee=await nV(Se,a,p,t.shouldUseNativeValidation&&!ie,Le);if(Y&&d.validatingFields&&y([we]),ee[K.name]&&(ue.valid=!1,ie))break;!ie&&(nt(ee,K.name)?Le?fxt(n.errors,ee,K.name):kn(n.errors,K.name,ee[K.name]):Gr(n.errors,K.name))}!ka(Ce)&&await k(Ce,ie,ue)}}return ue.valid},O=()=>{for(const V of l.unMount){const ie=nt(r,V);ie&&(ie._f.refs?ie._f.refs.every(ue=>!LA(ue)):!LA(ie._f.ref))&&oe(V)}l.unMount=new Set},M=(V,ie)=>!e.disabled&&(V&&ie&&kn(a,V,ie),!wu(W(),i)),B=(V,ie,ue)=>hxt(V,l,{...s.mount?a:jr(ie)?i:sl(V)?{[V]:ie}:ie},ue,ie),N=V=>rN(nt(s.mount?a:i,V,e.shouldUnregister?nt(i,V,[]):[])),D=(V,ie,ue={})=>{const we=nt(r,V);let Se=ie;if(we){const K=we._f;K&&(!K.disabled&&kn(a,V,Qce(ie,K)),Se=tC(K.ref)&&ia(ie)?"":ie,Kce(K.ref)?[...K.ref.options].forEach(Ce=>Ce.selected=Se.includes(Ce.value)):K.refs?u1(K.ref)?K.refs.length>1?K.refs.forEach(Ce=>(!Ce.defaultChecked||!Ce.disabled)&&(Ce.checked=Array.isArray(Se)?!!Se.find(Le=>Le===Ce.value):Se===Ce.value)):K.refs[0]&&(K.refs[0].checked=!!Se):K.refs.forEach(Ce=>Ce.checked=Ce.value===Se):Y4(K.ref)?K.ref.value="":(K.ref.value=Se,K.ref.type||h.values.next({name:V,values:{...a}})))}(ue.shouldDirty||ue.shouldTouch)&&S(V,Se,ue.shouldTouch,ue.shouldDirty,!0),ue.shouldValidate&&$(V)},P=(V,ie,ue)=>{for(const we in ie){const Se=ie[we],K=`${V}.${we}`,Ce=nt(r,K);(l.array.has(V)||Rr(Se)||Ce&&!Ce._f)&&!mh(Se)?P(K,Se,ue):D(K,Se,ue)}},L=(V,ie,ue={})=>{const we=nt(r,V),Se=l.array.has(V),K=ks(ie);kn(a,V,K),Se?(h.array.next({name:V,values:{...a}}),(d.isDirty||d.dirtyFields)&&ue.shouldDirty&&h.state.next({name:V,dirtyFields:iy(i,a),isDirty:M(V,K)})):we&&!we._f&&!ia(K)?P(V,K,ue):D(V,K,ue),ZH(V,l)&&h.state.next({...n}),h.values.next({name:s.mount?V:void 0,values:{...a}})},I=async V=>{s.mount=!0;const ie=V.target;let ue=ie.name,we=!0;const Se=nt(r,ue),K=()=>ie.type?$A(Se._f):axt(V),Ce=Le=>{we=Number.isNaN(Le)||mh(Le)&&isNaN(Le.getTime())||wu(Le,nt(a,ue,Le))};if(Se){let Le,Y;const ee=K(),be=V.type===KH.BLUR||V.type===KH.FOCUS_OUT,Te=!vxt(Se._f)&&!t.resolver&&!nt(n.errors,ue)&&!Se._f.deps||bxt(be,nt(n.touchedFields,ue),n.isSubmitted,m,f),fe=ZH(ue,l,be);kn(a,ue,ee),be?(Se._f.onBlur&&Se._f.onBlur(V),c&&c(0)):Se._f.onChange&&Se._f.onChange(V);const Ne=S(ue,ee,be,!1),Nt=!ka(Ne)||fe;if(!be&&h.values.next({name:ue,type:V.type,values:{...a}}),Te)return d.isValid&&(e.mode==="onBlur"?be&&x():x()),Nt&&h.state.next({name:ue,...fe?{}:Ne});if(!be&&fe&&h.state.next({...n}),t.resolver){const{errors:vt}=await T([ue]);if(Ce(ee),we){const an=iV(n.errors,r,ue),Ln=iV(vt,r,an.name||ue);Le=Ln.error,ue=Ln.name,Y=ka(vt)}}else y([ue],!0),Le=(await nV(Se,a,p,t.shouldUseNativeValidation))[ue],y([ue]),Ce(ee),we&&(Le?Y=!1:d.isValid&&(Y=await k(r,!0)));we&&(Se._f.deps&&$(Se._f.deps),C(ue,Y,Le,Ne))}},U=(V,ie)=>{if(nt(n.errors,ie)&&V.focus)return V.focus(),1},$=async(V,ie={})=>{let ue,we;const Se=jE(V);if(t.resolver){const K=await j(jr(V)?V:Se);ue=ka(K),we=V?!Se.some(Ce=>nt(K,Ce)):ue}else V?(we=(await Promise.all(Se.map(async K=>{const Ce=nt(r,K);return await k(Ce&&Ce._f?{[K]:Ce}:Ce)}))).every(Boolean),!(!we&&!n.isValid)&&x()):we=ue=await k(r);return h.state.next({...!sl(V)||d.isValid&&ue!==n.isValid?{}:{name:V},...t.resolver||!V?{isValid:ue}:{},errors:n.errors}),ie.shouldFocus&&!we&&mx(r,U,V?Se:l.mount),we},W=V=>{const ie={...s.mount?a:i};return jr(V)?ie:sl(V)?nt(ie,V):V.map(ue=>nt(ie,ue))},z=(V,ie)=>({invalid:!!nt((ie||n).errors,V),isDirty:!!nt((ie||n).dirtyFields,V),error:nt((ie||n).errors,V),isValidating:!!nt(n.validatingFields,V),isTouched:!!nt((ie||n).touchedFields,V)}),R=V=>{V&&jE(V).forEach(ie=>Gr(n.errors,ie)),h.state.next({errors:V?n.errors:{}})},G=(V,ie,ue)=>{const we=(nt(r,V,{_f:{}})._f||{}).ref,Se=nt(n.errors,V)||{},{ref:K,message:Ce,type:Le,...Y}=Se;kn(n.errors,V,{...Y,...ie,ref:we}),h.state.next({name:V,errors:n.errors,isValid:!1}),ue&&ue.shouldFocus&&we&&we.focus&&we.focus()},Q=(V,ie)=>uc(V)?h.values.subscribe({next:ue=>V(B(void 0,ie),ue)}):B(V,ie,!0),oe=(V,ie={})=>{for(const ue of V?jE(V):l.mount)l.mount.delete(ue),l.array.delete(ue),ie.keepValue||(Gr(r,ue),Gr(a,ue)),!ie.keepError&&Gr(n.errors,ue),!ie.keepDirty&&Gr(n.dirtyFields,ue),!ie.keepTouched&&Gr(n.touchedFields,ue),!ie.keepIsValidating&&Gr(n.validatingFields,ue),!t.shouldUnregister&&!ie.keepDefaultValue&&Gr(i,ue);h.values.next({values:{...a}}),h.state.next({...n,...ie.keepDirty?{isDirty:M()}:{}}),!ie.keepIsValid&&x()},re=({disabled:V,name:ie,field:ue,fields:we,value:Se})=>{if(Xo(V)&&s.mount||V){const K=V?void 0:jr(Se)?$A(ue?ue._f:nt(we,ie)._f):Se;kn(a,ie,K),S(ie,K,!1,!1,!0)}},pe=(V,ie={})=>{let ue=nt(r,V);const we=Xo(ie.disabled)||Xo(e.disabled);return kn(r,V,{...ue||{},_f:{...ue&&ue._f?ue._f:{ref:{name:V}},name:V,mount:!0,...ie}}),l.mount.add(V),ue?re({field:ue,disabled:Xo(ie.disabled)?ie.disabled:e.disabled,name:V,value:ie.value}):_(V,!0,ie.value),{...we?{disabled:ie.disabled||e.disabled}:{},...t.progressive?{required:!!ie.required,min:ay(ie.min),max:ay(ie.max),minLength:ay(ie.minLength),maxLength:ay(ie.maxLength),pattern:ay(ie.pattern)}:{},name:V,onChange:I,onBlur:I,ref:Se=>{if(Se){pe(V,ie),ue=nt(r,V);const K=jr(Se.value)&&Se.querySelectorAll&&Se.querySelectorAll("input,select,textarea")[0]||Se,Ce=gxt(K),Le=ue._f.refs||[];if(Ce?Le.find(Y=>Y===K):K===ue._f.ref)return;kn(r,V,{_f:{...ue._f,...Ce?{refs:[...Le.filter(LA),K,...Array.isArray(nt(i,V))?[{}]:[]],ref:{type:K.type,name:V}}:{ref:K}}}),_(V,!1,void 0,K)}else ue=nt(r,V,{}),ue._f&&(ue._f.mount=!1),(t.shouldUnregister||ie.shouldUnregister)&&!(oxt(l.array,V)&&s.action)&&l.unMount.add(V)}}},ce=()=>t.shouldFocusError&&mx(r,U,l.mount),me=V=>{Xo(V)&&(h.state.next({disabled:V}),mx(r,(ie,ue)=>{const we=nt(r,ue);we&&(ie.disabled=we._f.disabled||V,Array.isArray(we._f.refs)&&we._f.refs.forEach(Se=>{Se.disabled=we._f.disabled||V}))},0,!1))},ye=(V,ie)=>async ue=>{let we;ue&&(ue.preventDefault&&ue.preventDefault(),ue.persist&&ue.persist());let Se=ks(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:K,values:Ce}=await T();n.errors=K,Se=Ce}else await k(r);if(Gr(n.errors,"root"),ka(n.errors)){h.state.next({errors:{}});try{await V(Se,ue)}catch(K){we=K}}else ie&&await ie({...n.errors},ue),ce(),setTimeout(ce);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ka(n.errors)&&!we,submitCount:n.submitCount+1,errors:n.errors}),we)throw we},ae=(V,ie={})=>{nt(r,V)&&(jr(ie.defaultValue)?L(V,ks(nt(i,V))):(L(V,ie.defaultValue),kn(i,V,ks(ie.defaultValue))),ie.keepTouched||Gr(n.touchedFields,V),ie.keepDirty||(Gr(n.dirtyFields,V),n.isDirty=ie.defaultValue?M(V,ks(nt(i,V))):M()),ie.keepError||(Gr(n.errors,V),d.isValid&&x()),h.state.next({...n}))},Ae=(V,ie={})=>{const ue=V?ks(V):i,we=ks(ue),Se=ka(V),K=Se?i:we;if(ie.keepDefaultValues||(i=ue),!ie.keepValues){if(ie.keepDirtyValues){const Ce=new Set([...l.mount,...Object.keys(iy(i,a))]);for(const Le of Array.from(Ce))nt(n.dirtyFields,Le)?kn(K,Le,nt(a,Le)):L(Le,nt(K,Le))}else{if(q4&&jr(V))for(const Ce of l.mount){const Le=nt(r,Ce);if(Le&&Le._f){const Y=Array.isArray(Le._f.refs)?Le._f.refs[0]:Le._f.ref;if(tC(Y)){const ee=Y.closest("form");if(ee){ee.reset();break}}}}r={}}a=e.shouldUnregister?ie.keepDefaultValues?ks(i):{}:ks(K),h.array.next({values:{...K}}),h.values.next({values:{...K}})}l={mount:ie.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!ie.keepIsValid||!!ie.keepDirtyValues,s.watch=!!e.shouldUnregister,h.state.next({submitCount:ie.keepSubmitCount?n.submitCount:0,isDirty:Se?!1:ie.keepDirty?n.isDirty:!!(ie.keepDefaultValues&&!wu(V,i)),isSubmitted:ie.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Se?{}:ie.keepDirtyValues?ie.keepDefaultValues&&a?iy(i,a):n.dirtyFields:ie.keepDefaultValues&&V?iy(i,V):ie.keepDirty?n.dirtyFields:{},touchedFields:ie.keepTouched?n.touchedFields:{},errors:ie.keepErrors?n.errors:{},isSubmitSuccessful:ie.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},H=(V,ie)=>Ae(uc(V)?V(a):V,ie);return{control:{register:pe,unregister:oe,getFieldState:z,handleSubmit:ye,setError:G,_executeSchema:T,_getWatch:B,_getDirty:M,_updateValid:x,_removeUnmounted:O,_updateFieldArray:v,_updateDisabledField:re,_getFieldArray:N,_reset:Ae,_resetDefaultValues:()=>uc(t.defaultValues)&&t.defaultValues().then(V=>{H(V,t.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:V=>{n={...n,...V}},_disableForm:me,_subjects:h,_proxyFormState:d,_setErrors:E,get _fields(){return r},get _formValues(){return a},get _state(){return s},set _state(V){s=V},get _defaultValues(){return i},get _names(){return l},set _names(V){l=V},get _formState(){return n},set _formState(V){n=V},get _options(){return t},set _options(V){t={...t,...V}}},trigger:$,register:pe,handleSubmit:ye,watch:Q,setValue:L,getValues:W,reset:H,resetField:ae,clearErrors:R,unregister:oe,setError:G,setFocus:(V,ie={})=>{const ue=nt(r,V),we=ue&&ue._f;if(we){const Se=we.refs?we.refs[0]:we.ref;Se.focus&&(Se.focus(),ie.shouldSelect&&Se.select())}},getFieldState:z}}function _xt(e={}){const t=q.useRef(),n=q.useRef(),[r,i]=q.useState({isDirty:!1,isValidating:!1,isLoading:uc(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:uc(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Sxt(e),formState:r});const a=t.current.control;return a._options=e,dxt({subject:a._subjects.state,next:s=>{uxt(s,a._proxyFormState,a._updateFormState)&&i({...a._formState})}}),q.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),q.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==r.isDirty&&a._subjects.state.next({isDirty:s})}},[a,r.isDirty]),q.useEffect(()=>{e.values&&!wu(e.values,n.current)?(a._reset(e.values,a._options.resetOptions),n.current=e.values,i(s=>({...s}))):a._resetDefaultValues()},[e.values,a]),q.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),q.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),q.useEffect(()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[e.shouldUnregister,a]),q.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[r]),t.current.formState=cxt(r,a),t.current}const aV=(e,t,n)=>{if(e&&"reportValidity"in e){const r=nt(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},Jce=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?aV(r.ref,n,e):r.refs&&r.refs.forEach(i=>aV(i,n,e))}},Cxt=(e,t)=>{t.shouldUseNativeValidation&&Jce(e,t);const n={};for(const r in e){const i=nt(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(Txt(t.names||Object.keys(e),r)){const s=Object.assign({},nt(n,r));kn(s,"root",a),kn(n,r,s)}else kn(n,r,a)}return n},Txt=(e,t)=>e.some(n=>n.startsWith(t+"."));var Nxt=function(e,t){for(var n={};e.length;){var r=e[0],i=r.code,a=r.message,s=r.path.join(".");if(!n[s])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[s]={message:l.message,type:l.code}}else n[s]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return e.push(h)})}),t){var c=n[s].types,u=c&&c[r.code];n[s]=qce(s,t,n,i,u?[].concat(u,r.message):r.message)}e.shift()}return n},kxt=function(e,t,n){return n===void 0&&(n={}),function(r,i,a){try{return Promise.resolve(function(s,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return a.shouldUseNativeValidation&&Jce({},a),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(s){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(s))return{values:{},errors:Cxt(Nxt(s.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw s}))}catch(s){return Promise.reject(s)}}},gn;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),s={};for(const l of a)s[l]=i[l];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},e.find=(i,a)=>{for(const s of i)if(a(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(gn||(gn={}));var sV;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(sV||(sV={}));const ut=gn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mu=e=>{switch(typeof e){case"undefined":return ut.undefined;case"string":return ut.string;case"number":return Number.isNaN(e)?ut.nan:ut.number;case"boolean":return ut.boolean;case"function":return ut.function;case"bigint":return ut.bigint;case"symbol":return ut.symbol;case"object":return Array.isArray(e)?ut.array:e===null?ut.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ut.promise:typeof Map<"u"&&e instanceof Map?ut.map:typeof Set<"u"&&e instanceof Set?ut.set:typeof Date<"u"&&e instanceof Date?ut.date:ut.object;default:return ut.unknown}},We=gn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Oc extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},r={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let l=r,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(s))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(this),r}static assert(t){if(!(t instanceof Oc))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,gn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Oc.create=e=>new Oc(e);const aI=(e,t)=>{let n;switch(e.code){case We.invalid_type:e.received===ut.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case We.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,gn.jsonStringifyReplacer)}`;break;case We.unrecognized_keys:n=`Unrecognized key(s) in object: ${gn.joinValues(e.keys,", ")}`;break;case We.invalid_union:n="Invalid input";break;case We.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${gn.joinValues(e.options)}`;break;case We.invalid_enum_value:n=`Invalid enum value. Expected ${gn.joinValues(e.options)}, received '${e.received}'`;break;case We.invalid_arguments:n="Invalid function arguments";break;case We.invalid_return_type:n="Invalid function return type";break;case We.invalid_date:n="Invalid date";break;case We.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:gn.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case We.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case We.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case We.custom:n="Invalid input";break;case We.invalid_intersection_types:n="Intersection results could not be merged";break;case We.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case We.not_finite:n="Number must be finite";break;default:n=t.defaultError,gn.assertNever(e)}return{message:n}};let Axt=aI;function jxt(){return Axt}const Oxt=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(s,{data:t,defaultError:l}).message;return{...i,path:a,message:l}};function Xe(e,t){const n=jxt(),r=Oxt({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===aI?void 0:aI].filter(i=>!!i)});e.common.issues.push(r)}class xs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return Ft;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const a=await i.key,s=await i.value;r.push({key:a,value:s})}return xs.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return Ft;a.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[a.value]=s.value)}return{status:t.value,value:r}}}const Ft=Object.freeze({status:"aborted"}),Ay=e=>({status:"dirty",value:e}),to=e=>({status:"valid",value:e}),oV=e=>e.status==="aborted",lV=e=>e.status==="dirty",yg=e=>e.status==="valid",iC=e=>typeof Promise<"u"&&e instanceof Promise;var ft;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ft||(ft={}));class dd{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const cV=(e,t)=>{if(yg(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Oc(e.common.issues);return this._error=n,this._error}}};function en(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,l)=>{const{message:c}=e;return s.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:s.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:i}}class pn{get description(){return this._def.description}_getType(t){return mu(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:mu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new xs,ctx:{common:t.parent.common,data:t.data,parsedType:mu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(iC(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mu(t)},i=this._parseSync({data:t,path:r.path,parent:r});return cV(r,i)}"~validate"(t){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mu(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:n});return yg(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(a=>yg(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mu(t)},i=this._parse({data:t,path:r.path,parent:r}),a=await(iC(i)?i:Promise.resolve(i));return cV(r,a)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const s=t(i),l=()=>a.addIssue({code:We.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(l(),!1)):s?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new vg({schema:this,typeName:zt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Gu.create(this,this._def)}nullable(){return bg.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return hl.create(this)}promise(){return lC.create(this,this._def)}or(t){return sC.create([this,t],this._def)}and(t){return oC.create(this,t,this._def)}transform(t){return new vg({...en(this._def),schema:this,typeName:zt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new oI({...en(this._def),innerType:this,defaultValue:n,typeName:zt.ZodDefault})}brand(){return new evt({typeName:zt.ZodBranded,type:this,...en(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new lI({...en(this._def),innerType:this,catchValue:n,typeName:zt.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return X4.create(this,t)}readonly(){return cI.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Pxt=/^c[^\s-]{8,}$/i,Mxt=/^[0-9a-z]+$/,Ixt=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Rxt=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Dxt=/^[a-z0-9_-]{21}$/i,Lxt=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,$xt=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Bxt=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Fxt="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let BA;const zxt=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Uxt=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Hxt=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Vxt=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Wxt=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qxt=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,eue="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Gxt=new RegExp(`^${eue}$`);function tue(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function Yxt(e){return new RegExp(`^${tue(e)}$`)}function Kxt(e){let t=`${eue}T${tue(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Xxt(e,t){return!!((t==="v4"||!t)&&zxt.test(e)||(t==="v6"||!t)&&Hxt.test(e))}function Zxt(e,t){if(!Lxt.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function Qxt(e,t){return!!((t==="v4"||!t)&&Uxt.test(e)||(t==="v6"||!t)&&Vxt.test(e))}class Mu extends pn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ut.string){const a=this._getOrReturnCtx(t);return Xe(a,{code:We.invalid_type,expected:ut.string,received:a.parsedType}),Ft}const r=new xs;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),Xe(i,{code:We.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),Xe(i,{code:We.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const s=t.data.length>a.value,l=t.data.length<a.value;(s||l)&&(i=this._getOrReturnCtx(t,i),s?Xe(i,{code:We.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Xe(i,{code:We.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")Bxt.test(t.data)||(i=this._getOrReturnCtx(t,i),Xe(i,{validation:"email",code:We.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")BA||(BA=new RegExp(Fxt,"u")),BA.test(t.data)||(i=this._getOrReturnCtx(t,i),Xe(i,{validation:"emoji",code:We.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")Rxt.test(t.data)||(i=this._getOrReturnCtx(t,i),Xe(i,{validation:"uuid",code:We.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")Dxt.test(t.data)||(i=this._getOrReturnCtx(t,i),Xe(i,{validation:"nanoid",code:We.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")Pxt.test(t.data)||(i=this._getOrReturnCtx(t,i),Xe(i,{validation:"cuid",code:We.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")Mxt.test(t.data)||(i=this._getOrReturnCtx(t,i),Xe(i,{validation:"cuid2",code:We.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")Ixt.test(t.data)||(i=this._getOrReturnCtx(t,i),Xe(i,{validation:"ulid",code:We.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Xe(i,{validation:"url",code:We.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Xe(i,{validation:"regex",code:We.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),Xe(i,{code:We.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),Xe(i,{code:We.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),Xe(i,{code:We.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Kxt(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Xe(i,{code:We.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?Gxt.test(t.data)||(i=this._getOrReturnCtx(t,i),Xe(i,{code:We.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?Yxt(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Xe(i,{code:We.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?$xt.test(t.data)||(i=this._getOrReturnCtx(t,i),Xe(i,{validation:"duration",code:We.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?Xxt(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Xe(i,{validation:"ip",code:We.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?Zxt(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),Xe(i,{validation:"jwt",code:We.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?Qxt(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Xe(i,{validation:"cidr",code:We.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?Wxt.test(t.data)||(i=this._getOrReturnCtx(t,i),Xe(i,{validation:"base64",code:We.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?qxt.test(t.data)||(i=this._getOrReturnCtx(t,i),Xe(i,{validation:"base64url",code:We.invalid_string,message:a.message}),r.dirty()):gn.assertNever(a);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:We.invalid_string,...ft.errToObj(r)})}_addCheck(t){return new Mu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ft.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ft.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ft.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ft.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ft.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ft.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ft.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ft.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ft.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ft.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ft.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ft.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ft.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ft.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ft.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ft.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...ft.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...ft.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...ft.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...ft.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...ft.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...ft.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...ft.errToObj(n)})}nonempty(t){return this.min(1,ft.errToObj(t))}trim(){return new Mu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Mu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Mu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Mu.create=e=>new Mu({checks:[],typeName:zt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...en(e)});function Jxt(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(e.toFixed(i).replace(".","")),s=Number.parseInt(t.toFixed(i).replace(".",""));return a%s/10**i}class Zv extends pn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ut.number){const a=this._getOrReturnCtx(t);return Xe(a,{code:We.invalid_type,expected:ut.number,received:a.parsedType}),Ft}let r;const i=new xs;for(const a of this._def.checks)a.kind==="int"?gn.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Xe(r,{code:We.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Xe(r,{code:We.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Xe(r,{code:We.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Jxt(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),Xe(r,{code:We.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Xe(r,{code:We.not_finite,message:a.message}),i.dirty()):gn.assertNever(a);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ft.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ft.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ft.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ft.toString(n))}setLimit(t,n,r,i){return new Zv({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ft.toString(i)}]})}_addCheck(t){return new Zv({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ft.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ft.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ft.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ft.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ft.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ft.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:ft.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ft.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ft.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&gn.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Zv.create=e=>new Zv({checks:[],typeName:zt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...en(e)});class Qv extends pn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ut.bigint)return this._getInvalidInput(t);let r;const i=new xs;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Xe(r,{code:We.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Xe(r,{code:We.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Xe(r,{code:We.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):gn.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Xe(n,{code:We.invalid_type,expected:ut.bigint,received:n.parsedType}),Ft}gte(t,n){return this.setLimit("min",t,!0,ft.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ft.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ft.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ft.toString(n))}setLimit(t,n,r,i){return new Qv({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ft.toString(i)}]})}_addCheck(t){return new Qv({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ft.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ft.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ft.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ft.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ft.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Qv.create=e=>new Qv({checks:[],typeName:zt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...en(e)});class uV extends pn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ut.boolean){const r=this._getOrReturnCtx(t);return Xe(r,{code:We.invalid_type,expected:ut.boolean,received:r.parsedType}),Ft}return to(t.data)}}uV.create=e=>new uV({typeName:zt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...en(e)});class aC extends pn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ut.date){const a=this._getOrReturnCtx(t);return Xe(a,{code:We.invalid_type,expected:ut.date,received:a.parsedType}),Ft}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Xe(a,{code:We.invalid_date}),Ft}const r=new xs;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),Xe(i,{code:We.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),Xe(i,{code:We.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):gn.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new aC({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:ft.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:ft.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}aC.create=e=>new aC({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:zt.ZodDate,...en(e)});class dV extends pn{_parse(t){if(this._getType(t)!==ut.symbol){const r=this._getOrReturnCtx(t);return Xe(r,{code:We.invalid_type,expected:ut.symbol,received:r.parsedType}),Ft}return to(t.data)}}dV.create=e=>new dV({typeName:zt.ZodSymbol,...en(e)});class hV extends pn{_parse(t){if(this._getType(t)!==ut.undefined){const r=this._getOrReturnCtx(t);return Xe(r,{code:We.invalid_type,expected:ut.undefined,received:r.parsedType}),Ft}return to(t.data)}}hV.create=e=>new hV({typeName:zt.ZodUndefined,...en(e)});class fV extends pn{_parse(t){if(this._getType(t)!==ut.null){const r=this._getOrReturnCtx(t);return Xe(r,{code:We.invalid_type,expected:ut.null,received:r.parsedType}),Ft}return to(t.data)}}fV.create=e=>new fV({typeName:zt.ZodNull,...en(e)});class mV extends pn{constructor(){super(...arguments),this._any=!0}_parse(t){return to(t.data)}}mV.create=e=>new mV({typeName:zt.ZodAny,...en(e)});class pV extends pn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return to(t.data)}}pV.create=e=>new pV({typeName:zt.ZodUnknown,...en(e)});class hd extends pn{_parse(t){const n=this._getOrReturnCtx(t);return Xe(n,{code:We.invalid_type,expected:ut.never,received:n.parsedType}),Ft}}hd.create=e=>new hd({typeName:zt.ZodNever,...en(e)});class gV extends pn{_parse(t){if(this._getType(t)!==ut.undefined){const r=this._getOrReturnCtx(t);return Xe(r,{code:We.invalid_type,expected:ut.void,received:r.parsedType}),Ft}return to(t.data)}}gV.create=e=>new gV({typeName:zt.ZodVoid,...en(e)});class hl extends pn{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==ut.array)return Xe(n,{code:We.invalid_type,expected:ut.array,received:n.parsedType}),Ft;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(s||l)&&(Xe(n,{code:s?We.too_big:We.too_small,minimum:l?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Xe(n,{code:We.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Xe(n,{code:We.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,l)=>i.type._parseAsync(new dd(n,s,n.path,l)))).then(s=>xs.mergeArray(r,s));const a=[...n.data].map((s,l)=>i.type._parseSync(new dd(n,s,n.path,l)));return xs.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new hl({...this._def,minLength:{value:t,message:ft.toString(n)}})}max(t,n){return new hl({...this._def,maxLength:{value:t,message:ft.toString(n)}})}length(t,n){return new hl({...this._def,exactLength:{value:t,message:ft.toString(n)}})}nonempty(t){return this.min(1,t)}}hl.create=(e,t)=>new hl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:zt.ZodArray,...en(t)});function lm(e){if(e instanceof br){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Gu.create(lm(r))}return new br({...e._def,shape:()=>t})}else return e instanceof hl?new hl({...e._def,type:lm(e.element)}):e instanceof Gu?Gu.create(lm(e.unwrap())):e instanceof bg?bg.create(lm(e.unwrap())):e instanceof cf?cf.create(e.items.map(t=>lm(t))):e}class br extends pn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=gn.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==ut.object){const u=this._getOrReturnCtx(t);return Xe(u,{code:We.invalid_type,expected:ut.object,received:u.parsedType}),Ft}const{status:r,ctx:i}=this._processInputParams(t),{shape:a,keys:s}=this._getCached(),l=[];if(!(this._def.catchall instanceof hd&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||l.push(u);const c=[];for(const u of s){const d=a[u],h=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new dd(i,h,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof hd){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")l.length>0&&(Xe(i,{code:We.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new dd(i,h,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,f=await d.value;u.push({key:h,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>xs.mergeObjectSync(r,u)):xs.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return ft.errToObj,new br({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,s;const i=((s=(a=this._def).errorMap)==null?void 0:s.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:ft.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new br({...this._def,unknownKeys:"strip"})}passthrough(){return new br({...this._def,unknownKeys:"passthrough"})}extend(t){return new br({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new br({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:zt.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new br({...this._def,catchall:t})}pick(t){const n={};for(const r of gn.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new br({...this._def,shape:()=>n})}omit(t){const n={};for(const r of gn.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new br({...this._def,shape:()=>n})}deepPartial(){return lm(this)}partial(t){const n={};for(const r of gn.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}return new br({...this._def,shape:()=>n})}required(t){const n={};for(const r of gn.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Gu;)a=a._def.innerType;n[r]=a}return new br({...this._def,shape:()=>n})}keyof(){return nue(gn.objectKeys(this.shape))}}br.create=(e,t)=>new br({shape:()=>e,unknownKeys:"strip",catchall:hd.create(),typeName:zt.ZodObject,...en(t)});br.strictCreate=(e,t)=>new br({shape:()=>e,unknownKeys:"strict",catchall:hd.create(),typeName:zt.ZodObject,...en(t)});br.lazycreate=(e,t)=>new br({shape:e,unknownKeys:"strip",catchall:hd.create(),typeName:zt.ZodObject,...en(t)});class sC extends pn{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const s=a.map(l=>new Oc(l.ctx.common.issues));return Xe(n,{code:We.invalid_union,unionErrors:s}),Ft}if(n.common.async)return Promise.all(r.map(async a=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=s.map(c=>new Oc(c));return Xe(n,{code:We.invalid_union,unionErrors:l}),Ft}}get options(){return this._def.options}}sC.create=(e,t)=>new sC({options:e,typeName:zt.ZodUnion,...en(t)});function sI(e,t){const n=mu(e),r=mu(t);if(e===t)return{valid:!0,data:e};if(n===ut.object&&r===ut.object){const i=gn.objectKeys(t),a=gn.objectKeys(e).filter(l=>i.indexOf(l)!==-1),s={...e,...t};for(const l of a){const c=sI(e[l],t[l]);if(!c.valid)return{valid:!1};s[l]=c.data}return{valid:!0,data:s}}else if(n===ut.array&&r===ut.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const s=e[a],l=t[a],c=sI(s,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===ut.date&&r===ut.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class oC extends pn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(a,s)=>{if(oV(a)||oV(s))return Ft;const l=sI(a.value,s.value);return l.valid?((lV(a)||lV(s))&&n.dirty(),{status:n.value,value:l.data}):(Xe(r,{code:We.invalid_intersection_types}),Ft)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}oC.create=(e,t,n)=>new oC({left:e,right:t,typeName:zt.ZodIntersection,...en(n)});class cf extends pn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ut.array)return Xe(r,{code:We.invalid_type,expected:ut.array,received:r.parsedType}),Ft;if(r.data.length<this._def.items.length)return Xe(r,{code:We.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ft;!this._def.rest&&r.data.length>this._def.items.length&&(Xe(r,{code:We.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((s,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new dd(r,s,r.path,l)):null}).filter(s=>!!s);return r.common.async?Promise.all(a).then(s=>xs.mergeArray(n,s)):xs.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new cf({...this._def,rest:t})}}cf.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new cf({items:e,typeName:zt.ZodTuple,rest:null,...en(t)})};class yV extends pn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ut.map)return Xe(r,{code:We.invalid_type,expected:ut.map,received:r.parsedType}),Ft;const i=this._def.keyType,a=this._def.valueType,s=[...r.data.entries()].map(([l,c],u)=>({key:i._parse(new dd(r,l,r.path,[u,"key"])),value:a._parse(new dd(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of s){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ft;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of s){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ft;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}yV.create=(e,t,n)=>new yV({valueType:t,keyType:e,typeName:zt.ZodMap,...en(n)});class Jv extends pn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ut.set)return Xe(r,{code:We.invalid_type,expected:ut.set,received:r.parsedType}),Ft;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Xe(r,{code:We.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Xe(r,{code:We.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function s(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ft;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>a._parse(new dd(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>s(c)):s(l)}min(t,n){return new Jv({...this._def,minSize:{value:t,message:ft.toString(n)}})}max(t,n){return new Jv({...this._def,maxSize:{value:t,message:ft.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Jv.create=(e,t)=>new Jv({valueType:e,minSize:null,maxSize:null,typeName:zt.ZodSet,...en(t)});class xV extends pn{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}xV.create=(e,t)=>new xV({getter:e,typeName:zt.ZodLazy,...en(t)});class vV extends pn{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Xe(n,{received:n.data,code:We.invalid_literal,expected:this._def.value}),Ft}return{status:"valid",value:t.data}}get value(){return this._def.value}}vV.create=(e,t)=>new vV({value:e,typeName:zt.ZodLiteral,...en(t)});function nue(e,t){return new xg({values:e,typeName:zt.ZodEnum,...en(t)})}class xg extends pn{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Xe(n,{expected:gn.joinValues(r),received:n.parsedType,code:We.invalid_type}),Ft}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return Xe(n,{received:n.data,code:We.invalid_enum_value,options:r}),Ft}return to(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return xg.create(t,{...this._def,...n})}exclude(t,n=this._def){return xg.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}xg.create=nue;class bV extends pn{_parse(t){const n=gn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==ut.string&&r.parsedType!==ut.number){const i=gn.objectValues(n);return Xe(r,{expected:gn.joinValues(i),received:r.parsedType,code:We.invalid_type}),Ft}if(this._cache||(this._cache=new Set(gn.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=gn.objectValues(n);return Xe(r,{received:r.data,code:We.invalid_enum_value,options:i}),Ft}return to(t.data)}get enum(){return this._def.values}}bV.create=(e,t)=>new bV({values:e,typeName:zt.ZodNativeEnum,...en(t)});class lC extends pn{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ut.promise&&n.common.async===!1)return Xe(n,{code:We.invalid_type,expected:ut.promise,received:n.parsedType}),Ft;const r=n.parsedType===ut.promise?n.data:Promise.resolve(n.data);return to(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}lC.create=(e,t)=>new lC({type:e,typeName:zt.ZodPromise,...en(t)});class vg extends pn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===zt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:s=>{Xe(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(r.data,a);if(r.common.async)return Promise.resolve(s).then(async l=>{if(n.value==="aborted")return Ft;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Ft:c.status==="dirty"||n.value==="dirty"?Ay(c.value):c});{if(n.value==="aborted")return Ft;const l=this._def.schema._parseSync({data:s,path:r.path,parent:r});return l.status==="aborted"?Ft:l.status==="dirty"||n.value==="dirty"?Ay(l.value):l}}if(i.type==="refinement"){const s=l=>{const c=i.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Ft:(l.status==="dirty"&&n.dirty(),s(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Ft:(l.status==="dirty"&&n.dirty(),s(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!yg(s))return Ft;const l=i.transform(s.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>yg(s)?Promise.resolve(i.transform(s.value,a)).then(l=>({status:n.value,value:l})):Ft);gn.assertNever(i)}}vg.create=(e,t,n)=>new vg({schema:e,typeName:zt.ZodEffects,effect:t,...en(n)});vg.createWithPreprocess=(e,t,n)=>new vg({schema:t,effect:{type:"preprocess",transform:e},typeName:zt.ZodEffects,...en(n)});class Gu extends pn{_parse(t){return this._getType(t)===ut.undefined?to(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Gu.create=(e,t)=>new Gu({innerType:e,typeName:zt.ZodOptional,...en(t)});class bg extends pn{_parse(t){return this._getType(t)===ut.null?to(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}bg.create=(e,t)=>new bg({innerType:e,typeName:zt.ZodNullable,...en(t)});class oI extends pn{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===ut.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}oI.create=(e,t)=>new oI({innerType:e,typeName:zt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...en(t)});class lI extends pn{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return iC(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Oc(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Oc(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}lI.create=(e,t)=>new lI({innerType:e,typeName:zt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...en(t)});class wV extends pn{_parse(t){if(this._getType(t)!==ut.nan){const r=this._getOrReturnCtx(t);return Xe(r,{code:We.invalid_type,expected:ut.nan,received:r.parsedType}),Ft}return{status:"valid",value:t.data}}}wV.create=e=>new wV({typeName:zt.ZodNaN,...en(e)});class evt extends pn{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class X4 extends pn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ft:a.status==="dirty"?(n.dirty(),Ay(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ft:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new X4({in:t,out:n,typeName:zt.ZodPipeline})}}class cI extends pn{_parse(t){const n=this._def.innerType._parse(t),r=i=>(yg(i)&&(i.value=Object.freeze(i.value)),i);return iC(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}cI.create=(e,t)=>new cI({innerType:e,typeName:zt.ZodReadonly,...en(t)});br.lazycreate;var zt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(zt||(zt={}));const EV=Mu.create;hd.create;hl.create;const tvt=br.create;br.strictCreate;sC.create;oC.create;cf.create;xg.create;lC.create;Gu.create;bg.create;const nvt=tvt({username:EV().min(1,"Username is required"),password:EV().min(1,"Password is required")}),rvt=()=>{const{login:e,loginConfig:t,loadLoginConfiguration:n,handleSSOLogin:r,isLoading:i}=VD(),[a,s]=w.useState(!1),l=Dn(),{register:c,handleSubmit:u,formState:{errors:d}}=_xt({resolver:kxt(nvt)});w.useEffect(()=>{t||n()},[t,n]);const h=async p=>{s(!0);try{await e(p),er({title:"Login successful",description:"Welcome back!"}),l("/")}catch(g){console.error("Login failed:",g),er({title:"Login failed",description:g.message||"An error occurred during login",variant:"destructive"})}finally{s(!1)}},f=async()=>{if(t!=null&&t.url)try{await r(t.url)}catch(p){er({title:"SSO Login failed",description:p.message||"An error occurred during SSO login",variant:"destructive"})}},m=()=>{if(i||!t)return o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Loading login configuration..."})]})});switch(t.method){case Sm.SAML2:return o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-sm text-gray-600 text-center",children:"This application uses SAML2 authentication"}),o.jsx(te,{onClick:f,className:"w-full",disabled:!t.url,children:"Sign in with SAML2"})]});case Sm.OIDC:return o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-sm text-gray-600 text-center",children:"This application uses OpenID Connect authentication"}),o.jsx(te,{onClick:f,className:"w-full",disabled:!t.url,children:"Sign in with OIDC"})]});case Sm.DOLL:default:return o.jsxs("form",{onSubmit:u(h),className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"username",children:"Username"}),o.jsx(Me,{id:"username",type:"text",placeholder:"Enter your username",...c("username"),disabled:a}),d.username&&o.jsx("p",{className:"text-sm text-red-600",children:d.username.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"password",children:"Password"}),o.jsx(Me,{id:"password",type:"password",placeholder:"Enter your password",...c("password"),disabled:a}),d.password&&o.jsx("p",{className:"text-sm text-red-600",children:d.password.message})]}),o.jsx(te,{type:"submit",className:"w-full",disabled:a,children:a?"Signing in...":"Sign In"})]})}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs(Pe,{className:"w-full max-w-md",children:[o.jsxs(Ye,{children:[o.jsx(dt,{children:"Sign In"}),o.jsx(hn,{children:(t==null?void 0:t.method)===Sm.DOLL?"Enter your credentials to access your account":"Use your organization's authentication system"})]}),o.jsx(De,{children:m()})]})})},ivt=({open:e,onOpenChange:t,serverId:n,serverName:r,serverDescription:i})=>{const[a,s]=w.useState(""),[l,c]=w.useState({});w.useEffect(()=>{const h=localStorage.getItem(`mcp_config_${n}`);if(h){s(h);try{c(JSON.parse(h))}catch(f){console.error("Invalid JSON config:",f)}}else{const f={mcpServers:{[r]:{command:"npx",args:["-y",`@modelcontextprotocol/server-${n}`],env:{}}}};s(JSON.stringify(f,null,2)),c(f)}},[n,r]);const u=h=>{s(h);try{const f=JSON.parse(h);c(f)}catch(f){console.error("Invalid JSON:",f)}},d=()=>{try{JSON.parse(a),localStorage.setItem(`mcp_config_${n}`,a),er({title:`${r} Configured`,description:`${r} configuration has been saved successfully.`}),t(!1)}catch{er({title:"Configuration Error",description:"Please enter valid JSON configuration",variant:"destructive"})}};return o.jsx(ur,{open:e,onOpenChange:t,children:o.jsxs(dr,{className:"glass-panel sm:max-w-[800px] slide-enter",children:[o.jsxs(hr,{children:[o.jsxs(fr,{children:["Configure ",r," MCP Server"]}),o.jsxs(mr,{children:["Edit ",r," server configuration"]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx(ve,{children:"JSON Configuration"}),o.jsx("textarea",{value:a,onChange:h=>u(h.target.value),className:"w-full h-[300px] mt-2 p-4 font-mono text-sm bg-muted/50 rounded-md",placeholder:"Enter JSON configuration..."})]}),o.jsxs(Hi,{className:"mt-6",children:[o.jsx(te,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),o.jsx(te,{onClick:d,children:"Confirm"})]})]})})},avt=()=>{const{theme:e,toggleTheme:t}=E_e(),{collapsed:n}=Tr(),r=Dn(),[i,a]=q.useState(""),[s,l]=q.useState(""),[c,u]=q.useState(""),[d,h]=q.useState(!1),[f,m]=q.useState(!1),[p,g]=q.useState(null),x=[{id:"chroma",name:"Chroma",description:"Open-source vector database optimized for AI applications with multi-model embedding support and efficient similarity search",icon:o.jsx(ss,{className:"h-5 w-5"}),iconBg:"bg-emerald-500",iconColor:"text-white",configType:"API Configuration"},{id:"qdrant",name:"Qdrant",description:"High-performance vector similarity search engine with real-time indexing and efficient data retrieval capabilities",icon:o.jsx(ss,{className:"h-5 w-5"}),iconBg:"bg-blue-500",iconColor:"text-white",configType:"API Configuration"},{id:"memory",name:"Memory Store",description:"In-memory vector storage system for fast data retrieval and real-time AI applications with low latency requirements",icon:o.jsx(ss,{className:"h-5 w-5"}),iconBg:"bg-purple-500",iconColor:"text-white",configType:"Local Configuration"},{id:"bedrock",name:"AWS Bedrock KB",description:"Fully managed RAG solution with built-in session context management and source attribution for enterprise knowledge bases",icon:o.jsx(ss,{className:"h-5 w-5"}),iconBg:"bg-orange-500",iconColor:"text-white",configType:"AWS Credentials"},{id:"notion",name:"Notion",description:"Connect to Notion workspace for accessing pages, databases, and content as a knowledge base for AI applications",icon:o.jsx(ss,{className:"h-5 w-5"}),iconBg:"bg-gray-900",iconColor:"text-white",configType:"API Configuration"}],y=x.filter(_=>c===""||_.name.toLowerCase().includes(c.toLowerCase())||_.description.toLowerCase().includes(c.toLowerCase())),v=_=>{const S=x.find(C=>C.id===_);S&&(g({id:S.id,name:S.name,description:S.description}),m(!0))};q.useEffect(()=>{const _=localStorage.getItem("mcp_token"),S=localStorage.getItem("mcp_url");_&&a(_),S&&l(S)},[]);const b=_=>{const S=_.target.value;a(S),localStorage.setItem("mcp_token",S)},E=_=>{const S=_.target.value;l(S),localStorage.setItem("mcp_url",S)};return o.jsxs("div",{className:Be("min-h-screen flex flex-col transition-all duration-300",n?"ml-[80px]":"ml-[224px]"),children:[o.jsx(Xn,{}),o.jsx(pX,{}),o.jsxs("main",{className:"flex-1 container max-w-5xl mx-auto py-8 px-4",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[o.jsx(te,{variant:"outline",size:"icon",onClick:()=>r(-1),className:"hover:bg-accent",children:o.jsx(xl,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),o.jsx("p",{className:"text-muted-foreground",children:"Customize your application preferences"})]})]}),o.jsxs(Pe,{className:"mb-6",children:[o.jsxs(Ye,{children:[o.jsx(dt,{children:"Appearance"}),o.jsx(hn,{children:"Customize how the application looks"})]}),o.jsx(De,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[e==="dark"?o.jsx(t1e,{className:"h-5 w-5"}):o.jsx(s1e,{className:"h-5 w-5"}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"theme-toggle",children:"Dark Mode"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e==="dark"?"Using dark theme":"Using light theme"})]})]}),o.jsx(G2,{id:"theme-toggle",checked:e==="dark",onCheckedChange:t})]})})]}),o.jsxs(Pe,{className:"mb-6",children:[o.jsx(Ye,{className:"flex flex-row items-center justify-between",children:o.jsxs("div",{children:[o.jsx(dt,{children:"Knowledge Base Services"}),o.jsx(hn,{children:"Configure vector databases and retrieval services for AI applications"})]})}),o.jsxs(De,{children:[o.jsxs("div",{className:"relative mb-6",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:o.jsx(Fa,{className:"h-4 w-4 text-muted-foreground"})}),o.jsx(Me,{type:"search",placeholder:"Search",className:"pl-10",value:c,onChange:_=>u(_.target.value)})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-muted-foreground mb-2",children:"Need to configure a custom knowledge base service?"}),o.jsx(te,{variant:"link",className:"p-0 h-auto font-semibold",onClick:()=>h(!d),children:"Manual Configuration"})]}),o.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2",children:y.length>0?y.map(_=>o.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between hover:bg-accent/10 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`h-12 w-12 ${_.iconBg} rounded-full flex items-center justify-center`,children:o.jsx("span",{className:`text-xl font-bold ${_.iconColor}`,children:_.icon})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:_.name}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{className:"text-purple-500 text-sm",children:_.configType})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:_.description})]})]}),o.jsx(te,{variant:"outline",size:"icon",className:"rounded-full hover:bg-primary hover:text-primary-foreground transition-colors",onClick:()=>v(_.id),children:o.jsx(or,{className:"h-5 w-5"})})]},_.id)):o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-muted-foreground",children:"No servers found matching your search criteria"})})})]})]}),d&&o.jsxs(Pe,{className:"mb-6",children:[o.jsxs(Ye,{children:[o.jsx(dt,{children:"Knowledge Base Configuration"}),o.jsx(hn,{children:"Configure your knowledge base connection settings"})]}),o.jsx(De,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(W6,{className:"h-5 w-5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx(ve,{htmlFor:"mcp-url",children:"Service URL"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Enter your knowledge base service URL for establishing connection"}),o.jsx(Me,{id:"mcp-url",type:"text",value:s,onChange:E,placeholder:"Enter your server URL",className:"max-w-md"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(W6,{className:"h-5 w-5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx(ve,{htmlFor:"mcp-token",children:"API Key / Token"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Enter your service API key or access token for authentication"}),o.jsx(Me,{id:"mcp-token",type:"password",value:i,onChange:b,placeholder:"Enter your server token",className:"max-w-md"})]})]})]})})]})]}),p&&o.jsx(ivt,{open:f,onOpenChange:m,serverId:p.id,serverName:p.name,serverDescription:p.description})]})},svt=()=>{const{collapsed:e}=Tr(),t=Dn(),n=Yi();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ir,{}),o.jsxs("div",{className:`${e?"pl-20":"pl-56"} min-h-screen transition-all duration-300`,children:[o.jsx(Xn,{}),o.jsx("main",{className:"container py-6 flex flex-col items-center justify-center",children:o.jsxs("div",{className:"text-center max-w-md mx-auto py-12",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-muted-foreground mb-6",children:"Oops! The page you're looking for doesn't exist."}),o.jsx(te,{onClick:()=>t("/"),className:"mb-4",children:"Return to Dashboard"})]})})]})]})};let Hl=[];const sy=e=>new Promise(t=>setTimeout(t,e)),ovt={getAllFeedback:async()=>(await sy(500),[...Hl]),getFeedbackByHypothesisId:async e=>(await sy(300),Hl.filter(t=>t.hypothesisId===e)),addFeedback:async e=>{await sy(500);const t={...e,id:Date.now().toString(),createdAt:new Date().toISOString()};return Hl=[t,...Hl],t},updateFeedback:async(e,t)=>{await sy(500);const n=Hl.findIndex(i=>i.id===e);if(n===-1)throw new Error("");const r={...Hl[n],...t};return Hl[n]=r,r},deleteFeedback:async e=>{await sy(500),Hl=Hl.filter(t=>t.id!==e)}},lvt=({hypothesis:e,businessProblem:t,onFeedbackSubmitted:n})=>{const[r,i]=w.useState(null),[a,s]=w.useState(""),[l,c]=w.useState("neutral"),[u,d]=w.useState(!1),[h,f]=w.useState(!1),{toast:m}=za(),p=y=>{i(y),y>=4?c("success"):y<=2?c("failure"):c("neutral"),f(!0)},g=y=>{c(y)},x=async()=>{if(r===null){m({title:"Error",description:"Please provide a rating first",variant:"destructive"});return}try{d(!0),await ovt.addFeedback({hypothesisId:(e==null?void 0:e.id)||(t==null?void 0:t.id),rating:r,comment:a,outcome:l}),m({title:"Feedback Submitted",description:"Thank you for your feedback. It will help us improve the hypothesis."}),i(null),s(""),c("neutral"),f(!1),n&&n()}catch{m({title:"Submission Failed",description:"Unable to submit your feedback. Please try again later.",variant:"destructive"})}finally{d(!1)}};return o.jsxs(Pe,{className:"shadow-sm",children:[o.jsxs(Ye,{className:"pb-3",children:[o.jsx(dt,{className:"text-base",children:"Provide Hypothesis Feedback"}),o.jsxs(hn,{children:['How would you rate the hypothesis "',o.jsx("span",{className:"font-medium",children:(e==null?void 0:e.title)||(t==null?void 0:t.title)}),'"?']})]}),o.jsx(De,{className:"pb-3",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-2",children:"Rating"}),o.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(y=>o.jsx(te,{variant:r===y?"default":"outline",size:"sm",onClick:()=>p(y),className:"w-10 h-10",children:y},y))})]}),h&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-2",children:"Outcome"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(te,{variant:l==="success"?"default":"outline",size:"sm",onClick:()=>g("success"),className:"flex items-center gap-1",children:[o.jsx(l1e,{className:"h-4 w-4"}),o.jsx("span",{children:"Success"})]}),o.jsxs(te,{variant:l==="neutral"?"default":"outline",size:"sm",onClick:()=>g("neutral"),className:"flex items-center gap-1",children:[o.jsx(Lg,{className:"h-4 w-4"}),o.jsx("span",{children:"Neutral"})]}),o.jsxs(te,{variant:l==="failure"?"default":"outline",size:"sm",onClick:()=>g("failure"),className:"flex items-center gap-1",children:[o.jsx(o1e,{className:"h-4 w-4"}),o.jsx("span",{children:"Failure"})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-2",children:"Comments (Optional)"}),o.jsx(Pn,{placeholder:"What specific feedback do you have about this hypothesis?",value:a,onChange:y=>s(y.target.value),rows:3})]})]})]})}),o.jsx(Tf,{children:h&&o.jsxs(te,{onClick:x,disabled:u||r===null,className:"w-full",children:[u?o.jsx(nr,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Submit Feedback"]})})]})},cvt=`
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }
  .animate-fadeIn {
    animation: fadeIn 0.5s ease-in-out;
  }
  .animate-spin {
    animation: spin 1s linear infinite;
  }
`;if(typeof document<"u"){const e=document.createElement("style");e.innerHTML=cvt,document.head.appendChild(e)}const uvt=({hypothesis:e,businessProblem:t,onApplySuggestion:n,className:r})=>{const[i,a]=q.useState(!1),[s,l]=q.useState([]),c=[{id:"1",title:"Improve hypothesis clarity",description:"Make the hypothesis more specific by including measurable outcomes.",confidence:85,suggestionType:"refine",createdAt:new Date().toISOString(),hypothesisId:(e==null?void 0:e.id)||(t==null?void 0:t.id)||"",basedOn:"knowledge"},{id:"2",title:"Consider additional metrics",description:"Add customer satisfaction metrics to validate the hypothesis more thoroughly.",confidence:72,suggestionType:"extend",createdAt:new Date().toISOString(),hypothesisId:(e==null?void 0:e.id)||(t==null?void 0:t.id)||"",basedOn:"feedback"}],u=()=>{a(!0),setTimeout(()=>{l(c),a(!1)},1e3)};return q.useEffect(()=>{l(c)},[]),o.jsxs(Pe,{className:`shadow-sm ${r}`,children:[o.jsx(Ye,{className:"pb-3",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs(dt,{className:"text-base flex items-center",children:[o.jsx(ga,{className:"h-5 w-5 mr-2 text-primary"}),"Optimization Suggestions"]}),o.jsx(te,{variant:"ghost",size:"icon",onClick:u,className:`transition-all ${i?"animate-spin":"hover:rotate-180"}`,disabled:i,children:o.jsx(ga,{className:"h-4 w-4"})})]})}),o.jsx(De,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:e?`Optimization suggestions for hypothesis: ${e.title}`:t?`Optimization suggestions for business problem: ${t.title}`:"No hypothesis or business problem selected."}),s.map(d=>o.jsxs("div",{className:"p-4 bg-muted/50 rounded-md border transition-all duration-300 animate-fadeIn hover:bg-muted/70",children:[o.jsx("h3",{className:"font-medium text-sm mb-1",children:d.title}),o.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:d.description}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded-full",children:[d.confidence,"% confidence"]}),o.jsx(te,{size:"sm",variant:"outline",onClick:()=>n&&n(d),children:"Apply"})]})]},d.id))]})})]})},dvt=()=>{const[e,t]=w.useState("feedback"),[n,r]=w.useState(null),[i,a]=w.useState(null),[s,l]=w.useState(!0);w.useState(""),w.useState([]),w.useState(!1);const c=Yi(),u=Dn(),{toast:d}=za();w.useEffect(()=>{const y=new URLSearchParams(c.search),v=y.get("hypothesis"),b=y.get("businessProblemId"),E=y.get("tab");E&&["knowledge","feedback","optimization"].includes(E)&&t(E),b?f(b):v?h(v):l(!1)},[c.search]);const h=async y=>{l(!0);try{const v=await ec.getHypothesisById(y);v?(r(v),a(null)):(d({title:"Hypothesis Not Found",description:"Unable to find the specified hypothesis",variant:"destructive"}),u("/hypotheses"))}catch(v){console.error("Failed to load hypothesis:",v),d({title:"Loading Failed",description:"Unable to load hypothesis data",variant:"destructive"})}finally{l(!1)}},f=async y=>{l(!0);try{const v=await Kr.getBusinessProblemById(y);v?(a(v),r(null)):(d({title:"Business Problem Not Found",description:"Unable to find the specified business problem",variant:"destructive"}),u("/problems"))}catch(v){console.error("Failed to load business problem:",v),d({title:"Loading Failed",description:"Unable to load business problem data",variant:"destructive"})}finally{l(!1)}},m=y=>{n?u(`/hypotheses?edit=${n.id}&suggestion=${encodeURIComponent(JSON.stringify({title:y.title,description:y.description,type:y.suggestionType}))}`):i&&u(`/problems?edit=${i.id}&suggestion=${encodeURIComponent(JSON.stringify({title:y.title,description:y.description,type:y.suggestionType}))}`)},p=()=>{u(n?`/analysis?hypothesis=${n.id}`:i?"/problems":"/hypotheses")},g=y=>{t(y);const v=new URLSearchParams(c.search);v.set("tab",y),u({pathname:c.pathname,search:v.toString()})},x=()=>n?n.title:i?i.title:"";return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ir,{}),o.jsxs("div",{className:"pl-56 min-h-screen",children:[o.jsx(Xn,{}),o.jsxs("main",{className:"container py-6",children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(te,{variant:"ghost",size:"icon",onClick:p,className:"mr-2",children:o.jsx(xl,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-semibold flex items-center",children:[o.jsx(Wi,{className:"h-6 w-6 mr-2 text-primary"}),"Learning and Optimization System"]}),(n||i)&&o.jsxs("div",{className:"flex items-center text-muted-foreground mt-1",children:[i&&o.jsxs(o.Fragment,{children:[o.jsx(QK,{className:"h-4 w-4 mr-1"})," Business Problem: "]}),n&&o.jsxs(o.Fragment,{children:[o.jsx(ga,{className:"h-4 w-4 mr-1"})," Hypothesis: "]}),o.jsx("span",{className:"ml-1",children:x()})]})]})]})}),s?o.jsxs("div",{className:"flex justify-center items-center py-20",children:[o.jsx(nr,{className:"h-8 w-8 animate-spin text-primary mr-2"}),o.jsx("p",{children:"Loading data..."})]}):!n&&!i?o.jsxs("div",{className:"glass-card p-10 text-center",children:[o.jsx(Wi,{className:"h-16 w-16 mx-auto text-primary mb-4"}),o.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Please Select a Business Problem"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Select a business problem from the list to view and manage learning and optimization data"}),o.jsx(te,{onClick:()=>u("/problems"),children:"Browse Business Problems"})]}):o.jsx("div",{children:o.jsxs(Oo,{value:e,onValueChange:g,className:"glass-card p-6 mb-6",children:[o.jsxs(Us,{className:"grid grid-cols-2 mb-6",children:[o.jsxs(Xt,{value:"feedback",className:"flex items-center",children:[o.jsx(Lg,{className:"h-4 w-4 mr-2"}),"User Feedback"]}),o.jsxs(Xt,{value:"optimization",className:"flex items-center",children:[o.jsx(ga,{className:"h-4 w-4 mr-2"}),"Optimization Suggestions"]})]}),o.jsx(Zt,{value:"feedback",className:"mt-0",children:o.jsx("div",{className:"grid grid-cols-1 gap-6",children:o.jsx("div",{className:"col-span-1",children:o.jsx(lvt,{hypothesis:n,businessProblem:i,onFeedbackSubmitted:()=>d({title:"Feedback Submitted",description:"Your feedback has been recorded and will be used to optimize the system."})})})})}),o.jsx(Zt,{value:"optimization",className:"mt-0",children:o.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[o.jsxs("div",{className:"flex gap-4 mb-4",children:[o.jsx("div",{className:"relative flex-grow",children:o.jsx(Me,{placeholder:"Add context for optimization suggestions...",className:"pl-4",id:"optimization-context"})}),o.jsxs(te,{onClick:()=>{const y=document.getElementById("optimization-context");y!=null&&y.value,d({title:"Refreshing Suggestions",description:"Generating new optimization suggestions based on provided context."})},children:[o.jsx(ga,{className:"h-4 w-4 mr-2"}),"Refresh Suggestions"]})]}),o.jsx(uvt,{hypothesis:n,businessProblem:i,onApplySuggestion:m})]})})]})})]})]})]})},Z4=w.createContext({});function Q4(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const J4=typeof window<"u",rue=J4?w.useLayoutEffect:w.useEffect,iN=w.createContext(null),e$=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class hvt extends w.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function fvt({children:e,isPresent:t,anchorX:n}){const r=w.useId(),i=w.useRef(null),a=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=w.useContext(e$);return w.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:d,right:h}=a.current;if(t||!i.current||!l||!c)return;const f=n==="left"?`left: ${d}`:`right: ${h}`;i.current.dataset.motionPopId=r;const m=document.createElement("style");return s&&(m.nonce=s),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[t]),o.jsx(hvt,{isPresent:t,childRef:i,sizeRef:a,children:w.cloneElement(e,{ref:i})})}const mvt=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s,anchorX:l})=>{const c=Q4(pvt),u=w.useId();let d=!0,h=w.useMemo(()=>(d=!1,{id:u,initial:t,isPresent:n,custom:i,onExitComplete:f=>{c.set(f,!0);for(const m of c.values())if(!m)return;r&&r()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[n,c,r]);return a&&d&&(h={...h}),w.useMemo(()=>{c.forEach((f,m)=>c.set(m,!1))},[n]),w.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),s==="popLayout"&&(e=o.jsx(fvt,{isPresent:n,anchorX:l,children:e})),o.jsx(iN.Provider,{value:h,children:e})};function pvt(){return new Map}function iue(e=!0){const t=w.useContext(iN);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,a=w.useId();w.useEffect(()=>{if(e)return i(a)},[e]);const s=w.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,s]:[!0]}const Hw=e=>e.key||"";function SV(e){const t=[];return w.Children.forEach(e,n=>{w.isValidElement(n)&&t.push(n)}),t}const gvt=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1,anchorX:l="left"})=>{const[c,u]=iue(s),d=w.useMemo(()=>SV(e),[e]),h=s&&!c?[]:d.map(Hw),f=w.useRef(!0),m=w.useRef(d),p=Q4(()=>new Map),[g,x]=w.useState(d),[y,v]=w.useState(d);rue(()=>{f.current=!1,m.current=d;for(let _=0;_<y.length;_++){const S=Hw(y[_]);h.includes(S)?p.delete(S):p.get(S)!==!0&&p.set(S,!1)}},[y,h.length,h.join("-")]);const b=[];if(d!==g){let _=[...d];for(let S=0;S<y.length;S++){const C=y[S],T=Hw(C);h.includes(T)||(_.splice(S,0,C),b.push(C))}return a==="wait"&&b.length&&(_=b),v(SV(_)),x(d),null}const{forceRender:E}=w.useContext(Z4);return o.jsx(o.Fragment,{children:y.map(_=>{const S=Hw(_),C=s&&!c?!1:d===y||h.includes(S),T=()=>{if(p.has(S))p.set(S,!0);else return;let j=!0;p.forEach(k=>{k||(j=!1)}),j&&(E==null||E(),v(m.current),s&&(u==null||u()),r&&r())};return o.jsx(mvt,{isPresent:C,initial:!f.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,onExitComplete:C?void 0:T,anchorX:l,children:_},S)})})};function t$(e,t){e.indexOf(t)===-1&&e.push(t)}function n$(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Pc=(e,t,n)=>n>t?t:n<e?e:n;let cC=()=>{};const Mc={},aue=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),sue=e=>/^0[^.\s]+$/u.test(e);function r$(e){let t;return()=>(t===void 0&&(t=e()),t)}const Hs=e=>e,yvt=(e,t)=>n=>t(e(n)),d1=(...e)=>e.reduce(yvt),eb=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class i${constructor(){this.subscriptions=[]}add(t){return t$(this.subscriptions,t),()=>n$(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fl=e=>e*1e3,ml=e=>e/1e3;function oue(e,t){return t?e*(1e3/t):0}const lue=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,xvt=1e-7,vvt=12;function bvt(e,t,n,r,i){let a,s,l=0;do s=t+(n-t)/2,a=lue(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>xvt&&++l<vvt);return s}function h1(e,t,n,r){if(e===t&&n===r)return Hs;const i=a=>bvt(a,0,1,e,n);return a=>a===0||a===1?a:lue(i(a),t,r)}const cue=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,uue=e=>t=>1-e(1-t),due=h1(.33,1.53,.69,.99),a$=uue(due),hue=cue(a$),fue=e=>(e*=2)<1?.5*a$(e):.5*(2-Math.pow(2,-10*(e-1))),s$=e=>1-Math.sin(Math.acos(e)),mue=uue(s$),pue=cue(s$),wvt=h1(.42,0,1,1),Evt=h1(0,0,.58,1),gue=h1(.42,0,.58,1),Svt=e=>Array.isArray(e)&&typeof e[0]!="number",yue=e=>Array.isArray(e)&&typeof e[0]=="number",_V={linear:Hs,easeIn:wvt,easeInOut:gue,easeOut:Evt,circIn:s$,circInOut:pue,circOut:mue,backIn:a$,backInOut:hue,backOut:due,anticipate:fue},_vt=e=>typeof e=="string",CV=e=>{if(yue(e)){cC(e.length===4);const[t,n,r,i]=e;return h1(t,n,r,i)}else if(_vt(e))return cC(_V[e]!==void 0),_V[e];return e},Vw=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],TV={value:null,addProjectionMetrics:null};function Cvt(e,t){let n=new Set,r=new Set,i=!1,a=!1;const s=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){s.has(h)&&(d.schedule(h),e()),c++,h(l)}const d={schedule:(h,f=!1,m=!1)=>{const g=m&&i?n:r;return f&&s.add(h),g.has(h)||g.add(h),h},cancel:h=>{r.delete(h),s.delete(h)},process:h=>{if(l=h,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),t&&TV.value&&TV.value.frameloop[t].push(c),c=0,n.clear(),i=!1,a&&(a=!1,d.process(h))}};return d}const Tvt=40;function xue(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=Vw.reduce((b,E)=>(b[E]=Cvt(a,t?E:void 0),b),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:p}=s,g=()=>{const b=Mc.useManualTiming?i.timestamp:performance.now();n=!1,Mc.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(b-i.timestamp,Tvt),1)),i.timestamp=b,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),f.process(i),m.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(g))},x=()=>{n=!0,r=!0,i.isProcessing||e(g)};return{schedule:Vw.reduce((b,E)=>{const _=s[E];return b[E]=(S,C=!1,T=!1)=>(n||x(),_.schedule(S,C,T)),b},{}),cancel:b=>{for(let E=0;E<Vw.length;E++)s[Vw[E]].cancel(b)},state:i,steps:s}}const{schedule:gr,cancel:fd,state:Ei,steps:FA}=xue(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hs,!0);let PE;function Nvt(){PE=void 0}const Ra={now:()=>(PE===void 0&&Ra.set(Ei.isProcessing||Mc.useManualTiming?Ei.timestamp:performance.now()),PE),set:e=>{PE=e,queueMicrotask(Nvt)}},vue=e=>t=>typeof t=="string"&&t.startsWith(e),o$=vue("--"),kvt=vue("var(--"),l$=e=>kvt(e)?Avt.test(e.split("/*")[0].trim()):!1,Avt=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,d0={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},tb={...d0,transform:e=>Pc(0,1,e)},Ww={...d0,default:1},px=e=>Math.round(e*1e5)/1e5,c$=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jvt(e){return e==null}const Ovt=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,u$=(e,t)=>n=>!!(typeof n=="string"&&Ovt.test(n)&&n.startsWith(e)||t&&!jvt(n)&&Object.prototype.hasOwnProperty.call(n,t)),bue=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,a,s,l]=r.match(c$);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},Pvt=e=>Pc(0,255,e),zA={...d0,transform:e=>Math.round(Pvt(e))},ph={test:u$("rgb","red"),parse:bue("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+zA.transform(e)+", "+zA.transform(t)+", "+zA.transform(n)+", "+px(tb.transform(r))+")"};function Mvt(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const uI={test:u$("#"),parse:Mvt,transform:ph.transform},f1=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ou=f1("deg"),pl=f1("%"),It=f1("px"),Ivt=f1("vh"),Rvt=f1("vw"),NV={...pl,parse:e=>pl.parse(e)/100,transform:e=>pl.transform(e*100)},Om={test:u$("hsl","hue"),parse:bue("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+pl.transform(px(t))+", "+pl.transform(px(n))+", "+px(tb.transform(r))+")"},Di={test:e=>ph.test(e)||uI.test(e)||Om.test(e),parse:e=>ph.test(e)?ph.parse(e):Om.test(e)?Om.parse(e):uI.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ph.transform(e):Om.transform(e)},Dvt=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Lvt(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(c$))==null?void 0:t.length)||0)+(((n=e.match(Dvt))==null?void 0:n.length)||0)>0}const wue="number",Eue="color",$vt="var",Bvt="var(",kV="${}",Fvt=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nb(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(Fvt,c=>(Di.test(c)?(r.color.push(a),i.push(Eue),n.push(Di.parse(c))):c.startsWith(Bvt)?(r.var.push(a),i.push($vt),n.push(c)):(r.number.push(a),i.push(wue),n.push(parseFloat(c))),++a,kV)).split(kV);return{values:n,split:l,indexes:r,types:i}}function Sue(e){return nb(e).values}function _ue(e){const{split:t,types:n}=nb(e),r=t.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=t[s],i[s]!==void 0){const l=n[s];l===wue?a+=px(i[s]):l===Eue?a+=Di.transform(i[s]):a+=i[s]}return a}}const zvt=e=>typeof e=="number"?0:e;function Uvt(e){const t=Sue(e);return _ue(e)(t.map(zvt))}const md={test:Lvt,parse:Sue,createTransformer:_ue,getAnimatableNone:Uvt};function UA(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Hvt({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;i=UA(c,l,e+1/3),a=UA(c,l,e),s=UA(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function uC(e,t){return n=>n>0?t:e}const cr=(e,t,n)=>e+(t-e)*n,HA=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},Vvt=[uI,ph,Om],Wvt=e=>Vvt.find(t=>t.test(e));function AV(e){const t=Wvt(e);if(!t)return!1;let n=t.parse(e);return t===Om&&(n=Hvt(n)),n}const jV=(e,t)=>{const n=AV(e),r=AV(t);if(!n||!r)return uC(e,t);const i={...n};return a=>(i.red=HA(n.red,r.red,a),i.green=HA(n.green,r.green,a),i.blue=HA(n.blue,r.blue,a),i.alpha=cr(n.alpha,r.alpha,a),ph.transform(i))},dI=new Set(["none","hidden"]);function qvt(e,t){return dI.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Gvt(e,t){return n=>cr(e,t,n)}function d$(e){return typeof e=="number"?Gvt:typeof e=="string"?l$(e)?uC:Di.test(e)?jV:Xvt:Array.isArray(e)?Cue:typeof e=="object"?Di.test(e)?jV:Yvt:uC}function Cue(e,t){const n=[...e],r=n.length,i=e.map((a,s)=>d$(a)(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}}function Yvt(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=d$(e[i])(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function Kvt(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],s=e.indexes[a][r[a]],l=e.values[s]??0;n[i]=l,r[a]++}return n}const Xvt=(e,t)=>{const n=md.createTransformer(t),r=nb(e),i=nb(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?dI.has(e)&&!i.values.length||dI.has(t)&&!r.values.length?qvt(e,t):d1(Cue(Kvt(r,i),i.values),n):uC(e,t)};function Tue(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?cr(e,t,n):d$(e)(e,t)}const Zvt=e=>{const t=({timestamp:n})=>e(n);return{start:()=>gr.update(t,!0),stop:()=>fd(t),now:()=>Ei.isProcessing?Ei.timestamp:Ra.now()}},Nue=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=e(a/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},dC=2e4;function h$(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<dC;)t+=n,r=e.next(t);return t>=dC?1/0:t}function Qvt(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(h$(r),dC);return{type:"keyframes",ease:a=>r.next(i*a).value/t,duration:ml(i)}}const Jvt=5;function kue(e,t,n){const r=Math.max(t-Jvt,0);return oue(n-e(r),t-r)}const wr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},VA=.001;function ebt({duration:e=wr.duration,bounce:t=wr.bounce,velocity:n=wr.velocity,mass:r=wr.mass}){let i,a,s=1-t;s=Pc(wr.minDamping,wr.maxDamping,s),e=Pc(wr.minDuration,wr.maxDuration,ml(e)),s<1?(i=u=>{const d=u*s,h=d*e,f=d-n,m=hI(u,s),p=Math.exp(-h);return VA-f/m*p},a=u=>{const h=u*s*e,f=h*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,p=Math.exp(-h),g=hI(Math.pow(u,2),s);return(-i(u)+VA>0?-1:1)*((f-m)*p)/g}):(i=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-VA+d*h},a=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=nbt(i,a,l);if(e=fl(e),isNaN(c))return{stiffness:wr.stiffness,damping:wr.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const tbt=12;function nbt(e,t,n){let r=n;for(let i=1;i<tbt;i++)r=r-e(r)/t(r);return r}function hI(e,t){return e*Math.sqrt(1-t*t)}const rbt=["duration","bounce"],ibt=["stiffness","damping","mass"];function OV(e,t){return t.some(n=>e[n]!==void 0)}function abt(e){let t={velocity:wr.velocity,stiffness:wr.stiffness,damping:wr.damping,mass:wr.mass,isResolvedFromDuration:!1,...e};if(!OV(e,ibt)&&OV(e,rbt))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Pc(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:wr.mass,stiffness:i,damping:a}}else{const n=ebt(e);t={...t,...n,mass:wr.mass},t.isResolvedFromDuration=!0}return t}function hC(e=wr.visualDuration,t=wr.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=abt({...n,velocity:-ml(n.velocity||0)}),p=f||0,g=u/(2*Math.sqrt(c*d)),x=s-a,y=ml(Math.sqrt(c/d)),v=Math.abs(x)<5;r||(r=v?wr.restSpeed.granular:wr.restSpeed.default),i||(i=v?wr.restDelta.granular:wr.restDelta.default);let b;if(g<1){const _=hI(y,g);b=S=>{const C=Math.exp(-g*y*S);return s-C*((p+g*y*x)/_*Math.sin(_*S)+x*Math.cos(_*S))}}else if(g===1)b=_=>s-Math.exp(-y*_)*(x+(p+y*x)*_);else{const _=y*Math.sqrt(g*g-1);b=S=>{const C=Math.exp(-g*y*S),T=Math.min(_*S,300);return s-C*((p+g*y*x)*Math.sinh(T)+_*x*Math.cosh(T))/_}}const E={calculatedDuration:m&&h||null,next:_=>{const S=b(_);if(m)l.done=_>=h;else{let C=_===0?p:0;g<1&&(C=_===0?fl(p):kue(b,_,S));const T=Math.abs(C)<=r,j=Math.abs(s-S)<=i;l.done=T&&j}return l.value=l.done?s:S,l},toString:()=>{const _=Math.min(h$(E),dC),S=Nue(C=>E.next(_*C).value,_,30);return _+"ms "+S},toTransition:()=>{}};return E}hC.applyToOptions=e=>{const t=Qvt(e,100,hC);return e.ease=t.ease,e.duration=fl(t.duration),e.type="keyframes",e};function fI({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=T=>l!==void 0&&T<l||c!==void 0&&T>c,p=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let g=n*t;const x=h+g,y=s===void 0?x:s(x);y!==x&&(g=y-h);const v=T=>-g*Math.exp(-T/r),b=T=>y+v(T),E=T=>{const j=v(T),k=b(T);f.done=Math.abs(j)<=u,f.value=f.done?y:k};let _,S;const C=T=>{m(f.value)&&(_=T,S=hC({keyframes:[f.value,p(f.value)],velocity:kue(b,T,f.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:T=>{let j=!1;return!S&&_===void 0&&(j=!0,E(T),C(T)),_!==void 0&&T>=_?S.next(T-_):(!j&&E(T),f)}}}function sbt(e,t,n){const r=[],i=n||Mc.mix||Tue,a=e.length-1;for(let s=0;s<a;s++){let l=i(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]||Hs:t;l=d1(c,l)}r.push(l)}return r}function obt(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(cC(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=sbt(t,r,i),c=l.length,u=d=>{if(s&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=eb(e[h],e[h+1],d);return l[h](f)};return n?d=>u(Pc(e[0],e[a-1],d)):u}function lbt(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=eb(0,t,r);e.push(cr(n,1,i))}}function cbt(e){const t=[0];return lbt(t,e.length-1),t}function ubt(e,t){return e.map(n=>n*t)}function dbt(e,t){return e.map(()=>t||gue).splice(0,e.length-1)}function gx({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Svt(r)?r.map(CV):CV(r),a={done:!1,value:t[0]},s=ubt(n&&n.length===t.length?n:cbt(t),e),l=obt(s,t,{ease:Array.isArray(i)?i:dbt(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const hbt=e=>e!==null;function f$(e,{repeat:t,repeatType:n="loop"},r,i=1){const a=e.filter(hbt),l=i<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const fbt={decay:fI,inertia:fI,tween:gx,keyframes:gx,spring:hC};function Aue(e){typeof e.type=="string"&&(e.type=fbt[e.type])}class m${constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const mbt=e=>e/100;class jue extends m${constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;if(n&&n.updatedAt!==Ra.now()&&this.tick(Ra.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Aue(t);const{type:n=gx,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=t;let{keyframes:l}=t;const c=n||gx;c!==gx&&typeof l[0]!="number"&&(this.mixKeyframes=d1(mbt,Tue(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=h$(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:p,onUpdate:g,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,E=r;if(h){const T=Math.min(this.currentTime,i)/l;let j=Math.floor(T),k=T%1;!k&&T>=1&&(k=1),k===1&&j--,j=Math.min(j,h+1),!!(j%2)&&(f==="reverse"?(k=1-k,m&&(k-=m/l)):f==="mirror"&&(E=s)),b=Pc(0,1,k)*l}const _=v?{done:!1,value:d[0]}:E.next(b);a&&(_.value=a(_.value));let{done:S}=_;!v&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return C&&p!==fI&&(_.value=f$(d,this.options,x,this.speed)),g&&g(_.value),C&&this.finish(),_}then(t,n){return this.finished.then(t,n)}get duration(){return ml(this.calculatedDuration)}get time(){return ml(this.currentTime)}set time(t){t=fl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ra.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ml(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Zvt,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=r??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ra.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),t.observe(this)}}function pbt(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const gh=e=>e*180/Math.PI,mI=e=>{const t=gh(Math.atan2(e[1],e[0]));return pI(t)},gbt={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:mI,rotateZ:mI,skewX:e=>gh(Math.atan(e[1])),skewY:e=>gh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},pI=e=>(e=e%360,e<0&&(e+=360),e),PV=mI,MV=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),IV=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ybt={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:MV,scaleY:IV,scale:e=>(MV(e)+IV(e))/2,rotateX:e=>pI(gh(Math.atan2(e[6],e[5]))),rotateY:e=>pI(gh(Math.atan2(-e[2],e[0]))),rotateZ:PV,rotate:PV,skewX:e=>gh(Math.atan(e[4])),skewY:e=>gh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function RV(e){return e.includes("scale")?1:0}function gI(e,t){if(!e||e==="none")return RV(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=ybt,i=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=gbt,i=l}if(!i)return RV(t);const a=r[t],s=i[1].split(",").map(vbt);return typeof a=="function"?a(s):s[a]}const xbt=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return gI(n,t)};function vbt(e){return parseFloat(e.trim())}const h0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],f0=new Set(h0),DV=e=>e===d0||e===It,bbt=new Set(["x","y","z"]),wbt=h0.filter(e=>!bbt.has(e));function Ebt(e){const t=[];return wbt.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const wg={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>gI(t,"x"),y:(e,{transform:t})=>gI(t,"y")};wg.translateX=wg.x;wg.translateY=wg.y;const Ph=new Set;let yI=!1,xI=!1,vI=!1;function Oue(){if(xI){const e=Array.from(Ph).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=Ebt(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,s])=>{var l;(l=r.getValue(a))==null||l.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}xI=!1,yI=!1,Ph.forEach(e=>e.complete(vI)),Ph.clear()}function Pue(){Ph.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(xI=!0)})}function Sbt(){vI=!0,Pue(),Oue(),vI=!1}class p${constructor(t,n,r,i,a,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ph.add(this),yI||(yI=!0,gr.read(Pue),gr.resolveKeyframes(Oue))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),s=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const l=r.readValue(n,s);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=s),i&&a===void 0&&i.set(t[0])}pbt(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ph.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ph.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const _bt=e=>e.startsWith("--");function Cbt(e,t,n){_bt(t)?e.style.setProperty(t,n):e.style[t]=n}const Tbt=r$(()=>window.ScrollTimeline!==void 0),Nbt={};function kbt(e,t){const n=r$(e);return()=>Nbt[t]??n()}const Mue=kbt(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jy=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,LV={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jy([0,.65,.55,1]),circOut:jy([.55,0,1,.45]),backIn:jy([.31,.01,.66,-.59]),backOut:jy([.33,1.53,.69,.99])};function Iue(e,t){if(e)return typeof e=="function"?Mue()?Nue(e,t):"ease-out":yue(e)?jy(e):Array.isArray(e)?e.map(n=>Iue(n,t)||LV.easeOut):LV[e]}function Abt(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const h=Iue(l,i);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(d,f)}function Rue(e){return typeof e=="function"&&"applyToOptions"in e}function jbt({type:e,...t}){return Rue(e)&&Mue()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Obt extends m${constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=t,cC(typeof t.type!="string");const u=jbt(t);this.animation=Abt(n,r,i,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=f$(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):Cbt(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ml(Number(t))}get time(){return ml(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=fl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Tbt()?(this.animation.timeline=t,Hs):n(this)}}const Due={anticipate:fue,backInOut:hue,circInOut:pue};function Pbt(e){return e in Due}function Mbt(e){typeof e.ease=="string"&&Pbt(e.ease)&&(e.ease=Due[e.ease])}const $V=10;class Ibt extends Obt{constructor(t){Mbt(t),Aue(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...s}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new jue({...s,autoplay:!1}),c=fl(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-$V).value,l.sample(c).value,$V),l.stop()}}const BV=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(md.test(e)||e==="0")&&!e.startsWith("url("));function Rbt(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Dbt(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],s=BV(i,t),l=BV(a,t);return!s||!l?!1:Rbt(e)||(n==="spring"||Rue(n))&&r}const Lbt=new Set(["opacity","clipPath","filter","transform"]),$bt=r$(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Bbt(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:s}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return $bt()&&n&&Lbt.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&a!==0&&s!=="inertia"}const Fbt=40;class zbt extends m${constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var p;super(),this.stop=()=>{var g,x;this._animation?(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)):(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Ra.now();const f={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:s,name:c,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||p$;this.keyframeResolver=new m(l,(g,x,y)=>this.onKeyframesResolved(g,x,f,!y),c,u,d),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:a,type:s,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Ra.now(),Dbt(t,a,s,l)||((Mc.instantAnimations||!c)&&(d==null||d(f$(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Fbt?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!u&&Bbt(f)?new Ibt({...f,element:f.motionValue.owner.current}):new jue(f);m.finished.then(()=>this.notifyFinished()).catch(Hs),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||Sbt(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const Ubt=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Hbt(e){const t=Ubt.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function Lue(e,t,n=1){const[r,i]=Hbt(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return aue(s)?parseFloat(s):s}return l$(i)?Lue(i,t,n+1):i}function g$(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const $ue=new Set(["width","height","top","left","right","bottom",...h0]),Vbt={test:e=>e==="auto",parse:e=>e},Bue=e=>t=>t.test(e),Fue=[d0,It,pl,ou,Rvt,Ivt,Vbt],FV=e=>Fue.find(Bue(e));function Wbt(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||sue(e):!0}const qbt=new Set(["brightness","contrast","saturate","opacity"]);function Gbt(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(c$)||[];if(!r)return e;const i=n.replace(r,"");let a=qbt.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const Ybt=/\b([a-z-]*)\(.*?\)/gu,bI={...md,getAnimatableNone:e=>{const t=e.match(Ybt);return t?t.map(Gbt).join(" "):e}},zV={...d0,transform:Math.round},Kbt={rotate:ou,rotateX:ou,rotateY:ou,rotateZ:ou,scale:Ww,scaleX:Ww,scaleY:Ww,scaleZ:Ww,skew:ou,skewX:ou,skewY:ou,distance:It,translateX:It,translateY:It,translateZ:It,x:It,y:It,z:It,perspective:It,transformPerspective:It,opacity:tb,originX:NV,originY:NV,originZ:It},y$={borderWidth:It,borderTopWidth:It,borderRightWidth:It,borderBottomWidth:It,borderLeftWidth:It,borderRadius:It,radius:It,borderTopLeftRadius:It,borderTopRightRadius:It,borderBottomRightRadius:It,borderBottomLeftRadius:It,width:It,maxWidth:It,height:It,maxHeight:It,top:It,right:It,bottom:It,left:It,padding:It,paddingTop:It,paddingRight:It,paddingBottom:It,paddingLeft:It,margin:It,marginTop:It,marginRight:It,marginBottom:It,marginLeft:It,backgroundPositionX:It,backgroundPositionY:It,...Kbt,zIndex:zV,fillOpacity:tb,strokeOpacity:tb,numOctaves:zV},Xbt={...y$,color:Di,backgroundColor:Di,outlineColor:Di,fill:Di,stroke:Di,borderColor:Di,borderTopColor:Di,borderRightColor:Di,borderBottomColor:Di,borderLeftColor:Di,filter:bI,WebkitFilter:bI},zue=e=>Xbt[e];function Uue(e,t){let n=zue(e);return n!==bI&&(n=md),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Zbt=new Set(["auto","none","0"]);function Qbt(e,t,n){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!Zbt.has(a)&&nb(a).values.length&&(i=e[r]),r++}if(i&&n)for(const a of t)e[a]=Uue(n,i)}class Jbt extends p${constructor(t,n,r,i,a){super(t,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),l$(u))){const d=Lue(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!$ue.has(r)||t.length!==2)return;const[i,a]=t,s=FV(i),l=FV(a);if(s!==l)if(DV(s)&&DV(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||Wbt(t[i]))&&r.push(i);r.length&&Qbt(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wg[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,s=r[a];r[a]=wg[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function e1t(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const i=document.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const{schedule:x$,cancel:JRt}=xue(queueMicrotask,!1),co={x:!1,y:!1};function Hue(){return co.x||co.y}function t1t(e){return e==="x"||e==="y"?co[e]?null:(co[e]=!0,()=>{co[e]=!1}):co.x||co.y?null:(co.x=co.y=!0,()=>{co.x=co.y=!1})}function Vue(e,t){const n=e1t(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function UV(e){return!(e.pointerType==="touch"||Hue())}function n1t(e,t,n={}){const[r,i,a]=Vue(e,n),s=l=>{if(!UV(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=h=>{UV(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return r.forEach(l=>{l.addEventListener("pointerenter",s,i)}),a}const Wue=(e,t)=>t?e===t?!0:Wue(e,t.parentElement):!1,v$=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,r1t=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function i1t(e){return r1t.has(e.tagName)||e.tabIndex!==-1}const Oy=new WeakSet;function HV(e){return t=>{t.key==="Enter"&&e(t)}}function WA(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const a1t=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=HV(()=>{if(Oy.has(n))return;WA(n,"down");const i=HV(()=>{WA(n,"up")}),a=()=>WA(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function VV(e){return v$(e)&&!Hue()}function s1t(e,t,n={}){const[r,i,a]=Vue(e,n),s=l=>{const c=l.currentTarget;if(!VV(l)||Oy.has(c))return;Oy.add(c);const u=t(c,l),d=(m,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!VV(m)||!Oy.has(c))&&(Oy.delete(c),typeof u=="function"&&u(m,{success:p}))},h=m=>{d(m,c===window||c===document||n.useGlobalTarget||Wue(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",s,i),l instanceof HTMLElement&&(l.addEventListener("focus",u=>a1t(u,i)),!i1t(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}const WV=30,o1t=e=>!isNaN(parseFloat(e));class l1t{constructor(t,n={}){this.version="12.9.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var s,l;const a=Ra.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current)),i&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ra.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=o1t(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new i$);const r=this.events[t].add(n);return t==="change"?()=>{r(),gr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ra.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>WV)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,WV);return oue(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t;(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rb(e,t){return new l1t(e,t)}const c1t=[...Fue,Di,md],u1t=e=>c1t.find(Bue(e)),que=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Gue=w.createContext({strict:!1}),qV={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Eg={};for(const e in qV)Eg[e]={isEnabled:t=>qV[e].some(n=>!!t[n])};function d1t(e){for(const t in e)Eg[t]={...Eg[t],...e[t]}}const h1t=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fC(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||h1t.has(e)}let Yue=e=>!fC(e);function f1t(e){e&&(Yue=t=>t.startsWith("on")?!fC(t):e(t))}try{f1t(require("@emotion/is-prop-valid").default)}catch{}function m1t(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(Yue(i)||n===!0&&fC(i)||!t&&!fC(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function p1t(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const aN=w.createContext({});function sN(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ib(e){return typeof e=="string"||Array.isArray(e)}const b$=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],w$=["initial",...b$];function oN(e){return sN(e.animate)||w$.some(t=>ib(e[t]))}function Kue(e){return!!(oN(e)||e.variants)}function g1t(e,t){if(oN(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ib(n)?n:void 0,animate:ib(r)?r:void 0}}return e.inherit!==!1?t:{}}function y1t(e){const{initial:t,animate:n}=g1t(e,w.useContext(aN));return w.useMemo(()=>({initial:t,animate:n}),[GV(t),GV(n)])}function GV(e){return Array.isArray(e)?e.join(" "):e}const x1t=Symbol.for("motionComponentSymbol");function Pm(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function v1t(e,t,n){return w.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Pm(n)&&(n.current=r))},[t])}const E$=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),b1t="framerAppearId",Xue="data-"+E$(b1t),Zue=w.createContext({});function w1t(e,t,n,r,i){var g,x;const{visualElement:a}=w.useContext(aN),s=w.useContext(Gue),l=w.useContext(iN),c=w.useContext(e$).reducedMotion,u=w.useRef(null);r=r||s.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=w.useContext(Zue);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&E1t(u.current,n,i,h);const f=w.useRef(!1);w.useInsertionEffect(()=>{d&&f.current&&d.update(n,l)});const m=n[Xue],p=w.useRef(!!m&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,m))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,m)));return rue(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),x$.render(d.render),p.current&&d.animationState&&d.animationState.animateChanges())}),w.useEffect(()=>{d&&(!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,m)}),p.current=!1))}),d}function E1t(e,t,n,r){const{layoutId:i,layout:a,drag:s,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Que(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||l&&Pm(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function Que(e){if(e)return e.options.allowProjection!==!1?e.projection:Que(e.parent)}function S1t({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&d1t(e);function a(l,c){let u;const d={...w.useContext(e$),...l,layoutId:_1t(l)},{isStatic:h}=d,f=y1t(l),m=r(l,h);if(!h&&J4){C1t();const p=T1t(d);u=p.MeasureLayout,f.visualElement=w1t(i,m,d,t,p.ProjectionNode)}return o.jsxs(aN.Provider,{value:f,children:[u&&f.visualElement?o.jsx(u,{visualElement:f.visualElement,...d}):null,n(i,l,v1t(m,f.visualElement,c),m,h,f.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const s=w.forwardRef(a);return s[x1t]=i,s}function _1t({layoutId:e}){const t=w.useContext(Z4).id;return t&&e!==void 0?t+"-"+e:e}function C1t(e,t){w.useContext(Gue).strict}function T1t(e){const{drag:t,layout:n}=Eg;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ab={};function N1t(e){for(const t in e)ab[t]=e[t],o$(t)&&(ab[t].isCSSVariable=!0)}function Jue(e,{layout:t,layoutId:n}){return f0.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ab[e]||e==="opacity")}const Vi=e=>!!(e&&e.getVelocity),k1t={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},A1t=h0.length;function j1t(e,t,n){let r="",i=!0;for(let a=0;a<A1t;a++){const s=h0[a],l=e[s];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(s.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=que(l,y$[s]);if(!c){i=!1;const d=k1t[s]||s;r+=`${d}(${u}) `}n&&(t[s]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function S$(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let s=!1,l=!1;for(const c in t){const u=t[c];if(f0.has(c)){s=!0;continue}else if(o$(c)){i[c]=u;continue}else{const d=que(u,y$[c]);c.startsWith("origin")?(l=!0,a[c]=d):r[c]=d}}if(t.transform||(s||n?r.transform=j1t(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;r.transformOrigin=`${c} ${u} ${d}`}}const _$=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ede(e,t,n){for(const r in t)!Vi(t[r])&&!Jue(r,n)&&(e[r]=t[r])}function O1t({transformTemplate:e},t){return w.useMemo(()=>{const n=_$();return S$(n,t,e),Object.assign({},n.vars,n.style)},[t])}function P1t(e,t){const n=e.style||{},r={};return ede(r,n,e),Object.assign(r,O1t(e,t)),r}function M1t(e,t){const n={},r=P1t(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const I1t=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function C$(e){return typeof e!="string"||e.includes("-")?!1:!!(I1t.indexOf(e)>-1||/[A-Z]/u.test(e))}const R1t={offset:"stroke-dashoffset",array:"stroke-dasharray"},D1t={offset:"strokeDashoffset",array:"strokeDasharray"};function L1t(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?R1t:D1t;e[a.offset]=It.transform(-r);const s=It.transform(t),l=It.transform(n);e[a.array]=`${s} ${l}`}function tde(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...l},c,u){if(S$(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:h}=e;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox="fill-box",delete d.transformBox),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&L1t(d,i,a,s,!1)}const nde=()=>({..._$(),attrs:{}}),rde=e=>typeof e=="string"&&e.toLowerCase()==="svg";function $1t(e,t,n,r){const i=w.useMemo(()=>{const a=nde();return tde(a,t,rde(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};ede(a,e.style,e),i.style={...a,...i.style}}return i}function B1t(e=!1){return(n,r,i,{latestValues:a},s)=>{const c=(C$(n)?$1t:M1t)(r,a,s,n),u=m1t(r,typeof n=="string",e),d=n!==w.Fragment?{...u,...c,ref:i}:{},{children:h}=r,f=w.useMemo(()=>Vi(h)?h.get():h,[h]);return w.createElement(n,{...d,children:f})}}function YV(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function T$(e,t,n,r){if(typeof t=="function"){const[i,a]=YV(r);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=YV(r);t=t(n!==void 0?n:e.custom,i,a)}return t}function ME(e){return Vi(e)?e.get():e}function F1t({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:z1t(n,r,i,e),renderState:t()}}const ide=e=>(t,n)=>{const r=w.useContext(aN),i=w.useContext(iN),a=()=>F1t(e,t,r,i);return n?a():Q4(a)};function z1t(e,t,n,r){const i={},a=r(e,{});for(const f in a)i[f]=ME(a[f]);let{initial:s,animate:l}=e;const c=oN(e),u=Kue(e);t&&u&&!c&&e.inherit!==!1&&(s===void 0&&(s=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const h=d?l:s;if(h&&typeof h!="boolean"&&!sN(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const p=T$(e,f[m]);if(p){const{transitionEnd:g,transition:x,...y}=p;for(const v in y){let b=y[v];if(Array.isArray(b)){const E=d?b.length-1:0;b=b[E]}b!==null&&(i[v]=b)}for(const v in g)i[v]=g[v]}}}return i}function N$(e,t,n){var a;const{style:r}=e,i={};for(const s in r)(Vi(r[s])||t.style&&Vi(t.style[s])||Jue(s,e)||((a=n==null?void 0:n.getValue(s))==null?void 0:a.liveStyle)!==void 0)&&(i[s]=r[s]);return i}const U1t={useVisualState:ide({scrapeMotionValuesFromProps:N$,createRenderState:_$})};function ade(e,t,n){const r=N$(e,t,n);for(const i in e)if(Vi(e[i])||Vi(t[i])){const a=h0.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}const H1t={useVisualState:ide({scrapeMotionValuesFromProps:ade,createRenderState:nde})};function V1t(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...C$(r)?H1t:U1t,preloadedFeatures:e,useRender:B1t(i),createVisualElement:t,Component:r};return S1t(s)}}function sb(e,t,n){const r=e.getProps();return T$(r,t,n!==void 0?n:r.custom,e)}const wI=e=>Array.isArray(e);function W1t(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,rb(n))}function q1t(e){return wI(e)?e[e.length-1]||0:e}function G1t(e,t){const n=sb(e,t);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const s in a){const l=q1t(a[s]);W1t(e,s,l)}}function Y1t(e){return!!(Vi(e)&&e.add)}function EI(e,t){const n=e.getValue("willChange");if(Y1t(n))return n.add(t);if(!n&&Mc.WillChange){const r=new Mc.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function sde(e){return e.props[Xue]}const K1t=e=>e!==null;function X1t(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(K1t),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const Z1t={type:"spring",stiffness:500,damping:25,restSpeed:10},Q1t=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),J1t={type:"keyframes",duration:.8},ewt={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},twt=(e,{keyframes:t})=>t.length>2?J1t:f0.has(e)?e.startsWith("scale")?Q1t(t[1]):Z1t:ewt;function nwt({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const k$=(e,t,n,r={},i,a)=>s=>{const l=g$(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-fl(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};nwt(l)||Object.assign(d,twt(e,d)),d.duration&&(d.duration=fl(d.duration)),d.repeatDelay&&(d.repeatDelay=fl(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(Mc.instantAnimations||Mc.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!a&&t.get()!==void 0){const f=X1t(d.keyframes,l);if(f!==void 0){gr.update(()=>{d.onUpdate(f),d.onComplete()});return}}return new zbt(d)};function rwt({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function ode(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...l}=t;r&&(a=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const h=e.getValue(d,e.latestValues[d]??null),f=l[d];if(f===void 0||u&&rwt(u,d))continue;const m={delay:n,...g$(a||{},d)},p=h.get();if(p!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===p&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const y=sde(e);if(y){const v=window.MotionHandoffAnimation(y,d,gr);v!==null&&(m.startTime=v,g=!0)}}EI(e,d),h.start(k$(d,h,f,e.shouldReduceMotion&&$ue.has(d)?{type:!1}:m,e,g));const x=h.animation;x&&c.push(x)}return s&&Promise.all(c).then(()=>{gr.update(()=>{s&&G1t(e,s)})}),c}function SI(e,t,n={}){var c;const r=sb(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(ode(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return iwt(e,t,d+u,h,f,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[a,s]:[s,a];return u().then(()=>d())}else return Promise.all([a(),s(n.delay)])}function iwt(e,t,n=0,r=0,i=1,a){const s=[],l=(e.variantChildren.size-1)*r,c=i===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(awt).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(SI(u,t,{...a,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function awt(e,t){return e.sortNodePosition(t)}function swt(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>SI(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=SI(e,t,n);else{const i=typeof t=="function"?sb(e,t,n.custom):t;r=Promise.all(ode(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function lde(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const owt=w$.length;function cde(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?cde(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<owt;n++){const r=w$[n],i=e.props[r];(ib(i)||i===!1)&&(t[r]=i)}return t}const lwt=[...b$].reverse(),cwt=b$.length;function uwt(e){return t=>Promise.all(t.map(({animation:n,options:r})=>swt(e,n,r)))}function dwt(e){let t=uwt(e),n=KV(),r=!0;const i=c=>(u,d)=>{var f;const h=sb(e,d,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:p,...g}=h;u={...u,...g,...p}}return u};function a(c){t=c(e)}function s(c){const{props:u}=e,d=cde(e.parent)||{},h=[],f=new Set;let m={},p=1/0;for(let x=0;x<cwt;x++){const y=lwt[x],v=n[y],b=u[y]!==void 0?u[y]:d[y],E=ib(b),_=y===c?v.isActive:null;_===!1&&(p=x);let S=b===d[y]&&b!==u[y]&&E;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),v.protectedKeys={...m},!v.isActive&&_===null||!b&&!v.prevProp||sN(b)||typeof b=="boolean")continue;const C=hwt(v.prevProp,b);let T=C||y===c&&v.isActive&&!S&&E||x>p&&E,j=!1;const k=Array.isArray(b)?b:[b];let O=k.reduce(i(y),{});_===!1&&(O={});const{prevResolvedValues:M={}}=v,B={...M,...O},N=L=>{T=!0,f.has(L)&&(j=!0,f.delete(L)),v.needsAnimating[L]=!0;const I=e.getValue(L);I&&(I.liveStyle=!1)};for(const L in B){const I=O[L],U=M[L];if(m.hasOwnProperty(L))continue;let $=!1;wI(I)&&wI(U)?$=!lde(I,U):$=I!==U,$?I!=null?N(L):f.add(L):I!==void 0&&f.has(L)?N(L):v.protectedKeys[L]=!0}v.prevProp=b,v.prevResolvedValues=O,v.isActive&&(m={...m,...O}),r&&e.blockInitialAnimation&&(T=!1),T&&(!(S&&C)||j)&&h.push(...k.map(L=>({animation:L,options:{type:y}})))}if(f.size){const x={};if(typeof u.initial!="boolean"){const y=sb(e,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(x.transition=y.transition)}f.forEach(y=>{const v=e.getBaseTarget(y),b=e.getValue(y);b&&(b.liveStyle=!0),x[y]=v??null}),h.push({animation:x})}let g=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(h):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,u)}),n[c].isActive=u;const d=s(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:s,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=KV(),r=!0}}}function hwt(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!lde(t,e):!1}function Ud(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function KV(){return{animate:Ud(!0),whileInView:Ud(),whileHover:Ud(),whileTap:Ud(),whileDrag:Ud(),whileFocus:Ud(),exit:Ud()}}class Pd{constructor(t){this.isMounted=!1,this.node=t}update(){}}class fwt extends Pd{constructor(t){super(t),t.animationState||(t.animationState=dwt(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();sN(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let mwt=0;class pwt extends Pd{constructor(){super(...arguments),this.id=mwt++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const gwt={animation:{Feature:fwt},exit:{Feature:pwt}};function ob(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function m1(e){return{point:{x:e.pageX,y:e.pageY}}}const ywt=e=>t=>v$(t)&&e(t,m1(t));function yx(e,t,n,r){return ob(e,t,ywt(n),r)}function ude({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function xwt({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function vwt(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const dde=1e-4,bwt=1-dde,wwt=1+dde,hde=.01,Ewt=0-hde,Swt=0+hde;function da(e){return e.max-e.min}function _wt(e,t,n){return Math.abs(e-t)<=n}function XV(e,t,n,r=.5){e.origin=r,e.originPoint=cr(t.min,t.max,e.origin),e.scale=da(n)/da(t),e.translate=cr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=bwt&&e.scale<=wwt||isNaN(e.scale))&&(e.scale=1),(e.translate>=Ewt&&e.translate<=Swt||isNaN(e.translate))&&(e.translate=0)}function xx(e,t,n,r){XV(e.x,t.x,n.x,r?r.originX:void 0),XV(e.y,t.y,n.y,r?r.originY:void 0)}function ZV(e,t,n){e.min=n.min+t.min,e.max=e.min+da(t)}function Cwt(e,t,n){ZV(e.x,t.x,n.x),ZV(e.y,t.y,n.y)}function QV(e,t,n){e.min=t.min-n.min,e.max=e.min+da(t)}function vx(e,t,n){QV(e.x,t.x,n.x),QV(e.y,t.y,n.y)}const JV=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mm=()=>({x:JV(),y:JV()}),eW=()=>({min:0,max:0}),Ar=()=>({x:eW(),y:eW()});function As(e){return[e("x"),e("y")]}function qA(e){return e===void 0||e===1}function _I({scale:e,scaleX:t,scaleY:n}){return!qA(e)||!qA(t)||!qA(n)}function Zd(e){return _I(e)||fde(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function fde(e){return tW(e.x)||tW(e.y)}function tW(e){return e&&e!=="0%"}function mC(e,t,n){const r=e-n,i=t*r;return n+i}function nW(e,t,n,r,i){return i!==void 0&&(e=mC(e,i,r)),mC(e,n,r)+t}function CI(e,t=0,n=1,r,i){e.min=nW(e.min,t,n,r,i),e.max=nW(e.max,t,n,r,i)}function mde(e,{x:t,y:n}){CI(e.x,t.translate,t.scale,t.originPoint),CI(e.y,n.translate,n.scale,n.originPoint)}const rW=.999999999999,iW=1.0000000000001;function Twt(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,s;for(let l=0;l<i;l++){a=n[l],s=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Rm(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,mde(e,s)),r&&Zd(a.latestValues)&&Rm(e,a.latestValues))}t.x<iW&&t.x>rW&&(t.x=1),t.y<iW&&t.y>rW&&(t.y=1)}function Im(e,t){e.min=e.min+t,e.max=e.max+t}function aW(e,t,n,r,i=.5){const a=cr(e.min,e.max,i);CI(e,t,n,a,r)}function Rm(e,t){aW(e.x,t.x,t.scaleX,t.scale,t.originX),aW(e.y,t.y,t.scaleY,t.scale,t.originY)}function pde(e,t){return ude(vwt(e.getBoundingClientRect(),t))}function Nwt(e,t,n){const r=pde(e,n),{scroll:i}=t;return i&&(Im(r.x,i.offset.x),Im(r.y,i.offset.y)),r}const gde=({current:e})=>e?e.ownerDocument.defaultView:null,sW=(e,t)=>Math.abs(e-t);function kwt(e,t){const n=sW(e.x,t.x),r=sW(e.y,t.y);return Math.sqrt(n**2+r**2)}class yde{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=YA(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=kwt(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:p}=h,{timestamp:g}=Ei;this.history.push({...p,timestamp:g});const{onStart:x,onMove:y}=this.handlers;f||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=GA(f,this.transformPagePoint),gr.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=YA(h.type==="pointercancel"?this.lastMoveEventInfo:GA(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,x),p&&p(h,x)},!v$(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=m1(t),l=GA(s,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ei;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,YA(l,this.history)),this.removeListeners=d1(yx(this.contextWindow,"pointermove",this.handlePointerMove),yx(this.contextWindow,"pointerup",this.handlePointerUp),yx(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),fd(this.updatePoint)}}function GA(e,t){return t?{point:t(e.point)}:e}function oW(e,t){return{x:e.x-t.x,y:e.y-t.y}}function YA({point:e},t){return{point:e,delta:oW(e,xde(t)),offset:oW(e,Awt(t)),velocity:jwt(t,.1)}}function Awt(e){return e[0]}function xde(e){return e[e.length-1]}function jwt(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=xde(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>fl(t)));)n--;if(!r)return{x:0,y:0};const a=ml(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Owt(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?cr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?cr(n,e,r.max):Math.min(e,n)),e}function lW(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Pwt(e,{top:t,left:n,bottom:r,right:i}){return{x:lW(e.x,n,i),y:lW(e.y,t,r)}}function cW(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Mwt(e,t){return{x:cW(e.x,t.x),y:cW(e.y,t.y)}}function Iwt(e,t){let n=.5;const r=da(e),i=da(t);return i>r?n=eb(t.min,t.max-r,e.min):r>i&&(n=eb(e.min,e.max-i,t.min)),Pc(0,1,n)}function Rwt(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const TI=.35;function Dwt(e=TI){return e===!1?e=0:e===!0&&(e=TI),{x:uW(e,"left","right"),y:uW(e,"top","bottom")}}function uW(e,t,n){return{min:dW(e,t),max:dW(e,n)}}function dW(e,t){return typeof e=="number"?e:e[t]||0}const Lwt=new WeakMap;class $wt{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ar(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(m1(d).point)},a=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:p}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=t1t(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),As(x=>{let y=this.getAxisMotionValue(x).get()||0;if(pl.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[x];b&&(y=da(b)*(parseFloat(y)/100))}}this.originPoint[x]=y}),p&&gr.postRender(()=>p(d,h)),EI(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:p,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:x}=h;if(m&&this.currentDirection===null){this.currentDirection=Bwt(x),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),g&&g(d,h)},l=(d,h)=>this.stop(d,h),c=()=>As(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new yde(t,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:gde(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&gr.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!qw(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=Owt(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&Pm(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Pwt(r.layoutBox,t):this.constraints=!1,this.elastic=Dwt(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&As(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Rwt(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Pm(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Nwt(r,i.root,this.visualElement.getTransformPagePoint());let s=Mwt(i.layout.layoutBox,a);if(n){const l=n(xwt(s));this.hasMutatedConstraints=!!l,l&&(s=ude(l))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=As(d=>{if(!qw(d,n,this.currentDirection))return;let h=c&&c[d]||{};s&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return EI(this.visualElement,t),r.start(k$(t,r,0,n,this.visualElement,!1))}stopAnimation(){As(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){As(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){As(n=>{const{drag:r}=this.getProps();if(!qw(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:l}=i.layout.layoutBox[n];a.set(t[n]-cr(s,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Pm(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};As(s=>{const l=this.getAxisMotionValue(s);if(l&&this.constraints!==!1){const c=l.get();i[s]=Iwt({min:c,max:c},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),As(s=>{if(!qw(s,t,null))return;const l=this.getAxisMotionValue(s),{min:c,max:u}=this.constraints[s];l.set(cr(c,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;Lwt.set(this.visualElement,this);const t=this.visualElement.current,n=yx(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Pm(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),gr.read(r);const s=ob(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(As(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=TI,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:l}}}function qw(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Bwt(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Fwt extends Pd{constructor(t){super(t),this.removeGroupControls=Hs,this.removeListeners=Hs,this.controls=new $wt(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hs}unmount(){this.removeGroupControls(),this.removeListeners()}}const hW=e=>(t,n)=>{e&&gr.postRender(()=>e(t,n))};class zwt extends Pd{constructor(){super(...arguments),this.removePointerDownListener=Hs}onPointerDown(t){this.session=new yde(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gde(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:hW(t),onStart:hW(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&gr.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=yx(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const IE={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fW(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const oy={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(It.test(e))e=parseFloat(e);else return e;const n=fW(e,t.target.x),r=fW(e,t.target.y);return`${n}% ${r}%`}},Uwt={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=md.parse(e);if(i.length>5)return r;const a=md.createTransformer(e),s=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;i[0+s]/=l,i[1+s]/=c;const u=cr(l,c,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),a(i)}};class Hwt extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;N1t(Vwt),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),IE.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==n||n===void 0||t.isPresent!==a?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||gr.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),x$.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vde(e){const[t,n]=iue(),r=w.useContext(Z4);return o.jsx(Hwt,{...e,layoutGroup:r,switchLayoutGroup:w.useContext(Zue),isPresent:t,safeToRemove:n})}const Vwt={borderRadius:{...oy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:oy,borderTopRightRadius:oy,borderBottomLeftRadius:oy,borderBottomRightRadius:oy,boxShadow:Uwt};function Wwt(e,t,n){const r=Vi(e)?e:rb(e);return r.start(k$("",r,t,n)),r.animation}function qwt(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Gwt=(e,t)=>e.depth-t.depth;class Ywt{constructor(){this.children=[],this.isDirty=!1}add(t){t$(this.children,t),this.isDirty=!0}remove(t){n$(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Gwt),this.isDirty=!1,this.children.forEach(t)}}function Kwt(e,t){const n=Ra.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(fd(r),e(a-t))};return gr.setup(r,!0),()=>fd(r)}const bde=["TopLeft","TopRight","BottomLeft","BottomRight"],Xwt=bde.length,mW=e=>typeof e=="string"?parseFloat(e):e,pW=e=>typeof e=="number"||It.test(e);function Zwt(e,t,n,r,i,a){i?(e.opacity=cr(0,n.opacity??1,Qwt(r)),e.opacityExit=cr(t.opacity??1,0,Jwt(r))):a&&(e.opacity=cr(t.opacity??1,n.opacity??1,r));for(let s=0;s<Xwt;s++){const l=`border${bde[s]}Radius`;let c=gW(t,l),u=gW(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||pW(c)===pW(u)?(e[l]=Math.max(cr(mW(c),mW(u),r),0),(pl.test(u)||pl.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=cr(t.rotate||0,n.rotate||0,r))}function gW(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Qwt=wde(0,.5,mue),Jwt=wde(.5,.95,Hs);function wde(e,t,n){return r=>r<e?0:r>t?1:n(eb(e,t,r))}function yW(e,t){e.min=t.min,e.max=t.max}function Cs(e,t){yW(e.x,t.x),yW(e.y,t.y)}function xW(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function vW(e,t,n,r,i){return e-=t,e=mC(e,1/n,r),i!==void 0&&(e=mC(e,1/i,r)),e}function eEt(e,t=0,n=1,r=.5,i,a=e,s=e){if(pl.test(t)&&(t=parseFloat(t),t=cr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let l=cr(a.min,a.max,r);e===a&&(l-=t),e.min=vW(e.min,t,n,l,i),e.max=vW(e.max,t,n,l,i)}function bW(e,t,[n,r,i],a,s){eEt(e,t[n],t[r],t[i],t.scale,a,s)}const tEt=["x","scaleX","originX"],nEt=["y","scaleY","originY"];function wW(e,t,n,r){bW(e.x,t,tEt,n?n.x:void 0,r?r.x:void 0),bW(e.y,t,nEt,n?n.y:void 0,r?r.y:void 0)}function EW(e){return e.translate===0&&e.scale===1}function Ede(e){return EW(e.x)&&EW(e.y)}function SW(e,t){return e.min===t.min&&e.max===t.max}function rEt(e,t){return SW(e.x,t.x)&&SW(e.y,t.y)}function _W(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Sde(e,t){return _W(e.x,t.x)&&_W(e.y,t.y)}function CW(e){return da(e.x)/da(e.y)}function TW(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class iEt{constructor(){this.members=[]}add(t){t$(this.members,t),t.scheduleRender()}remove(t){if(n$(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aEt(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,s=(n==null?void 0:n.z)||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:p}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),p&&(r+=`skewY(${p}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const KA=["","X","Y","Z"],sEt={visibility:"hidden"},NW=1e3;let oEt=0;function XA(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function _de(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=sde(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",gr,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&_de(r)}function Cde({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},l=t==null?void 0:t()){this.id=oEt++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uEt),this.nodes.forEach(pEt),this.nodes.forEach(gEt),this.nodes.forEach(dEt)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ywt)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new i$),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const c=this.eventHandlers.get(s);c&&c.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=qwt(s),this.instance=s;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Kwt(f,250),IE.hasAnimatedSinceResize&&(IE.hasAnimatedSinceResize=!1,this.nodes.forEach(AW))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||wEt,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=d.getProps(),v=!this.targetLayout||!Sde(this.targetLayout,p),b=!f&&m;if(this.options.layoutRoot||this.resumeFrom||b||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const E={...g$(g,"layout"),onPlay:x,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else f||AW(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yEt),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_de(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kW);return}this.isUpdating||this.nodes.forEach(fEt),this.isUpdating=!1,this.nodes.forEach(mEt),this.nodes.forEach(lEt),this.nodes.forEach(cEt),this.clearAllSnapshots();const l=Ra.now();Ei.delta=Pc(0,1e3/60,l-Ei.timestamp),Ei.timestamp=l,Ei.isProcessing=!0,FA.update.process(Ei),FA.preRender.process(Ei),FA.render.process(Ei),Ei.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,x$.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hEt),this.sharedNodes.forEach(xEt)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!da(this.snapshot.measuredBox.x)&&!da(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ar(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Ede(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(l||Zd(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return s&&(c=this.removeTransform(c)),EEt(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:s}=this.options;if(!s)return Ar();const l=s.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(SEt))){const{scroll:d}=this.root;d&&(Im(l.x,d.offset.x),Im(l.y,d.offset.y))}return l}removeElementScroll(s){var c;const l=Ar();if(Cs(l,s),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Cs(l,s),Im(l.x,h.offset.x),Im(l.y,h.offset.y))}return l}applyTransform(s,l=!1){const c=Ar();Cs(c,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Rm(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Zd(d.latestValues)&&Rm(c,d.latestValues)}return Zd(this.latestValues)&&Rm(c,this.latestValues),c}removeTransform(s){const l=Ar();Cs(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Zd(u.latestValues))continue;_I(u.latestValues)&&u.updateSnapshot();const d=Ar(),h=u.measurePageBox();Cs(d,h),wW(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Zd(this.latestValues)&&wW(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ei.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Ei.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ar(),this.relativeTargetOrigin=Ar(),vx(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Cs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ar(),this.targetWithTransforms=Ar()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Cwt(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cs(this.target,this.layout.layoutBox),mde(this.target,this.targetDelta)):Cs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ar(),this.relativeTargetOrigin=Ar(),vx(this.relativeTargetOrigin,this.target,m.target),Cs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||_I(this.parent.latestValues)||fde(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ei.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Cs(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Twt(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Ar());const{target:m}=s;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xW(this.prevProjectionDelta.x,this.projectionDelta.x),xW(this.prevProjectionDelta.y,this.projectionDelta.y)),xx(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!TW(this.projectionDelta.x,this.prevProjectionDelta.x)||!TW(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),s){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mm(),this.projectionDelta=Mm(),this.projectionDeltaWithTransform=Mm()}setAnimationOrigin(s,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Mm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Ar(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,g=m!==p,x=this.getStack(),y=!x||x.members.length<=1,v=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(bEt));this.animationProgress=0;let b;this.mixTargetDelta=E=>{const _=E/1e3;jW(h.x,s.x,_),jW(h.y,s.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vx(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vEt(this.relativeTarget,this.relativeTargetOrigin,f,_),b&&rEt(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ar()),Cs(b,this.relativeTarget)),g&&(this.animationValues=d,Zwt(d,u,this.latestValues,_,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gr.update(()=>{IE.hasAnimatedSinceResize=!0,this.currentAnimation=Wwt(0,NW,{...s,onUpdate:l=>{this.mixTargetDelta(l),s.onUpdate&&s.onUpdate(l)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(NW),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=s;if(!(!l||!c||!u)){if(this!==s&&this.layout&&u&&Tde(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ar();const h=da(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+h;const f=da(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+f}Cs(l,c),Rm(l,d),xx(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new iEt),this.sharedNodes.get(s).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var l;const{layoutId:s}=this.options;return s?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:s}=this.options;return s?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&XA("z",s,u,this.animationValues);for(let d=0;d<KA.length;d++)XA(`rotate${KA[d]}`,s,u,this.animationValues),XA(`skew${KA[d]}`,s,u,this.animationValues);s.render();for(const d in u)s.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return sEt;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=ME(s==null?void 0:s.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=ME(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Zd(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),l.transform=aEt(this.projectionDeltaWithTransform,this.treeScale,d),c&&(l.transform=c(d,l.transform));const{x:h,y:f}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,u.animationValues?l.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const m in ab){if(d[m]===void 0)continue;const{correct:p,applyTo:g,isCSSVariable:x}=ab[m],y=l.transform==="none"?d[m]:p(d[m],u);if(g){const v=g.length;for(let b=0;b<v;b++)l[g[b]]=y}else x?this.options.visualElement.renderState.vars[m]=y:l[m]=y}return this.options.layoutId&&(l.pointerEvents=u===this?ME(s==null?void 0:s.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var l;return(l=s.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(kW),this.root.sharedNodes.clear()}}}function lEt(e){e.updateLayout()}function cEt(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,s=t.source!==e.layout.source;a==="size"?As(h=>{const f=s?t.measuredBox[h]:t.layoutBox[h],m=da(f);f.min=r[h].min,f.max=f.min+m}):Tde(a,t.layoutBox,r)&&As(h=>{const f=s?t.measuredBox[h]:t.layoutBox[h],m=da(r[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const l=Mm();xx(l,r,t.layoutBox);const c=Mm();s?xx(c,e.applyTransform(i,!0),t.measuredBox):xx(c,r,t.layoutBox);const u=!Ede(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const p=Ar();vx(p,t.layoutBox,f.layoutBox);const g=Ar();vx(g,r,m.layoutBox),Sde(p,g)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function uEt(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function dEt(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function hEt(e){e.clearSnapshot()}function kW(e){e.clearMeasurements()}function fEt(e){e.isLayoutDirty=!1}function mEt(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function AW(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function pEt(e){e.resolveTargetDelta()}function gEt(e){e.calcProjection()}function yEt(e){e.resetSkewAndRotation()}function xEt(e){e.removeLeadSnapshot()}function jW(e,t,n){e.translate=cr(t.translate,0,n),e.scale=cr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function OW(e,t,n,r){e.min=cr(t.min,n.min,r),e.max=cr(t.max,n.max,r)}function vEt(e,t,n,r){OW(e.x,t.x,n.x,r),OW(e.y,t.y,n.y,r)}function bEt(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const wEt={duration:.45,ease:[.4,0,.1,1]},PW=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),MW=PW("applewebkit/")&&!PW("chrome/")?Math.round:Hs;function IW(e){e.min=MW(e.min),e.max=MW(e.max)}function EEt(e){IW(e.x),IW(e.y)}function Tde(e,t,n){return e==="position"||e==="preserve-aspect"&&!_wt(CW(t),CW(n),.2)}function SEt(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const _Et=Cde({attachResizeListener:(e,t)=>ob(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ZA={current:void 0},Nde=Cde({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ZA.current){const e=new _Et({});e.mount(window),e.setOptions({layoutScroll:!0}),ZA.current=e}return ZA.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),CEt={pan:{Feature:zwt},drag:{Feature:Fwt,ProjectionNode:Nde,MeasureLayout:vde}};function RW(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&gr.postRender(()=>a(t,m1(t)))}class TEt extends Pd{mount(){const{current:t}=this.node;t&&(this.unmount=n1t(t,(n,r)=>(RW(this.node,r,"Start"),i=>RW(this.node,i,"End"))))}unmount(){}}class NEt extends Pd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=d1(ob(this.node.current,"focus",()=>this.onFocus()),ob(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function DW(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&gr.postRender(()=>a(t,m1(t)))}class kEt extends Pd{mount(){const{current:t}=this.node;t&&(this.unmount=s1t(t,(n,r)=>(DW(this.node,r,"Start"),(i,{success:a})=>DW(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const NI=new WeakMap,QA=new WeakMap,AEt=e=>{const t=NI.get(e.target);t&&t(e)},jEt=e=>{e.forEach(AEt)};function OEt({root:e,...t}){const n=e||document;QA.has(n)||QA.set(n,{});const r=QA.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(jEt,{root:e,...t})),r[i]}function PEt(e,t,n){const r=OEt(t);return NI.set(e,n),r.observe(e),()=>{NI.delete(e),r.unobserve(e)}}const MEt={some:0,all:1};class IEt extends Pd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:MEt[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return PEt(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(REt(t,n))&&this.startObserver()}unmount(){}}function REt({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const DEt={inView:{Feature:IEt},tap:{Feature:kEt},focus:{Feature:NEt},hover:{Feature:TEt}},LEt={layout:{ProjectionNode:Nde,MeasureLayout:vde}},kI={current:null},kde={current:!1};function $Et(){if(kde.current=!0,!!J4)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>kI.current=e.matches;e.addListener(t),t()}else kI.current=!1}const BEt=new WeakMap;function FEt(e,t,n){for(const r in t){const i=t[r],a=n[r];if(Vi(i))e.addValue(r,i);else if(Vi(a))e.addValue(r,rb(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(r);e.addValue(r,rb(s!==void 0?s:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const LW=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zEt{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=p$,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Ra.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,gr.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=s;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=oN(n),this.isVariantNode=Kue(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&Vi(m)&&m.set(c[f],!1)}}mount(t){this.current=t,BEt.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),kde.current||$Et(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:kI.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),fd(this.notifyUpdate),fd(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=f0.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&gr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Eg){const n=Eg[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ar()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<LW.length;r++){const i=LW[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=t[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=FEt(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=rb(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(aue(r)||sue(r))?r=parseFloat(r):!u1t(r)&&md.test(n)&&(r=Uue(t,n)),this.setBaseTarget(t,Vi(r)?r.get():r)),Vi(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=T$(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);s&&(r=s[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Vi(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new i$),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Ade extends zEt{constructor(){super(...arguments),this.KeyframeResolver=Jbt}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Vi(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function jde(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}function UEt(e){return window.getComputedStyle(e)}class HEt extends Ade{constructor(){super(...arguments),this.type="html",this.renderInstance=jde}readValueFromInstance(t,n){if(f0.has(n))return xbt(t,n);{const r=UEt(t),i=(o$(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return pde(t,n)}build(t,n,r){S$(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return N$(t,n,r)}}const Ode=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function VEt(e,t,n,r){jde(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Ode.has(i)?i:E$(i),t.attrs[i])}class WEt extends Ade{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ar}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(f0.has(n)){const r=zue(n);return r&&r.default||0}return n=Ode.has(n)?n:E$(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return ade(t,n,r)}build(t,n,r){tde(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){VEt(t,n,r,i)}mount(t){this.isSVGTag=rde(t.tagName),super.mount(t)}}const qEt=(e,t)=>C$(e)?new WEt(t):new HEt(t,{allowProjection:e!==w.Fragment}),GEt=V1t({...gwt,...DEt,...CEt,...LEt},qEt),JA=p1t(GEt);var YEt=function(){var e="",t,n,r,i=[],a={passive:!0},s={passive:!1};window.addEventListener?(t="addEventListener",n="removeEventListener"):(t="attachEvent",n="detachEvent",e="on"),r="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll";function l(p,g){var x=function(y){!y&&(y=window.event);var v={originalEvent:y,target:y.target||y.srcElement,type:"wheel",deltaMode:y.type=="MozMousePixelScroll"?0:1,deltaX:0,delatZ:0,preventDefault:function(){y.preventDefault?y.preventDefault():y.returnValue=!1}};return r=="mousewheel"?(v.deltaY=-.025*y.wheelDelta,y.wheelDeltaX&&(v.deltaX=-.025*y.wheelDeltaX)):v.deltaY=y.detail,g(v)};return i.push({element:p,fn:x}),x}function c(p){for(var g=0;g<i.length;g++)if(i[g].element===p)return i[g].fn;return function(){}}function u(p){for(var g=0;g<i.length;g++)if(i[g].element===p)return i.splice(g,1)}function d(p,g,x,y){var v;r==="wheel"?v=x:v=l(p,x),p[t](e+g,v,y?a:s)}function h(p,g,x,y){var v;r==="wheel"?v=x:v=c(p),p[n](e+g,v,y?a:s),u(p)}function f(p,g,x){d(p,r,g,x),r=="DOMMouseScroll"&&d(p,"MozMousePixelScroll",g,x)}function m(p,g,x){h(p,r,g,x),r=="DOMMouseScroll"&&h(p,"MozMousePixelScroll",g,x)}return{on:f,off:m}}(),A$={extend:function(e,t){e=e||{};for(var n in t)this.isObject(t[n])?e[n]=this.extend(e[n],t[n]):e[n]=t[n];return e},isElement:function(e){return e instanceof HTMLElement||e instanceof SVGElement||e instanceof SVGSVGElement||e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},isObject:function(e){return Object.prototype.toString.call(e)==="[object Object]"},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},getSvg:function(e){var t,n;if(this.isElement(e))t=e;else if(typeof e=="string"||e instanceof String){if(t=document.querySelector(e),!t)throw new Error("Provided selector did not find any elements. Selector: "+e)}else throw new Error("Provided selector is not an HTML object nor String");if(t.tagName.toLowerCase()==="svg")n=t;else if(t.tagName.toLowerCase()==="object")n=t.contentDocument.documentElement;else if(t.tagName.toLowerCase()==="embed")n=t.getSVGDocument().documentElement;else throw t.tagName.toLowerCase()==="img"?new Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.'):new Error("Cannot get SVG.");return n},proxy:function(e,t){return function(){return e.apply(t,arguments)}},getType:function(e){return Object.prototype.toString.apply(e).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(e,t){if(e.clientX===void 0||e.clientX===null)if(e.clientX=0,e.clientY=0,e.touches!==void 0&&e.touches.length){if(e.touches[0].clientX!==void 0)e.clientX=e.touches[0].clientX,e.clientY=e.touches[0].clientY;else if(e.touches[0].pageX!==void 0){var n=t.getBoundingClientRect();e.clientX=e.touches[0].pageX-n.left,e.clientY=e.touches[0].pageY-n.top}}else e.originalEvent!==void 0&&e.originalEvent.clientX!==void 0&&(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY)},isDblClick:function(e,t){if(e.detail===2)return!0;if(t!=null){var n=e.timeStamp-t.timeStamp,r=Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2));return n<250&&r<10}return!1},now:Date.now||function(){return new Date().getTime()},throttle:function(e,t,n){var r=this,i,a,s,l=null,c=0;n||(n={});var u=function(){c=n.leading===!1?0:r.now(),l=null,s=e.apply(i,a),l||(i=a=null)};return function(){var d=r.now();!c&&n.leading===!1&&(c=d);var h=t-(d-c);return i=this,a=arguments,h<=0||h>t?(clearTimeout(l),l=null,c=d,s=e.apply(i,a),l||(i=a=null)):!l&&n.trailing!==!1&&(l=setTimeout(u,h)),s}},createRequestAnimationFrame:function(e){var t=null;return e!=="auto"&&e<60&&e>1&&(t=Math.floor(1e3/e)),t===null?window.requestAnimationFrame||$W(33):$W(t)}};function $W(e){return function(t){window.setTimeout(t,e)}}var ej=A$,Pde="unknown";document.documentMode&&(Pde="ie");var j$={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(e){if(e.clientWidth&&e.clientHeight)return{width:e.clientWidth,height:e.clientHeight};if(e.getBoundingClientRect())return e.getBoundingClientRect();throw new Error("Cannot get BoundingClientRect for SVG.")},getOrCreateViewport:function(e,t){var n=null;if(ej.isElement(t)?n=t:n=e.querySelector(t),!n){var r=Array.prototype.slice.call(e.childNodes||e.children).filter(function(c){return c.nodeName!=="defs"&&c.nodeName!=="#text"});r.length===1&&r[0].nodeName==="g"&&r[0].getAttribute("transform")===null&&(n=r[0])}if(!n){var i="viewport-"+new Date().toISOString().replace(/\D/g,"");n=document.createElementNS(this.svgNS,"g"),n.setAttribute("id",i);var a=e.childNodes||e.children;if(a&&a.length>0)for(var s=a.length;s>0;s--)a[a.length-s].nodeName!=="defs"&&n.appendChild(a[a.length-s]);e.appendChild(n)}var l=[];return n.getAttribute("class")&&(l=n.getAttribute("class").split(" ")),~l.indexOf("svg-pan-zoom_viewport")||(l.push("svg-pan-zoom_viewport"),n.setAttribute("class",l.join(" "))),n},setupSvgAttributes:function(e){if(e.setAttribute("xmlns",this.svgNS),e.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),e.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),e.parentNode!==null){var t=e.getAttribute("style")||"";t.toLowerCase().indexOf("overflow")===-1&&e.setAttribute("style","overflow: hidden; "+t)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:ej.throttle(function(){for(var e=document.querySelectorAll("defs"),t=e.length,n=0;n<t;n++){var r=e[n];r.parentNode.insertBefore(r,r)}},Co?Co.internetExplorerRedisplayInterval:null),setCTM:function(e,t,n){var r=this,i="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttributeNS(null,"transform",i),"transform"in e.style?e.style.transform=i:"-ms-transform"in e.style?e.style["-ms-transform"]=i:"-webkit-transform"in e.style&&(e.style["-webkit-transform"]=i),Pde==="ie"&&n&&(n.parentNode.insertBefore(n,n),window.setTimeout(function(){r.refreshDefsGlobal()},r.internetExplorerRedisplayInterval))},getEventPoint:function(e,t){var n=t.createSVGPoint();return ej.mouseAndTouchNormalize(e,t),n.x=e.clientX,n.y=e.clientY,n},getSvgCenterPoint:function(e,t,n){return this.createSVGPoint(e,t/2,n/2)},createSVGPoint:function(e,t,n){var r=e.createSVGPoint();return r.x=t,r.y=n,r}},Ga=j$,KEt={enable:function(e){var t=e.svg.querySelector("defs");t||(t=document.createElementNS(Ga.svgNS,"defs"),e.svg.appendChild(t));var n=t.querySelector("style#svg-pan-zoom-controls-styles");if(!n){var r=document.createElementNS(Ga.svgNS,"style");r.setAttribute("id","svg-pan-zoom-controls-styles"),r.setAttribute("type","text/css"),r.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }",t.appendChild(r)}var i=document.createElementNS(Ga.svgNS,"g");i.setAttribute("id","svg-pan-zoom-controls"),i.setAttribute("transform","translate("+(e.width-70)+" "+(e.height-76)+") scale(0.75)"),i.setAttribute("class","svg-pan-zoom-control"),i.appendChild(this._createZoomIn(e)),i.appendChild(this._createZoomReset(e)),i.appendChild(this._createZoomOut(e)),e.svg.appendChild(i),e.controlIcons=i},_createZoomIn:function(e){var t=document.createElementNS(Ga.svgNS,"g");t.setAttribute("id","svg-pan-zoom-zoom-in"),t.setAttribute("transform","translate(30.5 5) scale(0.015)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",function(){e.getPublicInstance().zoomIn()},!1),t.addEventListener("touchstart",function(){e.getPublicInstance().zoomIn()},!1);var n=document.createElementNS(Ga.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var r=document.createElementNS(Ga.svgNS,"path");return r.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z"),r.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(r),t},_createZoomReset:function(e){var t=document.createElementNS(Ga.svgNS,"g");t.setAttribute("id","svg-pan-zoom-reset-pan-zoom"),t.setAttribute("transform","translate(5 35) scale(0.4)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",function(){e.getPublicInstance().reset()},!1),t.addEventListener("touchstart",function(){e.getPublicInstance().reset()},!1);var n=document.createElementNS(Ga.svgNS,"rect");n.setAttribute("x","2"),n.setAttribute("y","2"),n.setAttribute("width","182"),n.setAttribute("height","58"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var r=document.createElementNS(Ga.svgNS,"path");r.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z"),r.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(r);var i=document.createElementNS(Ga.svgNS,"path");return i.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z"),i.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(i),t},_createZoomOut:function(e){var t=document.createElementNS(Ga.svgNS,"g");t.setAttribute("id","svg-pan-zoom-zoom-out"),t.setAttribute("transform","translate(30.5 70) scale(0.015)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",function(){e.getPublicInstance().zoomOut()},!1),t.addEventListener("touchstart",function(){e.getPublicInstance().zoomOut()},!1);var n=document.createElementNS(Ga.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var r=document.createElementNS(Ga.svgNS,"path");return r.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z"),r.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(r),t},disable:function(e){e.controlIcons&&(e.controlIcons.parentNode.removeChild(e.controlIcons),e.controlIcons=null)}},XEt=j$,Yu=A$,Wr=function(e,t){this.init(e,t)};Wr.prototype.init=function(e,t){this.viewport=e,this.options=t,this.originalState={zoom:1,x:0,y:0},this.activeState={zoom:1,x:0,y:0},this.updateCTMCached=Yu.proxy(this.updateCTM,this),this.requestAnimationFrame=Yu.createRequestAnimationFrame(this.options.refreshRate),this.viewBox={x:0,y:0,width:0,height:0},this.cacheViewBox();var n=this.processCTM();this.setCTM(n),this.updateCTM()};Wr.prototype.cacheViewBox=function(){var e=this.options.svg.getAttribute("viewBox");if(e){var t=e.split(/[\s\,]/).filter(function(r){return r}).map(parseFloat);this.viewBox.x=t[0],this.viewBox.y=t[1],this.viewBox.width=t[2],this.viewBox.height=t[3];var n=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);this.activeState.zoom=n,this.activeState.x=(this.options.width-this.viewBox.width*n)/2,this.activeState.y=(this.options.height-this.viewBox.height*n)/2,this.updateCTMOnNextFrame(),this.options.svg.removeAttribute("viewBox")}else this.simpleViewBoxCache()};Wr.prototype.simpleViewBoxCache=function(){var e=this.viewport.getBBox();this.viewBox.x=e.x,this.viewBox.y=e.y,this.viewBox.width=e.width,this.viewBox.height=e.height};Wr.prototype.getViewBox=function(){return Yu.extend({},this.viewBox)};Wr.prototype.processCTM=function(){var e=this.getCTM();if(this.options.fit||this.options.contain){var t;this.options.fit?t=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height):t=Math.max(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height),e.a=t,e.d=t,e.e=-this.viewBox.x*t,e.f=-this.viewBox.y*t}if(this.options.center){var n=(this.options.width-(this.viewBox.width+this.viewBox.x*2)*e.a)*.5,r=(this.options.height-(this.viewBox.height+this.viewBox.y*2)*e.a)*.5;e.e=n,e.f=r}return this.originalState.zoom=e.a,this.originalState.x=e.e,this.originalState.y=e.f,e};Wr.prototype.getOriginalState=function(){return Yu.extend({},this.originalState)};Wr.prototype.getState=function(){return Yu.extend({},this.activeState)};Wr.prototype.getZoom=function(){return this.activeState.zoom};Wr.prototype.getRelativeZoom=function(){return this.activeState.zoom/this.originalState.zoom};Wr.prototype.computeRelativeZoom=function(e){return e/this.originalState.zoom};Wr.prototype.getPan=function(){return{x:this.activeState.x,y:this.activeState.y}};Wr.prototype.getCTM=function(){var e=this.options.svg.createSVGMatrix();return e.a=this.activeState.zoom,e.b=0,e.c=0,e.d=this.activeState.zoom,e.e=this.activeState.x,e.f=this.activeState.y,e};Wr.prototype.setCTM=function(e){var t=this.isZoomDifferent(e),n=this.isPanDifferent(e);if(t||n){if(t&&(this.options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(e.a))===!1?(e.a=e.d=this.activeState.zoom,t=!1):(this.updateCache(e),this.options.onZoom(this.getRelativeZoom()))),n){var r=this.options.beforePan(this.getPan(),{x:e.e,y:e.f}),i=!1,a=!1;r===!1?(e.e=this.getPan().x,e.f=this.getPan().y,i=a=!0):Yu.isObject(r)&&(r.x===!1?(e.e=this.getPan().x,i=!0):Yu.isNumber(r.x)&&(e.e=r.x),r.y===!1?(e.f=this.getPan().y,a=!0):Yu.isNumber(r.y)&&(e.f=r.y)),i&&a||!this.isPanDifferent(e)?n=!1:(this.updateCache(e),this.options.onPan(this.getPan()))}(t||n)&&this.updateCTMOnNextFrame()}};Wr.prototype.isZoomDifferent=function(e){return this.activeState.zoom!==e.a};Wr.prototype.isPanDifferent=function(e){return this.activeState.x!==e.e||this.activeState.y!==e.f};Wr.prototype.updateCache=function(e){this.activeState.zoom=e.a,this.activeState.x=e.e,this.activeState.y=e.f};Wr.prototype.pendingUpdate=!1;Wr.prototype.updateCTMOnNextFrame=function(){this.pendingUpdate||(this.pendingUpdate=!0,this.requestAnimationFrame.call(window,this.updateCTMCached))};Wr.prototype.updateCTM=function(){var e=this.getCTM();XEt.setCTM(this.viewport,e,this.defs),this.pendingUpdate=!1,this.options.onUpdatedCTM&&this.options.onUpdatedCTM(e)};var ZEt=function(e,t){return new Wr(e,t)},Mde=YEt,AI=KEt,_o=A$,gl=j$,QEt=ZEt,_n=function(e,t){this.init(e,t)},JEt={viewportSelector:".svg-pan-zoom_viewport",panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,zoomScaleSensitivity:.1,minZoom:.5,maxZoom:10,fit:!0,contain:!1,center:!0,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,customEventsHandler:null,eventsListenerElement:null,onUpdatedCTM:null},Ide={passive:!0};_n.prototype.init=function(e,t){var n=this;this.svg=e,this.defs=e.querySelector("defs"),gl.setupSvgAttributes(this.svg),this.options=_o.extend(_o.extend({},JEt),t),this.state="none";var r=gl.getBoundingClientRectNormalized(e);this.width=r.width,this.height=r.height,this.viewport=QEt(gl.getOrCreateViewport(this.svg,this.options.viewportSelector),{svg:this.svg,width:this.width,height:this.height,fit:this.options.fit,contain:this.options.contain,center:this.options.center,refreshRate:this.options.refreshRate,beforeZoom:function(a,s){if(n.viewport&&n.options.beforeZoom)return n.options.beforeZoom(a,s)},onZoom:function(a){if(n.viewport&&n.options.onZoom)return n.options.onZoom(a)},beforePan:function(a,s){if(n.viewport&&n.options.beforePan)return n.options.beforePan(a,s)},onPan:function(a){if(n.viewport&&n.options.onPan)return n.options.onPan(a)},onUpdatedCTM:function(a){if(n.viewport&&n.options.onUpdatedCTM)return n.options.onUpdatedCTM(a)}});var i=this.getPublicInstance();i.setBeforeZoom(this.options.beforeZoom),i.setOnZoom(this.options.onZoom),i.setBeforePan(this.options.beforePan),i.setOnPan(this.options.onPan),i.setOnUpdatedCTM(this.options.onUpdatedCTM),this.options.controlIconsEnabled&&AI.enable(this),this.lastMouseWheelEventTime=Date.now(),this.setupHandlers()};_n.prototype.setupHandlers=function(){var e=this,t=null;if(this.eventListeners={mousedown:function(a){var s=e.handleMouseDown(a,t);return t=a,s},touchstart:function(a){var s=e.handleMouseDown(a,t);return t=a,s},mouseup:function(a){return e.handleMouseUp(a)},touchend:function(a){return e.handleMouseUp(a)},mousemove:function(a){return e.handleMouseMove(a)},touchmove:function(a){return e.handleMouseMove(a)},mouseleave:function(a){return e.handleMouseUp(a)},touchleave:function(a){return e.handleMouseUp(a)},touchcancel:function(a){return e.handleMouseUp(a)}},this.options.customEventsHandler!=null){this.options.customEventsHandler.init({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});var n=this.options.customEventsHandler.haltEventListeners;if(n&&n.length)for(var r=n.length-1;r>=0;r--)this.eventListeners.hasOwnProperty(n[r])&&delete this.eventListeners[n[r]]}for(var i in this.eventListeners)(this.options.eventsListenerElement||this.svg).addEventListener(i,this.eventListeners[i],this.options.preventMouseEventsDefault?!1:Ide);this.options.mouseWheelZoomEnabled&&(this.options.mouseWheelZoomEnabled=!1,this.enableMouseWheelZoom())};_n.prototype.enableMouseWheelZoom=function(){if(!this.options.mouseWheelZoomEnabled){var e=this;this.wheelListener=function(n){return e.handleMouseWheel(n)};var t=!this.options.preventMouseEventsDefault;Mde.on(this.options.eventsListenerElement||this.svg,this.wheelListener,t),this.options.mouseWheelZoomEnabled=!0}};_n.prototype.disableMouseWheelZoom=function(){if(this.options.mouseWheelZoomEnabled){var e=!this.options.preventMouseEventsDefault;Mde.off(this.options.eventsListenerElement||this.svg,this.wheelListener,e),this.options.mouseWheelZoomEnabled=!1}};_n.prototype.handleMouseWheel=function(e){if(!(!this.options.zoomEnabled||this.state!=="none")){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1);var t=e.deltaY||1,n=Date.now()-this.lastMouseWheelEventTime,r=3+Math.max(0,30-n);this.lastMouseWheelEventTime=Date.now(),"deltaMode"in e&&e.deltaMode===0&&e.wheelDelta&&(t=e.deltaY===0?0:Math.abs(e.wheelDelta)/e.deltaY),t=-.3<t&&t<.3?t:(t>0?1:-1)*Math.log(Math.abs(t)+10)/r;var i=this.svg.getScreenCTM().inverse(),a=gl.getEventPoint(e,this.svg).matrixTransform(i),s=Math.pow(1+this.options.zoomScaleSensitivity,-1*t);this.zoomAtPoint(s,a)}};_n.prototype.zoomAtPoint=function(e,t,n){var r=this.viewport.getOriginalState();n?(e=Math.max(this.options.minZoom*r.zoom,Math.min(this.options.maxZoom*r.zoom,e)),e=e/this.getZoom()):this.getZoom()*e<this.options.minZoom*r.zoom?e=this.options.minZoom*r.zoom/this.getZoom():this.getZoom()*e>this.options.maxZoom*r.zoom&&(e=this.options.maxZoom*r.zoom/this.getZoom());var i=this.viewport.getCTM(),a=t.matrixTransform(i.inverse()),s=this.svg.createSVGMatrix().translate(a.x,a.y).scale(e).translate(-a.x,-a.y),l=i.multiply(s);l.a!==i.a&&this.viewport.setCTM(l)};_n.prototype.zoom=function(e,t){this.zoomAtPoint(e,gl.getSvgCenterPoint(this.svg,this.width,this.height),t)};_n.prototype.publicZoom=function(e,t){t&&(e=this.computeFromRelativeZoom(e)),this.zoom(e,t)};_n.prototype.publicZoomAtPoint=function(e,t,n){if(n&&(e=this.computeFromRelativeZoom(e)),_o.getType(t)!=="SVGPoint")if("x"in t&&"y"in t)t=gl.createSVGPoint(this.svg,t.x,t.y);else throw new Error("Given point is invalid");this.zoomAtPoint(e,t,n)};_n.prototype.getZoom=function(){return this.viewport.getZoom()};_n.prototype.getRelativeZoom=function(){return this.viewport.getRelativeZoom()};_n.prototype.computeFromRelativeZoom=function(e){return e*this.viewport.getOriginalState().zoom};_n.prototype.resetZoom=function(){var e=this.viewport.getOriginalState();this.zoom(e.zoom,!0)};_n.prototype.resetPan=function(){this.pan(this.viewport.getOriginalState())};_n.prototype.reset=function(){this.resetZoom(),this.resetPan()};_n.prototype.handleDblClick=function(e){if(this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.options.controlIconsEnabled){var t=e.target.getAttribute("class")||"";if(t.indexOf("svg-pan-zoom-control")>-1)return!1}var n;e.shiftKey?n=1/((1+this.options.zoomScaleSensitivity)*2):n=(1+this.options.zoomScaleSensitivity)*2;var r=gl.getEventPoint(e,this.svg).matrixTransform(this.svg.getScreenCTM().inverse());this.zoomAtPoint(n,r)};_n.prototype.handleMouseDown=function(e,t){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),_o.mouseAndTouchNormalize(e,this.svg),this.options.dblClickZoomEnabled&&_o.isDblClick(e,t)?this.handleDblClick(e):(this.state="pan",this.firstEventCTM=this.viewport.getCTM(),this.stateOrigin=gl.getEventPoint(e,this.svg).matrixTransform(this.firstEventCTM.inverse()))};_n.prototype.handleMouseMove=function(e){if(this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.state==="pan"&&this.options.panEnabled){var t=gl.getEventPoint(e,this.svg).matrixTransform(this.firstEventCTM.inverse()),n=this.firstEventCTM.translate(t.x-this.stateOrigin.x,t.y-this.stateOrigin.y);this.viewport.setCTM(n)}};_n.prototype.handleMouseUp=function(e){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.state==="pan"&&(this.state="none")};_n.prototype.fit=function(){var e=this.viewport.getViewBox(),t=Math.min(this.width/e.width,this.height/e.height);this.zoom(t,!0)};_n.prototype.contain=function(){var e=this.viewport.getViewBox(),t=Math.max(this.width/e.width,this.height/e.height);this.zoom(t,!0)};_n.prototype.center=function(){var e=this.viewport.getViewBox(),t=(this.width-(e.width+e.x*2)*this.getZoom())*.5,n=(this.height-(e.height+e.y*2)*this.getZoom())*.5;this.getPublicInstance().pan({x:t,y:n})};_n.prototype.updateBBox=function(){this.viewport.simpleViewBoxCache()};_n.prototype.pan=function(e){var t=this.viewport.getCTM();t.e=e.x,t.f=e.y,this.viewport.setCTM(t)};_n.prototype.panBy=function(e){var t=this.viewport.getCTM();t.e+=e.x,t.f+=e.y,this.viewport.setCTM(t)};_n.prototype.getPan=function(){var e=this.viewport.getState();return{x:e.x,y:e.y}};_n.prototype.resize=function(){var e=gl.getBoundingClientRectNormalized(this.svg);this.width=e.width,this.height=e.height;var t=this.viewport;t.options.width=this.width,t.options.height=this.height,t.processCTM(),this.options.controlIconsEnabled&&(this.getPublicInstance().disableControlIcons(),this.getPublicInstance().enableControlIcons())};_n.prototype.destroy=function(){var e=this;this.beforeZoom=null,this.onZoom=null,this.beforePan=null,this.onPan=null,this.onUpdatedCTM=null,this.options.customEventsHandler!=null&&this.options.customEventsHandler.destroy({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});for(var t in this.eventListeners)(this.options.eventsListenerElement||this.svg).removeEventListener(t,this.eventListeners[t],this.options.preventMouseEventsDefault?!1:Ide);this.disableMouseWheelZoom(),this.getPublicInstance().disableControlIcons(),this.reset(),pu=pu.filter(function(n){return n.svg!==e.svg}),delete this.options,delete this.viewport,delete this.publicInstance,delete this.pi,this.getPublicInstance=function(){return null}};_n.prototype.getPublicInstance=function(){var e=this;return this.publicInstance||(this.publicInstance=this.pi={enablePan:function(){return e.options.panEnabled=!0,e.pi},disablePan:function(){return e.options.panEnabled=!1,e.pi},isPanEnabled:function(){return!!e.options.panEnabled},pan:function(t){return e.pan(t),e.pi},panBy:function(t){return e.panBy(t),e.pi},getPan:function(){return e.getPan()},setBeforePan:function(t){return e.options.beforePan=t===null?null:_o.proxy(t,e.publicInstance),e.pi},setOnPan:function(t){return e.options.onPan=t===null?null:_o.proxy(t,e.publicInstance),e.pi},enableZoom:function(){return e.options.zoomEnabled=!0,e.pi},disableZoom:function(){return e.options.zoomEnabled=!1,e.pi},isZoomEnabled:function(){return!!e.options.zoomEnabled},enableControlIcons:function(){return e.options.controlIconsEnabled||(e.options.controlIconsEnabled=!0,AI.enable(e)),e.pi},disableControlIcons:function(){return e.options.controlIconsEnabled&&(e.options.controlIconsEnabled=!1,AI.disable(e)),e.pi},isControlIconsEnabled:function(){return!!e.options.controlIconsEnabled},enableDblClickZoom:function(){return e.options.dblClickZoomEnabled=!0,e.pi},disableDblClickZoom:function(){return e.options.dblClickZoomEnabled=!1,e.pi},isDblClickZoomEnabled:function(){return!!e.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){return e.enableMouseWheelZoom(),e.pi},disableMouseWheelZoom:function(){return e.disableMouseWheelZoom(),e.pi},isMouseWheelZoomEnabled:function(){return!!e.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(t){return e.options.zoomScaleSensitivity=t,e.pi},setMinZoom:function(t){return e.options.minZoom=t,e.pi},setMaxZoom:function(t){return e.options.maxZoom=t,e.pi},setBeforeZoom:function(t){return e.options.beforeZoom=t===null?null:_o.proxy(t,e.publicInstance),e.pi},setOnZoom:function(t){return e.options.onZoom=t===null?null:_o.proxy(t,e.publicInstance),e.pi},zoom:function(t){return e.publicZoom(t,!0),e.pi},zoomBy:function(t){return e.publicZoom(t,!1),e.pi},zoomAtPoint:function(t,n){return e.publicZoomAtPoint(t,n,!0),e.pi},zoomAtPointBy:function(t,n){return e.publicZoomAtPoint(t,n,!1),e.pi},zoomIn:function(){return this.zoomBy(1+e.options.zoomScaleSensitivity),e.pi},zoomOut:function(){return this.zoomBy(1/(1+e.options.zoomScaleSensitivity)),e.pi},getZoom:function(){return e.getRelativeZoom()},setOnUpdatedCTM:function(t){return e.options.onUpdatedCTM=t===null?null:_o.proxy(t,e.publicInstance),e.pi},resetZoom:function(){return e.resetZoom(),e.pi},resetPan:function(){return e.resetPan(),e.pi},reset:function(){return e.reset(),e.pi},fit:function(){return e.fit(),e.pi},contain:function(){return e.contain(),e.pi},center:function(){return e.center(),e.pi},updateBBox:function(){return e.updateBBox(),e.pi},resize:function(){return e.resize(),e.pi},getSizes:function(){return{width:e.width,height:e.height,realZoom:e.getZoom(),viewBox:e.viewport.getViewBox()}},destroy:function(){return e.destroy(),e.pi}}),this.publicInstance};var pu=[],eSt=function(e,t){var n=_o.getSvg(e);if(n===null)return null;for(var r=pu.length-1;r>=0;r--)if(pu[r].svg===n)return pu[r].instance.getPublicInstance();return pu.push({svg:n,instance:new _n(n,t)}),pu[pu.length-1].instance.getPublicInstance()},tSt=eSt;const nSt=sn(tSt),rSt="modulepreload",iSt=function(e){return"/"+e},BW={},bn=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=iSt(c),c in BW)return;BW[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":rSt,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};var aSt=Object.defineProperty,sSt=(e,t)=>aSt(e,"name",{value:t,configurable:!0}),FW=sSt(async()=>await bn(()=>import("./render-A4QPNB7Z-BpNK1hIq.js"),[]),"loader"),oSt=["elk.stress","elk.force","elk.mrtree","elk.sporeOverlap"],lSt=[{name:"elk",loader:FW,algorithm:"elk.layered"},...oSt.map(e=>({name:e,loader:FW,algorithm:e}))],cSt=lSt;const Rde="zenuml",uSt=e=>/^\s*zenuml/.test(e),dSt=async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./zenuml-definition-ddfc84a5-5Zo6qhGW.js").then(n=>n.z);return{diagram:t}},[]);return{id:Rde,diagram:e}},hSt={id:Rde,detector:uSt,loader:dSt};var Dde={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Co,function(){var n=1e3,r=6e4,i=36e5,a="millisecond",s="second",l="minute",c="hour",u="day",d="week",h="month",f="quarter",m="year",p="date",g="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(N){var D=["th","st","nd","rd"],P=N%100;return"["+N+(D[(P-20)%10]||D[P]||D[0])+"]"}},b=function(N,D,P){var L=String(N);return!L||L.length>=D?N:""+Array(D+1-L.length).join(P)+N},E={s:b,z:function(N){var D=-N.utcOffset(),P=Math.abs(D),L=Math.floor(P/60),I=P%60;return(D<=0?"+":"-")+b(L,2,"0")+":"+b(I,2,"0")},m:function N(D,P){if(D.date()<P.date())return-N(P,D);var L=12*(P.year()-D.year())+(P.month()-D.month()),I=D.clone().add(L,h),U=P-I<0,$=D.clone().add(L+(U?-1:1),h);return+(-(L+(P-I)/(U?I-$:$-I))||0)},a:function(N){return N<0?Math.ceil(N)||0:Math.floor(N)},p:function(N){return{M:h,y:m,w:d,d:u,D:p,h:c,m:l,s,ms:a,Q:f}[N]||String(N||"").toLowerCase().replace(/s$/,"")},u:function(N){return N===void 0}},_="en",S={};S[_]=v;var C="$isDayjsObject",T=function(N){return N instanceof M||!(!N||!N[C])},j=function N(D,P,L){var I;if(!D)return _;if(typeof D=="string"){var U=D.toLowerCase();S[U]&&(I=U),P&&(S[U]=P,I=U);var $=D.split("-");if(!I&&$.length>1)return N($[0])}else{var W=D.name;S[W]=D,I=W}return!L&&I&&(_=I),I||!L&&_},k=function(N,D){if(T(N))return N.clone();var P=typeof D=="object"?D:{};return P.date=N,P.args=arguments,new M(P)},O=E;O.l=j,O.i=T,O.w=function(N,D){return k(N,{locale:D.$L,utc:D.$u,x:D.$x,$offset:D.$offset})};var M=function(){function N(P){this.$L=j(P.locale,null,!0),this.parse(P),this.$x=this.$x||P.x||{},this[C]=!0}var D=N.prototype;return D.parse=function(P){this.$d=function(L){var I=L.date,U=L.utc;if(I===null)return new Date(NaN);if(O.u(I))return new Date;if(I instanceof Date)return new Date(I);if(typeof I=="string"&&!/Z$/i.test(I)){var $=I.match(x);if($){var W=$[2]-1||0,z=($[7]||"0").substring(0,3);return U?new Date(Date.UTC($[1],W,$[3]||1,$[4]||0,$[5]||0,$[6]||0,z)):new Date($[1],W,$[3]||1,$[4]||0,$[5]||0,$[6]||0,z)}}return new Date(I)}(P),this.init()},D.init=function(){var P=this.$d;this.$y=P.getFullYear(),this.$M=P.getMonth(),this.$D=P.getDate(),this.$W=P.getDay(),this.$H=P.getHours(),this.$m=P.getMinutes(),this.$s=P.getSeconds(),this.$ms=P.getMilliseconds()},D.$utils=function(){return O},D.isValid=function(){return this.$d.toString()!==g},D.isSame=function(P,L){var I=k(P);return this.startOf(L)<=I&&I<=this.endOf(L)},D.isAfter=function(P,L){return k(P)<this.startOf(L)},D.isBefore=function(P,L){return this.endOf(L)<k(P)},D.$g=function(P,L,I){return O.u(P)?this[L]:this.set(I,P)},D.unix=function(){return Math.floor(this.valueOf()/1e3)},D.valueOf=function(){return this.$d.getTime()},D.startOf=function(P,L){var I=this,U=!!O.u(L)||L,$=O.p(P),W=function(ce,me){var ye=O.w(I.$u?Date.UTC(I.$y,me,ce):new Date(I.$y,me,ce),I);return U?ye:ye.endOf(u)},z=function(ce,me){return O.w(I.toDate()[ce].apply(I.toDate("s"),(U?[0,0,0,0]:[23,59,59,999]).slice(me)),I)},R=this.$W,G=this.$M,Q=this.$D,oe="set"+(this.$u?"UTC":"");switch($){case m:return U?W(1,0):W(31,11);case h:return U?W(1,G):W(0,G+1);case d:var re=this.$locale().weekStart||0,pe=(R<re?R+7:R)-re;return W(U?Q-pe:Q+(6-pe),G);case u:case p:return z(oe+"Hours",0);case c:return z(oe+"Minutes",1);case l:return z(oe+"Seconds",2);case s:return z(oe+"Milliseconds",3);default:return this.clone()}},D.endOf=function(P){return this.startOf(P,!1)},D.$set=function(P,L){var I,U=O.p(P),$="set"+(this.$u?"UTC":""),W=(I={},I[u]=$+"Date",I[p]=$+"Date",I[h]=$+"Month",I[m]=$+"FullYear",I[c]=$+"Hours",I[l]=$+"Minutes",I[s]=$+"Seconds",I[a]=$+"Milliseconds",I)[U],z=U===u?this.$D+(L-this.$W):L;if(U===h||U===m){var R=this.clone().set(p,1);R.$d[W](z),R.init(),this.$d=R.set(p,Math.min(this.$D,R.daysInMonth())).$d}else W&&this.$d[W](z);return this.init(),this},D.set=function(P,L){return this.clone().$set(P,L)},D.get=function(P){return this[O.p(P)]()},D.add=function(P,L){var I,U=this;P=Number(P);var $=O.p(L),W=function(G){var Q=k(U);return O.w(Q.date(Q.date()+Math.round(G*P)),U)};if($===h)return this.set(h,this.$M+P);if($===m)return this.set(m,this.$y+P);if($===u)return W(1);if($===d)return W(7);var z=(I={},I[l]=r,I[c]=i,I[s]=n,I)[$]||1,R=this.$d.getTime()+P*z;return O.w(R,this)},D.subtract=function(P,L){return this.add(-1*P,L)},D.format=function(P){var L=this,I=this.$locale();if(!this.isValid())return I.invalidDate||g;var U=P||"YYYY-MM-DDTHH:mm:ssZ",$=O.z(this),W=this.$H,z=this.$m,R=this.$M,G=I.weekdays,Q=I.months,oe=I.meridiem,re=function(me,ye,ae,Ae){return me&&(me[ye]||me(L,U))||ae[ye].slice(0,Ae)},pe=function(me){return O.s(W%12||12,me,"0")},ce=oe||function(me,ye,ae){var Ae=me<12?"AM":"PM";return ae?Ae.toLowerCase():Ae};return U.replace(y,function(me,ye){return ye||function(ae){switch(ae){case"YY":return String(L.$y).slice(-2);case"YYYY":return O.s(L.$y,4,"0");case"M":return R+1;case"MM":return O.s(R+1,2,"0");case"MMM":return re(I.monthsShort,R,Q,3);case"MMMM":return re(Q,R);case"D":return L.$D;case"DD":return O.s(L.$D,2,"0");case"d":return String(L.$W);case"dd":return re(I.weekdaysMin,L.$W,G,2);case"ddd":return re(I.weekdaysShort,L.$W,G,3);case"dddd":return G[L.$W];case"H":return String(W);case"HH":return O.s(W,2,"0");case"h":return pe(1);case"hh":return pe(2);case"a":return ce(W,z,!0);case"A":return ce(W,z,!1);case"m":return String(z);case"mm":return O.s(z,2,"0");case"s":return String(L.$s);case"ss":return O.s(L.$s,2,"0");case"SSS":return O.s(L.$ms,3,"0");case"Z":return $}return null}(me)||$.replace(":","")})},D.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},D.diff=function(P,L,I){var U,$=this,W=O.p(L),z=k(P),R=(z.utcOffset()-this.utcOffset())*r,G=this-z,Q=function(){return O.m($,z)};switch(W){case m:U=Q()/12;break;case h:U=Q();break;case f:U=Q()/3;break;case d:U=(G-R)/6048e5;break;case u:U=(G-R)/864e5;break;case c:U=G/i;break;case l:U=G/r;break;case s:U=G/n;break;default:U=G}return I?U:O.a(U)},D.daysInMonth=function(){return this.endOf(h).$D},D.$locale=function(){return S[this.$L]},D.locale=function(P,L){if(!P)return this.$L;var I=this.clone(),U=j(P,L,!0);return U&&(I.$L=U),I},D.clone=function(){return O.w(this.$d,this)},D.toDate=function(){return new Date(this.valueOf())},D.toJSON=function(){return this.isValid()?this.toISOString():null},D.toISOString=function(){return this.$d.toISOString()},D.toString=function(){return this.$d.toUTCString()},N}(),B=M.prototype;return k.prototype=B,[["$ms",a],["$s",s],["$m",l],["$H",c],["$W",u],["$M",h],["$y",m],["$D",p]].forEach(function(N){B[N[1]]=function(D){return this.$g(D,N[0],N[1])}}),k.extend=function(N,D){return N.$i||(N(D,M,k),N.$i=!0),k},k.locale=j,k.isDayjs=T,k.unix=function(N){return k(1e3*N)},k.en=S[_],k.Ls=S,k.p={},k})})(Dde);var fSt=Dde.exports;const mSt=sn(fSt),RE={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e),hsl2rgb:({h:e,s:t,l:n},r)=>{if(!t)return n*2.55;e/=360,t/=100,n/=100;const i=n<.5?n*(1+t):n+t-n*t,a=2*n-i;switch(r){case"r":return RE.hue2rgb(a,i,e+1/3)*255;case"g":return RE.hue2rgb(a,i,e)*255;case"b":return RE.hue2rgb(a,i,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:n},r)=>{e/=255,t/=255,n/=255;const i=Math.max(e,t,n),a=Math.min(e,t,n),s=(i+a)/2;if(r==="l")return s*100;if(i===a)return 0;const l=i-a,c=s>.5?l/(2-i-a):l/(i+a);if(r==="s")return c*100;switch(i){case e:return((t-n)/l+(t<n?6:0))*60;case t:return((n-e)/l+2)*60;case n:return((e-t)/l+4)*60;default:return-1}}},pSt={clamp:(e,t,n)=>t>n?Math.min(t,Math.max(n,e)):Math.min(n,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},gSt={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},Dt={channel:RE,lang:pSt,unit:gSt},lu={};for(let e=0;e<=255;e++)lu[e]=Dt.unit.dec2hex(e);const Pi={ALL:0,RGB:1,HSL:2};class ySt{constructor(){this.type=Pi.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=Pi.ALL}is(t){return this.type===t}}class xSt{constructor(t,n){this.color=n,this.changed=!1,this.data=t,this.type=new ySt}set(t,n){return this.color=n,this.changed=!1,this.data=t,this.type.type=Pi.ALL,this}_ensureHSL(){const t=this.data,{h:n,s:r,l:i}=t;n===void 0&&(t.h=Dt.channel.rgb2hsl(t,"h")),r===void 0&&(t.s=Dt.channel.rgb2hsl(t,"s")),i===void 0&&(t.l=Dt.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r:n,g:r,b:i}=t;n===void 0&&(t.r=Dt.channel.hsl2rgb(t,"r")),r===void 0&&(t.g=Dt.channel.hsl2rgb(t,"g")),i===void 0&&(t.b=Dt.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,n=t.r;return!this.type.is(Pi.HSL)&&n!==void 0?n:(this._ensureHSL(),Dt.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,n=t.g;return!this.type.is(Pi.HSL)&&n!==void 0?n:(this._ensureHSL(),Dt.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,n=t.b;return!this.type.is(Pi.HSL)&&n!==void 0?n:(this._ensureHSL(),Dt.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,n=t.h;return!this.type.is(Pi.RGB)&&n!==void 0?n:(this._ensureRGB(),Dt.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,n=t.s;return!this.type.is(Pi.RGB)&&n!==void 0?n:(this._ensureRGB(),Dt.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,n=t.l;return!this.type.is(Pi.RGB)&&n!==void 0?n:(this._ensureRGB(),Dt.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(Pi.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(Pi.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(Pi.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(Pi.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(Pi.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(Pi.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const lN=new xSt({r:0,g:0,b:0,a:0},"transparent"),tp={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(tp.re);if(!t)return;const n=t[1],r=parseInt(n,16),i=n.length,a=i%4===0,s=i>4,l=s?1:17,c=s?8:4,u=a?0:-1,d=s?255:15;return lN.set({r:(r>>c*(u+3)&d)*l,g:(r>>c*(u+2)&d)*l,b:(r>>c*(u+1)&d)*l,a:a?(r&d)*l/255:1},e)},stringify:e=>{const{r:t,g:n,b:r,a:i}=e;return i<1?`#${lu[Math.round(t)]}${lu[Math.round(n)]}${lu[Math.round(r)]}${lu[Math.round(i*255)]}`:`#${lu[Math.round(t)]}${lu[Math.round(n)]}${lu[Math.round(r)]}`}},yh={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(yh.hueRe);if(t){const[,n,r]=t;switch(r){case"grad":return Dt.channel.clamp.h(parseFloat(n)*.9);case"rad":return Dt.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return Dt.channel.clamp.h(parseFloat(n)*360)}}return Dt.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const n=e.match(yh.re);if(!n)return;const[,r,i,a,s,l]=n;return lN.set({h:yh._hue2deg(r),s:Dt.channel.clamp.s(parseFloat(i)),l:Dt.channel.clamp.l(parseFloat(a)),a:s?Dt.channel.clamp.a(l?parseFloat(s)/100:parseFloat(s)):1},e)},stringify:e=>{const{h:t,s:n,l:r,a:i}=e;return i<1?`hsla(${Dt.lang.round(t)}, ${Dt.lang.round(n)}%, ${Dt.lang.round(r)}%, ${i})`:`hsl(${Dt.lang.round(t)}, ${Dt.lang.round(n)}%, ${Dt.lang.round(r)}%)`}},bx={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=bx.colors[e];if(t)return tp.parse(t)},stringify:e=>{const t=tp.stringify(e);for(const n in bx.colors)if(bx.colors[n]===t)return n}},Py={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const n=e.match(Py.re);if(!n)return;const[,r,i,a,s,l,c,u,d]=n;return lN.set({r:Dt.channel.clamp.r(i?parseFloat(r)*2.55:parseFloat(r)),g:Dt.channel.clamp.g(s?parseFloat(a)*2.55:parseFloat(a)),b:Dt.channel.clamp.b(c?parseFloat(l)*2.55:parseFloat(l)),a:u?Dt.channel.clamp.a(d?parseFloat(u)/100:parseFloat(u)):1},e)},stringify:e=>{const{r:t,g:n,b:r,a:i}=e;return i<1?`rgba(${Dt.lang.round(t)}, ${Dt.lang.round(n)}, ${Dt.lang.round(r)}, ${Dt.lang.round(i)})`:`rgb(${Dt.lang.round(t)}, ${Dt.lang.round(n)}, ${Dt.lang.round(r)})`}},Cl={format:{keyword:bx,hex:tp,rgb:Py,rgba:Py,hsl:yh,hsla:yh},parse:e=>{if(typeof e!="string")return e;const t=tp.parse(e)||Py.parse(e)||yh.parse(e)||bx.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(Pi.HSL)||e.data.r===void 0?yh.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?Py.stringify(e):tp.stringify(e)},Lde=(e,t)=>{const n=Cl.parse(e);for(const r in t)n[r]=Dt.channel.clamp[r](t[r]);return Cl.stringify(n)},wx=(e,t,n=0,r=1)=>{if(typeof e!="number")return Lde(e,{a:t});const i=lN.set({r:Dt.channel.clamp.r(e),g:Dt.channel.clamp.g(t),b:Dt.channel.clamp.b(n),a:Dt.channel.clamp.a(r)});return Cl.stringify(i)},vSt=e=>{const{r:t,g:n,b:r}=Cl.parse(e),i=.2126*Dt.channel.toLinear(t)+.7152*Dt.channel.toLinear(n)+.0722*Dt.channel.toLinear(r);return Dt.lang.round(i)},bSt=e=>vSt(e)>=.5,p1=e=>!bSt(e),$de=(e,t,n)=>{const r=Cl.parse(e),i=r[t],a=Dt.channel.clamp[t](i+n);return i!==a&&(r[t]=a),Cl.stringify(r)},st=(e,t)=>$de(e,"l",t),St=(e,t)=>$de(e,"l",-t),ge=(e,t)=>{const n=Cl.parse(e),r={};for(const i in t)t[i]&&(r[i]=n[i]+t[i]);return Lde(e,r)},wSt=(e,t,n=50)=>{const{r,g:i,b:a,a:s}=Cl.parse(e),{r:l,g:c,b:u,a:d}=Cl.parse(t),h=n/100,f=h*2-1,m=s-d,g=((f*m===-1?f:(f+m)/(1+f*m))+1)/2,x=1-g,y=r*g+l*x,v=i*g+c*x,b=a*g+u*x,E=s*h+d*(1-h);return wx(y,v,b,E)},Ge=(e,t=100)=>{const n=Cl.parse(e);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,wSt(n,e,t)};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:Bde,setPrototypeOf:zW,isFrozen:ESt,getPrototypeOf:SSt,getOwnPropertyDescriptor:_St}=Object;let{freeze:va,seal:Ys,create:Fde}=Object,{apply:jI,construct:OI}=typeof Reflect<"u"&&Reflect;va||(va=function(t){return t});Ys||(Ys=function(t){return t});jI||(jI=function(t,n,r){return t.apply(n,r)});OI||(OI=function(t,n){return new t(...n)});const Gw=ba(Array.prototype.forEach),CSt=ba(Array.prototype.lastIndexOf),UW=ba(Array.prototype.pop),ly=ba(Array.prototype.push),TSt=ba(Array.prototype.splice),DE=ba(String.prototype.toLowerCase),tj=ba(String.prototype.toString),HW=ba(String.prototype.match),cy=ba(String.prototype.replace),NSt=ba(String.prototype.indexOf),kSt=ba(String.prototype.trim),uo=ba(Object.prototype.hasOwnProperty),Ji=ba(RegExp.prototype.test),uy=ASt(TypeError);function ba(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return jI(e,t,r)}}function ASt(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return OI(e,n)}}function tn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:DE;zW&&zW(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i=="string"){const a=n(i);a!==i&&(ESt(t)||(t[r]=a),i=a)}e[i]=!0}return e}function jSt(e){for(let t=0;t<e.length;t++)uo(e,t)||(e[t]=null);return e}function Gl(e){const t=Fde(null);for(const[n,r]of Bde(e))uo(e,n)&&(Array.isArray(r)?t[n]=jSt(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=Gl(r):t[n]=r);return t}function dy(e,t){for(;e!==null;){const r=_St(e,t);if(r){if(r.get)return ba(r.get);if(typeof r.value=="function")return ba(r.value)}e=SSt(e)}function n(){return null}return n}const VW=va(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),nj=va(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),rj=va(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),OSt=va(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ij=va(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),PSt=va(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),WW=va(["#text"]),qW=va(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),aj=va(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),GW=va(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Yw=va(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MSt=Ys(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ISt=Ys(/<%[\w\W]*|[\w\W]*%>/gm),RSt=Ys(/\$\{[\w\W]*/gm),DSt=Ys(/^data-[\-\w.\u00B7-\uFFFF]+$/),LSt=Ys(/^aria-[\-\w]+$/),zde=Ys(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$St=Ys(/^(?:\w+script|data):/i),BSt=Ys(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ude=Ys(/^html$/i),FSt=Ys(/^[a-z][.\w]*(-[.\w]+)+$/i);var YW=Object.freeze({__proto__:null,ARIA_ATTR:LSt,ATTR_WHITESPACE:BSt,CUSTOM_ELEMENT:FSt,DATA_ATTR:DSt,DOCTYPE_NAME:Ude,ERB_EXPR:ISt,IS_ALLOWED_URI:zde,IS_SCRIPT_OR_DATA:$St,MUSTACHE_EXPR:MSt,TMPLIT_EXPR:RSt});const hy={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},zSt=function(){return typeof window>"u"?null:window},USt=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const a="dompurify"+(r?"#"+r:"");try{return t.createPolicy(a,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},KW=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Hde(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zSt();const t=bt=>Hde(bt);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==hy.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,i=r.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:l,Element:c,NodeFilter:u,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:m}=e,p=c.prototype,g=dy(p,"cloneNode"),x=dy(p,"remove"),y=dy(p,"nextSibling"),v=dy(p,"childNodes"),b=dy(p,"parentNode");if(typeof s=="function"){const bt=n.createElement("template");bt.content&&bt.content.ownerDocument&&(n=bt.content.ownerDocument)}let E,_="";const{implementation:S,createNodeIterator:C,createDocumentFragment:T,getElementsByTagName:j}=n,{importNode:k}=r;let O=KW();t.isSupported=typeof Bde=="function"&&typeof b=="function"&&S&&S.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:M,ERB_EXPR:B,TMPLIT_EXPR:N,DATA_ATTR:D,ARIA_ATTR:P,IS_SCRIPT_OR_DATA:L,ATTR_WHITESPACE:I,CUSTOM_ELEMENT:U}=YW;let{IS_ALLOWED_URI:$}=YW,W=null;const z=tn({},[...VW,...nj,...rj,...ij,...WW]);let R=null;const G=tn({},[...qW,...aj,...GW,...Yw]);let Q=Object.seal(Fde(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),oe=null,re=null,pe=!0,ce=!0,me=!1,ye=!0,ae=!1,Ae=!0,H=!1,Z=!1,he=!1,se=!1,V=!1,ie=!1,ue=!0,we=!1;const Se="user-content-";let K=!0,Ce=!1,Le={},Y=null;const ee=tn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let be=null;const Te=tn({},["audio","video","img","source","image","track"]);let fe=null;const Ne=tn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Nt="http://www.w3.org/1998/Math/MathML",vt="http://www.w3.org/2000/svg",an="http://www.w3.org/1999/xhtml";let Ln=an,_t=!1,ri=null;const pt=tn({},[Nt,vt,an],tj);let on=tn({},["mi","mo","mn","ms","mtext"]),Tt=tn({},["annotation-xml"]);const ln=tn({},["title","style","font","a","script"]);let Nr=null;const Uo=["application/xhtml+xml","text/html"],Ho="text/html";let Yt=null,_a=null;const Bf=n.createElement("form"),Dl=function(de){return de instanceof RegExp||de instanceof Function},Ll=function(){let de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(_a&&_a===de)){if((!de||typeof de!="object")&&(de={}),de=Gl(de),Nr=Uo.indexOf(de.PARSER_MEDIA_TYPE)===-1?Ho:de.PARSER_MEDIA_TYPE,Yt=Nr==="application/xhtml+xml"?tj:DE,W=uo(de,"ALLOWED_TAGS")?tn({},de.ALLOWED_TAGS,Yt):z,R=uo(de,"ALLOWED_ATTR")?tn({},de.ALLOWED_ATTR,Yt):G,ri=uo(de,"ALLOWED_NAMESPACES")?tn({},de.ALLOWED_NAMESPACES,tj):pt,fe=uo(de,"ADD_URI_SAFE_ATTR")?tn(Gl(Ne),de.ADD_URI_SAFE_ATTR,Yt):Ne,be=uo(de,"ADD_DATA_URI_TAGS")?tn(Gl(Te),de.ADD_DATA_URI_TAGS,Yt):Te,Y=uo(de,"FORBID_CONTENTS")?tn({},de.FORBID_CONTENTS,Yt):ee,oe=uo(de,"FORBID_TAGS")?tn({},de.FORBID_TAGS,Yt):Gl({}),re=uo(de,"FORBID_ATTR")?tn({},de.FORBID_ATTR,Yt):Gl({}),Le=uo(de,"USE_PROFILES")?de.USE_PROFILES:!1,pe=de.ALLOW_ARIA_ATTR!==!1,ce=de.ALLOW_DATA_ATTR!==!1,me=de.ALLOW_UNKNOWN_PROTOCOLS||!1,ye=de.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ae=de.SAFE_FOR_TEMPLATES||!1,Ae=de.SAFE_FOR_XML!==!1,H=de.WHOLE_DOCUMENT||!1,se=de.RETURN_DOM||!1,V=de.RETURN_DOM_FRAGMENT||!1,ie=de.RETURN_TRUSTED_TYPE||!1,he=de.FORCE_BODY||!1,ue=de.SANITIZE_DOM!==!1,we=de.SANITIZE_NAMED_PROPS||!1,K=de.KEEP_CONTENT!==!1,Ce=de.IN_PLACE||!1,$=de.ALLOWED_URI_REGEXP||zde,Ln=de.NAMESPACE||an,on=de.MATHML_TEXT_INTEGRATION_POINTS||on,Tt=de.HTML_INTEGRATION_POINTS||Tt,Q=de.CUSTOM_ELEMENT_HANDLING||{},de.CUSTOM_ELEMENT_HANDLING&&Dl(de.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Q.tagNameCheck=de.CUSTOM_ELEMENT_HANDLING.tagNameCheck),de.CUSTOM_ELEMENT_HANDLING&&Dl(de.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Q.attributeNameCheck=de.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),de.CUSTOM_ELEMENT_HANDLING&&typeof de.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Q.allowCustomizedBuiltInElements=de.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ae&&(ce=!1),V&&(se=!0),Le&&(W=tn({},WW),R=[],Le.html===!0&&(tn(W,VW),tn(R,qW)),Le.svg===!0&&(tn(W,nj),tn(R,aj),tn(R,Yw)),Le.svgFilters===!0&&(tn(W,rj),tn(R,aj),tn(R,Yw)),Le.mathMl===!0&&(tn(W,ij),tn(R,GW),tn(R,Yw))),de.ADD_TAGS&&(W===z&&(W=Gl(W)),tn(W,de.ADD_TAGS,Yt)),de.ADD_ATTR&&(R===G&&(R=Gl(R)),tn(R,de.ADD_ATTR,Yt)),de.ADD_URI_SAFE_ATTR&&tn(fe,de.ADD_URI_SAFE_ATTR,Yt),de.FORBID_CONTENTS&&(Y===ee&&(Y=Gl(Y)),tn(Y,de.FORBID_CONTENTS,Yt)),K&&(W["#text"]=!0),H&&tn(W,["html","head","body"]),W.table&&(tn(W,["tbody"]),delete oe.tbody),de.TRUSTED_TYPES_POLICY){if(typeof de.TRUSTED_TYPES_POLICY.createHTML!="function")throw uy('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof de.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw uy('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');E=de.TRUSTED_TYPES_POLICY,_=E.createHTML("")}else E===void 0&&(E=USt(m,i)),E!==null&&typeof _=="string"&&(_=E.createHTML(""));va&&va(de),_a=de}},no=tn({},[...nj,...rj,...OSt]),ro=tn({},[...ij,...PSt]),Rd=function(de){let Ue=b(de);(!Ue||!Ue.tagName)&&(Ue={namespaceURI:Ln,tagName:"template"});const ct=DE(de.tagName),On=DE(Ue.tagName);return ri[de.namespaceURI]?de.namespaceURI===vt?Ue.namespaceURI===an?ct==="svg":Ue.namespaceURI===Nt?ct==="svg"&&(On==="annotation-xml"||on[On]):!!no[ct]:de.namespaceURI===Nt?Ue.namespaceURI===an?ct==="math":Ue.namespaceURI===vt?ct==="math"&&Tt[On]:!!ro[ct]:de.namespaceURI===an?Ue.namespaceURI===vt&&!Tt[On]||Ue.namespaceURI===Nt&&!on[On]?!1:!ro[ct]&&(ln[ct]||!no[ct]):!!(Nr==="application/xhtml+xml"&&ri[de.namespaceURI]):!1},Ni=function(de){ly(t.removed,{element:de});try{b(de).removeChild(de)}catch{x(de)}},qa=function(de,Ue){try{ly(t.removed,{attribute:Ue.getAttributeNode(de),from:Ue})}catch{ly(t.removed,{attribute:null,from:Ue})}if(Ue.removeAttribute(de),de==="is")if(se||V)try{Ni(Ue)}catch{}else try{Ue.setAttribute(de,"")}catch{}},$l=function(de){let Ue=null,ct=null;if(he)de="<remove></remove>"+de;else{const kr=HW(de,/^[\r\n\t ]+/);ct=kr&&kr[0]}Nr==="application/xhtml+xml"&&Ln===an&&(de='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+de+"</body></html>");const On=E?E.createHTML(de):de;if(Ln===an)try{Ue=new f().parseFromString(On,Nr)}catch{}if(!Ue||!Ue.documentElement){Ue=S.createDocument(Ln,"template",null);try{Ue.documentElement.innerHTML=_t?_:On}catch{}}const ii=Ue.body||Ue.documentElement;return de&&ct&&ii.insertBefore(n.createTextNode(ct),ii.childNodes[0]||null),Ln===an?j.call(Ue,H?"html":"body")[0]:H?Ue.documentElement:ii},_1=function(de){return C.call(de.ownerDocument||de,de,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},E0=function(de){return de instanceof h&&(typeof de.nodeName!="string"||typeof de.textContent!="string"||typeof de.removeChild!="function"||!(de.attributes instanceof d)||typeof de.removeAttribute!="function"||typeof de.setAttribute!="function"||typeof de.namespaceURI!="string"||typeof de.insertBefore!="function"||typeof de.hasChildNodes!="function")},C1=function(de){return typeof l=="function"&&de instanceof l};function io(bt,de,Ue){Gw(bt,ct=>{ct.call(t,de,Ue,_a)})}const S0=function(de){let Ue=null;if(io(O.beforeSanitizeElements,de,null),E0(de))return Ni(de),!0;const ct=Yt(de.nodeName);if(io(O.uponSanitizeElement,de,{tagName:ct,allowedTags:W}),Ae&&de.hasChildNodes()&&!C1(de.firstElementChild)&&Ji(/<[/\w!]/g,de.innerHTML)&&Ji(/<[/\w!]/g,de.textContent)||de.nodeType===hy.progressingInstruction||Ae&&de.nodeType===hy.comment&&Ji(/<[/\w]/g,de.data))return Ni(de),!0;if(!W[ct]||oe[ct]){if(!oe[ct]&&T1(ct)&&(Q.tagNameCheck instanceof RegExp&&Ji(Q.tagNameCheck,ct)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(ct)))return!1;if(K&&!Y[ct]){const On=b(de)||de.parentNode,ii=v(de)||de.childNodes;if(ii&&On){const kr=ii.length;for(let ki=kr-1;ki>=0;--ki){const ao=g(ii[ki],!0);ao.__removalCount=(de.__removalCount||0)+1,On.insertBefore(ao,y(de))}}}return Ni(de),!0}return de instanceof c&&!Rd(de)||(ct==="noscript"||ct==="noembed"||ct==="noframes")&&Ji(/<\/no(script|embed|frames)/i,de.innerHTML)?(Ni(de),!0):(ae&&de.nodeType===hy.text&&(Ue=de.textContent,Gw([M,B,N],On=>{Ue=cy(Ue,On," ")}),de.textContent!==Ue&&(ly(t.removed,{element:de.cloneNode()}),de.textContent=Ue)),io(O.afterSanitizeElements,de,null),!1)},_0=function(de,Ue,ct){if(ue&&(Ue==="id"||Ue==="name")&&(ct in n||ct in Bf))return!1;if(!(ce&&!re[Ue]&&Ji(D,Ue))){if(!(pe&&Ji(P,Ue))){if(!R[Ue]||re[Ue]){if(!(T1(de)&&(Q.tagNameCheck instanceof RegExp&&Ji(Q.tagNameCheck,de)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(de))&&(Q.attributeNameCheck instanceof RegExp&&Ji(Q.attributeNameCheck,Ue)||Q.attributeNameCheck instanceof Function&&Q.attributeNameCheck(Ue))||Ue==="is"&&Q.allowCustomizedBuiltInElements&&(Q.tagNameCheck instanceof RegExp&&Ji(Q.tagNameCheck,ct)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(ct))))return!1}else if(!fe[Ue]){if(!Ji($,cy(ct,I,""))){if(!((Ue==="src"||Ue==="xlink:href"||Ue==="href")&&de!=="script"&&NSt(ct,"data:")===0&&be[de])){if(!(me&&!Ji(L,cy(ct,I,"")))){if(ct)return!1}}}}}}return!0},T1=function(de){return de!=="annotation-xml"&&HW(de,U)},N1=function(de){io(O.beforeSanitizeAttributes,de,null);const{attributes:Ue}=de;if(!Ue||E0(de))return;const ct={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:R,forceKeepAttr:void 0};let On=Ue.length;for(;On--;){const ii=Ue[On],{name:kr,namespaceURI:ki,value:ao}=ii,Dd=Yt(kr),C0=ao;let ai=kr==="value"?C0:kSt(C0);if(ct.attrName=Dd,ct.attrValue=ai,ct.keepAttr=!0,ct.forceKeepAttr=void 0,io(O.uponSanitizeAttribute,de,ct),ai=ct.attrValue,we&&(Dd==="id"||Dd==="name")&&(qa(kr,de),ai=Se+ai),Ae&&Ji(/((--!?|])>)|<\/(style|title)/i,ai)){qa(kr,de);continue}if(ct.forceKeepAttr)continue;if(!ct.keepAttr){qa(kr,de);continue}if(!ye&&Ji(/\/>/i,ai)){qa(kr,de);continue}ae&&Gw([M,B,N],k1=>{ai=cy(ai,k1," ")});const T0=Yt(de.nodeName);if(!_0(T0,Dd,ai)){qa(kr,de);continue}if(E&&typeof m=="object"&&typeof m.getAttributeType=="function"&&!ki)switch(m.getAttributeType(T0,Dd)){case"TrustedHTML":{ai=E.createHTML(ai);break}case"TrustedScriptURL":{ai=E.createScriptURL(ai);break}}if(ai!==C0)try{ki?de.setAttributeNS(ki,kr,ai):de.setAttribute(kr,ai),E0(de)?Ni(de):UW(t.removed)}catch{qa(kr,de)}}io(O.afterSanitizeAttributes,de,null)},ON=function bt(de){let Ue=null;const ct=_1(de);for(io(O.beforeSanitizeShadowDOM,de,null);Ue=ct.nextNode();)io(O.uponSanitizeShadowNode,Ue,null),S0(Ue),N1(Ue),Ue.content instanceof a&&bt(Ue.content);io(O.afterSanitizeShadowDOM,de,null)};return t.sanitize=function(bt){let de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ue=null,ct=null,On=null,ii=null;if(_t=!bt,_t&&(bt="<!-->"),typeof bt!="string"&&!C1(bt))if(typeof bt.toString=="function"){if(bt=bt.toString(),typeof bt!="string")throw uy("dirty is not a string, aborting")}else throw uy("toString is not a function");if(!t.isSupported)return bt;if(Z||Ll(de),t.removed=[],typeof bt=="string"&&(Ce=!1),Ce){if(bt.nodeName){const ao=Yt(bt.nodeName);if(!W[ao]||oe[ao])throw uy("root node is forbidden and cannot be sanitized in-place")}}else if(bt instanceof l)Ue=$l("<!---->"),ct=Ue.ownerDocument.importNode(bt,!0),ct.nodeType===hy.element&&ct.nodeName==="BODY"||ct.nodeName==="HTML"?Ue=ct:Ue.appendChild(ct);else{if(!se&&!ae&&!H&&bt.indexOf("<")===-1)return E&&ie?E.createHTML(bt):bt;if(Ue=$l(bt),!Ue)return se?null:ie?_:""}Ue&&he&&Ni(Ue.firstChild);const kr=_1(Ce?bt:Ue);for(;On=kr.nextNode();)S0(On),N1(On),On.content instanceof a&&ON(On.content);if(Ce)return bt;if(se){if(V)for(ii=T.call(Ue.ownerDocument);Ue.firstChild;)ii.appendChild(Ue.firstChild);else ii=Ue;return(R.shadowroot||R.shadowrootmode)&&(ii=k.call(r,ii,!0)),ii}let ki=H?Ue.outerHTML:Ue.innerHTML;return H&&W["!doctype"]&&Ue.ownerDocument&&Ue.ownerDocument.doctype&&Ue.ownerDocument.doctype.name&&Ji(Ude,Ue.ownerDocument.doctype.name)&&(ki="<!DOCTYPE "+Ue.ownerDocument.doctype.name+`>
`+ki),ae&&Gw([M,B,N],ao=>{ki=cy(ki,ao," ")}),E&&ie?E.createHTML(ki):ki},t.setConfig=function(){let bt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ll(bt),Z=!0},t.clearConfig=function(){_a=null,Z=!1},t.isValidAttribute=function(bt,de,Ue){_a||Ll({});const ct=Yt(bt),On=Yt(de);return _0(ct,On,Ue)},t.addHook=function(bt,de){typeof de=="function"&&ly(O[bt],de)},t.removeHook=function(bt,de){if(de!==void 0){const Ue=CSt(O[bt],de);return Ue===-1?void 0:TSt(O[bt],Ue,1)[0]}return UW(O[bt])},t.removeHooks=function(bt){O[bt]=[]},t.removeAllHooks=function(){O=KW()},t}var Sg=Hde(),Vde=Object.defineProperty,F=(e,t)=>Vde(e,"name",{value:t,configurable:!0}),HSt=(e,t)=>{for(var n in t)Vde(e,n,{get:t[n],enumerable:!0})},Vl={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},je={trace:F((...e)=>{},"trace"),debug:F((...e)=>{},"debug"),info:F((...e)=>{},"info"),warn:F((...e)=>{},"warn"),error:F((...e)=>{},"error"),fatal:F((...e)=>{},"fatal")},O$=F(function(e="fatal"){let t=Vl.fatal;typeof e=="string"?e.toLowerCase()in Vl&&(t=Vl[e]):typeof e=="number"&&(t=e),je.trace=()=>{},je.debug=()=>{},je.info=()=>{},je.warn=()=>{},je.error=()=>{},je.fatal=()=>{},t<=Vl.fatal&&(je.fatal=console.error?console.error.bind(console,Ts("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Ts("FATAL"))),t<=Vl.error&&(je.error=console.error?console.error.bind(console,Ts("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Ts("ERROR"))),t<=Vl.warn&&(je.warn=console.warn?console.warn.bind(console,Ts("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Ts("WARN"))),t<=Vl.info&&(je.info=console.info?console.info.bind(console,Ts("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Ts("INFO"))),t<=Vl.debug&&(je.debug=console.debug?console.debug.bind(console,Ts("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Ts("DEBUG"))),t<=Vl.trace&&(je.trace=console.debug?console.debug.bind(console,Ts("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Ts("TRACE")))},"setLogLevel"),Ts=F(e=>`%c${mSt().format("ss.SSS")} : ${e} : `,"format"),Wde=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Ex=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,VSt=/\s*%%.*\n/gm,fp,qde=(fp=class extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}},F(fp,"UnknownDiagramError"),fp),_g={},P$=F(function(e,t){e=e.replace(Wde,"").replace(Ex,"").replace(VSt,`
`);for(const[n,{detector:r}]of Object.entries(_g))if(r(e,t))return n;throw new qde(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),Gde=F((...e)=>{for(const{id:t,detector:n,loader:r}of e)Yde(t,n,r)},"registerLazyLoadedDiagrams"),Yde=F((e,t,n)=>{_g[e]&&je.warn(`Detector with key ${e} already exists. Overwriting.`),_g[e]={detector:t,loader:n},je.debug(`Detector with key ${e} added${n?" with loader":""}`)},"addDetector"),WSt=F(e=>_g[e].loader,"getDiagramLoader"),PI=F((e,t,{depth:n=2,clobber:r=!1}={})=>{const i={depth:n,clobber:r};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(a=>PI(e,a,i)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(a=>{e.includes(a)||e.push(a)}),e):e===void 0||n<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(a=>{typeof t[a]=="object"&&(e[a]===void 0||typeof e[a]=="object")?(e[a]===void 0&&(e[a]=Array.isArray(t[a])?[]:{}),e[a]=PI(e[a],t[a],{depth:n-1,clobber:r})):(r||typeof e[a]!="object"&&typeof t[a]!="object")&&(e[a]=t[a])}),e)},"assignWithDepth"),_i=PI,cN="#ffffff",uN="#f2f2f2",ha=F((e,t)=>t?ge(e,{s:-40,l:10}):ge(e,{s:-40,l:-10}),"mkBorder"),mp,qSt=(mp=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var n,r,i,a,s,l,c,u,d,h,f,m,p,g,x,y,v,b,E,_,S;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||ge(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||ge(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||ha(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||ha(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||ha(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||ha(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Ge(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Ge(this.tertiaryColor),this.lineColor=this.lineColor||Ge(this.background),this.arrowheadColor=this.arrowheadColor||Ge(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?St(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||St(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Ge(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||st(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||St(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||St(this.mainBkg,10)):(this.rowOdd=this.rowOdd||st(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||st(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ge(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ge(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ge(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ge(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ge(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ge(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||ge(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ge(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ge(this.primaryColor,{h:330}),this.darkMode)for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScale"+C]=St(this["cScale"+C],75);else for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScale"+C]=St(this["cScale"+C],25);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleInv"+C]=this["cScaleInv"+C]||Ge(this["cScale"+C]);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this.darkMode?this["cScalePeer"+C]=this["cScalePeer"+C]||st(this["cScale"+C],10):this["cScalePeer"+C]=this["cScalePeer"+C]||St(this["cScale"+C],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleLabel"+C]=this["cScaleLabel"+C]||this.scaleLabelColor;const t=this.darkMode?-4:-1;for(let C=0;C<5;C++)this["surface"+C]=this["surface"+C]||ge(this.mainBkg,{h:180,s:-15,l:t*(5+C*3)}),this["surfacePeer"+C]=this["surfacePeer"+C]||ge(this.mainBkg,{h:180,s:-15,l:t*(8+C*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||ge(this.primaryColor,{h:64}),this.fillType3=this.fillType3||ge(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||ge(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||ge(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||ge(this.primaryColor,{h:128}),this.fillType7=this.fillType7||ge(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||ge(this.primaryColor,{l:-10}),this.pie5=this.pie5||ge(this.secondaryColor,{l:-10}),this.pie6=this.pie6||ge(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||ge(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||ge(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||ge(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||ge(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||ge(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||ge(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:((n=this.radar)==null?void 0:n.axisColor)||this.lineColor,axisStrokeWidth:((r=this.radar)==null?void 0:r.axisStrokeWidth)||2,axisLabelFontSize:((i=this.radar)==null?void 0:i.axisLabelFontSize)||12,curveOpacity:((a=this.radar)==null?void 0:a.curveOpacity)||.5,curveStrokeWidth:((s=this.radar)==null?void 0:s.curveStrokeWidth)||2,graticuleColor:((l=this.radar)==null?void 0:l.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((c=this.radar)==null?void 0:c.graticuleStrokeWidth)||1,graticuleOpacity:((u=this.radar)==null?void 0:u.graticuleOpacity)||.3,legendBoxSize:((d=this.radar)==null?void 0:d.legendBoxSize)||12,legendFontSize:((h=this.radar)==null?void 0:h.legendFontSize)||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ge(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ge(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ge(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ge(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ge(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ge(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||p1(this.quadrant1Fill)?st(this.quadrant1Fill):St(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((f=this.xyChart)==null?void 0:f.backgroundColor)||this.background,titleColor:((m=this.xyChart)==null?void 0:m.titleColor)||this.primaryTextColor,xAxisTitleColor:((p=this.xyChart)==null?void 0:p.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((g=this.xyChart)==null?void 0:g.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((x=this.xyChart)==null?void 0:x.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((y=this.xyChart)==null?void 0:y.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((v=this.xyChart)==null?void 0:v.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((b=this.xyChart)==null?void 0:b.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((E=this.xyChart)==null?void 0:E.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((_=this.xyChart)==null?void 0:_.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((S=this.xyChart)==null?void 0:S.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?St(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||ge(this.primaryColor,{h:-30}),this.git4=this.git4||ge(this.primaryColor,{h:-60}),this.git5=this.git5||ge(this.primaryColor,{h:-90}),this.git6=this.git6||ge(this.primaryColor,{h:60}),this.git7=this.git7||ge(this.primaryColor,{h:120}),this.darkMode?(this.git0=st(this.git0,25),this.git1=st(this.git1,25),this.git2=st(this.git2,25),this.git3=st(this.git3,25),this.git4=st(this.git4,25),this.git5=st(this.git5,25),this.git6=st(this.git6,25),this.git7=st(this.git7,25)):(this.git0=St(this.git0,25),this.git1=St(this.git1,25),this.git2=St(this.git2,25),this.git3=St(this.git3,25),this.git4=St(this.git4,25),this.git5=St(this.git5,25),this.git6=St(this.git6,25),this.git7=St(this.git7,25)),this.gitInv0=this.gitInv0||Ge(this.git0),this.gitInv1=this.gitInv1||Ge(this.git1),this.gitInv2=this.gitInv2||Ge(this.git2),this.gitInv3=this.gitInv3||Ge(this.git3),this.gitInv4=this.gitInv4||Ge(this.git4),this.gitInv5=this.gitInv5||Ge(this.git5),this.gitInv6=this.gitInv6||Ge(this.git6),this.gitInv7=this.gitInv7||Ge(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||cN,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||uN}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(r=>{this[r]=t[r]}),this.updateColors(),n.forEach(r=>{this[r]=t[r]})}},F(mp,"Theme"),mp),GSt=F(e=>{const t=new qSt;return t.calculate(e),t},"getThemeVariables"),pp,YSt=(pp=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=st(this.primaryColor,16),this.tertiaryColor=ge(this.primaryColor,{h:-160}),this.primaryBorderColor=Ge(this.background),this.secondaryBorderColor=ha(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ha(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ge(this.primaryColor),this.secondaryTextColor=Ge(this.secondaryColor),this.tertiaryTextColor=Ge(this.tertiaryColor),this.lineColor=Ge(this.background),this.textColor=Ge(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=st(Ge("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=wx(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=St("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=St(this.sectionBkgColor,10),this.taskBorderColor=wx(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=wx(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||st(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||St(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var t,n,r,i,a,s,l,c,u,d,h,f,m,p,g,x,y,v,b,E,_;this.secondBkg=st(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=st(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=st(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ge(this.primaryColor,{h:64}),this.fillType3=ge(this.secondaryColor,{h:64}),this.fillType4=ge(this.primaryColor,{h:-64}),this.fillType5=ge(this.secondaryColor,{h:-64}),this.fillType6=ge(this.primaryColor,{h:128}),this.fillType7=ge(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ge(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ge(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ge(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ge(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ge(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ge(this.primaryColor,{h:210}),this.cScale9=this.cScale9||ge(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ge(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ge(this.primaryColor,{h:330});for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleInv"+S]=this["cScaleInv"+S]||Ge(this["cScale"+S]);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScalePeer"+S]=this["cScalePeer"+S]||st(this["cScale"+S],10);for(let S=0;S<5;S++)this["surface"+S]=this["surface"+S]||ge(this.mainBkg,{h:30,s:-30,l:-(-10+S*4)}),this["surfacePeer"+S]=this["surfacePeer"+S]||ge(this.mainBkg,{h:30,s:-30,l:-(-7+S*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleLabel"+S]=this["cScaleLabel"+S]||this.scaleLabelColor;for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["pie"+S]=this["cScale"+S];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ge(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ge(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ge(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ge(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ge(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ge(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||p1(this.quadrant1Fill)?st(this.quadrant1Fill):St(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((r=this.xyChart)==null?void 0:r.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((l=this.xyChart)==null?void 0:l.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((c=this.xyChart)==null?void 0:c.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)==null?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:((f=this.radar)==null?void 0:f.axisColor)||this.lineColor,axisStrokeWidth:((m=this.radar)==null?void 0:m.axisStrokeWidth)||2,axisLabelFontSize:((p=this.radar)==null?void 0:p.axisLabelFontSize)||12,curveOpacity:((g=this.radar)==null?void 0:g.curveOpacity)||.5,curveStrokeWidth:((x=this.radar)==null?void 0:x.curveStrokeWidth)||2,graticuleColor:((y=this.radar)==null?void 0:y.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((v=this.radar)==null?void 0:v.graticuleStrokeWidth)||1,graticuleOpacity:((b=this.radar)==null?void 0:b.graticuleOpacity)||.3,legendBoxSize:((E=this.radar)==null?void 0:E.legendBoxSize)||12,legendFontSize:((_=this.radar)==null?void 0:_.legendFontSize)||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?St(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=st(this.secondaryColor,20),this.git1=st(this.pie2||this.secondaryColor,20),this.git2=st(this.pie3||this.tertiaryColor,20),this.git3=st(this.pie4||ge(this.primaryColor,{h:-30}),20),this.git4=st(this.pie5||ge(this.primaryColor,{h:-60}),20),this.git5=st(this.pie6||ge(this.primaryColor,{h:-90}),10),this.git6=st(this.pie7||ge(this.primaryColor,{h:60}),10),this.git7=st(this.pie8||ge(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Ge(this.git0),this.gitInv1=this.gitInv1||Ge(this.git1),this.gitInv2=this.gitInv2||Ge(this.git2),this.gitInv3=this.gitInv3||Ge(this.git3),this.gitInv4=this.gitInv4||Ge(this.git4),this.gitInv5=this.gitInv5||Ge(this.git5),this.gitInv6=this.gitInv6||Ge(this.git6),this.gitInv7=this.gitInv7||Ge(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ge(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ge(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||st(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||st(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(r=>{this[r]=t[r]}),this.updateColors(),n.forEach(r=>{this[r]=t[r]})}},F(pp,"Theme"),pp),KSt=F(e=>{const t=new YSt;return t.calculate(e),t},"getThemeVariables"),gp,XSt=(gp=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=ge(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=ge(this.primaryColor,{h:-160}),this.primaryBorderColor=ha(this.primaryColor,this.darkMode),this.secondaryBorderColor=ha(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ha(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ge(this.primaryColor),this.secondaryTextColor=Ge(this.secondaryColor),this.tertiaryTextColor=Ge(this.tertiaryColor),this.lineColor=Ge(this.background),this.textColor=Ge(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=wx(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var t,n,r,i,a,s,l,c,u,d,h,f,m,p,g,x,y,v,b,E,_;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ge(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ge(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ge(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ge(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ge(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ge(this.primaryColor,{h:210}),this.cScale9=this.cScale9||ge(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ge(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ge(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||St(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||St(this.tertiaryColor,40);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScale"+S]=St(this["cScale"+S],10),this["cScalePeer"+S]=this["cScalePeer"+S]||St(this["cScale"+S],25);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleInv"+S]=this["cScaleInv"+S]||ge(this["cScale"+S],{h:180});for(let S=0;S<5;S++)this["surface"+S]=this["surface"+S]||ge(this.mainBkg,{h:30,l:-(5+S*5)}),this["surfacePeer"+S]=this["surfacePeer"+S]||ge(this.mainBkg,{h:30,l:-(7+S*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Ge(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Ge(this.labelTextColor);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleLabel"+S]=this["cScaleLabel"+S]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=st(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||st(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||st(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ge(this.primaryColor,{h:64}),this.fillType3=ge(this.secondaryColor,{h:64}),this.fillType4=ge(this.primaryColor,{h:-64}),this.fillType5=ge(this.secondaryColor,{h:-64}),this.fillType6=ge(this.primaryColor,{h:128}),this.fillType7=ge(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||ge(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||ge(this.primaryColor,{l:-10}),this.pie5=this.pie5||ge(this.secondaryColor,{l:-30}),this.pie6=this.pie6||ge(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||ge(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||ge(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||ge(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||ge(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||ge(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||ge(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ge(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ge(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ge(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ge(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ge(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ge(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||p1(this.quadrant1Fill)?st(this.quadrant1Fill):St(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:((t=this.radar)==null?void 0:t.axisColor)||this.lineColor,axisStrokeWidth:((n=this.radar)==null?void 0:n.axisStrokeWidth)||2,axisLabelFontSize:((r=this.radar)==null?void 0:r.axisLabelFontSize)||12,curveOpacity:((i=this.radar)==null?void 0:i.curveOpacity)||.5,curveStrokeWidth:((a=this.radar)==null?void 0:a.curveStrokeWidth)||2,graticuleColor:((s=this.radar)==null?void 0:s.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((l=this.radar)==null?void 0:l.graticuleStrokeWidth)||1,graticuleOpacity:((c=this.radar)==null?void 0:c.graticuleOpacity)||.3,legendBoxSize:((u=this.radar)==null?void 0:u.legendBoxSize)||12,legendFontSize:((d=this.radar)==null?void 0:d.legendFontSize)||12},this.xyChart={backgroundColor:((h=this.xyChart)==null?void 0:h.backgroundColor)||this.background,titleColor:((f=this.xyChart)==null?void 0:f.titleColor)||this.primaryTextColor,xAxisTitleColor:((m=this.xyChart)==null?void 0:m.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((p=this.xyChart)==null?void 0:p.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((g=this.xyChart)==null?void 0:g.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((x=this.xyChart)==null?void 0:x.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((y=this.xyChart)==null?void 0:y.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((v=this.xyChart)==null?void 0:v.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((b=this.xyChart)==null?void 0:b.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((E=this.xyChart)==null?void 0:E.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((_=this.xyChart)==null?void 0:_.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||ge(this.primaryColor,{h:-30}),this.git4=this.git4||ge(this.primaryColor,{h:-60}),this.git5=this.git5||ge(this.primaryColor,{h:-90}),this.git6=this.git6||ge(this.primaryColor,{h:60}),this.git7=this.git7||ge(this.primaryColor,{h:120}),this.darkMode?(this.git0=st(this.git0,25),this.git1=st(this.git1,25),this.git2=st(this.git2,25),this.git3=st(this.git3,25),this.git4=st(this.git4,25),this.git5=st(this.git5,25),this.git6=st(this.git6,25),this.git7=st(this.git7,25)):(this.git0=St(this.git0,25),this.git1=St(this.git1,25),this.git2=St(this.git2,25),this.git3=St(this.git3,25),this.git4=St(this.git4,25),this.git5=St(this.git5,25),this.git6=St(this.git6,25),this.git7=St(this.git7,25)),this.gitInv0=this.gitInv0||St(Ge(this.git0),25),this.gitInv1=this.gitInv1||Ge(this.git1),this.gitInv2=this.gitInv2||Ge(this.git2),this.gitInv3=this.gitInv3||Ge(this.git3),this.gitInv4=this.gitInv4||Ge(this.git4),this.gitInv5=this.gitInv5||Ge(this.git5),this.gitInv6=this.gitInv6||Ge(this.git6),this.gitInv7=this.gitInv7||Ge(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ge(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ge(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||cN,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||uN}calculate(t){if(Object.keys(this).forEach(r=>{this[r]==="calculated"&&(this[r]=void 0)}),typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(r=>{this[r]=t[r]}),this.updateColors(),n.forEach(r=>{this[r]=t[r]})}},F(gp,"Theme"),gp),ZSt=F(e=>{const t=new XSt;return t.calculate(e),t},"getThemeVariables"),yp,QSt=(yp=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=st("#cde498",10),this.primaryBorderColor=ha(this.primaryColor,this.darkMode),this.secondaryBorderColor=ha(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ha(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ge(this.primaryColor),this.secondaryTextColor=Ge(this.secondaryColor),this.tertiaryTextColor=Ge(this.primaryColor),this.lineColor=Ge(this.background),this.textColor=Ge(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,n,r,i,a,s,l,c,u,d,h,f,m,p,g,x,y,v,b,E,_;this.actorBorder=St(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ge(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ge(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ge(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ge(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ge(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ge(this.primaryColor,{h:210}),this.cScale9=this.cScale9||ge(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ge(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ge(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||St(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||St(this.tertiaryColor,40);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScale"+S]=St(this["cScale"+S],10),this["cScalePeer"+S]=this["cScalePeer"+S]||St(this["cScale"+S],25);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleInv"+S]=this["cScaleInv"+S]||ge(this["cScale"+S],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleLabel"+S]=this["cScaleLabel"+S]||this.scaleLabelColor;for(let S=0;S<5;S++)this["surface"+S]=this["surface"+S]||ge(this.mainBkg,{h:30,s:-30,l:-(5+S*5)}),this["surfacePeer"+S]=this["surfacePeer"+S]||ge(this.mainBkg,{h:30,s:-30,l:-(8+S*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||st(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||st(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ge(this.primaryColor,{h:64}),this.fillType3=ge(this.secondaryColor,{h:64}),this.fillType4=ge(this.primaryColor,{h:-64}),this.fillType5=ge(this.secondaryColor,{h:-64}),this.fillType6=ge(this.primaryColor,{h:128}),this.fillType7=ge(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||ge(this.primaryColor,{l:-30}),this.pie5=this.pie5||ge(this.secondaryColor,{l:-30}),this.pie6=this.pie6||ge(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||ge(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||ge(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||ge(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||ge(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||ge(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||ge(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ge(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ge(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ge(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ge(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ge(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ge(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||p1(this.quadrant1Fill)?st(this.quadrant1Fill):St(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:((t=this.radar)==null?void 0:t.axisColor)||this.lineColor,axisStrokeWidth:((n=this.radar)==null?void 0:n.axisStrokeWidth)||2,axisLabelFontSize:((r=this.radar)==null?void 0:r.axisLabelFontSize)||12,curveOpacity:((i=this.radar)==null?void 0:i.curveOpacity)||.5,curveStrokeWidth:((a=this.radar)==null?void 0:a.curveStrokeWidth)||2,graticuleColor:((s=this.radar)==null?void 0:s.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((l=this.radar)==null?void 0:l.graticuleStrokeWidth)||1,graticuleOpacity:((c=this.radar)==null?void 0:c.graticuleOpacity)||.3,legendBoxSize:((u=this.radar)==null?void 0:u.legendBoxSize)||12,legendFontSize:((d=this.radar)==null?void 0:d.legendFontSize)||12},this.xyChart={backgroundColor:((h=this.xyChart)==null?void 0:h.backgroundColor)||this.background,titleColor:((f=this.xyChart)==null?void 0:f.titleColor)||this.primaryTextColor,xAxisTitleColor:((m=this.xyChart)==null?void 0:m.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((p=this.xyChart)==null?void 0:p.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((g=this.xyChart)==null?void 0:g.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((x=this.xyChart)==null?void 0:x.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((y=this.xyChart)==null?void 0:y.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((v=this.xyChart)==null?void 0:v.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((b=this.xyChart)==null?void 0:b.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((E=this.xyChart)==null?void 0:E.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((_=this.xyChart)==null?void 0:_.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||ge(this.primaryColor,{h:-30}),this.git4=this.git4||ge(this.primaryColor,{h:-60}),this.git5=this.git5||ge(this.primaryColor,{h:-90}),this.git6=this.git6||ge(this.primaryColor,{h:60}),this.git7=this.git7||ge(this.primaryColor,{h:120}),this.darkMode?(this.git0=st(this.git0,25),this.git1=st(this.git1,25),this.git2=st(this.git2,25),this.git3=st(this.git3,25),this.git4=st(this.git4,25),this.git5=st(this.git5,25),this.git6=st(this.git6,25),this.git7=st(this.git7,25)):(this.git0=St(this.git0,25),this.git1=St(this.git1,25),this.git2=St(this.git2,25),this.git3=St(this.git3,25),this.git4=St(this.git4,25),this.git5=St(this.git5,25),this.git6=St(this.git6,25),this.git7=St(this.git7,25)),this.gitInv0=this.gitInv0||Ge(this.git0),this.gitInv1=this.gitInv1||Ge(this.git1),this.gitInv2=this.gitInv2||Ge(this.git2),this.gitInv3=this.gitInv3||Ge(this.git3),this.gitInv4=this.gitInv4||Ge(this.git4),this.gitInv5=this.gitInv5||Ge(this.git5),this.gitInv6=this.gitInv6||Ge(this.git6),this.gitInv7=this.gitInv7||Ge(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ge(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ge(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||cN,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||uN}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(r=>{this[r]=t[r]}),this.updateColors(),n.forEach(r=>{this[r]=t[r]})}},F(yp,"Theme"),yp),JSt=F(e=>{const t=new QSt;return t.calculate(e),t},"getThemeVariables"),xp,e_t=(xp=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=st(this.contrast,55),this.background="#ffffff",this.tertiaryColor=ge(this.primaryColor,{h:-160}),this.primaryBorderColor=ha(this.primaryColor,this.darkMode),this.secondaryBorderColor=ha(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ha(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ge(this.primaryColor),this.secondaryTextColor=Ge(this.secondaryColor),this.tertiaryTextColor=Ge(this.tertiaryColor),this.lineColor=Ge(this.background),this.textColor=Ge(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||st(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,n,r,i,a,s,l,c,u,d,h,f,m,p,g,x,y,v,b,E,_;this.secondBkg=st(this.contrast,55),this.border2=this.contrast,this.actorBorder=st(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleInv"+S]=this["cScaleInv"+S]||Ge(this["cScale"+S]);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this.darkMode?this["cScalePeer"+S]=this["cScalePeer"+S]||st(this["cScale"+S],10):this["cScalePeer"+S]=this["cScalePeer"+S]||St(this["cScale"+S],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleLabel"+S]=this["cScaleLabel"+S]||this.scaleLabelColor;for(let S=0;S<5;S++)this["surface"+S]=this["surface"+S]||ge(this.mainBkg,{l:-(5+S*5)}),this["surfacePeer"+S]=this["surfacePeer"+S]||ge(this.mainBkg,{l:-(8+S*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=st(this.contrast,30),this.sectionBkgColor2=st(this.contrast,30),this.taskBorderColor=St(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=st(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=St(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ge(this.primaryColor,{h:64}),this.fillType3=ge(this.secondaryColor,{h:64}),this.fillType4=ge(this.primaryColor,{h:-64}),this.fillType5=ge(this.secondaryColor,{h:-64}),this.fillType6=ge(this.primaryColor,{h:128}),this.fillType7=ge(this.secondaryColor,{h:128});for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["pie"+S]=this["cScale"+S];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ge(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ge(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ge(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ge(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ge(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ge(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||p1(this.quadrant1Fill)?st(this.quadrant1Fill):St(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((r=this.xyChart)==null?void 0:r.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((l=this.xyChart)==null?void 0:l.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((c=this.xyChart)==null?void 0:c.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)==null?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:((f=this.radar)==null?void 0:f.axisColor)||this.lineColor,axisStrokeWidth:((m=this.radar)==null?void 0:m.axisStrokeWidth)||2,axisLabelFontSize:((p=this.radar)==null?void 0:p.axisLabelFontSize)||12,curveOpacity:((g=this.radar)==null?void 0:g.curveOpacity)||.5,curveStrokeWidth:((x=this.radar)==null?void 0:x.curveStrokeWidth)||2,graticuleColor:((y=this.radar)==null?void 0:y.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((v=this.radar)==null?void 0:v.graticuleStrokeWidth)||1,graticuleOpacity:((b=this.radar)==null?void 0:b.graticuleOpacity)||.3,legendBoxSize:((E=this.radar)==null?void 0:E.legendBoxSize)||12,legendFontSize:((_=this.radar)==null?void 0:_.legendFontSize)||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=St(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||ge(this.primaryColor,{h:-30}),this.git4=this.pie5||ge(this.primaryColor,{h:-60}),this.git5=this.pie6||ge(this.primaryColor,{h:-90}),this.git6=this.pie7||ge(this.primaryColor,{h:60}),this.git7=this.pie8||ge(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Ge(this.git0),this.gitInv1=this.gitInv1||Ge(this.git1),this.gitInv2=this.gitInv2||Ge(this.git2),this.gitInv3=this.gitInv3||Ge(this.git3),this.gitInv4=this.gitInv4||Ge(this.git4),this.gitInv5=this.gitInv5||Ge(this.git5),this.gitInv6=this.gitInv6||Ge(this.git6),this.gitInv7=this.gitInv7||Ge(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||cN,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||uN}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(r=>{this[r]=t[r]}),this.updateColors(),n.forEach(r=>{this[r]=t[r]})}},F(xp,"Theme"),xp),t_t=F(e=>{const t=new e_t;return t.calculate(e),t},"getThemeVariables"),xc={base:{getThemeVariables:GSt},dark:{getThemeVariables:KSt},default:{getThemeVariables:ZSt},forest:{getThemeVariables:JSt},neutral:{getThemeVariables:t_t}},Wl={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},Kde={...Wl,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:xc.default.getThemeVariables(),sequence:{...Wl.sequence,messageFont:F(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:F(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:F(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...Wl.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Wl.c4,useWidth:void 0,personFont:F(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),external_personFont:F(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:F(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:F(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:F(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:F(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:F(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:F(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:F(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:F(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:F(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:F(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:F(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:F(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:F(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:F(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:F(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:F(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:F(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:F(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:F(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:F(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...Wl.pie,useWidth:984},xyChart:{...Wl.xyChart,useWidth:void 0},requirement:{...Wl.requirement,useWidth:void 0},packet:{...Wl.packet},radar:{...Wl.radar}},Xde=F((e,t="")=>Object.keys(e).reduce((n,r)=>Array.isArray(e[r])?n:typeof e[r]=="object"&&e[r]!==null?[...n,t+r,...Xde(e[r],"")]:[...n,t+r],[]),"keyify"),n_t=new Set(Xde(Kde,"")),Zde=Kde,pC=F(e=>{if(je.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>pC(t));return}for(const t of Object.keys(e)){if(je.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!n_t.has(t)||e[t]==null){je.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){je.debug("sanitizing object",t),pC(e[t]);continue}const n=["themeCSS","fontFamily","altFontFamily"];for(const r of n)t.includes(r)&&(je.debug("sanitizing css option",t),e[t]=r_t(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const n=e.themeVariables[t];n!=null&&n.match&&!n.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}je.debug("After sanitization",e)}},"sanitizeDirective"),r_t=F(e=>{let t=0,n=0;for(const r of e){if(t<n)return"{ /* ERROR: Unbalanced CSS */ }";r==="{"?t++:r==="}"&&n++}return t!==n?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss"),Cg=Object.freeze(Zde),Oa=_i({},Cg),Qde,Tg=[],Sx=_i({},Cg),dN=F((e,t)=>{let n=_i({},e),r={};for(const i of t)the(i),r=_i(r,i);if(n=_i(n,r),r.theme&&r.theme in xc){const i=_i({},Qde),a=_i(i.themeVariables||{},r.themeVariables);n.theme&&n.theme in xc&&(n.themeVariables=xc[n.theme].getThemeVariables(a))}return Sx=n,nhe(Sx),Sx},"updateCurrentConfig"),i_t=F(e=>(Oa=_i({},Cg),Oa=_i(Oa,e),e.theme&&xc[e.theme]&&(Oa.themeVariables=xc[e.theme].getThemeVariables(e.themeVariables)),dN(Oa,Tg),Oa),"setSiteConfig"),a_t=F(e=>{Qde=_i({},e)},"saveConfigFromInitialize"),s_t=F(e=>(Oa=_i(Oa,e),dN(Oa,Tg),Oa),"updateSiteConfig"),Jde=F(()=>_i({},Oa),"getSiteConfig"),ehe=F(e=>(nhe(e),_i(Sx,e),Ba()),"setConfig"),Ba=F(()=>_i({},Sx),"getConfig"),the=F(e=>{e&&(["secure",...Oa.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(je.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&the(e[t])}))},"sanitize"),o_t=F(e=>{var t;pC(e),e.fontFamily&&!((t=e.themeVariables)!=null&&t.fontFamily)&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),Tg.push(e),dN(Oa,Tg)},"addDirective"),gC=F((e=Oa)=>{Tg=[],dN(e,Tg)},"reset"),l_t={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},XW={},c_t=F(e=>{XW[e]||(je.warn(l_t[e]),XW[e]=!0)},"issueWarning"),nhe=F(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&c_t("LAZY_LOAD_DEPRECATED")},"checkConfig"),g1=/<br\s*\/?>/gi,u_t=F(e=>e?ahe(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),d_t=(()=>{let e=!1;return()=>{e||(rhe(),e=!0)}})();function rhe(){const e="data-temp-href-target";Sg.addHook("beforeSanitizeAttributes",t=>{t instanceof Element&&t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),Sg.addHook("afterSanitizeAttributes",t=>{t instanceof Element&&t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}F(rhe,"setupDompurifyHooks");var ihe=F(e=>(d_t(),Sg.sanitize(e)),"removeScript"),ZW=F((e,t)=>{var n;if(((n=t.flowchart)==null?void 0:n.htmlLabels)!==!1){const r=t.securityLevel;r==="antiscript"||r==="strict"?e=ihe(e):r!=="loose"&&(e=ahe(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=p_t(e))}return e},"sanitizeMore"),uf=F((e,t)=>e&&(t.dompurifyConfig?e=Sg.sanitize(ZW(e,t),t.dompurifyConfig).toString():e=Sg.sanitize(ZW(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),h_t=F((e,t)=>typeof e=="string"?uf(e,t):e.flat().map(n=>uf(n,t)),"sanitizeTextOrArray"),f_t=F(e=>g1.test(e),"hasBreaks"),m_t=F(e=>e.split(g1),"splitBreaks"),p_t=F(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),ahe=F(e=>e.replace(g1,"#br#"),"breakToPlaceholder"),g_t=F(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=t.replaceAll(/\(/g,"\\("),t=t.replaceAll(/\)/g,"\\)")),t},"getUrl"),ei=F(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),y_t=F(function(...e){const t=e.filter(n=>!isNaN(n));return Math.max(...t)},"getMax"),x_t=F(function(...e){const t=e.filter(n=>!isNaN(n));return Math.min(...t)},"getMin"),QW=F(function(e){const t=e.split(/(,)/),n=[];for(let r=0;r<t.length;r++){let i=t[r];if(i===","&&r>0&&r+1<t.length){const a=t[r-1],s=t[r+1];v_t(a,s)&&(i=a+","+s,r++,n.pop())}n.push(b_t(i))}return n.join("")},"parseGenericTypes"),MI=F((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),v_t=F((e,t)=>{const n=MI(e,"~"),r=MI(t,"~");return n===1&&r===1},"shouldCombineSets"),b_t=F(e=>{const t=MI(e,"~");let n=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),n=!0);const r=[...e];let i=r.indexOf("~"),a=r.lastIndexOf("~");for(;i!==-1&&a!==-1&&i!==a;)r[i]="<",r[a]=">",i=r.indexOf("~"),a=r.lastIndexOf("~");return n&&r.unshift("~"),r.join("")},"processSet"),JW=F(()=>window.MathMLElement!==void 0,"isMathMLSupported"),II=/\$\$(.*)\$\$/g,Ng=F(e=>{var t;return(((t=e.match(II))==null?void 0:t.length)??0)>0},"hasKatex"),tDt=F(async(e,t)=>{e=await M$(e,t);const n=document.createElement("div");n.innerHTML=e,n.id="katex-temp",n.style.visibility="hidden",n.style.position="absolute",n.style.top="0";const r=document.querySelector("body");r==null||r.insertAdjacentElement("beforeend",n);const i={width:n.clientWidth,height:n.clientHeight};return n.remove(),i},"calculateMathMLDimensions"),M$=F(async(e,t)=>{if(!Ng(e))return e;if(!(JW()||t.legacyMathML||t.forceLegacyMathML))return e.replace(II,"MathML is unsupported in this environment.");const{default:n}=await bn(async()=>{const{default:i}=await import("./katex-ChWnQ-fc.js");return{default:i}},[]),r=t.forceLegacyMathML||!JW()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(g1).map(i=>Ng(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(II,(i,a)=>n.renderToString(a,{throwOnError:!0,displayMode:!0,output:r}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},"renderKatex"),m0={getRows:u_t,sanitizeText:uf,sanitizeTextOrArray:h_t,hasBreaks:f_t,splitBreaks:m_t,lineBreakRegex:g1,removeScript:ihe,getUrl:g_t,evaluate:ei,getMax:y_t,getMin:x_t},w_t=F(function(e,t){for(let n of t)e.attr(n[0],n[1])},"d3Attrs"),E_t=F(function(e,t,n){let r=new Map;return n?(r.set("width","100%"),r.set("style",`max-width: ${t}px;`)):(r.set("height",e),r.set("width",t)),r},"calculateSvgSizeAttrs"),she=F(function(e,t,n,r){const i=E_t(t,n,r);w_t(e,i)},"configureSvgSize"),S_t=F(function(e,t,n,r){const i=t.node().getBBox(),a=i.width,s=i.height;je.info(`SVG bounds: ${a}x${s}`,i);let l=0,c=0;je.info(`Graph bounds: ${l}x${c}`,e),l=a+n*2,c=s+n*2,je.info(`Calculated bounds: ${l}x${c}`),she(t,c,l,r);const u=`${i.x-n} ${i.y-n} ${i.width+2*n} ${i.height+2*n}`;t.attr("viewBox",u)},"setupGraphViewbox"),LE={},__t=F((e,t,n)=>{let r="";return e in LE&&LE[e]?r=LE[e](n):je.warn(`No theme found for ${e}`),` & {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${n.errorBkgColor};
  }
  & .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  & .marker.cross {
    stroke: ${n.lineColor};
  }

  & svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }
   & p {
    margin: 0
   }

  ${r}

  ${t}
`},"getStyles"),C_t=F((e,t)=>{t!==void 0&&(LE[e]=t)},"addStylesForDiagram"),T_t=__t,ohe={};HSt(ohe,{clear:()=>N_t,getAccDescription:()=>O_t,getAccTitle:()=>A_t,getDiagramTitle:()=>M_t,setAccDescription:()=>j_t,setAccTitle:()=>k_t,setDiagramTitle:()=>P_t});var I$="",R$="",D$="",L$=F(e=>uf(e,Ba()),"sanitizeText"),N_t=F(()=>{I$="",D$="",R$=""},"clear"),k_t=F(e=>{I$=L$(e).replace(/^\s+/g,"")},"setAccTitle"),A_t=F(()=>I$,"getAccTitle"),j_t=F(e=>{D$=L$(e).replace(/\n\s+/g,`
`)},"setAccDescription"),O_t=F(()=>D$,"getAccDescription"),P_t=F(e=>{R$=L$(e)},"setDiagramTitle"),M_t=F(()=>R$,"getDiagramTitle"),eq=je,I_t=O$,vn=Ba,nDt=ehe,rDt=Cg,$$=F(e=>uf(e,vn()),"sanitizeText"),R_t=S_t,D_t=F(()=>ohe,"getCommonDb"),yC={},xC=F((e,t,n)=>{var r;yC[e]&&eq.warn(`Diagram with id ${e} already registered. Overwriting.`),yC[e]=t,n&&Yde(e,n),C_t(e,t.styles),(r=t.injectUtils)==null||r.call(t,eq,I_t,vn,$$,R_t,D_t(),()=>{})},"registerDiagram"),RI=F(e=>{if(e in yC)return yC[e];throw new L_t(e)},"getDiagram"),vp,L_t=(vp=class extends Error{constructor(t){super(`Diagram ${t} not found.`)}},F(vp,"DiagramNotFoundError"),vp);function B$(e){return typeof e>"u"||e===null}F(B$,"isNothing");function lhe(e){return typeof e=="object"&&e!==null}F(lhe,"isObject");function che(e){return Array.isArray(e)?e:B$(e)?[]:[e]}F(che,"toArray");function uhe(e,t){var n,r,i,a;if(t)for(a=Object.keys(t),n=0,r=a.length;n<r;n+=1)i=a[n],e[i]=t[i];return e}F(uhe,"extend");function dhe(e,t){var n="",r;for(r=0;r<t;r+=1)n+=e;return n}F(dhe,"repeat");function hhe(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}F(hhe,"isNegativeZero");var $_t=B$,B_t=lhe,F_t=che,z_t=dhe,U_t=hhe,H_t=uhe,Zr={isNothing:$_t,isObject:B_t,toArray:F_t,repeat:z_t,isNegativeZero:U_t,extend:H_t};function F$(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),r+" "+n):r}F(F$,"formatError");function kg(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=F$(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}F(kg,"YAMLException$1");kg.prototype=Object.create(Error.prototype);kg.prototype.constructor=kg;kg.prototype.toString=F(function(t){return this.name+": "+F$(this,t)},"toString");var Pa=kg;function $E(e,t,n,r,i){var a="",s="",l=Math.floor(i/2)-1;return r-t>l&&(a=" ... ",t=r-l+a.length),n-r>l&&(s=" ...",n=r+l-s.length),{str:a+e.slice(t,n).replace(/\t/g,"")+s,pos:r-t+a.length}}F($E,"getLine");function BE(e,t){return Zr.repeat(" ",t-e.length)+e}F(BE,"padStart");function fhe(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],a,s=-1;a=n.exec(e.buffer);)i.push(a.index),r.push(a.index+a[0].length),e.position<=a.index&&s<0&&(s=r.length-2);s<0&&(s=r.length-1);var l="",c,u,d=Math.min(e.line+t.linesAfter,i.length).toString().length,h=t.maxLength-(t.indent+d+3);for(c=1;c<=t.linesBefore&&!(s-c<0);c++)u=$E(e.buffer,r[s-c],i[s-c],e.position-(r[s]-r[s-c]),h),l=Zr.repeat(" ",t.indent)+BE((e.line-c+1).toString(),d)+" | "+u.str+`
`+l;for(u=$E(e.buffer,r[s],i[s],e.position,h),l+=Zr.repeat(" ",t.indent)+BE((e.line+1).toString(),d)+" | "+u.str+`
`,l+=Zr.repeat("-",t.indent+d+3+u.pos)+`^
`,c=1;c<=t.linesAfter&&!(s+c>=i.length);c++)u=$E(e.buffer,r[s+c],i[s+c],e.position-(r[s]-r[s+c]),h),l+=Zr.repeat(" ",t.indent)+BE((e.line+c+1).toString(),d)+" | "+u.str+`
`;return l.replace(/\n$/,"")}F(fhe,"makeSnippet");var V_t=fhe,W_t=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],q_t=["scalar","sequence","mapping"];function mhe(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(r){t[String(r)]=n})}),t}F(mhe,"compileStyleAliases");function phe(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(W_t.indexOf(n)===-1)throw new Pa('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=mhe(t.styleAliases||null),q_t.indexOf(this.kind)===-1)throw new Pa('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}F(phe,"Type$1");var qi=phe;function DI(e,t){var n=[];return e[t].forEach(function(r){var i=n.length;n.forEach(function(a,s){a.tag===r.tag&&a.kind===r.kind&&a.multi===r.multi&&(i=s)}),n[i]=r}),n}F(DI,"compileList");function ghe(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function r(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(F(r,"collectType"),t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(r);return e}F(ghe,"compileMap");function vC(e){return this.extend(e)}F(vC,"Schema$1");vC.prototype.extend=F(function(t){var n=[],r=[];if(t instanceof qi)r.push(t);else if(Array.isArray(t))r=r.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(r=r.concat(t.explicit));else throw new Pa("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(a){if(!(a instanceof qi))throw new Pa("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new Pa("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new Pa("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(a){if(!(a instanceof qi))throw new Pa("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(vC.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=DI(i,"implicit"),i.compiledExplicit=DI(i,"explicit"),i.compiledTypeMap=ghe(i.compiledImplicit,i.compiledExplicit),i},"extend");var G_t=vC,Y_t=new qi("tag:yaml.org,2002:str",{kind:"scalar",construct:F(function(e){return e!==null?e:""},"construct")}),K_t=new qi("tag:yaml.org,2002:seq",{kind:"sequence",construct:F(function(e){return e!==null?e:[]},"construct")}),X_t=new qi("tag:yaml.org,2002:map",{kind:"mapping",construct:F(function(e){return e!==null?e:{}},"construct")}),Z_t=new G_t({explicit:[Y_t,K_t,X_t]});function yhe(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}F(yhe,"resolveYamlNull");function xhe(){return null}F(xhe,"constructYamlNull");function vhe(e){return e===null}F(vhe,"isNull");var Q_t=new qi("tag:yaml.org,2002:null",{kind:"scalar",resolve:yhe,construct:xhe,predicate:vhe,represent:{canonical:F(function(){return"~"},"canonical"),lowercase:F(function(){return"null"},"lowercase"),uppercase:F(function(){return"NULL"},"uppercase"),camelcase:F(function(){return"Null"},"camelcase"),empty:F(function(){return""},"empty")},defaultStyle:"lowercase"});function bhe(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}F(bhe,"resolveYamlBoolean");function whe(e){return e==="true"||e==="True"||e==="TRUE"}F(whe,"constructYamlBoolean");function Ehe(e){return Object.prototype.toString.call(e)==="[object Boolean]"}F(Ehe,"isBoolean");var J_t=new qi("tag:yaml.org,2002:bool",{kind:"scalar",resolve:bhe,construct:whe,predicate:Ehe,represent:{lowercase:F(function(e){return e?"true":"false"},"lowercase"),uppercase:F(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:F(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function She(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}F(She,"isHexCode");function _he(e){return 48<=e&&e<=55}F(_he,"isOctCode");function Che(e){return 48<=e&&e<=57}F(Che,"isDecCode");function The(e){if(e===null)return!1;var t=e.length,n=0,r=!1,i;if(!t)return!1;if(i=e[n],(i==="-"||i==="+")&&(i=e[++n]),i==="0"){if(n+1===t)return!0;if(i=e[++n],i==="b"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!She(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!_he(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<t;n++)if(i=e[n],i!=="_"){if(!Che(e.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}F(The,"resolveYamlInteger");function Nhe(e){var t=e,n=1,r;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),r=t[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),t=t.slice(1),r=t[0]),t==="0")return 0;if(r==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}F(Nhe,"constructYamlInteger");function khe(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Zr.isNegativeZero(e)}F(khe,"isInteger");var eCt=new qi("tag:yaml.org,2002:int",{kind:"scalar",resolve:The,construct:Nhe,predicate:khe,represent:{binary:F(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:F(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:F(function(e){return e.toString(10)},"decimal"),hexadecimal:F(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),tCt=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Ahe(e){return!(e===null||!tCt.test(e)||e[e.length-1]==="_")}F(Ahe,"resolveYamlFloat");function jhe(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}F(jhe,"constructYamlFloat");var nCt=/^[-+]?[0-9]+e/;function Ohe(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Zr.isNegativeZero(e))return"-0.0";return n=e.toString(10),nCt.test(n)?n.replace("e",".e"):n}F(Ohe,"representYamlFloat");function Phe(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Zr.isNegativeZero(e))}F(Phe,"isFloat");var rCt=new qi("tag:yaml.org,2002:float",{kind:"scalar",resolve:Ahe,construct:jhe,predicate:Phe,represent:Ohe,defaultStyle:"lowercase"}),Mhe=Z_t.extend({implicit:[Q_t,J_t,eCt,rCt]}),iCt=Mhe,Ihe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Rhe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Dhe(e){return e===null?!1:Ihe.exec(e)!==null||Rhe.exec(e)!==null}F(Dhe,"resolveYamlTimestamp");function Lhe(e){var t,n,r,i,a,s,l,c=0,u=null,d,h,f;if(t=Ihe.exec(e),t===null&&(t=Rhe.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,r,i));if(a=+t[4],s=+t[5],l=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(d=+t[10],h=+(t[11]||0),u=(d*60+h)*6e4,t[9]==="-"&&(u=-u)),f=new Date(Date.UTC(n,r,i,a,s,l,c)),u&&f.setTime(f.getTime()-u),f}F(Lhe,"constructYamlTimestamp");function $he(e){return e.toISOString()}F($he,"representYamlTimestamp");var aCt=new qi("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Dhe,construct:Lhe,instanceOf:Date,represent:$he});function Bhe(e){return e==="<<"||e===null}F(Bhe,"resolveYamlMerge");var sCt=new qi("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Bhe}),z$=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Fhe(e){if(e===null)return!1;var t,n,r=0,i=e.length,a=z$;for(n=0;n<i;n++)if(t=a.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;r+=6}return r%8===0}F(Fhe,"resolveYamlBinary");function zhe(e){var t,n,r=e.replace(/[\r\n=]/g,""),i=r.length,a=z$,s=0,l=[];for(t=0;t<i;t++)t%4===0&&t&&(l.push(s>>16&255),l.push(s>>8&255),l.push(s&255)),s=s<<6|a.indexOf(r.charAt(t));return n=i%4*6,n===0?(l.push(s>>16&255),l.push(s>>8&255),l.push(s&255)):n===18?(l.push(s>>10&255),l.push(s>>2&255)):n===12&&l.push(s>>4&255),new Uint8Array(l)}F(zhe,"constructYamlBinary");function Uhe(e){var t="",n=0,r,i,a=e.length,s=z$;for(r=0;r<a;r++)r%3===0&&r&&(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]),n=(n<<8)+e[r];return i=a%3,i===0?(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]):i===2?(t+=s[n>>10&63],t+=s[n>>4&63],t+=s[n<<2&63],t+=s[64]):i===1&&(t+=s[n>>2&63],t+=s[n<<4&63],t+=s[64],t+=s[64]),t}F(Uhe,"representYamlBinary");function Hhe(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}F(Hhe,"isBinary");var oCt=new qi("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Fhe,construct:zhe,predicate:Hhe,represent:Uhe}),lCt=Object.prototype.hasOwnProperty,cCt=Object.prototype.toString;function Vhe(e){if(e===null)return!0;var t=[],n,r,i,a,s,l=e;for(n=0,r=l.length;n<r;n+=1){if(i=l[n],s=!1,cCt.call(i)!=="[object Object]")return!1;for(a in i)if(lCt.call(i,a))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(a)===-1)t.push(a);else return!1}return!0}F(Vhe,"resolveYamlOmap");function Whe(e){return e!==null?e:[]}F(Whe,"constructYamlOmap");var uCt=new qi("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Vhe,construct:Whe}),dCt=Object.prototype.toString;function qhe(e){if(e===null)return!0;var t,n,r,i,a,s=e;for(a=new Array(s.length),t=0,n=s.length;t<n;t+=1){if(r=s[t],dCt.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;a[t]=[i[0],r[i[0]]]}return!0}F(qhe,"resolveYamlPairs");function Ghe(e){if(e===null)return[];var t,n,r,i,a,s=e;for(a=new Array(s.length),t=0,n=s.length;t<n;t+=1)r=s[t],i=Object.keys(r),a[t]=[i[0],r[i[0]]];return a}F(Ghe,"constructYamlPairs");var hCt=new qi("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:qhe,construct:Ghe}),fCt=Object.prototype.hasOwnProperty;function Yhe(e){if(e===null)return!0;var t,n=e;for(t in n)if(fCt.call(n,t)&&n[t]!==null)return!1;return!0}F(Yhe,"resolveYamlSet");function Khe(e){return e!==null?e:{}}F(Khe,"constructYamlSet");var mCt=new qi("tag:yaml.org,2002:set",{kind:"mapping",resolve:Yhe,construct:Khe}),Xhe=iCt.extend({implicit:[aCt,sCt],explicit:[oCt,uCt,hCt,mCt]}),pd=Object.prototype.hasOwnProperty,bC=1,Zhe=2,Qhe=3,wC=4,sj=1,pCt=2,tq=3,gCt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,yCt=/[\x85\u2028\u2029]/,xCt=/[,\[\]\{\}]/,Jhe=/^(?:!|!!|![a-z\-]+!)$/i,efe=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function LI(e){return Object.prototype.toString.call(e)}F(LI,"_class");function Mo(e){return e===10||e===13}F(Mo,"is_EOL");function Ku(e){return e===9||e===32}F(Ku,"is_WHITE_SPACE");function fa(e){return e===9||e===32||e===10||e===13}F(fa,"is_WS_OR_EOL");function xh(e){return e===44||e===91||e===93||e===123||e===125}F(xh,"is_FLOW_INDICATOR");function tfe(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}F(tfe,"fromHexCode");function nfe(e){return e===120?2:e===117?4:e===85?8:0}F(nfe,"escapedHexLen");function rfe(e){return 48<=e&&e<=57?e-48:-1}F(rfe,"fromDecimalCode");function $I(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}F($I,"simpleEscapeSequence");function ife(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}F(ife,"charFromCodepoint");var afe=new Array(256),sfe=new Array(256);for(Hd=0;Hd<256;Hd++)afe[Hd]=$I(Hd)?1:0,sfe[Hd]=$I(Hd);var Hd;function ofe(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Xhe,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}F(ofe,"State$1");function U$(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=V_t(n),new Pa(t,n)}F(U$,"generateError");function wt(e,t){throw U$(e,t)}F(wt,"throwError");function lb(e,t){e.onWarning&&e.onWarning.call(null,U$(e,t))}F(lb,"throwWarning");var nq={YAML:F(function(t,n,r){var i,a,s;t.version!==null&&wt(t,"duplication of %YAML directive"),r.length!==1&&wt(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&wt(t,"ill-formed argument of the YAML directive"),a=parseInt(i[1],10),s=parseInt(i[2],10),a!==1&&wt(t,"unacceptable YAML version of the document"),t.version=r[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&lb(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:F(function(t,n,r){var i,a;r.length!==2&&wt(t,"TAG directive accepts exactly two arguments"),i=r[0],a=r[1],Jhe.test(i)||wt(t,"ill-formed tag handle (first argument) of the TAG directive"),pd.call(t.tagMap,i)&&wt(t,'there is a previously declared suffix for "'+i+'" tag handle'),efe.test(a)||wt(t,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{wt(t,"tag prefix is malformed: "+a)}t.tagMap[i]=a},"handleTagDirective")};function vc(e,t,n,r){var i,a,s,l;if(t<n){if(l=e.input.slice(t,n),r)for(i=0,a=l.length;i<a;i+=1)s=l.charCodeAt(i),s===9||32<=s&&s<=1114111||wt(e,"expected valid JSON character");else gCt.test(l)&&wt(e,"the stream contains non-printable characters");e.result+=l}}F(vc,"captureSegment");function BI(e,t,n,r){var i,a,s,l;for(Zr.isObject(n)||wt(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),s=0,l=i.length;s<l;s+=1)a=i[s],pd.call(t,a)||(t[a]=n[a],r[a]=!0)}F(BI,"mergeMappings");function vh(e,t,n,r,i,a,s,l,c){var u,d;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,d=i.length;u<d;u+=1)Array.isArray(i[u])&&wt(e,"nested arrays are not supported inside keys"),typeof i=="object"&&LI(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&LI(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(u=0,d=a.length;u<d;u+=1)BI(e,t,a[u],n);else BI(e,t,a,n);else!e.json&&!pd.call(n,i)&&pd.call(t,i)&&(e.line=s||e.line,e.lineStart=l||e.lineStart,e.position=c||e.position,wt(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[i]=a,delete n[i];return t}F(vh,"storeMappingPair");function hN(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):wt(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}F(hN,"readLineBreak");function Ir(e,t,n){for(var r=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Ku(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(Mo(i))for(hN(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return n!==-1&&r!==0&&e.lineIndent<n&&lb(e,"deficient indentation"),r}F(Ir,"skipSeparationSpace");function y1(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||fa(n)))}F(y1,"testDocumentSeparator");function fN(e,t){t===1?e.result+=" ":t>1&&(e.result+=Zr.repeat(`
`,t-1))}F(fN,"writeFoldedLines");function lfe(e,t,n){var r,i,a,s,l,c,u,d,h=e.kind,f=e.result,m;if(m=e.input.charCodeAt(e.position),fa(m)||xh(m)||m===35||m===38||m===42||m===33||m===124||m===62||m===39||m===34||m===37||m===64||m===96||(m===63||m===45)&&(i=e.input.charCodeAt(e.position+1),fa(i)||n&&xh(i)))return!1;for(e.kind="scalar",e.result="",a=s=e.position,l=!1;m!==0;){if(m===58){if(i=e.input.charCodeAt(e.position+1),fa(i)||n&&xh(i))break}else if(m===35){if(r=e.input.charCodeAt(e.position-1),fa(r))break}else{if(e.position===e.lineStart&&y1(e)||n&&xh(m))break;if(Mo(m))if(c=e.line,u=e.lineStart,d=e.lineIndent,Ir(e,!1,-1),e.lineIndent>=t){l=!0,m=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=c,e.lineStart=u,e.lineIndent=d;break}}l&&(vc(e,a,s,!1),fN(e,e.line-c),a=s=e.position,l=!1),Ku(m)||(s=e.position+1),m=e.input.charCodeAt(++e.position)}return vc(e,a,s,!1),e.result?!0:(e.kind=h,e.result=f,!1)}F(lfe,"readPlainScalar");function cfe(e,t){var n,r,i;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(vc(e,r,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)r=e.position,e.position++,i=e.position;else return!0;else Mo(n)?(vc(e,r,i,!0),fN(e,Ir(e,!1,t)),r=i=e.position):e.position===e.lineStart&&y1(e)?wt(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);wt(e,"unexpected end of the stream within a single quoted scalar")}F(cfe,"readSingleQuotedScalar");function ufe(e,t){var n,r,i,a,s,l;if(l=e.input.charCodeAt(e.position),l!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;(l=e.input.charCodeAt(e.position))!==0;){if(l===34)return vc(e,n,e.position,!0),e.position++,!0;if(l===92){if(vc(e,n,e.position,!0),l=e.input.charCodeAt(++e.position),Mo(l))Ir(e,!1,t);else if(l<256&&afe[l])e.result+=sfe[l],e.position++;else if((s=nfe(l))>0){for(i=s,a=0;i>0;i--)l=e.input.charCodeAt(++e.position),(s=tfe(l))>=0?a=(a<<4)+s:wt(e,"expected hexadecimal character");e.result+=ife(a),e.position++}else wt(e,"unknown escape sequence");n=r=e.position}else Mo(l)?(vc(e,n,r,!0),fN(e,Ir(e,!1,t)),n=r=e.position):e.position===e.lineStart&&y1(e)?wt(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}wt(e,"unexpected end of the stream within a double quoted scalar")}F(ufe,"readDoubleQuotedScalar");function dfe(e,t){var n=!0,r,i,a,s=e.tag,l,c=e.anchor,u,d,h,f,m,p=Object.create(null),g,x,y,v;if(v=e.input.charCodeAt(e.position),v===91)d=93,m=!1,l=[];else if(v===123)d=125,m=!0,l={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),v=e.input.charCodeAt(++e.position);v!==0;){if(Ir(e,!0,t),v=e.input.charCodeAt(e.position),v===d)return e.position++,e.tag=s,e.anchor=c,e.kind=m?"mapping":"sequence",e.result=l,!0;n?v===44&&wt(e,"expected the node content, but found ','"):wt(e,"missed comma between flow collection entries"),x=g=y=null,h=f=!1,v===63&&(u=e.input.charCodeAt(e.position+1),fa(u)&&(h=f=!0,e.position++,Ir(e,!0,t))),r=e.line,i=e.lineStart,a=e.position,df(e,t,bC,!1,!0),x=e.tag,g=e.result,Ir(e,!0,t),v=e.input.charCodeAt(e.position),(f||e.line===r)&&v===58&&(h=!0,v=e.input.charCodeAt(++e.position),Ir(e,!0,t),df(e,t,bC,!1,!0),y=e.result),m?vh(e,l,p,x,g,y,r,i,a):h?l.push(vh(e,null,p,x,g,y,r,i,a)):l.push(g),Ir(e,!0,t),v=e.input.charCodeAt(e.position),v===44?(n=!0,v=e.input.charCodeAt(++e.position)):n=!1}wt(e,"unexpected end of the stream within a flow collection")}F(dfe,"readFlowCollection");function hfe(e,t){var n,r,i=sj,a=!1,s=!1,l=t,c=0,u=!1,d,h;if(h=e.input.charCodeAt(e.position),h===124)r=!1;else if(h===62)r=!0;else return!1;for(e.kind="scalar",e.result="";h!==0;)if(h=e.input.charCodeAt(++e.position),h===43||h===45)sj===i?i=h===43?tq:pCt:wt(e,"repeat of a chomping mode identifier");else if((d=rfe(h))>=0)d===0?wt(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?wt(e,"repeat of an indentation width identifier"):(l=t+d-1,s=!0);else break;if(Ku(h)){do h=e.input.charCodeAt(++e.position);while(Ku(h));if(h===35)do h=e.input.charCodeAt(++e.position);while(!Mo(h)&&h!==0)}for(;h!==0;){for(hN(e),e.lineIndent=0,h=e.input.charCodeAt(e.position);(!s||e.lineIndent<l)&&h===32;)e.lineIndent++,h=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>l&&(l=e.lineIndent),Mo(h)){c++;continue}if(e.lineIndent<l){i===tq?e.result+=Zr.repeat(`
`,a?1+c:c):i===sj&&a&&(e.result+=`
`);break}for(r?Ku(h)?(u=!0,e.result+=Zr.repeat(`
`,a?1+c:c)):u?(u=!1,e.result+=Zr.repeat(`
`,c+1)):c===0?a&&(e.result+=" "):e.result+=Zr.repeat(`
`,c):e.result+=Zr.repeat(`
`,a?1+c:c),a=!0,s=!0,c=0,n=e.position;!Mo(h)&&h!==0;)h=e.input.charCodeAt(++e.position);vc(e,n,e.position,!1)}return!0}F(hfe,"readBlockScalar");function FI(e,t){var n,r=e.tag,i=e.anchor,a=[],s,l=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,wt(e,"tab characters must not be used in indentation")),!(c!==45||(s=e.input.charCodeAt(e.position+1),!fa(s))));){if(l=!0,e.position++,Ir(e,!0,-1)&&e.lineIndent<=t){a.push(null),c=e.input.charCodeAt(e.position);continue}if(n=e.line,df(e,t,Qhe,!1,!0),a.push(e.result),Ir(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&c!==0)wt(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return l?(e.tag=r,e.anchor=i,e.kind="sequence",e.result=a,!0):!1}F(FI,"readBlockSequence");function ffe(e,t,n){var r,i,a,s,l,c,u=e.tag,d=e.anchor,h={},f=Object.create(null),m=null,p=null,g=null,x=!1,y=!1,v;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=h),v=e.input.charCodeAt(e.position);v!==0;){if(!x&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,wt(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),a=e.line,(v===63||v===58)&&fa(r))v===63?(x&&(vh(e,h,f,m,p,null,s,l,c),m=p=g=null),y=!0,x=!0,i=!0):x?(x=!1,i=!0):wt(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,v=r;else{if(s=e.line,l=e.lineStart,c=e.position,!df(e,n,Zhe,!1,!0))break;if(e.line===a){for(v=e.input.charCodeAt(e.position);Ku(v);)v=e.input.charCodeAt(++e.position);if(v===58)v=e.input.charCodeAt(++e.position),fa(v)||wt(e,"a whitespace character is expected after the key-value separator within a block mapping"),x&&(vh(e,h,f,m,p,null,s,l,c),m=p=g=null),y=!0,x=!1,i=!1,m=e.tag,p=e.result;else if(y)wt(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=d,!0}else if(y)wt(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=d,!0}if((e.line===a||e.lineIndent>t)&&(x&&(s=e.line,l=e.lineStart,c=e.position),df(e,t,wC,!0,i)&&(x?p=e.result:g=e.result),x||(vh(e,h,f,m,p,g,s,l,c),m=p=g=null),Ir(e,!0,-1),v=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&v!==0)wt(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return x&&vh(e,h,f,m,p,null,s,l,c),y&&(e.tag=u,e.anchor=d,e.kind="mapping",e.result=h),y}F(ffe,"readBlockMapping");function mfe(e){var t,n=!1,r=!1,i,a,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&wt(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(n=!0,s=e.input.charCodeAt(++e.position)):s===33?(r=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,n){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(a=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):wt(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!fa(s);)s===33&&(r?wt(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),Jhe.test(i)||wt(e,"named tag handle cannot contain such characters"),r=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);a=e.input.slice(t,e.position),xCt.test(a)&&wt(e,"tag suffix cannot contain flow indicator characters")}a&&!efe.test(a)&&wt(e,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{wt(e,"tag name is malformed: "+a)}return n?e.tag=a:pd.call(e.tagMap,i)?e.tag=e.tagMap[i]+a:i==="!"?e.tag="!"+a:i==="!!"?e.tag="tag:yaml.org,2002:"+a:wt(e,'undeclared tag handle "'+i+'"'),!0}F(mfe,"readTagProperty");function pfe(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&wt(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!fa(n)&&!xh(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&wt(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}F(pfe,"readAnchorProperty");function gfe(e){var t,n,r;if(r=e.input.charCodeAt(e.position),r!==42)return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!fa(r)&&!xh(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&wt(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),pd.call(e.anchorMap,n)||wt(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Ir(e,!0,-1),!0}F(gfe,"readAlias");function df(e,t,n,r,i){var a,s,l,c=1,u=!1,d=!1,h,f,m,p,g,x;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=s=l=wC===n||Qhe===n,r&&Ir(e,!0,-1)&&(u=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;mfe(e)||pfe(e);)Ir(e,!0,-1)?(u=!0,l=a,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):l=!1;if(l&&(l=u||i),(c===1||wC===n)&&(bC===n||Zhe===n?g=t:g=t+1,x=e.position-e.lineStart,c===1?l&&(FI(e,x)||ffe(e,x,g))||dfe(e,g)?d=!0:(s&&hfe(e,g)||cfe(e,g)||ufe(e,g)?d=!0:gfe(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&wt(e,"alias node should not have any properties")):lfe(e,g,bC===n)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(d=l&&FI(e,x))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&wt(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),h=0,f=e.implicitTypes.length;h<f;h+=1)if(p=e.implicitTypes[h],p.resolve(e.result)){e.result=p.construct(e.result),e.tag=p.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(pd.call(e.typeMap[e.kind||"fallback"],e.tag))p=e.typeMap[e.kind||"fallback"][e.tag];else for(p=null,m=e.typeMap.multi[e.kind||"fallback"],h=0,f=m.length;h<f;h+=1)if(e.tag.slice(0,m[h].tag.length)===m[h].tag){p=m[h];break}p||wt(e,"unknown tag !<"+e.tag+">"),e.result!==null&&p.kind!==e.kind&&wt(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+p.kind+'", not "'+e.kind+'"'),p.resolve(e.result,e.tag)?(e.result=p.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):wt(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}F(df,"composeNode");function yfe(e){var t=e.position,n,r,i,a=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(Ir(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(a=!0,s=e.input.charCodeAt(++e.position),n=e.position;s!==0&&!fa(s);)s=e.input.charCodeAt(++e.position);for(r=e.input.slice(n,e.position),i=[],r.length<1&&wt(e,"directive name must not be less than one character in length");s!==0;){for(;Ku(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!Mo(s));break}if(Mo(s))break;for(n=e.position;s!==0&&!fa(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(n,e.position))}s!==0&&hN(e),pd.call(nq,r)?nq[r](e,r,i):lb(e,'unknown document directive "'+r+'"')}if(Ir(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Ir(e,!0,-1)):a&&wt(e,"directives end mark is expected"),df(e,e.lineIndent-1,wC,!1,!0),Ir(e,!0,-1),e.checkLineBreaks&&yCt.test(e.input.slice(t,e.position))&&lb(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&y1(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Ir(e,!0,-1));return}if(e.position<e.length-1)wt(e,"end of the stream or a document separator is expected");else return}F(yfe,"readDocument");function H$(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new ofe(e,t),r=e.indexOf("\0");for(r!==-1&&(n.position=r,wt(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)yfe(n);return n.documents}F(H$,"loadDocuments");function xfe(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var r=H$(e,n);if(typeof t!="function")return r;for(var i=0,a=r.length;i<a;i+=1)t(r[i])}F(xfe,"loadAll$1");function vfe(e,t){var n=H$(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new Pa("expected a single document in the stream, but found more")}}F(vfe,"load$1");var vCt=xfe,bCt=vfe,wCt={loadAll:vCt,load:bCt},bfe=Object.prototype.toString,wfe=Object.prototype.hasOwnProperty,V$=65279,ECt=9,cb=10,SCt=13,_Ct=32,CCt=33,TCt=34,zI=35,NCt=37,kCt=38,ACt=39,jCt=42,Efe=44,OCt=45,EC=58,PCt=61,MCt=62,ICt=63,RCt=64,Sfe=91,_fe=93,DCt=96,Cfe=123,LCt=124,Tfe=125,Zi={};Zi[0]="\\0";Zi[7]="\\a";Zi[8]="\\b";Zi[9]="\\t";Zi[10]="\\n";Zi[11]="\\v";Zi[12]="\\f";Zi[13]="\\r";Zi[27]="\\e";Zi[34]='\\"';Zi[92]="\\\\";Zi[133]="\\N";Zi[160]="\\_";Zi[8232]="\\L";Zi[8233]="\\P";var $Ct=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],BCt=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Nfe(e,t){var n,r,i,a,s,l,c;if(t===null)return{};for(n={},r=Object.keys(t),i=0,a=r.length;i<a;i+=1)s=r[i],l=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),c=e.compiledTypeMap.fallback[s],c&&wfe.call(c.styleAliases,l)&&(l=c.styleAliases[l]),n[s]=l;return n}F(Nfe,"compileStyleMap");function kfe(e){var t,n,r;if(t=e.toString(16).toUpperCase(),e<=255)n="x",r=2;else if(e<=65535)n="u",r=4;else if(e<=4294967295)n="U",r=8;else throw new Pa("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Zr.repeat("0",r-t.length)+t}F(kfe,"encodeHex");var FCt=1,ub=2;function Afe(e){this.schema=e.schema||Xhe,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Zr.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Nfe(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?ub:FCt,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}F(Afe,"State");function UI(e,t){for(var n=Zr.repeat(" ",t),r=0,i=-1,a="",s,l=e.length;r<l;)i=e.indexOf(`
`,r),i===-1?(s=e.slice(r),r=l):(s=e.slice(r,i+1),r=i+1),s.length&&s!==`
`&&(a+=n),a+=s;return a}F(UI,"indentString");function SC(e,t){return`
`+Zr.repeat(" ",e.indent*t)}F(SC,"generateNextLine");function jfe(e,t){var n,r,i;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(i=e.implicitTypes[n],i.resolve(t))return!0;return!1}F(jfe,"testImplicitResolving");function db(e){return e===_Ct||e===ECt}F(db,"isWhitespace");function Ag(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==V$||65536<=e&&e<=1114111}F(Ag,"isPrintable");function HI(e){return Ag(e)&&e!==V$&&e!==SCt&&e!==cb}F(HI,"isNsCharOrWhitespace");function VI(e,t,n){var r=HI(e),i=r&&!db(e);return(n?r:r&&e!==Efe&&e!==Sfe&&e!==_fe&&e!==Cfe&&e!==Tfe)&&e!==zI&&!(t===EC&&!i)||HI(t)&&!db(t)&&e===zI||t===EC&&i}F(VI,"isPlainSafe");function Ofe(e){return Ag(e)&&e!==V$&&!db(e)&&e!==OCt&&e!==ICt&&e!==EC&&e!==Efe&&e!==Sfe&&e!==_fe&&e!==Cfe&&e!==Tfe&&e!==zI&&e!==kCt&&e!==jCt&&e!==CCt&&e!==LCt&&e!==PCt&&e!==MCt&&e!==ACt&&e!==TCt&&e!==NCt&&e!==RCt&&e!==DCt}F(Ofe,"isPlainSafeFirst");function Pfe(e){return!db(e)&&e!==EC}F(Pfe,"isPlainSafeLast");function Dm(e,t){var n=e.charCodeAt(t),r;return n>=55296&&n<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}F(Dm,"codePointAt");function W$(e){var t=/^\n* /;return t.test(e)}F(W$,"needIndentIndicator");var Mfe=1,WI=2,Ife=3,Rfe=4,cm=5;function Dfe(e,t,n,r,i,a,s,l){var c,u=0,d=null,h=!1,f=!1,m=r!==-1,p=-1,g=Ofe(Dm(e,0))&&Pfe(Dm(e,e.length-1));if(t||s)for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=Dm(e,c),!Ag(u))return cm;g=g&&VI(u,d,l),d=u}else{for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=Dm(e,c),u===cb)h=!0,m&&(f=f||c-p-1>r&&e[p+1]!==" ",p=c);else if(!Ag(u))return cm;g=g&&VI(u,d,l),d=u}f=f||m&&c-p-1>r&&e[p+1]!==" "}return!h&&!f?g&&!s&&!i(e)?Mfe:a===ub?cm:WI:n>9&&W$(e)?cm:s?a===ub?cm:WI:f?Rfe:Ife}F(Dfe,"chooseScalarStyle");function Lfe(e,t,n,r,i){e.dump=function(){if(t.length===0)return e.quotingType===ub?'""':"''";if(!e.noCompatMode&&($Ct.indexOf(t)!==-1||BCt.test(t)))return e.quotingType===ub?'"'+t+'"':"'"+t+"'";var a=e.indent*Math.max(1,n),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-a),l=r||e.flowLevel>-1&&n>=e.flowLevel;function c(u){return jfe(e,u)}switch(F(c,"testAmbiguity"),Dfe(t,l,e.indent,s,c,e.quotingType,e.forceQuotes&&!r,i)){case Mfe:return t;case WI:return"'"+t.replace(/'/g,"''")+"'";case Ife:return"|"+qI(t,e.indent)+GI(UI(t,a));case Rfe:return">"+qI(t,e.indent)+GI(UI($fe(t,s),a));case cm:return'"'+Bfe(t)+'"';default:throw new Pa("impossible error: invalid scalar style")}}()}F(Lfe,"writeScalar");function qI(e,t){var n=W$(e)?String(t):"",r=e[e.length-1]===`
`,i=r&&(e[e.length-2]===`
`||e===`
`),a=i?"+":r?"":"-";return n+a+`
`}F(qI,"blockHeader");function GI(e){return e[e.length-1]===`
`?e.slice(0,-1):e}F(GI,"dropEndingNewline");function $fe(e,t){for(var n=/(\n+)([^\n]*)/g,r=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,n.lastIndex=u,YI(e.slice(0,u),t)}(),i=e[0]===`
`||e[0]===" ",a,s;s=n.exec(e);){var l=s[1],c=s[2];a=c[0]===" ",r+=l+(!i&&!a&&c!==""?`
`:"")+YI(c,t),i=a}return r}F($fe,"foldString");function YI(e,t){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,r,i=0,a,s=0,l=0,c="";r=n.exec(e);)l=r.index,l-i>t&&(a=s>i?s:l,c+=`
`+e.slice(i,a),i=a+1),s=l;return c+=`
`,e.length-i>t&&s>i?c+=e.slice(i,s)+`
`+e.slice(s+1):c+=e.slice(i),c.slice(1)}F(YI,"foldLine");function Bfe(e){for(var t="",n=0,r,i=0;i<e.length;n>=65536?i+=2:i++)n=Dm(e,i),r=Zi[n],!r&&Ag(n)?(t+=e[i],n>=65536&&(t+=e[i+1])):t+=r||kfe(n);return t}F(Bfe,"escapeString");function Ffe(e,t,n){var r="",i=e.tag,a,s,l;for(a=0,s=n.length;a<s;a+=1)l=n[a],e.replacer&&(l=e.replacer.call(n,String(a),l)),(Tl(e,t,l,!1,!1)||typeof l>"u"&&Tl(e,t,null,!1,!1))&&(r!==""&&(r+=","+(e.condenseFlow?"":" ")),r+=e.dump);e.tag=i,e.dump="["+r+"]"}F(Ffe,"writeFlowSequence");function KI(e,t,n,r){var i="",a=e.tag,s,l,c;for(s=0,l=n.length;s<l;s+=1)c=n[s],e.replacer&&(c=e.replacer.call(n,String(s),c)),(Tl(e,t+1,c,!0,!0,!1,!0)||typeof c>"u"&&Tl(e,t+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=SC(e,t)),e.dump&&cb===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=a,e.dump=i||"[]"}F(KI,"writeBlockSequence");function zfe(e,t,n){var r="",i=e.tag,a=Object.keys(n),s,l,c,u,d;for(s=0,l=a.length;s<l;s+=1)d="",r!==""&&(d+=", "),e.condenseFlow&&(d+='"'),c=a[s],u=n[c],e.replacer&&(u=e.replacer.call(n,c,u)),Tl(e,t,c,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Tl(e,t,u,!1,!1)&&(d+=e.dump,r+=d));e.tag=i,e.dump="{"+r+"}"}F(zfe,"writeFlowMapping");function Ufe(e,t,n,r){var i="",a=e.tag,s=Object.keys(n),l,c,u,d,h,f;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new Pa("sortKeys must be a boolean or a function");for(l=0,c=s.length;l<c;l+=1)f="",(!r||i!=="")&&(f+=SC(e,t)),u=s[l],d=n[u],e.replacer&&(d=e.replacer.call(n,u,d)),Tl(e,t+1,u,!0,!0,!0)&&(h=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,h&&(e.dump&&cb===e.dump.charCodeAt(0)?f+="?":f+="? "),f+=e.dump,h&&(f+=SC(e,t)),Tl(e,t+1,d,!0,h)&&(e.dump&&cb===e.dump.charCodeAt(0)?f+=":":f+=": ",f+=e.dump,i+=f));e.tag=a,e.dump=i||"{}"}F(Ufe,"writeBlockMapping");function XI(e,t,n){var r,i,a,s,l,c;for(i=n?e.explicitTypes:e.implicitTypes,a=0,s=i.length;a<s;a+=1)if(l=i[a],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof t=="object"&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(n?l.multi&&l.representName?e.tag=l.representName(t):e.tag=l.tag:e.tag="?",l.represent){if(c=e.styleMap[l.tag]||l.defaultStyle,bfe.call(l.represent)==="[object Function]")r=l.represent(t,c);else if(wfe.call(l.represent,c))r=l.represent[c](t,c);else throw new Pa("!<"+l.tag+'> tag resolver accepts not "'+c+'" style');e.dump=r}return!0}return!1}F(XI,"detectType");function Tl(e,t,n,r,i,a,s){e.tag=null,e.dump=n,XI(e,n,!1)||XI(e,n,!0);var l=bfe.call(e.dump),c=r,u;r&&(r=e.flowLevel<0||e.flowLevel>t);var d=l==="[object Object]"||l==="[object Array]",h,f;if(d&&(h=e.duplicates.indexOf(n),f=h!==-1),(e.tag!==null&&e.tag!=="?"||f||e.indent!==2&&t>0)&&(i=!1),f&&e.usedDuplicates[h])e.dump="*ref_"+h;else{if(d&&f&&!e.usedDuplicates[h]&&(e.usedDuplicates[h]=!0),l==="[object Object]")r&&Object.keys(e.dump).length!==0?(Ufe(e,t,e.dump,i),f&&(e.dump="&ref_"+h+e.dump)):(zfe(e,t,e.dump),f&&(e.dump="&ref_"+h+" "+e.dump));else if(l==="[object Array]")r&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?KI(e,t-1,e.dump,i):KI(e,t,e.dump,i),f&&(e.dump="&ref_"+h+e.dump)):(Ffe(e,t,e.dump),f&&(e.dump="&ref_"+h+" "+e.dump));else if(l==="[object String]")e.tag!=="?"&&Lfe(e,e.dump,t,a,c);else{if(l==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Pa("unacceptable kind of an object to dump "+l)}e.tag!==null&&e.tag!=="?"&&(u=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",e.dump=u+" "+e.dump)}return!0}F(Tl,"writeNode");function Hfe(e,t){var n=[],r=[],i,a;for(_C(e,n,r),i=0,a=r.length;i<a;i+=1)t.duplicates.push(n[r[i]]);t.usedDuplicates=new Array(a)}F(Hfe,"getDuplicateReferences");function _C(e,t,n){var r,i,a;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(t.push(e),Array.isArray(e))for(i=0,a=e.length;i<a;i+=1)_C(e[i],t,n);else for(r=Object.keys(e),i=0,a=r.length;i<a;i+=1)_C(e[r[i]],t,n)}F(_C,"inspectNode");function zCt(e,t){t=t||{};var n=new Afe(t);n.noRefs||Hfe(e,n);var r=e;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Tl(n,0,r,!0,!0)?n.dump+`
`:""}F(zCt,"dump$1");function UCt(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}F(UCt,"renamed");var HCt=Mhe,VCt=wCt.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var Ns={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function My(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=Jn(e),t=Jn(t);const[n,r]=[e.x,e.y],[i,a]=[t.x,t.y],s=i-n,l=a-r;return{angle:Math.atan(l/s),deltaX:s,deltaY:l}}F(My,"calculateDeltaAndAngle");var Jn=F(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),WCt=F(e=>({x:F(function(t,n,r){let i=0;const a=Jn(r[0]).x<Jn(r[r.length-1]).x?"left":"right";if(n===0&&Object.hasOwn(Ns,e.arrowTypeStart)){const{angle:m,deltaX:p}=My(r[0],r[1]);i=Ns[e.arrowTypeStart]*Math.cos(m)*(p>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(Ns,e.arrowTypeEnd)){const{angle:m,deltaX:p}=My(r[r.length-1],r[r.length-2]);i=Ns[e.arrowTypeEnd]*Math.cos(m)*(p>=0?1:-1)}const s=Math.abs(Jn(t).x-Jn(r[r.length-1]).x),l=Math.abs(Jn(t).y-Jn(r[r.length-1]).y),c=Math.abs(Jn(t).x-Jn(r[0]).x),u=Math.abs(Jn(t).y-Jn(r[0]).y),d=Ns[e.arrowTypeStart],h=Ns[e.arrowTypeEnd],f=1;if(s<h&&s>0&&l<h){let m=h+f-s;m*=a==="right"?-1:1,i-=m}if(c<d&&c>0&&u<d){let m=d+f-c;m*=a==="right"?-1:1,i+=m}return Jn(t).x+i},"x"),y:F(function(t,n,r){let i=0;const a=Jn(r[0]).y<Jn(r[r.length-1]).y?"down":"up";if(n===0&&Object.hasOwn(Ns,e.arrowTypeStart)){const{angle:m,deltaY:p}=My(r[0],r[1]);i=Ns[e.arrowTypeStart]*Math.abs(Math.sin(m))*(p>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(Ns,e.arrowTypeEnd)){const{angle:m,deltaY:p}=My(r[r.length-1],r[r.length-2]);i=Ns[e.arrowTypeEnd]*Math.abs(Math.sin(m))*(p>=0?1:-1)}const s=Math.abs(Jn(t).y-Jn(r[r.length-1]).y),l=Math.abs(Jn(t).x-Jn(r[r.length-1]).x),c=Math.abs(Jn(t).y-Jn(r[0]).y),u=Math.abs(Jn(t).x-Jn(r[0]).x),d=Ns[e.arrowTypeStart],h=Ns[e.arrowTypeEnd],f=1;if(s<h&&s>0&&l<h){let m=h+f-s;m*=a==="up"?-1:1,i-=m}if(c<d&&c>0&&u<d){let m=d+f-c;m*=a==="up"?-1:1,i+=m}return Jn(t).y+i},"y")}),"getLineFunctionsWithOffset"),q$=F(({flowchart:e})=>{var i,a;const t=((i=e==null?void 0:e.subGraphTitleMargin)==null?void 0:i.top)??0,n=((a=e==null?void 0:e.subGraphTitleMargin)==null?void 0:a.bottom)??0,r=t+n;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:n,subGraphTitleTotalMargin:r}},"getSubGraphTitleMargins");const qCt=Object.freeze({left:0,top:0,width:16,height:16}),CC=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Vfe=Object.freeze({...qCt,...CC}),GCt=Object.freeze({...Vfe,body:"",hidden:!1}),YCt=Object.freeze({width:null,height:null}),KCt=Object.freeze({...YCt,...CC}),XCt=(e,t,n,r="")=>{const i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const l=i.pop(),c=i.pop(),u={provider:i.length>0?i[0]:r,prefix:c,name:l};return oj(u)?u:null}const a=i[0],s=a.split("-");if(s.length>1){const l={provider:r,prefix:s.shift(),name:s.join("-")};return oj(l)?l:null}if(n&&r===""){const l={provider:r,prefix:"",name:a};return oj(l,n)?l:null}return null},oj=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1;function ZCt(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const r=((e.rotate||0)+(t.rotate||0))%4;return r&&(n.rotate=r),n}function rq(e,t){const n=ZCt(e,t);for(const r in GCt)r in CC?r in e&&!(r in n)&&(n[r]=CC[r]):r in t?n[r]=t[r]:r in e&&(n[r]=e[r]);return n}function QCt(e,t){const n=e.icons,r=e.aliases||Object.create(null),i=Object.create(null);function a(s){if(n[s])return i[s]=[];if(!(s in i)){i[s]=null;const l=r[s]&&r[s].parent,c=l&&a(l);c&&(i[s]=[l].concat(c))}return i[s]}return(t||Object.keys(n).concat(Object.keys(r))).forEach(a),i}function iq(e,t,n){const r=e.icons,i=e.aliases||Object.create(null);let a={};function s(l){a=rq(r[l]||i[l],a)}return s(t),n.forEach(s),rq(e,a)}function JCt(e,t){if(e.icons[t])return iq(e,t,[]);const n=QCt(e,[t])[t];return n?iq(e,t,n):null}const e2t=/(-?[0-9.]*[0-9]+[0-9.]*)/g,t2t=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function aq(e,t,n){if(t===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*t*n)/n;if(typeof e!="string")return e;const r=e.split(e2t);if(r===null||!r.length)return e;const i=[];let a=r.shift(),s=t2t.test(a);for(;;){if(s){const l=parseFloat(a);isNaN(l)?i.push(a):i.push(Math.ceil(l*t*n)/n)}else i.push(a);if(a=r.shift(),a===void 0)return i.join("");s=!s}}function n2t(e,t="defs"){let n="";const r=e.indexOf("<"+t);for(;r>=0;){const i=e.indexOf(">",r),a=e.indexOf("</"+t);if(i===-1||a===-1)break;const s=e.indexOf(">",a);if(s===-1)break;n+=e.slice(i+1,a).trim(),e=e.slice(0,r).trim()+e.slice(s+1)}return{defs:n,content:e}}function r2t(e,t){return e?"<defs>"+e+"</defs>"+t:t}function i2t(e,t,n){const r=n2t(e);return r2t(r.defs,t+r.content+n)}const a2t=e=>e==="unset"||e==="undefined"||e==="none";function s2t(e,t){const n={...Vfe,...e},r={...KCt,...t},i={left:n.left,top:n.top,width:n.width,height:n.height};let a=n.body;[n,r].forEach(g=>{const x=[],y=g.hFlip,v=g.vFlip;let b=g.rotate;y?v?b+=2:(x.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),x.push("scale(-1 1)"),i.top=i.left=0):v&&(x.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),x.push("scale(1 -1)"),i.top=i.left=0);let E;switch(b<0&&(b-=Math.floor(b/4)*4),b=b%4,b){case 1:E=i.height/2+i.top,x.unshift("rotate(90 "+E.toString()+" "+E.toString()+")");break;case 2:x.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:E=i.width/2+i.left,x.unshift("rotate(-90 "+E.toString()+" "+E.toString()+")");break}b%2===1&&(i.left!==i.top&&(E=i.left,i.left=i.top,i.top=E),i.width!==i.height&&(E=i.width,i.width=i.height,i.height=E)),x.length&&(a=i2t(a,'<g transform="'+x.join(" ")+'">',"</g>"))});const s=r.width,l=r.height,c=i.width,u=i.height;let d,h;s===null?(h=l===null?"1em":l==="auto"?u:l,d=aq(h,c/u)):(d=s==="auto"?c:s,h=l===null?aq(d,u/c):l==="auto"?u:l);const f={},m=(g,x)=>{a2t(x)||(f[g]=x.toString())};m("width",d),m("height",h);const p=[i.left,i.top,c,u];return f.viewBox=p.join(" "),{attributes:f,viewBox:p,body:a}}const o2t=/\sid="(\S+)"/g,l2t="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let c2t=0;function u2t(e,t=l2t){const n=[];let r;for(;r=o2t.exec(e);)n.push(r[1]);if(!n.length)return e;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(a=>{const s=typeof t=="function"?t(a):t+(c2t++).toString(),l=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+l+')([")]|\\.[a-z])',"g"),"$1"+s+i+"$3")}),e=e.replace(new RegExp(i,"g"),""),e}function d2t(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in t)n+=" "+r+'="'+t[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}var h2t={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},ZI=new Map,Wfe=new Map,f2t=F(e=>{for(const t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(je.debug("Registering icon pack:",t.name),"loader"in t)Wfe.set(t.name,t.loader);else if("icons"in t)ZI.set(t.name,t.icons);else throw je.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),m2t=F(async(e,t)=>{const n=XCt(e,!0,t!==void 0);if(!n)throw new Error(`Invalid icon name: ${e}`);const r=n.prefix||t;if(!r)throw new Error(`Icon name must contain a prefix: ${e}`);let i=ZI.get(r);if(!i){const s=Wfe.get(r);if(!s)throw new Error(`Icon set not found: ${n.prefix}`);try{i={...await s(),prefix:r},ZI.set(r,i)}catch(l){throw je.error(l),new Error(`Failed to load icon set: ${n.prefix}`)}}const a=JCt(i,n.name);if(!a)throw new Error(`Icon not found: ${e}`);return a},"getRegisteredIconData"),mN=F(async(e,t)=>{let n;try{n=await m2t(e,t==null?void 0:t.fallbackPrefix)}catch(a){je.error(a),n=h2t}const r=s2t(n,t);return d2t(u2t(r.body),r.attributes)},"getIconSVG"),G$={},ui={};Object.defineProperty(ui,"__esModule",{value:!0});ui.BLANK_URL=ui.relativeFirstCharacters=ui.whitespaceEscapeCharsRegex=ui.urlSchemeRegex=ui.ctrlCharactersRegex=ui.htmlCtrlEntityRegex=ui.htmlEntitiesRegex=ui.invalidProtocolRegex=void 0;ui.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im;ui.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g;ui.htmlCtrlEntityRegex=/&(newline|tab);/gi;ui.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;ui.urlSchemeRegex=/^.+(:|&colon;)/gim;ui.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g;ui.relativeFirstCharacters=[".","/"];ui.BLANK_URL="about:blank";Object.defineProperty(G$,"__esModule",{value:!0});var qfe=G$.sanitizeUrl=void 0,Mi=ui;function p2t(e){return Mi.relativeFirstCharacters.indexOf(e[0])>-1}function g2t(e){var t=e.replace(Mi.ctrlCharactersRegex,"");return t.replace(Mi.htmlEntitiesRegex,function(n,r){return String.fromCharCode(r)})}function y2t(e){return URL.canParse(e)}function sq(e){try{return decodeURIComponent(e)}catch{return e}}function x2t(e){if(!e)return Mi.BLANK_URL;var t,n=sq(e.trim());do n=g2t(n).replace(Mi.htmlCtrlEntityRegex,"").replace(Mi.ctrlCharactersRegex,"").replace(Mi.whitespaceEscapeCharsRegex,"").trim(),n=sq(n),t=n.match(Mi.ctrlCharactersRegex)||n.match(Mi.htmlEntitiesRegex)||n.match(Mi.htmlCtrlEntityRegex)||n.match(Mi.whitespaceEscapeCharsRegex);while(t&&t.length>0);var r=n;if(!r)return Mi.BLANK_URL;if(p2t(r))return r;var i=r.trimStart(),a=i.match(Mi.urlSchemeRegex);if(!a)return r;var s=a[0].toLowerCase().trim();if(Mi.invalidProtocolRegex.test(s))return Mi.BLANK_URL;var l=i.replace(/\\/g,"/");if(s==="mailto:"||s.includes("://"))return l;if(s==="http:"||s==="https:"){if(!y2t(l))return Mi.BLANK_URL;var c=new URL(l);return c.protocol=c.protocol.toLowerCase(),c.hostname=c.hostname.toLowerCase(),c.toString()}return l}qfe=G$.sanitizeUrl=x2t;var Gfe=typeof global=="object"&&global&&global.Object===Object&&global,v2t=typeof self=="object"&&self&&self.Object===Object&&self,Rl=Gfe||v2t||Function("return this")(),TC=Rl.Symbol,Yfe=Object.prototype,b2t=Yfe.hasOwnProperty,w2t=Yfe.toString,fy=TC?TC.toStringTag:void 0;function E2t(e){var t=b2t.call(e,fy),n=e[fy];try{e[fy]=void 0;var r=!0}catch{}var i=w2t.call(e);return r&&(t?e[fy]=n:delete e[fy]),i}var S2t=Object.prototype,_2t=S2t.toString;function C2t(e){return _2t.call(e)}var T2t="[object Null]",N2t="[object Undefined]",oq=TC?TC.toStringTag:void 0;function p0(e){return e==null?e===void 0?N2t:T2t:oq&&oq in Object(e)?E2t(e):C2t(e)}function If(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var k2t="[object AsyncFunction]",A2t="[object Function]",j2t="[object GeneratorFunction]",O2t="[object Proxy]";function Y$(e){if(!If(e))return!1;var t=p0(e);return t==A2t||t==j2t||t==k2t||t==O2t}var lj=Rl["__core-js_shared__"],lq=function(){var e=/[^.]+$/.exec(lj&&lj.keys&&lj.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function P2t(e){return!!lq&&lq in e}var M2t=Function.prototype,I2t=M2t.toString;function Rf(e){if(e!=null){try{return I2t.call(e)}catch{}try{return e+""}catch{}}return""}var R2t=/[\\^$.*+?()[\]{}|]/g,D2t=/^\[object .+?Constructor\]$/,L2t=Function.prototype,$2t=Object.prototype,B2t=L2t.toString,F2t=$2t.hasOwnProperty,z2t=RegExp("^"+B2t.call(F2t).replace(R2t,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function U2t(e){if(!If(e)||P2t(e))return!1;var t=Y$(e)?z2t:D2t;return t.test(Rf(e))}function H2t(e,t){return e==null?void 0:e[t]}function Df(e,t){var n=H2t(e,t);return U2t(n)?n:void 0}var hb=Df(Object,"create");function V2t(){this.__data__=hb?hb(null):{},this.size=0}function W2t(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var q2t="__lodash_hash_undefined__",G2t=Object.prototype,Y2t=G2t.hasOwnProperty;function K2t(e){var t=this.__data__;if(hb){var n=t[e];return n===q2t?void 0:n}return Y2t.call(t,e)?t[e]:void 0}var X2t=Object.prototype,Z2t=X2t.hasOwnProperty;function Q2t(e){var t=this.__data__;return hb?t[e]!==void 0:Z2t.call(t,e)}var J2t="__lodash_hash_undefined__";function eTt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=hb&&t===void 0?J2t:t,this}function hf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}hf.prototype.clear=V2t;hf.prototype.delete=W2t;hf.prototype.get=K2t;hf.prototype.has=Q2t;hf.prototype.set=eTt;function tTt(){this.__data__=[],this.size=0}function pN(e,t){return e===t||e!==e&&t!==t}function gN(e,t){for(var n=e.length;n--;)if(pN(e[n][0],t))return n;return-1}var nTt=Array.prototype,rTt=nTt.splice;function iTt(e){var t=this.__data__,n=gN(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():rTt.call(t,n,1),--this.size,!0}function aTt(e){var t=this.__data__,n=gN(t,e);return n<0?void 0:t[n][1]}function sTt(e){return gN(this.__data__,e)>-1}function oTt(e,t){var n=this.__data__,r=gN(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Uc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Uc.prototype.clear=tTt;Uc.prototype.delete=iTt;Uc.prototype.get=aTt;Uc.prototype.has=sTt;Uc.prototype.set=oTt;var fb=Df(Rl,"Map");function lTt(){this.size=0,this.__data__={hash:new hf,map:new(fb||Uc),string:new hf}}function cTt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function yN(e,t){var n=e.__data__;return cTt(t)?n[typeof t=="string"?"string":"hash"]:n.map}function uTt(e){var t=yN(this,e).delete(e);return this.size-=t?1:0,t}function dTt(e){return yN(this,e).get(e)}function hTt(e){return yN(this,e).has(e)}function fTt(e,t){var n=yN(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Md(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Md.prototype.clear=lTt;Md.prototype.delete=uTt;Md.prototype.get=dTt;Md.prototype.has=hTt;Md.prototype.set=fTt;var mTt="Expected a function";function x1(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(mTt);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=e.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(x1.Cache||Md),n}x1.Cache=Md;function pTt(){this.__data__=new Uc,this.size=0}function gTt(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function yTt(e){return this.__data__.get(e)}function xTt(e){return this.__data__.has(e)}var vTt=200;function bTt(e,t){var n=this.__data__;if(n instanceof Uc){var r=n.__data__;if(!fb||r.length<vTt-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Md(r)}return n.set(e,t),this.size=n.size,this}function g0(e){var t=this.__data__=new Uc(e);this.size=t.size}g0.prototype.clear=pTt;g0.prototype.delete=gTt;g0.prototype.get=yTt;g0.prototype.has=xTt;g0.prototype.set=bTt;var NC=function(){try{var e=Df(Object,"defineProperty");return e({},"",{}),e}catch{}}();function K$(e,t,n){t=="__proto__"&&NC?NC(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function QI(e,t,n){(n!==void 0&&!pN(e[t],n)||n===void 0&&!(t in e))&&K$(e,t,n)}function wTt(e){return function(t,n,r){for(var i=-1,a=Object(t),s=r(t),l=s.length;l--;){var c=s[++i];if(n(a[c],c,a)===!1)break}return t}}var ETt=wTt(),Kfe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,cq=Kfe&&typeof module=="object"&&module&&!module.nodeType&&module,STt=cq&&cq.exports===Kfe,uq=STt?Rl.Buffer:void 0,dq=uq?uq.allocUnsafe:void 0;function _Tt(e,t){if(t)return e.slice();var n=e.length,r=dq?dq(n):new e.constructor(n);return e.copy(r),r}var hq=Rl.Uint8Array;function CTt(e){var t=new e.constructor(e.byteLength);return new hq(t).set(new hq(e)),t}function TTt(e,t){var n=t?CTt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function NTt(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var fq=Object.create,kTt=function(){function e(){}return function(t){if(!If(t))return{};if(fq)return fq(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Xfe(e,t){return function(n){return e(t(n))}}var Zfe=Xfe(Object.getPrototypeOf,Object),ATt=Object.prototype;function xN(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||ATt;return e===n}function jTt(e){return typeof e.constructor=="function"&&!xN(e)?kTt(Zfe(e)):{}}function v1(e){return e!=null&&typeof e=="object"}var OTt="[object Arguments]";function mq(e){return v1(e)&&p0(e)==OTt}var Qfe=Object.prototype,PTt=Qfe.hasOwnProperty,MTt=Qfe.propertyIsEnumerable,kC=mq(function(){return arguments}())?mq:function(e){return v1(e)&&PTt.call(e,"callee")&&!MTt.call(e,"callee")},AC=Array.isArray,ITt=9007199254740991;function Jfe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ITt}function vN(e){return e!=null&&Jfe(e.length)&&!Y$(e)}function RTt(e){return v1(e)&&vN(e)}function DTt(){return!1}var eme=typeof exports=="object"&&exports&&!exports.nodeType&&exports,pq=eme&&typeof module=="object"&&module&&!module.nodeType&&module,LTt=pq&&pq.exports===eme,gq=LTt?Rl.Buffer:void 0,$Tt=gq?gq.isBuffer:void 0,X$=$Tt||DTt,BTt="[object Object]",FTt=Function.prototype,zTt=Object.prototype,tme=FTt.toString,UTt=zTt.hasOwnProperty,HTt=tme.call(Object);function VTt(e){if(!v1(e)||p0(e)!=BTt)return!1;var t=Zfe(e);if(t===null)return!0;var n=UTt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&tme.call(n)==HTt}var WTt="[object Arguments]",qTt="[object Array]",GTt="[object Boolean]",YTt="[object Date]",KTt="[object Error]",XTt="[object Function]",ZTt="[object Map]",QTt="[object Number]",JTt="[object Object]",eNt="[object RegExp]",tNt="[object Set]",nNt="[object String]",rNt="[object WeakMap]",iNt="[object ArrayBuffer]",aNt="[object DataView]",sNt="[object Float32Array]",oNt="[object Float64Array]",lNt="[object Int8Array]",cNt="[object Int16Array]",uNt="[object Int32Array]",dNt="[object Uint8Array]",hNt="[object Uint8ClampedArray]",fNt="[object Uint16Array]",mNt="[object Uint32Array]",Gn={};Gn[sNt]=Gn[oNt]=Gn[lNt]=Gn[cNt]=Gn[uNt]=Gn[dNt]=Gn[hNt]=Gn[fNt]=Gn[mNt]=!0;Gn[WTt]=Gn[qTt]=Gn[iNt]=Gn[GTt]=Gn[aNt]=Gn[YTt]=Gn[KTt]=Gn[XTt]=Gn[ZTt]=Gn[QTt]=Gn[JTt]=Gn[eNt]=Gn[tNt]=Gn[nNt]=Gn[rNt]=!1;function pNt(e){return v1(e)&&Jfe(e.length)&&!!Gn[p0(e)]}function gNt(e){return function(t){return e(t)}}var nme=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_x=nme&&typeof module=="object"&&module&&!module.nodeType&&module,yNt=_x&&_x.exports===nme,cj=yNt&&Gfe.process,yq=function(){try{var e=_x&&_x.require&&_x.require("util").types;return e||cj&&cj.binding&&cj.binding("util")}catch{}}(),xq=yq&&yq.isTypedArray,Z$=xq?gNt(xq):pNt;function JI(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var xNt=Object.prototype,vNt=xNt.hasOwnProperty;function bNt(e,t,n){var r=e[t];(!(vNt.call(e,t)&&pN(r,n))||n===void 0&&!(t in e))&&K$(e,t,n)}function wNt(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var l=t[a],c=void 0;c===void 0&&(c=e[l]),i?K$(n,l,c):bNt(n,l,c)}return n}function ENt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var SNt=9007199254740991,_Nt=/^(?:0|[1-9]\d*)$/;function rme(e,t){var n=typeof e;return t=t??SNt,!!t&&(n=="number"||n!="symbol"&&_Nt.test(e))&&e>-1&&e%1==0&&e<t}var CNt=Object.prototype,TNt=CNt.hasOwnProperty;function NNt(e,t){var n=AC(e),r=!n&&kC(e),i=!n&&!r&&X$(e),a=!n&&!r&&!i&&Z$(e),s=n||r||i||a,l=s?ENt(e.length,String):[],c=l.length;for(var u in e)(t||TNt.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||rme(u,c)))&&l.push(u);return l}function kNt(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var ANt=Object.prototype,jNt=ANt.hasOwnProperty;function ONt(e){if(!If(e))return kNt(e);var t=xN(e),n=[];for(var r in e)r=="constructor"&&(t||!jNt.call(e,r))||n.push(r);return n}function ime(e){return vN(e)?NNt(e,!0):ONt(e)}function PNt(e){return wNt(e,ime(e))}function MNt(e,t,n,r,i,a,s){var l=JI(e,n),c=JI(t,n),u=s.get(c);if(u){QI(e,n,u);return}var d=a?a(l,c,n+"",e,t,s):void 0,h=d===void 0;if(h){var f=AC(c),m=!f&&X$(c),p=!f&&!m&&Z$(c);d=c,f||m||p?AC(l)?d=l:RTt(l)?d=NTt(l):m?(h=!1,d=_Tt(c,!0)):p?(h=!1,d=TTt(c,!0)):d=[]:VTt(c)||kC(c)?(d=l,kC(l)?d=PNt(l):(!If(l)||Y$(l))&&(d=jTt(c))):h=!1}h&&(s.set(c,d),i(d,c,r,a,s),s.delete(c)),QI(e,n,d)}function ame(e,t,n,r,i){e!==t&&ETt(t,function(a,s){if(i||(i=new g0),If(a))MNt(e,t,s,n,ame,r,i);else{var l=r?r(JI(e,s),a,s+"",e,t,i):void 0;l===void 0&&(l=a),QI(e,s,l)}},ime)}function sme(e){return e}function INt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var vq=Math.max;function RNt(e,t,n){return t=vq(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=vq(r.length-t,0),s=Array(a);++i<a;)s[i]=r[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=r[i];return l[t]=n(s),INt(e,this,l)}}function DNt(e){return function(){return e}}var LNt=NC?function(e,t){return NC(e,"toString",{configurable:!0,enumerable:!1,value:DNt(t),writable:!0})}:sme,$Nt=800,BNt=16,FNt=Date.now;function zNt(e){var t=0,n=0;return function(){var r=FNt(),i=BNt-(r-n);if(n=r,i>0){if(++t>=$Nt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var UNt=zNt(LNt);function HNt(e,t){return UNt(RNt(e,t,sme),e+"")}function VNt(e,t,n){if(!If(n))return!1;var r=typeof t;return(r=="number"?vN(n)&&rme(t,n.length):r=="string"&&t in n)?pN(n[t],e):!1}function WNt(e){return HNt(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,s&&VNt(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,a)}return t})}var qNt=WNt(function(e,t,n){ame(e,t,n)}),GNt="",YNt={curveBasis:nx,curveBasisClosed:Tie,curveBasisOpen:kie,curveBumpX:CL,curveBumpY:TL,curveBundle:j7e,curveCardinalClosed:O7e,curveCardinalOpen:P7e,curveCardinal:jie,curveCatmullRomClosed:M7e,curveCatmullRomOpen:I7e,curveCatmullRom:Pie,curveLinear:Qh,curveLinearClosed:Die,curveMonotoneX:PL,curveMonotoneY:ML,curveNatural:IL,curveStep:RL,curveStepAfter:LL,curveStepBefore:DL},KNt=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,XNt=F(function(e,t){const n=ome(e,/(?:init\b)|(?:initialize\b)/);let r={};if(Array.isArray(n)){const s=n.map(l=>l.args);pC(s),r=_i(r,[...s])}else r=n.args;if(!r)return;let i=P$(e,t);const a="config";return r[a]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),r[i]=r[a],delete r[a]),r},"detectInit"),ome=F(function(e,t=null){var n,r;try{const i=new RegExp(`[%]{2}(?![{]${KNt.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(i,"").replace(/'/gm,'"'),je.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let a;const s=[];for(;(a=Ex.exec(e))!==null;)if(a.index===Ex.lastIndex&&Ex.lastIndex++,a&&!t||t&&((n=a[1])!=null&&n.match(t))||t&&((r=a[2])!=null&&r.match(t))){const l=a[1]?a[1]:a[2],c=a[3]?a[3].trim():a[4]?JSON.parse(a[4].trim()):null;s.push({type:l,args:c})}return s.length===0?{type:e,args:null}:s.length===1?s[0]:s}catch(i){return je.error(`ERROR: ${i.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),ZNt=F(function(e){return e.replace(Ex,"")},"removeDirectives"),QNt=F(function(e,t){for(const[n,r]of t.entries())if(r.match(e))return n;return-1},"isSubstringInArray");function Q$(e,t){if(!e)return t;const n=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return YNt[n]??t}F(Q$,"interpolateToCurve");function lme(e,t){const n=e.trim();if(n)return t.securityLevel!=="loose"?qfe(n):n}F(lme,"formatUrl");var JNt=F((e,...t)=>{const n=e.split("."),r=n.length-1,i=n[r];let a=window;for(let s=0;s<r;s++)if(a=a[n[s]],!a){je.error(`Function name: ${e} not found in window`);return}a[i](...t)},"runFunc");function J$(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}F(J$,"distance");function cme(e){let t,n=0;e.forEach(i=>{n+=J$(i,t),t=i});const r=n/2;return e5(e,r)}F(cme,"traverseEdge");function ume(e){return e.length===1?e[0]:cme(e)}F(ume,"calcLabelPosition");var bq=F((e,t=2)=>{const n=Math.pow(10,t);return Math.round(e*n)/n},"roundNumber"),e5=F((e,t)=>{let n,r=t;for(const i of e){if(n){const a=J$(i,n);if(a===0)return n;if(a<r)r-=a;else{const s=r/a;if(s<=0)return n;if(s>=1)return{x:i.x,y:i.y};if(s>0&&s<1)return{x:bq((1-s)*n.x+s*i.x,5),y:bq((1-s)*n.y+s*i.y,5)}}}n=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),ekt=F((e,t,n)=>{je.info(`our points ${JSON.stringify(t)}`),t[0]!==n&&(t=t.reverse());const i=e5(t,25),a=e?10:5,s=Math.atan2(t[0].y-i.y,t[0].x-i.x),l={x:0,y:0};return l.x=Math.sin(s)*a+(t[0].x+i.x)/2,l.y=-Math.cos(s)*a+(t[0].y+i.y)/2,l},"calcCardinalityPosition");function dme(e,t,n){const r=structuredClone(n);je.info("our points",r),t!=="start_left"&&t!=="start_right"&&r.reverse();const i=25+e,a=e5(r,i),s=10+e*.5,l=Math.atan2(r[0].y-a.y,r[0].x-a.x),c={x:0,y:0};return t==="start_left"?(c.x=Math.sin(l+Math.PI)*s+(r[0].x+a.x)/2,c.y=-Math.cos(l+Math.PI)*s+(r[0].y+a.y)/2):t==="end_right"?(c.x=Math.sin(l-Math.PI)*s+(r[0].x+a.x)/2-5,c.y=-Math.cos(l-Math.PI)*s+(r[0].y+a.y)/2-5):t==="end_left"?(c.x=Math.sin(l)*s+(r[0].x+a.x)/2-5,c.y=-Math.cos(l)*s+(r[0].y+a.y)/2-5):(c.x=Math.sin(l)*s+(r[0].x+a.x)/2,c.y=-Math.cos(l)*s+(r[0].y+a.y)/2),c}F(dme,"calcTerminalLabelPosition");function hme(e){let t="",n="";for(const r of e)r!==void 0&&(r.startsWith("color:")||r.startsWith("text-align:")?n=n+r+";":t=t+r+";");return{style:t,labelStyle:n}}F(hme,"getStylesFromArray");var wq=0,tkt=F(()=>(wq++,"id-"+Math.random().toString(36).substr(2,12)+"-"+wq),"generateId");function fme(e){let t="";const n="0123456789abcdef",r=n.length;for(let i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*r));return t}F(fme,"makeRandomHex");var nkt=F(e=>fme(e.length),"random"),rkt=F(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),ikt=F(function(e,t){const n=t.text.replace(m0.lineBreakRegex," "),[,r]=bN(t.fontSize),i=e.append("text");i.attr("x",t.x),i.attr("y",t.y),i.style("text-anchor",t.anchor),i.style("font-family",t.fontFamily),i.style("font-size",r),i.style("font-weight",t.fontWeight),i.attr("fill",t.fill),t.class!==void 0&&i.attr("class",t.class);const a=i.append("tspan");return a.attr("x",t.x+t.textMargin*2),a.attr("fill",t.fill),a.text(n),i},"drawSimpleText"),akt=x1((e,t,n)=>{if(!e||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),m0.lineBreakRegex.test(e)))return e;const r=e.split(" ").filter(Boolean),i=[];let a="";return r.forEach((s,l)=>{const c=Ic(`${s} `,n),u=Ic(a,n);if(c>t){const{hyphenatedStrings:f,remainingWord:m}=skt(s,t,"-",n);i.push(a,...f),a=m}else u+c>=t?(i.push(a),a=s):a=[a,s].filter(Boolean).join(" ");l+1===r.length&&i.push(a)}),i.filter(s=>s!=="").join(n.joinWith)},(e,t,n)=>`${e}${t}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),skt=x1((e,t,n="-",r)=>{r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},r);const i=[...e],a=[];let s="";return i.forEach((l,c)=>{const u=`${s}${l}`;if(Ic(u,r)>=t){const h=c+1,f=i.length===h,m=`${u}${n}`;a.push(f?u:m),s=""}else s=u}),{hyphenatedStrings:a,remainingWord:s}},(e,t,n="-",r)=>`${e}${t}${n}${r.fontSize}${r.fontWeight}${r.fontFamily}`);function mme(e,t){return t5(e,t).height}F(mme,"calculateTextHeight");function Ic(e,t){return t5(e,t).width}F(Ic,"calculateTextWidth");var t5=x1((e,t)=>{const{fontSize:n=12,fontFamily:r="Arial",fontWeight:i=400}=t;if(!e)return{width:0,height:0};const[,a]=bN(n),s=["sans-serif",r],l=e.split(m0.lineBreakRegex),c=[],u=Lt("body");if(!u.remove)return{width:0,height:0,lineHeight:0};const d=u.append("svg");for(const f of s){let m=0;const p={width:0,height:0,lineHeight:0};for(const g of l){const x=rkt();x.text=g||GNt;const y=ikt(d,x).style("font-size",a).style("font-weight",i).style("font-family",f),v=(y._groups||y)[0][0].getBBox();if(v.width===0&&v.height===0)throw new Error("svg element not in render tree");p.width=Math.round(Math.max(p.width,v.width)),m=Math.round(v.height),p.height+=m,p.lineHeight=Math.round(Math.max(p.lineHeight,m))}c.push(p)}d.remove();const h=isNaN(c[1].height)||isNaN(c[1].width)||isNaN(c[1].lineHeight)||c[0].height>c[1].height&&c[0].width>c[1].width&&c[0].lineHeight>c[1].lineHeight?0:1;return c[h]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),bp,okt=(bp=class{constructor(t=!1,n){this.count=0,this.count=n?n.length:0,this.next=t?()=>this.count++:()=>Date.now()}},F(bp,"InitIDGenerator"),bp),Kw,lkt=F(function(e){return Kw=Kw||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Kw.innerHTML=e,unescape(Kw.textContent)},"entityDecode");function n5(e){return"str"in e}F(n5,"isDetailedError");var ckt=F((e,t,n,r)=>{var a;if(!r)return;const i=(a=e.node())==null?void 0:a.getBBox();i&&e.append("text").text(r).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-n).attr("class",t)},"insertTitle"),bN=F(e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");function r5(e,t){return qNt({},e,t)}F(r5,"cleanAndMerge");var il={assignWithDepth:_i,wrapLabel:akt,calculateTextHeight:mme,calculateTextWidth:Ic,calculateTextDimensions:t5,cleanAndMerge:r5,detectInit:XNt,detectDirective:ome,isSubstringInArray:QNt,interpolateToCurve:Q$,calcLabelPosition:ume,calcCardinalityPosition:ekt,calcTerminalLabelPosition:dme,formatUrl:lme,getStylesFromArray:hme,generateId:tkt,random:nkt,runFunc:JNt,entityDecode:lkt,insertTitle:ckt,parseFontSize:bN,InitIDGenerator:okt},ukt=F(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),t=t.replace(/#\w+;/g,function(n){const r=n.substring(1,n.length-1);return/^\+?\d+$/.test(r)?""+r+"":""+r+""}),t},"encodeEntities"),Lf=F(function(e){return e.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),iDt=F((e,t,{counter:n=0,prefix:r,suffix:i},a)=>a||`${r?`${r}_`:""}${e}_${t}_${n}${i?`_${i}`:""}`,"getEdgeId");function ya(e){return e??null}F(ya,"handleUndefinedAttr");function i5(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var $f=i5();function pme(e){$f=e}var Cx={exec:()=>null};function Sn(e,t=""){let n=typeof e=="string"?e:e.source;const r={replace:(i,a)=>{let s=typeof a=="string"?a:a.source;return s=s.replace(ma.caret,"$1"),n=n.replace(i,s),r},getRegex:()=>new RegExp(n,t)};return r}var ma={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},dkt=/^(?:[ \t]*(?:\n|$))+/,hkt=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,fkt=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,b1=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,mkt=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,a5=/(?:[*+-]|\d{1,9}[.)])/,gme=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,yme=Sn(gme).replace(/bull/g,a5).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),pkt=Sn(gme).replace(/bull/g,a5).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),s5=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,gkt=/^[^\n]+/,o5=/(?!\s*\])(?:\\.|[^\[\]\\])+/,ykt=Sn(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",o5).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),xkt=Sn(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,a5).getRegex(),wN="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",l5=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,vkt=Sn("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",l5).replace("tag",wN).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),xme=Sn(s5).replace("hr",b1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wN).getRegex(),bkt=Sn(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",xme).getRegex(),c5={blockquote:bkt,code:hkt,def:ykt,fences:fkt,heading:mkt,hr:b1,html:vkt,lheading:yme,list:xkt,newline:dkt,paragraph:xme,table:Cx,text:gkt},Eq=Sn("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",b1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wN).getRegex(),wkt={...c5,lheading:pkt,table:Eq,paragraph:Sn(s5).replace("hr",b1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Eq).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wN).getRegex()},Ekt={...c5,html:Sn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",l5).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Cx,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Sn(s5).replace("hr",b1).replace("heading",` *#{1,6} *[^
]`).replace("lheading",yme).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Skt=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,_kt=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,vme=/^( {2,}|\\)\n(?!\s*$)/,Ckt=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,EN=/[\p{P}\p{S}]/u,u5=/[\s\p{P}\p{S}]/u,bme=/[^\s\p{P}\p{S}]/u,Tkt=Sn(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,u5).getRegex(),wme=/(?!~)[\p{P}\p{S}]/u,Nkt=/(?!~)[\s\p{P}\p{S}]/u,kkt=/(?:[^\s\p{P}\p{S}]|~)/u,Akt=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Eme=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,jkt=Sn(Eme,"u").replace(/punct/g,EN).getRegex(),Okt=Sn(Eme,"u").replace(/punct/g,wme).getRegex(),Sme="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Pkt=Sn(Sme,"gu").replace(/notPunctSpace/g,bme).replace(/punctSpace/g,u5).replace(/punct/g,EN).getRegex(),Mkt=Sn(Sme,"gu").replace(/notPunctSpace/g,kkt).replace(/punctSpace/g,Nkt).replace(/punct/g,wme).getRegex(),Ikt=Sn("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,bme).replace(/punctSpace/g,u5).replace(/punct/g,EN).getRegex(),Rkt=Sn(/\\(punct)/,"gu").replace(/punct/g,EN).getRegex(),Dkt=Sn(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Lkt=Sn(l5).replace("(?:-->|$)","-->").getRegex(),$kt=Sn("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Lkt).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),jC=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Bkt=Sn(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",jC).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),_me=Sn(/^!?\[(label)\]\[(ref)\]/).replace("label",jC).replace("ref",o5).getRegex(),Cme=Sn(/^!?\[(ref)\](?:\[\])?/).replace("ref",o5).getRegex(),Fkt=Sn("reflink|nolink(?!\\()","g").replace("reflink",_me).replace("nolink",Cme).getRegex(),d5={_backpedal:Cx,anyPunctuation:Rkt,autolink:Dkt,blockSkip:Akt,br:vme,code:_kt,del:Cx,emStrongLDelim:jkt,emStrongRDelimAst:Pkt,emStrongRDelimUnd:Ikt,escape:Skt,link:Bkt,nolink:Cme,punctuation:Tkt,reflink:_me,reflinkSearch:Fkt,tag:$kt,text:Ckt,url:Cx},zkt={...d5,link:Sn(/^!?\[(label)\]\((.*?)\)/).replace("label",jC).getRegex(),reflink:Sn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",jC).getRegex()},eR={...d5,emStrongRDelimAst:Mkt,emStrongLDelim:Okt,url:Sn(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Ukt={...eR,br:Sn(vme).replace("{2,}","*").getRegex(),text:Sn(eR.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Xw={normal:c5,gfm:wkt,pedantic:Ekt},my={normal:d5,gfm:eR,breaks:Ukt,pedantic:zkt},Hkt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Sq=e=>Hkt[e];function qo(e,t){if(t){if(ma.escapeTest.test(e))return e.replace(ma.escapeReplace,Sq)}else if(ma.escapeTestNoEncode.test(e))return e.replace(ma.escapeReplaceNoEncode,Sq);return e}function _q(e){try{e=encodeURI(e).replace(ma.percentDecode,"%")}catch{return null}return e}function Cq(e,t){var a;const n=e.replace(ma.findPipe,(s,l,c)=>{let u=!1,d=l;for(;--d>=0&&c[d]==="\\";)u=!u;return u?"|":" |"}),r=n.split(ma.splitPipe);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!((a=r.at(-1))!=null&&a.trim())&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(ma.slashPipe,"|");return r}function py(e,t,n){const r=e.length;if(r===0)return"";let i=0;for(;i<r;){const a=e.charAt(r-i-1);if(a===t&&!n)i++;else if(a!==t&&n)i++;else break}return e.slice(0,r-i)}function Vkt(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let r=0;r<e.length;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}function Tq(e,t,n,r,i){const a=t.href,s=t.title||null,l=e[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;const c={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:a,title:s,text:l,tokens:r.inlineTokens(l)};return r.state.inLink=!1,c}function Wkt(e,t,n){const r=e.match(n.other.indentCodeCompensation);if(r===null)return t;const i=r[1];return t.split(`
`).map(a=>{const s=a.match(n.other.beginningSpace);if(s===null)return a;const[l]=s;return l.length>=i.length?a.slice(i.length):a}).join(`
`)}var OC=class{constructor(e){ot(this,"options");ot(this,"rules");ot(this,"lexer");this.options=e||$f}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:py(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],r=Wkt(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){const r=py(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:py(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let n=py(t[0],`
`).split(`
`),r="",i="";const a=[];for(;n.length>0;){let s=!1;const l=[];let c;for(c=0;c<n.length;c++)if(this.rules.other.blockquoteStart.test(n[c]))l.push(n[c]),s=!0;else if(!s)l.push(n[c]);else break;n=n.slice(c);const u=l.join(`
`),d=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${u}`:u,i=i?`${i}
${d}`:d;const h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,a,!0),this.lexer.state.top=h,n.length===0)break;const f=a.at(-1);if((f==null?void 0:f.type)==="code")break;if((f==null?void 0:f.type)==="blockquote"){const m=f,p=m.raw+`
`+n.join(`
`),g=this.blockquote(p);a[a.length-1]=g,r=r.substring(0,r.length-m.raw.length)+g.raw,i=i.substring(0,i.length-m.text.length)+g.text;break}else if((f==null?void 0:f.type)==="list"){const m=f,p=m.raw+`
`+n.join(`
`),g=this.list(p);a[a.length-1]=g,r=r.substring(0,r.length-f.raw.length)+g.raw,i=i.substring(0,i.length-m.raw.length)+g.raw,n=p.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:a,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const a=this.rules.other.listItemRegex(n);let s=!1;for(;e;){let c=!1,u="",d="";if(!(t=a.exec(e))||this.rules.block.hr.test(e))break;u=t[0],e=e.substring(u.length);let h=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,y=>" ".repeat(3*y.length)),f=e.split(`
`,1)[0],m=!h.trim(),p=0;if(this.options.pedantic?(p=2,d=h.trimStart()):m?p=t[1].length+1:(p=t[2].search(this.rules.other.nonSpaceChar),p=p>4?1:p,d=h.slice(p),p+=t[1].length),m&&this.rules.other.blankLine.test(f)&&(u+=f+`
`,e=e.substring(f.length+1),c=!0),!c){const y=this.rules.other.nextBulletRegex(p),v=this.rules.other.hrRegex(p),b=this.rules.other.fencesBeginRegex(p),E=this.rules.other.headingBeginRegex(p),_=this.rules.other.htmlBeginRegex(p);for(;e;){const S=e.split(`
`,1)[0];let C;if(f=S,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),C=f):C=f.replace(this.rules.other.tabCharGlobal,"    "),b.test(f)||E.test(f)||_.test(f)||y.test(f)||v.test(f))break;if(C.search(this.rules.other.nonSpaceChar)>=p||!f.trim())d+=`
`+C.slice(p);else{if(m||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||b.test(h)||E.test(h)||v.test(h))break;d+=`
`+f}!m&&!f.trim()&&(m=!0),u+=S+`
`,e=e.substring(S.length+1),h=C.slice(p)}}i.loose||(s?i.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(s=!0));let g=null,x;this.options.gfm&&(g=this.rules.other.listIsTask.exec(d),g&&(x=g[0]!=="[ ] ",d=d.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:u,task:!!g,checked:x,loose:!1,text:d,tokens:[]}),i.raw+=u}const l=i.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let c=0;c<i.items.length;c++)if(this.lexer.state.top=!1,i.items[c].tokens=this.lexer.blockTokens(i.items[c].text,[]),!i.loose){const u=i.items[c].tokens.filter(h=>h.type==="space"),d=u.length>0&&u.some(h=>this.rules.other.anyLine.test(h.raw));i.loose=d}if(i.loose)for(let c=0;c<i.items.length;c++)i.items[c].loose=!0;return i}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:i}}}table(e){var s;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const n=Cq(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(s=t[3])!=null&&s.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const l of r)this.rules.other.tableAlignRight.test(l)?a.align.push("right"):this.rules.other.tableAlignCenter.test(l)?a.align.push("center"):this.rules.other.tableAlignLeft.test(l)?a.align.push("left"):a.align.push(null);for(let l=0;l<n.length;l++)a.header.push({text:n[l],tokens:this.lexer.inline(n[l]),header:!0,align:a.align[l]});for(const l of i)a.rows.push(Cq(l,a.header.length).map((c,u)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:a.align[u]})));return a}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const a=py(n.slice(0,-1),"\\");if((n.length-a.length)%2===0)return}else{const a=Vkt(t[2],"()");if(a===-2)return;if(a>-1){const l=(t[0].indexOf("!")===0?5:4)+t[1].length+a;t[2]=t[2].substring(0,a),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let r=t[2],i="";if(this.options.pedantic){const a=this.rules.other.pedanticHrefTitle.exec(r);a&&(r=a[1],i=a[3])}else i=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),Tq(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=t[r.toLowerCase()];if(!i){const a=n[0].charAt(0);return{type:"text",raw:a,text:a}}return Tq(n,i,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const a=[...r[0]].length-1;let s,l,c=a,u=0;const d=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,t=t.slice(-1*e.length+a);(r=d.exec(t))!=null;){if(s=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!s)continue;if(l=[...s].length,r[3]||r[4]){c+=l;continue}else if((r[5]||r[6])&&a%3&&!((a+l)%3)){u+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+u);const h=[...r[0]][0].length,f=e.slice(0,a+r.index+h+l);if(Math.min(a,l)%2){const p=f.slice(1,-1);return{type:"em",raw:f,text:p,tokens:this.lexer.inlineTokens(p)}}const m=f.slice(2,-2);return{type:"strong",raw:f,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," ");const r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]==="@"?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let t;if(t=this.rules.inline.url.exec(e)){let r,i;if(t[2]==="@")r=t[0],i="mailto:"+r;else{let a;do a=t[0],t[0]=((n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])??"";while(a!==t[0]);r=t[0],t[1]==="www."?i="http://"+t[0]:i=t[0]}return{type:"link",raw:t[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},dc=class tR{constructor(t){ot(this,"tokens");ot(this,"options");ot(this,"state");ot(this,"tokenizer");ot(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||$f,this.options.tokenizer=this.options.tokenizer||new OC,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:ma,block:Xw.normal,inline:my.normal};this.options.pedantic?(n.block=Xw.pedantic,n.inline=my.pedantic):this.options.gfm&&(n.block=Xw.gfm,this.options.breaks?n.inline=my.breaks:n.inline=my.gfm),this.tokenizer.rules=n}static get rules(){return{block:Xw,inline:my}}static lex(t,n){return new tR(n).lex(t)}static lexInline(t,n){return new tR(n).inlineTokens(t)}lex(t){t=t.replace(ma.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],r=!1){var i,a,s;for(this.options.pedantic&&(t=t.replace(ma.tabCharGlobal,"    ").replace(ma.spaceLine,""));t;){let l;if((a=(i=this.options.extensions)==null?void 0:i.block)!=null&&a.some(u=>(l=u.call({lexer:this},t,n))?(t=t.substring(l.raw.length),n.push(l),!0):!1))continue;if(l=this.tokenizer.space(t)){t=t.substring(l.raw.length);const u=n.at(-1);l.raw.length===1&&u!==void 0?u.raw+=`
`:n.push(l);continue}if(l=this.tokenizer.code(t)){t=t.substring(l.raw.length);const u=n.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+l.raw,u.text+=`
`+l.text,this.inlineQueue.at(-1).src=u.text):n.push(l);continue}if(l=this.tokenizer.fences(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.heading(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.hr(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.blockquote(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.list(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.html(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.def(t)){t=t.substring(l.raw.length);const u=n.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+l.raw,u.text+=`
`+l.raw,this.inlineQueue.at(-1).src=u.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.lheading(t)){t=t.substring(l.raw.length),n.push(l);continue}let c=t;if((s=this.options.extensions)!=null&&s.startBlock){let u=1/0;const d=t.slice(1);let h;this.options.extensions.startBlock.forEach(f=>{h=f.call({lexer:this},d),typeof h=="number"&&h>=0&&(u=Math.min(u,h))}),u<1/0&&u>=0&&(c=t.substring(0,u+1))}if(this.state.top&&(l=this.tokenizer.paragraph(c))){const u=n.at(-1);r&&(u==null?void 0:u.type)==="paragraph"?(u.raw+=`
`+l.raw,u.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):n.push(l),r=c.length!==t.length,t=t.substring(l.raw.length);continue}if(l=this.tokenizer.text(t)){t=t.substring(l.raw.length);const u=n.at(-1);(u==null?void 0:u.type)==="text"?(u.raw+=`
`+l.raw,u.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):n.push(l);continue}if(t){const u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){var l,c,u;let r=t,i=null;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)d.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let a=!1,s="";for(;t;){a||(s=""),a=!1;let d;if((c=(l=this.options.extensions)==null?void 0:l.inline)!=null&&c.some(f=>(d=f.call({lexer:this},t,n))?(t=t.substring(d.raw.length),n.push(d),!0):!1))continue;if(d=this.tokenizer.escape(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.tag(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.link(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(d.raw.length);const f=n.at(-1);d.type==="text"&&(f==null?void 0:f.type)==="text"?(f.raw+=d.raw,f.text+=d.text):n.push(d);continue}if(d=this.tokenizer.emStrong(t,r,s)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.codespan(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.br(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.del(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.autolink(t)){t=t.substring(d.raw.length),n.push(d);continue}if(!this.state.inLink&&(d=this.tokenizer.url(t))){t=t.substring(d.raw.length),n.push(d);continue}let h=t;if((u=this.options.extensions)!=null&&u.startInline){let f=1/0;const m=t.slice(1);let p;this.options.extensions.startInline.forEach(g=>{p=g.call({lexer:this},m),typeof p=="number"&&p>=0&&(f=Math.min(f,p))}),f<1/0&&f>=0&&(h=t.substring(0,f+1))}if(d=this.tokenizer.inlineText(h)){t=t.substring(d.raw.length),d.raw.slice(-1)!=="_"&&(s=d.raw.slice(-1)),a=!0;const f=n.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=d.raw,f.text+=d.text):n.push(d);continue}if(t){const f="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return n}},PC=class{constructor(e){ot(this,"options");ot(this,"parser");this.options=e||$f}space(e){return""}code({text:e,lang:t,escaped:n}){var a;const r=(a=(t||"").match(ma.notSpaceStart))==null?void 0:a[0],i=e.replace(ma.endingNewline,"")+`
`;return r?'<pre><code class="language-'+qo(r)+'">'+(n?i:qo(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:qo(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,n=e.start;let r="";for(let s=0;s<e.items.length;s++){const l=e.items[s];r+=this.listitem(l)}const i=t?"ol":"ul",a=t&&n!==1?' start="'+n+'"':"";return"<"+i+a+`>
`+r+"</"+i+`>
`}listitem(e){var n;let t="";if(e.task){const r=this.checkbox({checked:!!e.checked});e.loose?((n=e.tokens[0])==null?void 0:n.type)==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+qo(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):t+=r+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let i=0;i<e.header.length;i++)n+=this.tablecell(e.header[i]);t+=this.tablerow({text:n});let r="";for(let i=0;i<e.rows.length;i++){const a=e.rows[i];n="";for(let s=0;s<a.length;s++)n+=this.tablecell(a[s]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${qo(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const r=this.parser.parseInline(n),i=_q(e);if(i===null)return r;e=i;let a='<a href="'+e+'"';return t&&(a+=' title="'+qo(t)+'"'),a+=">"+r+"</a>",a}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));const i=_q(e);if(i===null)return qo(n);e=i;let a=`<img src="${e}" alt="${n}"`;return t&&(a+=` title="${qo(t)}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:qo(e.text)}},h5=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},hc=class nR{constructor(t){ot(this,"options");ot(this,"renderer");ot(this,"textRenderer");this.options=t||$f,this.options.renderer=this.options.renderer||new PC,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new h5}static parse(t,n){return new nR(n).parse(t)}static parseInline(t,n){return new nR(n).parseInline(t)}parse(t,n=!0){var i,a;let r="";for(let s=0;s<t.length;s++){const l=t[s];if((a=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&a[l.type]){const u=l,d=this.options.extensions.renderers[u.type].call({parser:this},u);if(d!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)){r+=d||"";continue}}const c=l;switch(c.type){case"space":{r+=this.renderer.space(c);continue}case"hr":{r+=this.renderer.hr(c);continue}case"heading":{r+=this.renderer.heading(c);continue}case"code":{r+=this.renderer.code(c);continue}case"table":{r+=this.renderer.table(c);continue}case"blockquote":{r+=this.renderer.blockquote(c);continue}case"list":{r+=this.renderer.list(c);continue}case"html":{r+=this.renderer.html(c);continue}case"paragraph":{r+=this.renderer.paragraph(c);continue}case"text":{let u=c,d=this.renderer.text(u);for(;s+1<t.length&&t[s+1].type==="text";)u=t[++s],d+=`
`+this.renderer.text(u);n?r+=this.renderer.paragraph({type:"paragraph",raw:d,text:d,tokens:[{type:"text",raw:d,text:d,escaped:!0}]}):r+=d;continue}default:{const u='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return r}parseInline(t,n=this.renderer){var i,a;let r="";for(let s=0;s<t.length;s++){const l=t[s];if((a=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&a[l.type]){const u=this.options.extensions.renderers[l.type].call({parser:this},l);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){r+=u||"";continue}}const c=l;switch(c.type){case"escape":{r+=n.text(c);break}case"html":{r+=n.html(c);break}case"link":{r+=n.link(c);break}case"image":{r+=n.image(c);break}case"strong":{r+=n.strong(c);break}case"em":{r+=n.em(c);break}case"codespan":{r+=n.codespan(c);break}case"br":{r+=n.br(c);break}case"del":{r+=n.del(c);break}case"text":{r+=n.text(c);break}default:{const u='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return r}},bj,FE=(bj=class{constructor(e){ot(this,"options");ot(this,"block");this.options=e||$f}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?dc.lex:dc.lexInline}provideParser(){return this.block?hc.parse:hc.parseInline}},ot(bj,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),bj),qkt=class{constructor(...e){ot(this,"defaults",i5());ot(this,"options",this.setOptions);ot(this,"parse",this.parseMarkdown(!0));ot(this,"parseInline",this.parseMarkdown(!1));ot(this,"Parser",hc);ot(this,"Renderer",PC);ot(this,"TextRenderer",h5);ot(this,"Lexer",dc);ot(this,"Tokenizer",OC);ot(this,"Hooks",FE);this.use(...e)}walkTokens(e,t){var r,i;let n=[];for(const a of e)switch(n=n.concat(t.call(this,a)),a.type){case"table":{const s=a;for(const l of s.header)n=n.concat(this.walkTokens(l.tokens,t));for(const l of s.rows)for(const c of l)n=n.concat(this.walkTokens(c.tokens,t));break}case"list":{const s=a;n=n.concat(this.walkTokens(s.items,t));break}default:{const s=a;(i=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&i[s.type]?this.defaults.extensions.childTokens[s.type].forEach(l=>{const c=s[l].flat(1/0);n=n.concat(this.walkTokens(c,t))}):s.tokens&&(n=n.concat(this.walkTokens(s.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const a=t.renderers[i.name];a?t.renderers[i.name]=function(...s){let l=i.renderer.apply(this,s);return l===!1&&(l=a.apply(this,s)),l}:t.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=t[i.level];a?a.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),r.extensions=t),n.renderer){const i=this.defaults.renderer||new PC(this.defaults);for(const a in n.renderer){if(!(a in i))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;const s=a,l=n.renderer[s],c=i[s];i[s]=(...u)=>{let d=l.apply(i,u);return d===!1&&(d=c.apply(i,u)),d||""}}r.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new OC(this.defaults);for(const a in n.tokenizer){if(!(a in i))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;const s=a,l=n.tokenizer[s],c=i[s];i[s]=(...u)=>{let d=l.apply(i,u);return d===!1&&(d=c.apply(i,u)),d}}r.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new FE;for(const a in n.hooks){if(!(a in i))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;const s=a,l=n.hooks[s],c=i[s];FE.passThroughHooks.has(a)?i[s]=u=>{if(this.defaults.async)return Promise.resolve(l.call(i,u)).then(h=>c.call(i,h));const d=l.call(i,u);return c.call(i,d)}:i[s]=(...u)=>{let d=l.apply(i,u);return d===!1&&(d=c.apply(i,u)),d}}r.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,a=n.walkTokens;r.walkTokens=function(s){let l=[];return l.push(a.call(this,s)),i&&(l=l.concat(i.call(this,s))),l}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return dc.lex(e,t??this.defaults)}parser(e,t){return hc.parse(e,t??this.defaults)}parseMarkdown(e){return(n,r)=>{const i={...r},a={...this.defaults,...i},s=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&i.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));a.hooks&&(a.hooks.options=a,a.hooks.block=e);const l=a.hooks?a.hooks.provideLexer():e?dc.lex:dc.lexInline,c=a.hooks?a.hooks.provideParser():e?hc.parse:hc.parseInline;if(a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(n):n).then(u=>l(u,a)).then(u=>a.hooks?a.hooks.processAllTokens(u):u).then(u=>a.walkTokens?Promise.all(this.walkTokens(u,a.walkTokens)).then(()=>u):u).then(u=>c(u,a)).then(u=>a.hooks?a.hooks.postprocess(u):u).catch(s);try{a.hooks&&(n=a.hooks.preprocess(n));let u=l(n,a);a.hooks&&(u=a.hooks.processAllTokens(u)),a.walkTokens&&this.walkTokens(u,a.walkTokens);let d=c(u,a);return a.hooks&&(d=a.hooks.postprocess(d)),d}catch(u){return s(u)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const r="<p>An error occurred:</p><pre>"+qo(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}},ff=new qkt;function En(e,t){return ff.parse(e,t)}En.options=En.setOptions=function(e){return ff.setOptions(e),En.defaults=ff.defaults,pme(En.defaults),En};En.getDefaults=i5;En.defaults=$f;En.use=function(...e){return ff.use(...e),En.defaults=ff.defaults,pme(En.defaults),En};En.walkTokens=function(e,t){return ff.walkTokens(e,t)};En.parseInline=ff.parseInline;En.Parser=hc;En.parser=hc.parse;En.Renderer=PC;En.TextRenderer=h5;En.Lexer=dc;En.lexer=dc.lex;En.Tokenizer=OC;En.Hooks=FE;En.parse=En;En.options;En.setOptions;En.use;En.walkTokens;En.parseInline;hc.parse;dc.lex;function Tme(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Array.from(typeof e=="string"?[e]:e);r[r.length-1]=r[r.length-1].replace(/\r?\n([\t ]*)$/,"");var i=r.reduce(function(l,c){var u=c.match(/\n([\t ]+|(?!\s).)/g);return u?l.concat(u.map(function(d){var h,f;return(f=(h=d.match(/[\t ]/g))===null||h===void 0?void 0:h.length)!==null&&f!==void 0?f:0})):l},[]);if(i.length){var a=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");r=r.map(function(l){return l.replace(a,`
`)})}r[0]=r[0].replace(/^\r?\n/,"");var s=r[0];return t.forEach(function(l,c){var u=s.match(/(?:^|\n)( *)$/),d=u?u[1]:"",h=l;typeof l=="string"&&l.includes(`
`)&&(h=String(l).split(`
`).map(function(f,m){return m===0?f:""+d+f}).join(`
`)),s+=h+r[c+1]}),s}function Nme(e,{markdownAutoWrap:t}){const r=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),i=Tme(r);return t===!1?i.replace(/ /g,"&nbsp;"):i}F(Nme,"preprocessMarkdown");function kme(e,t={}){const n=Nme(e,t),r=En.lexer(n),i=[[]];let a=0;function s(l,c="normal"){l.type==="text"?l.text.split(`
`).forEach((d,h)=>{h!==0&&(a++,i.push([])),d.split(" ").forEach(f=>{f=f.replace(/&#39;/g,"'"),f&&i[a].push({content:f,type:c})})}):l.type==="strong"||l.type==="em"?l.tokens.forEach(u=>{s(u,l.type)}):l.type==="html"&&i[a].push({content:l.text,type:"normal"})}return F(s,"processNode"),r.forEach(l=>{var c;l.type==="paragraph"?(c=l.tokens)==null||c.forEach(u=>{s(u)}):l.type==="html"&&i[a].push({content:l.text,type:"normal"})}),i}F(kme,"markdownToLines");function Ame(e,{markdownAutoWrap:t}={}){const n=En.lexer(e);function r(i){var a,s,l;return i.type==="text"?t===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${(a=i.tokens)==null?void 0:a.map(r).join("")}</strong>`:i.type==="em"?`<em>${(s=i.tokens)==null?void 0:s.map(r).join("")}</em>`:i.type==="paragraph"?`<p>${(l=i.tokens)==null?void 0:l.map(r).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:i.type==="escape"?i.text:`Unsupported markdown: ${i.type}`}return F(r,"output"),n.map(r).join("")}F(Ame,"markdownToHTML");function jme(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}F(jme,"splitTextToChars");function Ome(e,t){const n=jme(t.content);return f5(e,[],n,t.type)}F(Ome,"splitWordToFitWidth");function f5(e,t,n,r){if(n.length===0)return[{content:t.join(""),type:r},{content:"",type:r}];const[i,...a]=n,s=[...t,i];return e([{content:s.join(""),type:r}])?f5(e,s,a,r):(t.length===0&&i&&(t.push(i),n.shift()),[{content:t.join(""),type:r},{content:n.join(""),type:r}])}F(f5,"splitWordToFitWidthRecursion");function Pme(e,t){if(e.some(({content:n})=>n.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return MC(e,t)}F(Pme,"splitLineToFitWidth");function MC(e,t,n=[],r=[]){if(e.length===0)return r.length>0&&n.push(r),n.length>0?n:[];let i="";e[0].content===" "&&(i=" ",e.shift());const a=e.shift()??{content:" ",type:"normal"},s=[...r];if(i!==""&&s.push({content:i,type:"normal"}),s.push(a),t(s))return MC(e,t,n,s);if(r.length>0)n.push(r),e.unshift(a);else if(a.content){const[l,c]=Ome(t,a);n.push([l]),c.content&&e.unshift(c)}return MC(e,t,n)}F(MC,"splitLineToFitWidthRecursion");function rR(e,t){t&&e.attr("style",t)}F(rR,"applyStyle");async function Mme(e,t,n,r,i=!1){const a=e.append("foreignObject");a.attr("width",`${10*n}px`),a.attr("height",`${10*n}px`);const s=a.append("xhtml:div");let l=t.label;t.label&&Ng(t.label)&&(l=await M$(t.label.replace(m0.lineBreakRegex,`
`),vn()));const c=t.isNode?"nodeLabel":"edgeLabel",u=s.append("span");u.html(l),rR(u,t.labelStyle),u.attr("class",`${c} ${r}`),rR(s,t.labelStyle),s.style("display","table-cell"),s.style("white-space","nowrap"),s.style("line-height","1.5"),s.style("max-width",n+"px"),s.style("text-align","center"),s.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&s.attr("class","labelBkg");let d=s.node().getBoundingClientRect();return d.width===n&&(s.style("display","table"),s.style("white-space","break-spaces"),s.style("width",n+"px"),d=s.node().getBoundingClientRect()),a.node()}F(Mme,"addHtmlSpan");function SN(e,t,n){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*n-.1+"em").attr("dy",n+"em")}F(SN,"createTspan");function Ime(e,t,n){const r=e.append("text"),i=SN(r,1,t);_N(i,n);const a=i.node().getComputedTextLength();return r.remove(),a}F(Ime,"computeWidthOfText");function Gkt(e,t,n){var s;const r=e.append("text"),i=SN(r,1,t);_N(i,[{content:n,type:"normal"}]);const a=(s=i.node())==null?void 0:s.getBoundingClientRect();return a&&r.remove(),a}F(Gkt,"computeDimensionOfText");function Rme(e,t,n,r=!1){const a=t.append("g"),s=a.insert("rect").attr("class","background").attr("style","stroke: none"),l=a.append("text").attr("y","-10.1");let c=0;for(const u of n){const d=F(f=>Ime(a,1.1,f)<=e,"checkWidth"),h=d(u)?[u]:Pme(u,d);for(const f of h){const m=SN(l,c,1.1);_N(m,f),c++}}if(r){const u=l.node().getBBox(),d=2;return s.attr("x",u.x-d).attr("y",u.y-d).attr("width",u.width+2*d).attr("height",u.height+2*d),a.node()}else return l.node()}F(Rme,"createFormattedText");function _N(e,t){e.text(""),t.forEach((n,r)=>{const i=e.append("tspan").attr("font-style",n.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",n.type==="strong"?"bold":"normal");r===0?i.text(n.content):i.text(" "+n.content)})}F(_N,"updateTextContentAndStyles");function Dme(e){return e.replace(/fa[bklrs]?:fa-[\w-]+/g,t=>`<i class='${t.replace(":"," ")}'></i>`)}F(Dme,"replaceIconSubstring");var Id=F(async(e,t="",{style:n="",isTitle:r=!1,classes:i="",useHtmlLabels:a=!0,isNode:s=!0,width:l=200,addSvgBackground:c=!1}={},u)=>{if(je.debug("XYZ createText",t,n,r,i,a,s,"addSvgBackground: ",c),a){const d=Ame(t,u),h=Dme(Lf(d)),f=t.replace(/\\\\/g,"\\"),m={isNode:s,label:Ng(t)?f:h,labelStyle:n.replace("fill:","color:")};return await Mme(e,m,l,i,c)}else{const d=t.replace(/<br\s*\/?>/g,"<br/>"),h=kme(d.replace("<br>","<br/>"),u),f=Rme(l,e,h,t?c:!1);if(s){/stroke:/.exec(n)&&(n=n.replace("stroke:","lineColor:"));const m=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Lt(f).attr("style",m)}else{const m=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Lt(f).select("rect").attr("style",m.replace(/background:/g,"fill:"));const p=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Lt(f).select("text").attr("style",p)}return f}},"createText");function uj(e,t,n){if(e&&e.length){const[r,i]=t,a=Math.PI/180*n,s=Math.cos(a),l=Math.sin(a);for(const c of e){const[u,d]=c;c[0]=(u-r)*s-(d-i)*l+r,c[1]=(u-r)*l+(d-i)*s+i}}}function Ykt(e,t){return e[0]===t[0]&&e[1]===t[1]}function Kkt(e,t,n,r=1){const i=n,a=Math.max(t,.1),s=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,l=[0,0];if(i)for(const u of s)uj(u,l,i);const c=function(u,d,h){const f=[];for(const v of u){const b=[...v];Ykt(b[0],b[b.length-1])||b.push([b[0][0],b[0][1]]),b.length>2&&f.push(b)}const m=[];d=Math.max(d,.1);const p=[];for(const v of f)for(let b=0;b<v.length-1;b++){const E=v[b],_=v[b+1];if(E[1]!==_[1]){const S=Math.min(E[1],_[1]);p.push({ymin:S,ymax:Math.max(E[1],_[1]),x:S===E[1]?E[0]:_[0],islope:(_[0]-E[0])/(_[1]-E[1])})}}if(p.sort((v,b)=>v.ymin<b.ymin?-1:v.ymin>b.ymin?1:v.x<b.x?-1:v.x>b.x?1:v.ymax===b.ymax?0:(v.ymax-b.ymax)/Math.abs(v.ymax-b.ymax)),!p.length)return m;let g=[],x=p[0].ymin,y=0;for(;g.length||p.length;){if(p.length){let v=-1;for(let b=0;b<p.length&&!(p[b].ymin>x);b++)v=b;p.splice(0,v+1).forEach(b=>{g.push({s:x,edge:b})})}if(g=g.filter(v=>!(v.edge.ymax<=x)),g.sort((v,b)=>v.edge.x===b.edge.x?0:(v.edge.x-b.edge.x)/Math.abs(v.edge.x-b.edge.x)),(h!==1||y%d==0)&&g.length>1)for(let v=0;v<g.length;v+=2){const b=v+1;if(b>=g.length)break;const E=g[v].edge,_=g[b].edge;m.push([[Math.round(E.x),x],[Math.round(_.x),x]])}x+=h,g.forEach(v=>{v.edge.x=v.edge.x+h*v.edge.islope}),y++}return m}(s,a,r);if(i){for(const u of s)uj(u,l,-i);(function(u,d,h){const f=[];u.forEach(m=>f.push(...m)),uj(f,d,h)})(c,l,-i)}return c}function w1(e,t){var n;const r=t.hachureAngle+90;let i=t.hachureGap;i<0&&(i=4*t.strokeWidth),i=Math.round(Math.max(i,.1));let a=1;return t.roughness>=1&&(((n=t.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(a=i),Kkt(e,i,r,a||1)}class m5{constructor(t){this.helper=t}fillPolygons(t,n){return this._fillPolygons(t,n)}_fillPolygons(t,n){const r=w1(t,n);return{type:"fillSketch",ops:this.renderLines(r,n)}}renderLines(t,n){const r=[];for(const i of t)r.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],n));return r}}function CN(e){const t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}class Xkt extends m5{fillPolygons(t,n){let r=n.hachureGap;r<0&&(r=4*n.strokeWidth),r=Math.max(r,.1);const i=w1(t,Object.assign({},n,{hachureGap:r})),a=Math.PI/180*n.hachureAngle,s=[],l=.5*r*Math.cos(a),c=.5*r*Math.sin(a);for(const[u,d]of i)CN([u,d])&&s.push([[u[0]-l,u[1]+c],[...d]],[[u[0]+l,u[1]-c],[...d]]);return{type:"fillSketch",ops:this.renderLines(s,n)}}}class Zkt extends m5{fillPolygons(t,n){const r=this._fillPolygons(t,n),i=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),a=this._fillPolygons(t,i);return r.ops=r.ops.concat(a.ops),r}}class Qkt{constructor(t){this.helper=t}fillPolygons(t,n){const r=w1(t,n=Object.assign({},n,{hachureAngle:0}));return this.dotsOnLines(r,n)}dotsOnLines(t,n){const r=[];let i=n.hachureGap;i<0&&(i=4*n.strokeWidth),i=Math.max(i,.1);let a=n.fillWeight;a<0&&(a=n.strokeWidth/2);const s=i/4;for(const l of t){const c=CN(l),u=c/i,d=Math.ceil(u)-1,h=c-d*i,f=(l[0][0]+l[1][0])/2-i/4,m=Math.min(l[0][1],l[1][1]);for(let p=0;p<d;p++){const g=m+h+p*i,x=f-s+2*Math.random()*s,y=g-s+2*Math.random()*s,v=this.helper.ellipse(x,y,a,a,n);r.push(...v.ops)}}return{type:"fillSketch",ops:r}}}class Jkt{constructor(t){this.helper=t}fillPolygons(t,n){const r=w1(t,n);return{type:"fillSketch",ops:this.dashedLine(r,n)}}dashedLine(t,n){const r=n.dashOffset<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashOffset,i=n.dashGap<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashGap,a=[];return t.forEach(s=>{const l=CN(s),c=Math.floor(l/(r+i)),u=(l+i-c*(r+i))/2;let d=s[0],h=s[1];d[0]>h[0]&&(d=s[1],h=s[0]);const f=Math.atan((h[1]-d[1])/(h[0]-d[0]));for(let m=0;m<c;m++){const p=m*(r+i),g=p+r,x=[d[0]+p*Math.cos(f)+u*Math.cos(f),d[1]+p*Math.sin(f)+u*Math.sin(f)],y=[d[0]+g*Math.cos(f)+u*Math.cos(f),d[1]+g*Math.sin(f)+u*Math.sin(f)];a.push(...this.helper.doubleLineOps(x[0],x[1],y[0],y[1],n))}}),a}}class eAt{constructor(t){this.helper=t}fillPolygons(t,n){const r=n.hachureGap<0?4*n.strokeWidth:n.hachureGap,i=n.zigzagOffset<0?r:n.zigzagOffset,a=w1(t,n=Object.assign({},n,{hachureGap:r+i}));return{type:"fillSketch",ops:this.zigzagLines(a,i,n)}}zigzagLines(t,n,r){const i=[];return t.forEach(a=>{const s=CN(a),l=Math.round(s/(2*n));let c=a[0],u=a[1];c[0]>u[0]&&(c=a[1],u=a[0]);const d=Math.atan((u[1]-c[1])/(u[0]-c[0]));for(let h=0;h<l;h++){const f=2*h*n,m=2*(h+1)*n,p=Math.sqrt(2*Math.pow(n,2)),g=[c[0]+f*Math.cos(d),c[1]+f*Math.sin(d)],x=[c[0]+m*Math.cos(d),c[1]+m*Math.sin(d)],y=[g[0]+p*Math.cos(d+Math.PI/4),g[1]+p*Math.sin(d+Math.PI/4)];i.push(...this.helper.doubleLineOps(g[0],g[1],y[0],y[1],r),...this.helper.doubleLineOps(y[0],y[1],x[0],x[1],r))}}),i}}const Ta={};class tAt{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const nAt=0,dj=1,Nq=2,Zw={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function hj(e,t){return e.type===t}function p5(e){const t=[],n=function(s){const l=new Array;for(;s!=="";)if(s.match(/^([ \t\r\n,]+)/))s=s.substr(RegExp.$1.length);else if(s.match(/^([aAcChHlLmMqQsStTvVzZ])/))l[l.length]={type:nAt,text:RegExp.$1},s=s.substr(RegExp.$1.length);else{if(!s.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];l[l.length]={type:dj,text:`${parseFloat(RegExp.$1)}`},s=s.substr(RegExp.$1.length)}return l[l.length]={type:Nq,text:""},l}(e);let r="BOD",i=0,a=n[i];for(;!hj(a,Nq);){let s=0;const l=[];if(r==="BOD"){if(a.text!=="M"&&a.text!=="m")return p5("M0,0"+e);i++,s=Zw[a.text],r=a.text}else hj(a,dj)?s=Zw[r]:(i++,s=Zw[a.text],r=a.text);if(!(i+s<n.length))throw new Error("Path data ended short");for(let c=i;c<i+s;c++){const u=n[c];if(!hj(u,dj))throw new Error("Param not a number: "+r+","+u.text);l[l.length]=+u.text}if(typeof Zw[r]!="number")throw new Error("Bad segment: "+r);{const c={key:r,data:l};t.push(c),i+=s,a=n[i],r==="M"&&(r="L"),r==="m"&&(r="l")}}return t}function Lme(e){let t=0,n=0,r=0,i=0;const a=[];for(const{key:s,data:l}of e)switch(s){case"M":a.push({key:"M",data:[...l]}),[t,n]=l,[r,i]=l;break;case"m":t+=l[0],n+=l[1],a.push({key:"M",data:[t,n]}),r=t,i=n;break;case"L":a.push({key:"L",data:[...l]}),[t,n]=l;break;case"l":t+=l[0],n+=l[1],a.push({key:"L",data:[t,n]});break;case"C":a.push({key:"C",data:[...l]}),t=l[4],n=l[5];break;case"c":{const c=l.map((u,d)=>d%2?u+n:u+t);a.push({key:"C",data:c}),t=c[4],n=c[5];break}case"Q":a.push({key:"Q",data:[...l]}),t=l[2],n=l[3];break;case"q":{const c=l.map((u,d)=>d%2?u+n:u+t);a.push({key:"Q",data:c}),t=c[2],n=c[3];break}case"A":a.push({key:"A",data:[...l]}),t=l[5],n=l[6];break;case"a":t+=l[5],n+=l[6],a.push({key:"A",data:[l[0],l[1],l[2],l[3],l[4],t,n]});break;case"H":a.push({key:"H",data:[...l]}),t=l[0];break;case"h":t+=l[0],a.push({key:"H",data:[t]});break;case"V":a.push({key:"V",data:[...l]}),n=l[0];break;case"v":n+=l[0],a.push({key:"V",data:[n]});break;case"S":a.push({key:"S",data:[...l]}),t=l[2],n=l[3];break;case"s":{const c=l.map((u,d)=>d%2?u+n:u+t);a.push({key:"S",data:c}),t=c[2],n=c[3];break}case"T":a.push({key:"T",data:[...l]}),t=l[0],n=l[1];break;case"t":t+=l[0],n+=l[1],a.push({key:"T",data:[t,n]});break;case"Z":case"z":a.push({key:"Z",data:[]}),t=r,n=i}return a}function $me(e){const t=[];let n="",r=0,i=0,a=0,s=0,l=0,c=0;for(const{key:u,data:d}of e){switch(u){case"M":t.push({key:"M",data:[...d]}),[r,i]=d,[a,s]=d;break;case"C":t.push({key:"C",data:[...d]}),r=d[4],i=d[5],l=d[2],c=d[3];break;case"L":t.push({key:"L",data:[...d]}),[r,i]=d;break;case"H":r=d[0],t.push({key:"L",data:[r,i]});break;case"V":i=d[0],t.push({key:"L",data:[r,i]});break;case"S":{let h=0,f=0;n==="C"||n==="S"?(h=r+(r-l),f=i+(i-c)):(h=r,f=i),t.push({key:"C",data:[h,f,...d]}),l=d[0],c=d[1],r=d[2],i=d[3];break}case"T":{const[h,f]=d;let m=0,p=0;n==="Q"||n==="T"?(m=r+(r-l),p=i+(i-c)):(m=r,p=i);const g=r+2*(m-r)/3,x=i+2*(p-i)/3,y=h+2*(m-h)/3,v=f+2*(p-f)/3;t.push({key:"C",data:[g,x,y,v,h,f]}),l=m,c=p,r=h,i=f;break}case"Q":{const[h,f,m,p]=d,g=r+2*(h-r)/3,x=i+2*(f-i)/3,y=m+2*(h-m)/3,v=p+2*(f-p)/3;t.push({key:"C",data:[g,x,y,v,m,p]}),l=h,c=f,r=m,i=p;break}case"A":{const h=Math.abs(d[0]),f=Math.abs(d[1]),m=d[2],p=d[3],g=d[4],x=d[5],y=d[6];h===0||f===0?(t.push({key:"C",data:[r,i,x,y,x,y]}),r=x,i=y):(r!==x||i!==y)&&(Bme(r,i,x,y,h,f,m,p,g).forEach(function(v){t.push({key:"C",data:v})}),r=x,i=y);break}case"Z":t.push({key:"Z",data:[]}),r=a,i=s}n=u}return t}function gy(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}function Bme(e,t,n,r,i,a,s,l,c,u){const d=(h=s,Math.PI*h/180);var h;let f=[],m=0,p=0,g=0,x=0;if(u)[m,p,g,x]=u;else{[e,t]=gy(e,t,-d),[n,r]=gy(n,r,-d);const B=(e-n)/2,N=(t-r)/2;let D=B*B/(i*i)+N*N/(a*a);D>1&&(D=Math.sqrt(D),i*=D,a*=D);const P=i*i,L=a*a,I=P*L-P*N*N-L*B*B,U=P*N*N+L*B*B,$=(l===c?-1:1)*Math.sqrt(Math.abs(I/U));g=$*i*N/a+(e+n)/2,x=$*-a*B/i+(t+r)/2,m=Math.asin(parseFloat(((t-x)/a).toFixed(9))),p=Math.asin(parseFloat(((r-x)/a).toFixed(9))),e<g&&(m=Math.PI-m),n<g&&(p=Math.PI-p),m<0&&(m=2*Math.PI+m),p<0&&(p=2*Math.PI+p),c&&m>p&&(m-=2*Math.PI),!c&&p>m&&(p-=2*Math.PI)}let y=p-m;if(Math.abs(y)>120*Math.PI/180){const B=p,N=n,D=r;p=c&&p>m?m+120*Math.PI/180*1:m+120*Math.PI/180*-1,f=Bme(n=g+i*Math.cos(p),r=x+a*Math.sin(p),N,D,i,a,s,0,c,[p,B,g,x])}y=p-m;const v=Math.cos(m),b=Math.sin(m),E=Math.cos(p),_=Math.sin(p),S=Math.tan(y/4),C=4/3*i*S,T=4/3*a*S,j=[e,t],k=[e+C*b,t-T*v],O=[n+C*_,r-T*E],M=[n,r];if(k[0]=2*j[0]-k[0],k[1]=2*j[1]-k[1],u)return[k,O,M].concat(f);{f=[k,O,M].concat(f);const B=[];for(let N=0;N<f.length;N+=3){const D=gy(f[N][0],f[N][1],d),P=gy(f[N+1][0],f[N+1][1],d),L=gy(f[N+2][0],f[N+2][1],d);B.push([D[0],D[1],P[0],P[1],L[0],L[1]])}return B}}const rAt={randOffset:function(e,t){return Ot(e,t)},randOffsetWithRange:function(e,t,n){return IC(e,t,n)},ellipse:function(e,t,n,r,i){const a=zme(n,r,i);return iR(e,t,i,a).opset},doubleLineOps:function(e,t,n,r,i){return gd(e,t,n,r,i,!0)}};function Fme(e,t,n,r,i){return{type:"path",ops:gd(e,t,n,r,i)}}function zE(e,t,n){const r=(e||[]).length;if(r>2){const i=[];for(let a=0;a<r-1;a++)i.push(...gd(e[a][0],e[a][1],e[a+1][0],e[a+1][1],n));return t&&i.push(...gd(e[r-1][0],e[r-1][1],e[0][0],e[0][1],n)),{type:"path",ops:i}}return r===2?Fme(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function iAt(e,t,n,r,i){return function(a,s){return zE(a,!0,s)}([[e,t],[e+n,t],[e+n,t+r],[e,t+r]],i)}function kq(e,t){if(e.length){const n=typeof e[0][0]=="number"?[e]:e,r=Qw(n[0],1*(1+.2*t.roughness),t),i=t.disableMultiStroke?[]:Qw(n[0],1.5*(1+.22*t.roughness),Oq(t));for(let a=1;a<n.length;a++){const s=n[a];if(s.length){const l=Qw(s,1*(1+.2*t.roughness),t),c=t.disableMultiStroke?[]:Qw(s,1.5*(1+.22*t.roughness),Oq(t));for(const u of l)u.op!=="move"&&r.push(u);for(const u of c)u.op!=="move"&&i.push(u)}}return{type:"path",ops:r.concat(i)}}return{type:"path",ops:[]}}function zme(e,t,n){const r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),a=2*Math.PI/i;let s=Math.abs(e/2),l=Math.abs(t/2);const c=1-n.curveFitting;return s+=Ot(s*c,n),l+=Ot(l*c,n),{increment:a,rx:s,ry:l}}function iR(e,t,n,r){const[i,a]=Pq(r.increment,e,t,r.rx,r.ry,1,r.increment*IC(.1,IC(.4,1,n),n),n);let s=RC(i,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[l]=Pq(r.increment,e,t,r.rx,r.ry,1.5,0,n),c=RC(l,null,n);s=s.concat(c)}return{estimatedPoints:a,opset:{type:"path",ops:s}}}function Aq(e,t,n,r,i,a,s,l,c){const u=e,d=t;let h=Math.abs(n/2),f=Math.abs(r/2);h+=Ot(.01*h,c),f+=Ot(.01*f,c);let m=i,p=a;for(;m<0;)m+=2*Math.PI,p+=2*Math.PI;p-m>2*Math.PI&&(m=0,p=2*Math.PI);const g=2*Math.PI/c.curveStepCount,x=Math.min(g/2,(p-m)/2),y=Mq(x,u,d,h,f,m,p,1,c);if(!c.disableMultiStroke){const v=Mq(x,u,d,h,f,m,p,1.5,c);y.push(...v)}return s&&(l?y.push(...gd(u,d,u+h*Math.cos(m),d+f*Math.sin(m),c),...gd(u,d,u+h*Math.cos(p),d+f*Math.sin(p),c)):y.push({op:"lineTo",data:[u,d]},{op:"lineTo",data:[u+h*Math.cos(m),d+f*Math.sin(m)]})),{type:"path",ops:y}}function jq(e,t){const n=$me(Lme(p5(e))),r=[];let i=[0,0],a=[0,0];for(const{key:s,data:l}of n)switch(s){case"M":a=[l[0],l[1]],i=[l[0],l[1]];break;case"L":r.push(...gd(a[0],a[1],l[0],l[1],t)),a=[l[0],l[1]];break;case"C":{const[c,u,d,h,f,m]=l;r.push(...aAt(c,u,d,h,f,m,a,t)),a=[f,m];break}case"Z":r.push(...gd(a[0],a[1],i[0],i[1],t)),a=[i[0],i[1]]}return{type:"path",ops:r}}function fj(e,t){const n=[];for(const r of e)if(r.length){const i=t.maxRandomnessOffset||0,a=r.length;if(a>2){n.push({op:"move",data:[r[0][0]+Ot(i,t),r[0][1]+Ot(i,t)]});for(let s=1;s<a;s++)n.push({op:"lineTo",data:[r[s][0]+Ot(i,t),r[s][1]+Ot(i,t)]})}}return{type:"fillPath",ops:n}}function rm(e,t){return function(n,r){let i=n.fillStyle||"hachure";if(!Ta[i])switch(i){case"zigzag":Ta[i]||(Ta[i]=new Xkt(r));break;case"cross-hatch":Ta[i]||(Ta[i]=new Zkt(r));break;case"dots":Ta[i]||(Ta[i]=new Qkt(r));break;case"dashed":Ta[i]||(Ta[i]=new Jkt(r));break;case"zigzag-line":Ta[i]||(Ta[i]=new eAt(r));break;default:i="hachure",Ta[i]||(Ta[i]=new m5(r))}return Ta[i]}(t,rAt).fillPolygons(e,t)}function Oq(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function Ume(e){return e.randomizer||(e.randomizer=new tAt(e.seed||0)),e.randomizer.next()}function IC(e,t,n,r=1){return n.roughness*r*(Ume(n)*(t-e)+e)}function Ot(e,t,n=1){return IC(-e,e,t,n)}function gd(e,t,n,r,i,a=!1){const s=a?i.disableMultiStrokeFill:i.disableMultiStroke,l=aR(e,t,n,r,i,!0,!1);if(s)return l;const c=aR(e,t,n,r,i,!0,!0);return l.concat(c)}function aR(e,t,n,r,i,a,s){const l=Math.pow(e-n,2)+Math.pow(t-r,2),c=Math.sqrt(l);let u=1;u=c<200?1:c>500?.4:-.0016668*c+1.233334;let d=i.maxRandomnessOffset||0;d*d*100>l&&(d=c/10);const h=d/2,f=.2+.2*Ume(i);let m=i.bowing*i.maxRandomnessOffset*(r-t)/200,p=i.bowing*i.maxRandomnessOffset*(e-n)/200;m=Ot(m,i,u),p=Ot(p,i,u);const g=[],x=()=>Ot(h,i,u),y=()=>Ot(d,i,u),v=i.preserveVertices;return s?g.push({op:"move",data:[e+(v?0:x()),t+(v?0:x())]}):g.push({op:"move",data:[e+(v?0:Ot(d,i,u)),t+(v?0:Ot(d,i,u))]}),s?g.push({op:"bcurveTo",data:[m+e+(n-e)*f+x(),p+t+(r-t)*f+x(),m+e+2*(n-e)*f+x(),p+t+2*(r-t)*f+x(),n+(v?0:x()),r+(v?0:x())]}):g.push({op:"bcurveTo",data:[m+e+(n-e)*f+y(),p+t+(r-t)*f+y(),m+e+2*(n-e)*f+y(),p+t+2*(r-t)*f+y(),n+(v?0:y()),r+(v?0:y())]}),g}function Qw(e,t,n){if(!e.length)return[];const r=[];r.push([e[0][0]+Ot(t,n),e[0][1]+Ot(t,n)]),r.push([e[0][0]+Ot(t,n),e[0][1]+Ot(t,n)]);for(let i=1;i<e.length;i++)r.push([e[i][0]+Ot(t,n),e[i][1]+Ot(t,n)]),i===e.length-1&&r.push([e[i][0]+Ot(t,n),e[i][1]+Ot(t,n)]);return RC(r,null,n)}function RC(e,t,n){const r=e.length,i=[];if(r>3){const a=[],s=1-n.curveTightness;i.push({op:"move",data:[e[1][0],e[1][1]]});for(let l=1;l+2<r;l++){const c=e[l];a[0]=[c[0],c[1]],a[1]=[c[0]+(s*e[l+1][0]-s*e[l-1][0])/6,c[1]+(s*e[l+1][1]-s*e[l-1][1])/6],a[2]=[e[l+1][0]+(s*e[l][0]-s*e[l+2][0])/6,e[l+1][1]+(s*e[l][1]-s*e[l+2][1])/6],a[3]=[e[l+1][0],e[l+1][1]],i.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}}else r===3?(i.push({op:"move",data:[e[1][0],e[1][1]]}),i.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):r===2&&i.push(...aR(e[0][0],e[0][1],e[1][0],e[1][1],n,!0,!0));return i}function Pq(e,t,n,r,i,a,s,l){const c=[],u=[];if(l.roughness===0){e/=4,u.push([t+r*Math.cos(-e),n+i*Math.sin(-e)]);for(let d=0;d<=2*Math.PI;d+=e){const h=[t+r*Math.cos(d),n+i*Math.sin(d)];c.push(h),u.push(h)}u.push([t+r*Math.cos(0),n+i*Math.sin(0)]),u.push([t+r*Math.cos(e),n+i*Math.sin(e)])}else{const d=Ot(.5,l)-Math.PI/2;u.push([Ot(a,l)+t+.9*r*Math.cos(d-e),Ot(a,l)+n+.9*i*Math.sin(d-e)]);const h=2*Math.PI+d-.01;for(let f=d;f<h;f+=e){const m=[Ot(a,l)+t+r*Math.cos(f),Ot(a,l)+n+i*Math.sin(f)];c.push(m),u.push(m)}u.push([Ot(a,l)+t+r*Math.cos(d+2*Math.PI+.5*s),Ot(a,l)+n+i*Math.sin(d+2*Math.PI+.5*s)]),u.push([Ot(a,l)+t+.98*r*Math.cos(d+s),Ot(a,l)+n+.98*i*Math.sin(d+s)]),u.push([Ot(a,l)+t+.9*r*Math.cos(d+.5*s),Ot(a,l)+n+.9*i*Math.sin(d+.5*s)])}return[u,c]}function Mq(e,t,n,r,i,a,s,l,c){const u=a+Ot(.1,c),d=[];d.push([Ot(l,c)+t+.9*r*Math.cos(u-e),Ot(l,c)+n+.9*i*Math.sin(u-e)]);for(let h=u;h<=s;h+=e)d.push([Ot(l,c)+t+r*Math.cos(h),Ot(l,c)+n+i*Math.sin(h)]);return d.push([t+r*Math.cos(s),n+i*Math.sin(s)]),d.push([t+r*Math.cos(s),n+i*Math.sin(s)]),RC(d,null,c)}function aAt(e,t,n,r,i,a,s,l){const c=[],u=[l.maxRandomnessOffset||1,(l.maxRandomnessOffset||1)+.3];let d=[0,0];const h=l.disableMultiStroke?1:2,f=l.preserveVertices;for(let m=0;m<h;m++)m===0?c.push({op:"move",data:[s[0],s[1]]}):c.push({op:"move",data:[s[0]+(f?0:Ot(u[0],l)),s[1]+(f?0:Ot(u[0],l))]}),d=f?[i,a]:[i+Ot(u[m],l),a+Ot(u[m],l)],c.push({op:"bcurveTo",data:[e+Ot(u[m],l),t+Ot(u[m],l),n+Ot(u[m],l),r+Ot(u[m],l),d[0],d[1]]});return c}function yy(e){return[...e]}function Iq(e,t=0){const n=e.length;if(n<3)throw new Error("A curve must have at least three points.");const r=[];if(n===3)r.push(yy(e[0]),yy(e[1]),yy(e[2]),yy(e[2]));else{const i=[];i.push(e[0],e[0]);for(let l=1;l<e.length;l++)i.push(e[l]),l===e.length-1&&i.push(e[l]);const a=[],s=1-t;r.push(yy(i[0]));for(let l=1;l+2<i.length;l++){const c=i[l];a[0]=[c[0],c[1]],a[1]=[c[0]+(s*i[l+1][0]-s*i[l-1][0])/6,c[1]+(s*i[l+1][1]-s*i[l-1][1])/6],a[2]=[i[l+1][0]+(s*i[l][0]-s*i[l+2][0])/6,i[l+1][1]+(s*i[l][1]-s*i[l+2][1])/6],a[3]=[i[l+1][0],i[l+1][1]],r.push(a[1],a[2],a[3])}}return r}function UE(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function sAt(e,t,n){const r=UE(t,n);if(r===0)return UE(e,t);let i=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r;return i=Math.max(0,Math.min(1,i)),UE(e,Qd(t,n,i))}function Qd(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function sR(e,t,n,r){const i=r||[];if(function(l,c){const u=l[c+0],d=l[c+1],h=l[c+2],f=l[c+3];let m=3*d[0]-2*u[0]-f[0];m*=m;let p=3*d[1]-2*u[1]-f[1];p*=p;let g=3*h[0]-2*f[0]-u[0];g*=g;let x=3*h[1]-2*f[1]-u[1];return x*=x,m<g&&(m=g),p<x&&(p=x),m+p}(e,t)<n){const l=e[t+0];i.length?(a=i[i.length-1],s=l,Math.sqrt(UE(a,s))>1&&i.push(l)):i.push(l),i.push(e[t+3])}else{const c=e[t+0],u=e[t+1],d=e[t+2],h=e[t+3],f=Qd(c,u,.5),m=Qd(u,d,.5),p=Qd(d,h,.5),g=Qd(f,m,.5),x=Qd(m,p,.5),y=Qd(g,x,.5);sR([c,f,g,y],0,n,i),sR([y,x,p,h],0,n,i)}var a,s;return i}function oAt(e,t){return DC(e,0,e.length,t)}function DC(e,t,n,r,i){const a=i||[],s=e[t],l=e[n-1];let c=0,u=1;for(let d=t+1;d<n-1;++d){const h=sAt(e[d],s,l);h>c&&(c=h,u=d)}return Math.sqrt(c)>r?(DC(e,t,u+1,r,a),DC(e,u,n,r,a)):(a.length||a.push(s),a.push(l)),a}function mj(e,t=.15,n){const r=[],i=(e.length-1)/3;for(let a=0;a<i;a++)sR(e,3*a,t,r);return n&&n>0?DC(r,0,r.length,n):r}const Ya="none";class LC{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,n,r){return{shape:t,sets:n||[],options:r||this.defaultOptions}}line(t,n,r,i,a){const s=this._o(a);return this._d("line",[Fme(t,n,r,i,s)],s)}rectangle(t,n,r,i,a){const s=this._o(a),l=[],c=iAt(t,n,r,i,s);if(s.fill){const u=[[t,n],[t+r,n],[t+r,n+i],[t,n+i]];s.fillStyle==="solid"?l.push(fj([u],s)):l.push(rm([u],s))}return s.stroke!==Ya&&l.push(c),this._d("rectangle",l,s)}ellipse(t,n,r,i,a){const s=this._o(a),l=[],c=zme(r,i,s),u=iR(t,n,s,c);if(s.fill)if(s.fillStyle==="solid"){const d=iR(t,n,s,c).opset;d.type="fillPath",l.push(d)}else l.push(rm([u.estimatedPoints],s));return s.stroke!==Ya&&l.push(u.opset),this._d("ellipse",l,s)}circle(t,n,r,i){const a=this.ellipse(t,n,r,r,i);return a.shape="circle",a}linearPath(t,n){const r=this._o(n);return this._d("linearPath",[zE(t,!1,r)],r)}arc(t,n,r,i,a,s,l=!1,c){const u=this._o(c),d=[],h=Aq(t,n,r,i,a,s,l,!0,u);if(l&&u.fill)if(u.fillStyle==="solid"){const f=Object.assign({},u);f.disableMultiStroke=!0;const m=Aq(t,n,r,i,a,s,!0,!1,f);m.type="fillPath",d.push(m)}else d.push(function(f,m,p,g,x,y,v){const b=f,E=m;let _=Math.abs(p/2),S=Math.abs(g/2);_+=Ot(.01*_,v),S+=Ot(.01*S,v);let C=x,T=y;for(;C<0;)C+=2*Math.PI,T+=2*Math.PI;T-C>2*Math.PI&&(C=0,T=2*Math.PI);const j=(T-C)/v.curveStepCount,k=[];for(let O=C;O<=T;O+=j)k.push([b+_*Math.cos(O),E+S*Math.sin(O)]);return k.push([b+_*Math.cos(T),E+S*Math.sin(T)]),k.push([b,E]),rm([k],v)}(t,n,r,i,a,s,u));return u.stroke!==Ya&&d.push(h),this._d("arc",d,u)}curve(t,n){const r=this._o(n),i=[],a=kq(t,r);if(r.fill&&r.fill!==Ya)if(r.fillStyle==="solid"){const s=kq(t,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(s.ops)})}else{const s=[],l=t;if(l.length){const c=typeof l[0][0]=="number"?[l]:l;for(const u of c)u.length<3?s.push(...u):u.length===3?s.push(...mj(Iq([u[0],u[0],u[1],u[2]]),10,(1+r.roughness)/2)):s.push(...mj(Iq(u),10,(1+r.roughness)/2))}s.length&&i.push(rm([s],r))}return r.stroke!==Ya&&i.push(a),this._d("curve",i,r)}polygon(t,n){const r=this._o(n),i=[],a=zE(t,!0,r);return r.fill&&(r.fillStyle==="solid"?i.push(fj([t],r)):i.push(rm([t],r))),r.stroke!==Ya&&i.push(a),this._d("polygon",i,r)}path(t,n){const r=this._o(n),i=[];if(!t)return this._d("path",i,r);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const a=r.fill&&r.fill!=="transparent"&&r.fill!==Ya,s=r.stroke!==Ya,l=!!(r.simplification&&r.simplification<1),c=function(d,h,f){const m=$me(Lme(p5(d))),p=[];let g=[],x=[0,0],y=[];const v=()=>{y.length>=4&&g.push(...mj(y,h)),y=[]},b=()=>{v(),g.length&&(p.push(g),g=[])};for(const{key:_,data:S}of m)switch(_){case"M":b(),x=[S[0],S[1]],g.push(x);break;case"L":v(),g.push([S[0],S[1]]);break;case"C":if(!y.length){const C=g.length?g[g.length-1]:x;y.push([C[0],C[1]])}y.push([S[0],S[1]]),y.push([S[2],S[3]]),y.push([S[4],S[5]]);break;case"Z":v(),g.push([x[0],x[1]])}if(b(),!f)return p;const E=[];for(const _ of p){const S=oAt(_,f);S.length&&E.push(S)}return E}(t,1,l?4-4*(r.simplification||1):(1+r.roughness)/2),u=jq(t,r);if(a)if(r.fillStyle==="solid")if(c.length===1){const d=jq(t,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(d.ops)})}else i.push(fj(c,r));else i.push(rm(c,r));return s&&(l?c.forEach(d=>{i.push(zE(d,!1,r))}):i.push(u)),this._d("path",i,r)}opsToPath(t,n){let r="";for(const i of t.ops){const a=typeof n=="number"&&n>=0?i.data.map(s=>+s.toFixed(n)):i.data;switch(i.op){case"move":r+=`M${a[0]} ${a[1]} `;break;case"bcurveTo":r+=`C${a[0]} ${a[1]}, ${a[2]} ${a[3]}, ${a[4]} ${a[5]} `;break;case"lineTo":r+=`L${a[0]} ${a[1]} `}}return r.trim()}toPaths(t){const n=t.sets||[],r=t.options||this.defaultOptions,i=[];for(const a of n){let s=null;switch(a.type){case"path":s={d:this.opsToPath(a),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:Ya};break;case"fillPath":s={d:this.opsToPath(a),stroke:Ya,strokeWidth:0,fill:r.fill||Ya};break;case"fillSketch":s=this.fillSketch(a,r)}s&&i.push(s)}return i}fillSketch(t,n){let r=n.fillWeight;return r<0&&(r=n.strokeWidth/2),{d:this.opsToPath(t),stroke:n.fill||Ya,strokeWidth:r,fill:Ya}}_mergedShape(t){return t.filter((n,r)=>r===0||n.op!=="move")}}class lAt{constructor(t,n){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new LC(n)}draw(t){const n=t.sets||[],r=t.options||this.getDefaultOptions(),i=this.ctx,a=t.options.fixedDecimalPlaceDigits;for(const s of n)switch(s.type){case"path":i.save(),i.strokeStyle=r.stroke==="none"?"transparent":r.stroke,i.lineWidth=r.strokeWidth,r.strokeLineDash&&i.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(i.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(i,s,a),i.restore();break;case"fillPath":{i.save(),i.fillStyle=r.fill||"";const l=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,s,a,l),i.restore();break}case"fillSketch":this.fillSketch(i,s,r)}}fillSketch(t,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2),t.save(),r.fillLineDash&&t.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(t.lineDashOffset=r.fillLineDashOffset),t.strokeStyle=r.fill||"",t.lineWidth=i,this._drawToContext(t,n,r.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,n,r,i="nonzero"){t.beginPath();for(const a of n.ops){const s=typeof r=="number"&&r>=0?a.data.map(l=>+l.toFixed(r)):a.data;switch(a.op){case"move":t.moveTo(s[0],s[1]);break;case"bcurveTo":t.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"lineTo":t.lineTo(s[0],s[1])}}n.type==="fillPath"?t.fill(i):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,n,r,i,a){const s=this.gen.line(t,n,r,i,a);return this.draw(s),s}rectangle(t,n,r,i,a){const s=this.gen.rectangle(t,n,r,i,a);return this.draw(s),s}ellipse(t,n,r,i,a){const s=this.gen.ellipse(t,n,r,i,a);return this.draw(s),s}circle(t,n,r,i){const a=this.gen.circle(t,n,r,i);return this.draw(a),a}linearPath(t,n){const r=this.gen.linearPath(t,n);return this.draw(r),r}polygon(t,n){const r=this.gen.polygon(t,n);return this.draw(r),r}arc(t,n,r,i,a,s,l=!1,c){const u=this.gen.arc(t,n,r,i,a,s,l,c);return this.draw(u),u}curve(t,n){const r=this.gen.curve(t,n);return this.draw(r),r}path(t,n){const r=this.gen.path(t,n);return this.draw(r),r}}const Jw="http://www.w3.org/2000/svg";class cAt{constructor(t,n){this.svg=t,this.gen=new LC(n)}draw(t){const n=t.sets||[],r=t.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,a=i.createElementNS(Jw,"g"),s=t.options.fixedDecimalPlaceDigits;for(const l of n){let c=null;switch(l.type){case"path":c=i.createElementNS(Jw,"path"),c.setAttribute("d",this.opsToPath(l,s)),c.setAttribute("stroke",r.stroke),c.setAttribute("stroke-width",r.strokeWidth+""),c.setAttribute("fill","none"),r.strokeLineDash&&c.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&c.setAttribute("stroke-dashoffset",`${r.strokeLineDashOffset}`);break;case"fillPath":c=i.createElementNS(Jw,"path"),c.setAttribute("d",this.opsToPath(l,s)),c.setAttribute("stroke","none"),c.setAttribute("stroke-width","0"),c.setAttribute("fill",r.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||c.setAttribute("fill-rule","evenodd");break;case"fillSketch":c=this.fillSketch(i,l,r)}c&&a.appendChild(c)}return a}fillSketch(t,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2);const a=t.createElementNS(Jw,"path");return a.setAttribute("d",this.opsToPath(n,r.fixedDecimalPlaceDigits)),a.setAttribute("stroke",r.fill||""),a.setAttribute("stroke-width",i+""),a.setAttribute("fill","none"),r.fillLineDash&&a.setAttribute("stroke-dasharray",r.fillLineDash.join(" ").trim()),r.fillLineDashOffset&&a.setAttribute("stroke-dashoffset",`${r.fillLineDashOffset}`),a}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,n){return this.gen.opsToPath(t,n)}line(t,n,r,i,a){const s=this.gen.line(t,n,r,i,a);return this.draw(s)}rectangle(t,n,r,i,a){const s=this.gen.rectangle(t,n,r,i,a);return this.draw(s)}ellipse(t,n,r,i,a){const s=this.gen.ellipse(t,n,r,i,a);return this.draw(s)}circle(t,n,r,i){const a=this.gen.circle(t,n,r,i);return this.draw(a)}linearPath(t,n){const r=this.gen.linearPath(t,n);return this.draw(r)}polygon(t,n){const r=this.gen.polygon(t,n);return this.draw(r)}arc(t,n,r,i,a,s,l=!1,c){const u=this.gen.arc(t,n,r,i,a,s,l,c);return this.draw(u)}curve(t,n){const r=this.gen.curve(t,n);return this.draw(r)}path(t,n){const r=this.gen.path(t,n);return this.draw(r)}}var ht={canvas:(e,t)=>new lAt(e,t),svg:(e,t)=>new cAt(e,t),generator:e=>new LC(e),newSeed:()=>LC.newSeed()},$t=F(async(e,t,n)=>{var h,f;let r;const i=t.useHtmlLabels||ei((h=vn())==null?void 0:h.htmlLabels);n?r=n:r="node default";const a=e.insert("g").attr("class",r).attr("id",t.domId||t.id),s=a.insert("g").attr("class","label").attr("style",ya(t.labelStyle));let l;t.label===void 0?l="":l=typeof t.label=="string"?t.label:t.label[0];const c=await Id(s,uf(Lf(l),vn()),{useHtmlLabels:i,width:t.width||((f=vn().flowchart)==null?void 0:f.wrappingWidth),cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let u=c.getBBox();const d=((t==null?void 0:t.padding)??0)/2;if(i){const m=c.children[0],p=Lt(c),g=m.getElementsByTagName("img");if(g){const x=l.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...g].map(y=>new Promise(v=>{function b(){if(y.style.display="flex",y.style.flexDirection="column",x){const E=vn().fontSize?vn().fontSize:window.getComputedStyle(document.body).fontSize,_=5,[S=Zde.fontSize]=bN(E),C=S*_+"px";y.style.minWidth=C,y.style.maxWidth=C}else y.style.width="100%";v(y)}F(b,"setupImage"),setTimeout(()=>{y.complete&&b()}),y.addEventListener("error",b),y.addEventListener("load",b)})))}u=m.getBoundingClientRect(),p.attr("width",u.width),p.attr("height",u.height)}return i?s.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"):s.attr("transform","translate(0, "+-u.height/2+")"),t.centerLabel&&s.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),s.insert("rect",":first-child"),{shapeSvg:a,bbox:u,halfPadding:d,label:s}},"labelHelper"),pj=F(async(e,t,n)=>{var c,u,d,h,f,m;const r=n.useHtmlLabels||ei((u=(c=vn())==null?void 0:c.flowchart)==null?void 0:u.htmlLabels),i=e.insert("g").attr("class","label").attr("style",n.labelStyle||""),a=await Id(i,uf(Lf(t),vn()),{useHtmlLabels:r,width:n.width||((h=(d=vn())==null?void 0:d.flowchart)==null?void 0:h.wrappingWidth),style:n.labelStyle,addSvgBackground:!!n.icon||!!n.img});let s=a.getBBox();const l=n.padding/2;if(ei((m=(f=vn())==null?void 0:f.flowchart)==null?void 0:m.htmlLabels)){const p=a.children[0],g=Lt(a);s=p.getBoundingClientRect(),g.attr("width",s.width),g.attr("height",s.height)}return r?i.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"):i.attr("transform","translate(0, "+-s.height/2+")"),n.centerLabel&&i.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:e,bbox:s,halfPadding:l,label:i}},"insertLabel"),yt=F((e,t)=>{const n=t.node().getBBox();e.width=n.width,e.height=n.height},"updateNodeBounds"),Pt=F((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");function dn(e){const t=e.map((n,r)=>`${r===0?"M":"L"}${n.x},${n.y}`);return t.push("Z"),t.join(" ")}F(dn,"createPathFromPoints");function yd(e,t,n,r,i,a){const s=[],c=n-e,u=r-t,d=c/a,h=2*Math.PI/d,f=t+u/2;for(let m=0;m<=50;m++){const p=m/50,g=e+p*c,x=f+i*Math.sin(h*(g-e));s.push({x:g,y:x})}return s}F(yd,"generateFullSineWavePoints");function g5(e,t,n,r,i,a){const s=[],l=i*Math.PI/180,d=(a*Math.PI/180-l)/(r-1);for(let h=0;h<r;h++){const f=l+h*d,m=e+n*Math.cos(f),p=t+n*Math.sin(f);s.push({x:-m,y:-p})}return s}F(g5,"generateCirclePoints");var uAt=F((e,t)=>{var n=e.x,r=e.y,i=t.x-n,a=t.y-r,s=e.width/2,l=e.height/2,c,u;return Math.abs(a)*s>Math.abs(i)*l?(a<0&&(l=-l),c=a===0?0:l*i/a,u=l):(i<0&&(s=-s),c=s,u=i===0?0:s*a/i),{x:n+c,y:r+u}},"intersectRect"),y0=uAt;function Hme(e,t){t&&e.attr("style",t)}F(Hme,"applyStyle");async function Vme(e){const t=Lt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=t.append("xhtml:div");let r=e.label;e.label&&Ng(e.label)&&(r=await M$(e.label.replace(m0.lineBreakRegex,`
`),vn()));const i=e.isNode?"nodeLabel":"edgeLabel";return n.html('<span class="'+i+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+r+"</span>"),Hme(n,e.labelStyle),n.style("display","inline-block"),n.style("padding-right","1px"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}F(Vme,"addHtmlLabel");var dAt=F(async(e,t,n,r)=>{let i=e||"";if(typeof i=="object"&&(i=i[0]),ei(vn().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),je.info("vertexText"+i);const a={isNode:r,label:Lf(i).replace(/fa[blrs]?:fa-[\w-]+/g,l=>`<i class='${l.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await Vme(a)}else{const a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",t.replace("color:","fill:"));let s=[];typeof i=="string"?s=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?s=i:s=[];for(const l of s){const c=document.createElementNS("http://www.w3.org/2000/svg","tspan");c.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),c.setAttribute("dy","1em"),c.setAttribute("x","0"),n?c.setAttribute("class","title-row"):c.setAttribute("class","row"),c.textContent=l.trim(),a.appendChild(c)}return a}},"createLabel"),bh=dAt,Hc=F((e,t,n,r,i)=>["M",e+i,t,"H",e+n-i,"A",i,i,0,0,1,e+n,t+i,"V",t+r-i,"A",i,i,0,0,1,e+n-i,t+r,"H",e+i,"A",i,i,0,0,1,e,t+r-i,"V",t+i,"A",i,i,0,0,1,e+i,t,"Z"].join(" "),"createRoundedRectPathD"),hAt=F(e=>{const{handDrawnSeed:t}=vn();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),x0=F(e=>{const t=fAt([...e.cssCompiledStyles||[],...e.cssStyles||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),fAt=F(e=>{const t=new Map;return e.forEach(n=>{const[r,i]=n.split(":");t.set(r.trim(),i==null?void 0:i.trim())}),t},"styles2Map"),Wme=F(e=>e==="color"||e==="font-size"||e==="font-family"||e==="font-weight"||e==="font-style"||e==="text-decoration"||e==="text-align"||e==="text-transform"||e==="line-height"||e==="letter-spacing"||e==="word-spacing"||e==="text-shadow"||e==="text-overflow"||e==="white-space"||e==="word-wrap"||e==="word-break"||e==="overflow-wrap"||e==="hyphens","isLabelStyle"),xt=F(e=>{const{stylesArray:t}=x0(e),n=[],r=[],i=[],a=[];return t.forEach(s=>{const l=s[0];Wme(l)?n.push(s.join(":")+" !important"):(r.push(s.join(":")+" !important"),l.includes("stroke")&&i.push(s.join(":")+" !important"),l==="fill"&&a.push(s.join(":")+" !important"))}),{labelStyles:n.join(";"),nodeStyles:r.join(";"),stylesArray:t,borderStyles:i,backgroundStyles:a}},"styles2String"),mt=F((e,t)=>{var c;const{themeVariables:n,handDrawnSeed:r}=vn(),{nodeBorder:i,mainBkg:a}=n,{stylesMap:s}=x0(e);return Object.assign({roughness:.7,fill:s.get("fill")||a,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:s.get("stroke")||i,seed:r,strokeWidth:((c=s.get("stroke-width"))==null?void 0:c.replace("px",""))||1.3,fillLineDash:[0,0]},t)},"userNodeOverrides"),qme=F(async(e,t)=>{je.info("Creating subgraph rect for ",t.id,t);const n=vn(),{themeVariables:r,handDrawnSeed:i}=n,{clusterBkg:a,clusterBorder:s}=r,{labelStyles:l,nodeStyles:c,borderStyles:u,backgroundStyles:d}=xt(t),h=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),f=ei(n.flowchart.htmlLabels),m=h.insert("g").attr("class","cluster-label "),p=await Id(m,t.label,{style:t.labelStyle,useHtmlLabels:f,isNode:!0});let g=p.getBBox();if(ei(n.flowchart.htmlLabels)){const C=p.children[0],T=Lt(p);g=C.getBoundingClientRect(),T.attr("width",g.width),T.attr("height",g.height)}const x=t.width<=g.width+t.padding?g.width+t.padding:t.width;t.width<=g.width+t.padding?t.diff=(x-t.width)/2-t.padding:t.diff=-t.padding;const y=t.height,v=t.x-x/2,b=t.y-y/2;je.trace("Data ",t,JSON.stringify(t));let E;if(t.look==="handDrawn"){const C=ht.svg(h),T=mt(t,{roughness:.7,fill:a,stroke:s,fillWeight:3,seed:i}),j=C.path(Hc(v,b,x,y,0),T);E=h.insert(()=>(je.debug("Rough node insert CXC",j),j),":first-child"),E.select("path:nth-child(2)").attr("style",u.join(";")),E.select("path").attr("style",d.join(";").replace("fill","stroke"))}else E=h.insert("rect",":first-child"),E.attr("style",c).attr("rx",t.rx).attr("ry",t.ry).attr("x",v).attr("y",b).attr("width",x).attr("height",y);const{subGraphTitleTopMargin:_}=q$(n);if(m.attr("transform",`translate(${t.x-g.width/2}, ${t.y-t.height/2+_})`),l){const C=m.select("span");C&&C.attr("style",l)}const S=E.node().getBBox();return t.offsetX=0,t.width=S.width,t.height=S.height,t.offsetY=g.height-t.padding/2,t.intersect=function(C){return y0(t,C)},{cluster:h,labelBBox:g}},"rect"),mAt=F((e,t)=>{const n=e.insert("g").attr("class","note-cluster").attr("id",t.id),r=n.insert("rect",":first-child"),i=0*t.padding,a=i/2;r.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-a).attr("y",t.y-t.height/2-a).attr("width",t.width+i).attr("height",t.height+i).attr("fill","none");const s=r.node().getBBox();return t.width=s.width,t.height=s.height,t.intersect=function(l){return y0(t,l)},{cluster:n,labelBBox:{width:0,height:0}}},"noteGroup"),pAt=F(async(e,t)=>{const n=vn(),{themeVariables:r,handDrawnSeed:i}=n,{altBackground:a,compositeBackground:s,compositeTitleBackground:l,nodeBorder:c}=r,u=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),d=u.insert("g",":first-child"),h=u.insert("g").attr("class","cluster-label");let f=u.append("rect");const m=h.node().appendChild(await bh(t.label,t.labelStyle,void 0,!0));let p=m.getBBox();if(ei(n.flowchart.htmlLabels)){const j=m.children[0],k=Lt(m);p=j.getBoundingClientRect(),k.attr("width",p.width),k.attr("height",p.height)}const g=0*t.padding,x=g/2,y=(t.width<=p.width+t.padding?p.width+t.padding:t.width)+g;t.width<=p.width+t.padding?t.diff=(y-t.width)/2-t.padding:t.diff=-t.padding;const v=t.height+g,b=t.height+g-p.height-6,E=t.x-y/2,_=t.y-v/2;t.width=y;const S=t.y-t.height/2-x+p.height+2;let C;if(t.look==="handDrawn"){const j=t.cssClasses.includes("statediagram-cluster-alt"),k=ht.svg(u),O=t.rx||t.ry?k.path(Hc(E,_,y,v,10),{roughness:.7,fill:l,fillStyle:"solid",stroke:c,seed:i}):k.rectangle(E,_,y,v,{seed:i});C=u.insert(()=>O,":first-child");const M=k.rectangle(E,S,y,b,{fill:j?a:s,fillStyle:j?"hachure":"solid",stroke:c,seed:i});C=u.insert(()=>O,":first-child"),f=u.insert(()=>M)}else C=d.insert("rect",":first-child"),C.attr("class","outer").attr("x",E).attr("y",_).attr("width",y).attr("height",v).attr("data-look",t.look),f.attr("class","inner").attr("x",E).attr("y",S).attr("width",y).attr("height",b);h.attr("transform",`translate(${t.x-p.width/2}, ${_+1-(ei(n.flowchart.htmlLabels)?0:3)})`);const T=C.node().getBBox();return t.height=T.height,t.offsetX=0,t.offsetY=p.height-t.padding/2,t.labelBBox=p,t.intersect=function(j){return y0(t,j)},{cluster:u,labelBBox:p}},"roundedWithTitle"),gAt=F(async(e,t)=>{je.info("Creating subgraph rect for ",t.id,t);const n=vn(),{themeVariables:r,handDrawnSeed:i}=n,{clusterBkg:a,clusterBorder:s}=r,{labelStyles:l,nodeStyles:c,borderStyles:u,backgroundStyles:d}=xt(t),h=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),f=ei(n.flowchart.htmlLabels),m=h.insert("g").attr("class","cluster-label "),p=await Id(m,t.label,{style:t.labelStyle,useHtmlLabels:f,isNode:!0,width:t.width});let g=p.getBBox();if(ei(n.flowchart.htmlLabels)){const C=p.children[0],T=Lt(p);g=C.getBoundingClientRect(),T.attr("width",g.width),T.attr("height",g.height)}const x=t.width<=g.width+t.padding?g.width+t.padding:t.width;t.width<=g.width+t.padding?t.diff=(x-t.width)/2-t.padding:t.diff=-t.padding;const y=t.height,v=t.x-x/2,b=t.y-y/2;je.trace("Data ",t,JSON.stringify(t));let E;if(t.look==="handDrawn"){const C=ht.svg(h),T=mt(t,{roughness:.7,fill:a,stroke:s,fillWeight:4,seed:i}),j=C.path(Hc(v,b,x,y,t.rx),T);E=h.insert(()=>(je.debug("Rough node insert CXC",j),j),":first-child"),E.select("path:nth-child(2)").attr("style",u.join(";")),E.select("path").attr("style",d.join(";").replace("fill","stroke"))}else E=h.insert("rect",":first-child"),E.attr("style",c).attr("rx",t.rx).attr("ry",t.ry).attr("x",v).attr("y",b).attr("width",x).attr("height",y);const{subGraphTitleTopMargin:_}=q$(n);if(m.attr("transform",`translate(${t.x-g.width/2}, ${t.y-t.height/2+_})`),l){const C=m.select("span");C&&C.attr("style",l)}const S=E.node().getBBox();return t.offsetX=0,t.width=S.width,t.height=S.height,t.offsetY=g.height-t.padding/2,t.intersect=function(C){return y0(t,C)},{cluster:h,labelBBox:g}},"kanbanSection"),yAt=F((e,t)=>{const n=vn(),{themeVariables:r,handDrawnSeed:i}=n,{nodeBorder:a}=r,s=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),l=s.insert("g",":first-child"),c=0*t.padding,u=t.width+c;t.diff=-t.padding;const d=t.height+c,h=t.x-u/2,f=t.y-d/2;t.width=u;let m;if(t.look==="handDrawn"){const x=ht.svg(s).rectangle(h,f,u,d,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:a,seed:i});m=s.insert(()=>x,":first-child")}else m=l.insert("rect",":first-child"),m.attr("class","divider").attr("x",h).attr("y",f).attr("width",u).attr("height",d).attr("data-look",t.look);const p=m.node().getBBox();return t.height=p.height,t.offsetX=0,t.offsetY=0,t.intersect=function(g){return y0(t,g)},{cluster:s,labelBBox:{}}},"divider"),xAt=qme,vAt={rect:qme,squareRect:xAt,roundedWithTitle:pAt,noteGroup:mAt,divider:yAt,kanbanSection:gAt},Gme=new Map,bAt=F(async(e,t)=>{const n=t.shape||"rect",r=await vAt[n](e,t);return Gme.set(t.id,r),r},"insertCluster"),aDt=F(()=>{Gme=new Map},"clear");function Yme(e,t){return e.intersect(t)}F(Yme,"intersectNode");var wAt=Yme;function Kme(e,t,n,r){var i=e.x,a=e.y,s=i-r.x,l=a-r.y,c=Math.sqrt(t*t*l*l+n*n*s*s),u=Math.abs(t*n*s/c);r.x<i&&(u=-u);var d=Math.abs(t*n*l/c);return r.y<a&&(d=-d),{x:i+u,y:a+d}}F(Kme,"intersectEllipse");var Xme=Kme;function Zme(e,t,n){return Xme(e,t,t,n)}F(Zme,"intersectCircle");var EAt=Zme;function Qme(e,t,n,r){var i,a,s,l,c,u,d,h,f,m,p,g,x,y,v;if(i=t.y-e.y,s=e.x-t.x,c=t.x*e.y-e.x*t.y,f=i*n.x+s*n.y+c,m=i*r.x+s*r.y+c,!(f!==0&&m!==0&&oR(f,m))&&(a=r.y-n.y,l=n.x-r.x,u=r.x*n.y-n.x*r.y,d=a*e.x+l*e.y+u,h=a*t.x+l*t.y+u,!(d!==0&&h!==0&&oR(d,h))&&(p=i*l-a*s,p!==0)))return g=Math.abs(p/2),x=s*u-l*c,y=x<0?(x-g)/p:(x+g)/p,x=a*c-i*u,v=x<0?(x-g)/p:(x+g)/p,{x:y,y:v}}F(Qme,"intersectLine");function oR(e,t){return e*t>0}F(oR,"sameSign");var SAt=Qme;function Jme(e,t,n){let r=e.x,i=e.y,a=[],s=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(d){s=Math.min(s,d.x),l=Math.min(l,d.y)}):(s=Math.min(s,t.x),l=Math.min(l,t.y));let c=r-e.width/2-s,u=i-e.height/2-l;for(let d=0;d<t.length;d++){let h=t[d],f=t[d<t.length-1?d+1:0],m=SAt(e,n,{x:c+h.x,y:u+h.y},{x:c+f.x,y:u+f.y});m&&a.push(m)}return a.length?(a.length>1&&a.sort(function(d,h){let f=d.x-n.x,m=d.y-n.y,p=Math.sqrt(f*f+m*m),g=h.x-n.x,x=h.y-n.y,y=Math.sqrt(g*g+x*x);return p<y?-1:p===y?0:1}),a[0]):e}F(Jme,"intersectPolygon");var _At=Jme,lt={node:wAt,circle:EAt,ellipse:Xme,polygon:_At,rect:y0};function epe(e,t){const{labelStyles:n}=xt(t);t.labelStyle=n;const r=Pt(t);let i=r;r||(i="anchor");const a=e.insert("g").attr("class",i).attr("id",t.domId||t.id),s=1,{cssStyles:l}=t,c=ht.svg(a),u=mt(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(u.roughness=0);const d=c.circle(0,0,s*2,u),h=a.insert(()=>d,":first-child");return h.attr("class","anchor").attr("style",ya(l)),yt(t,h),t.intersect=function(f){return je.info("Circle intersect",t,s,f),lt.circle(t,s,f)},a}F(epe,"anchor");function lR(e,t,n,r,i,a,s){const c=(e+n)/2,u=(t+r)/2,d=Math.atan2(r-t,n-e),h=(n-e)/2,f=(r-t)/2,m=h/i,p=f/a,g=Math.sqrt(m**2+p**2);if(g>1)throw new Error("The given radii are too small to create an arc between the points.");const x=Math.sqrt(1-g**2),y=c+x*a*Math.sin(d)*(s?-1:1),v=u-x*i*Math.cos(d)*(s?-1:1),b=Math.atan2((t-v)/a,(e-y)/i);let _=Math.atan2((r-v)/a,(n-y)/i)-b;s&&_<0&&(_+=2*Math.PI),!s&&_>0&&(_-=2*Math.PI);const S=[];for(let C=0;C<20;C++){const T=C/19,j=b+T*_,k=y+i*Math.cos(j),O=v+a*Math.sin(j);S.push({x:k,y:O})}return S}F(lR,"generateArcPoints");async function tpe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await $t(e,t,Pt(t)),s=a.width+t.padding+20,l=a.height+t.padding,c=l/2,u=c/(2.5+l/50),{cssStyles:d}=t,h=[{x:s/2,y:-l/2},{x:-s/2,y:-l/2},...lR(-s/2,-l/2,-s/2,l/2,u,c,!1),{x:s/2,y:l/2},...lR(s/2,l/2,s/2,-l/2,u,c,!0)],f=ht.svg(i),m=mt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const p=dn(h),g=f.path(p,m),x=i.insert(()=>g,":first-child");return x.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",d),r&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",r),x.attr("transform",`translate(${u/2}, 0)`),yt(t,x),t.intersect=function(y){return lt.polygon(t,h,y)},i}F(tpe,"bowTieRect");function Vc(e,t,n,r){return e.insert("polygon",":first-child").attr("points",r.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+n/2+")")}F(Vc,"insertPolygonShape");async function npe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await $t(e,t,Pt(t)),s=a.height+t.padding,l=12,c=a.width+t.padding+l,u=0,d=c,h=-s,f=0,m=[{x:u+l,y:h},{x:d,y:h},{x:d,y:f},{x:u,y:f},{x:u,y:h+l},{x:u+l,y:h}];let p;const{cssStyles:g}=t;if(t.look==="handDrawn"){const x=ht.svg(i),y=mt(t,{}),v=dn(m),b=x.path(v,y);p=i.insert(()=>b,":first-child").attr("transform",`translate(${-c/2}, ${s/2})`),g&&p.attr("style",g)}else p=Vc(i,c,s,m);return r&&p.attr("style",r),yt(t,p),t.intersect=function(x){return lt.polygon(t,m,x)},i}F(npe,"card");function rpe(e,t){const{nodeStyles:n}=xt(t);t.label="";const r=e.insert("g").attr("class",Pt(t)).attr("id",t.domId??t.id),{cssStyles:i}=t,a=Math.max(28,t.width??0),s=[{x:0,y:a/2},{x:a/2,y:0},{x:0,y:-a/2},{x:-a/2,y:0}],l=ht.svg(r),c=mt(t,{});t.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");const u=dn(s),d=l.path(u,c),h=r.insert(()=>d,":first-child");return i&&t.look!=="handDrawn"&&h.selectAll("path").attr("style",i),n&&t.look!=="handDrawn"&&h.selectAll("path").attr("style",n),t.width=28,t.height=28,t.intersect=function(f){return lt.polygon(t,s,f)},r}F(rpe,"choice");async function ipe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,halfPadding:s}=await $t(e,t,Pt(t)),l=a.width/2+s;let c;const{cssStyles:u}=t;if(t.look==="handDrawn"){const d=ht.svg(i),h=mt(t,{}),f=d.circle(0,0,l*2,h);c=i.insert(()=>f,":first-child"),c.attr("class","basic label-container").attr("style",ya(u))}else c=i.insert("circle",":first-child").attr("class","basic label-container").attr("style",r).attr("r",l).attr("cx",0).attr("cy",0);return yt(t,c),t.intersect=function(d){return je.info("Circle intersect",t,l,d),lt.circle(t,l,d)},i}F(ipe,"circle");function ape(e){const t=Math.cos(Math.PI/4),n=Math.sin(Math.PI/4),r=e*2,i={x:r/2*t,y:r/2*n},a={x:-(r/2)*t,y:r/2*n},s={x:-(r/2)*t,y:-(r/2)*n},l={x:r/2*t,y:-(r/2)*n};return`M ${a.x},${a.y} L ${l.x},${l.y}
                   M ${i.x},${i.y} L ${s.x},${s.y}`}F(ape,"createLine");function spe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n,t.label="";const i=e.insert("g").attr("class",Pt(t)).attr("id",t.domId??t.id),a=Math.max(30,(t==null?void 0:t.width)??0),{cssStyles:s}=t,l=ht.svg(i),c=mt(t,{});t.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");const u=l.circle(0,0,a*2,c),d=ape(a),h=l.path(d,c),f=i.insert(()=>u,":first-child");return f.insert(()=>h),s&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",s),r&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",r),yt(t,f),t.intersect=function(m){return je.info("crossedCircle intersect",t,{radius:a,point:m}),lt.circle(t,a,m)},i}F(spe,"crossedCircle");function Yl(e,t,n,r=100,i=0,a=180){const s=[],l=i*Math.PI/180,d=(a*Math.PI/180-l)/(r-1);for(let h=0;h<r;h++){const f=l+h*d,m=e+n*Math.cos(f),p=t+n*Math.sin(f);s.push({x:-m,y:-p})}return s}F(Yl,"generateCirclePoints");async function ope(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await $t(e,t,Pt(t)),l=a.width+(t.padding??0),c=a.height+(t.padding??0),u=Math.max(5,c*.1),{cssStyles:d}=t,h=[...Yl(l/2,-c/2,u,30,-90,0),{x:-l/2-u,y:u},...Yl(l/2+u*2,-u,u,20,-180,-270),...Yl(l/2+u*2,u,u,20,-90,-180),{x:-l/2-u,y:-c/2},...Yl(l/2,c/2,u,20,0,90)],f=[{x:l/2,y:-c/2-u},{x:-l/2,y:-c/2-u},...Yl(l/2,-c/2,u,20,-90,0),{x:-l/2-u,y:-u},...Yl(l/2+l*.1,-u,u,20,-180,-270),...Yl(l/2+l*.1,u,u,20,-90,-180),{x:-l/2-u,y:c/2},...Yl(l/2,c/2,u,20,0,90),{x:-l/2,y:c/2+u},{x:l/2,y:c/2+u}],m=ht.svg(i),p=mt(t,{fill:"none"});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const x=dn(h).replace("Z",""),y=m.path(x,p),v=dn(f),b=m.path(v,{...p}),E=i.insert("g",":first-child");return E.insert(()=>b,":first-child").attr("stroke-opacity",0),E.insert(()=>y,":first-child"),E.attr("class","text"),d&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",d),r&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",r),E.attr("transform",`translate(${u}, 0)`),s.attr("transform",`translate(${-l/2+u-(a.x-(a.left??0))},${-c/2+(t.padding??0)/2-(a.y-(a.top??0))})`),yt(t,E),t.intersect=function(_){return lt.polygon(t,f,_)},i}F(ope,"curlyBraceLeft");function Kl(e,t,n,r=100,i=0,a=180){const s=[],l=i*Math.PI/180,d=(a*Math.PI/180-l)/(r-1);for(let h=0;h<r;h++){const f=l+h*d,m=e+n*Math.cos(f),p=t+n*Math.sin(f);s.push({x:m,y:p})}return s}F(Kl,"generateCirclePoints");async function lpe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await $t(e,t,Pt(t)),l=a.width+(t.padding??0),c=a.height+(t.padding??0),u=Math.max(5,c*.1),{cssStyles:d}=t,h=[...Kl(l/2,-c/2,u,20,-90,0),{x:l/2+u,y:-u},...Kl(l/2+u*2,-u,u,20,-180,-270),...Kl(l/2+u*2,u,u,20,-90,-180),{x:l/2+u,y:c/2},...Kl(l/2,c/2,u,20,0,90)],f=[{x:-l/2,y:-c/2-u},{x:l/2,y:-c/2-u},...Kl(l/2,-c/2,u,20,-90,0),{x:l/2+u,y:-u},...Kl(l/2+u*2,-u,u,20,-180,-270),...Kl(l/2+u*2,u,u,20,-90,-180),{x:l/2+u,y:c/2},...Kl(l/2,c/2,u,20,0,90),{x:l/2,y:c/2+u},{x:-l/2,y:c/2+u}],m=ht.svg(i),p=mt(t,{fill:"none"});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const x=dn(h).replace("Z",""),y=m.path(x,p),v=dn(f),b=m.path(v,{...p}),E=i.insert("g",":first-child");return E.insert(()=>b,":first-child").attr("stroke-opacity",0),E.insert(()=>y,":first-child"),E.attr("class","text"),d&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",d),r&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",r),E.attr("transform",`translate(${-u}, 0)`),s.attr("transform",`translate(${-l/2+(t.padding??0)/2-(a.x-(a.left??0))},${-c/2+(t.padding??0)/2-(a.y-(a.top??0))})`),yt(t,E),t.intersect=function(_){return lt.polygon(t,f,_)},i}F(lpe,"curlyBraceRight");function yi(e,t,n,r=100,i=0,a=180){const s=[],l=i*Math.PI/180,d=(a*Math.PI/180-l)/(r-1);for(let h=0;h<r;h++){const f=l+h*d,m=e+n*Math.cos(f),p=t+n*Math.sin(f);s.push({x:-m,y:-p})}return s}F(yi,"generateCirclePoints");async function cpe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await $t(e,t,Pt(t)),l=a.width+(t.padding??0),c=a.height+(t.padding??0),u=Math.max(5,c*.1),{cssStyles:d}=t,h=[...yi(l/2,-c/2,u,30,-90,0),{x:-l/2-u,y:u},...yi(l/2+u*2,-u,u,20,-180,-270),...yi(l/2+u*2,u,u,20,-90,-180),{x:-l/2-u,y:-c/2},...yi(l/2,c/2,u,20,0,90)],f=[...yi(-l/2+u+u/2,-c/2,u,20,-90,-180),{x:l/2-u/2,y:u},...yi(-l/2-u/2,-u,u,20,0,90),...yi(-l/2-u/2,u,u,20,-90,0),{x:l/2-u/2,y:-u},...yi(-l/2+u+u/2,c/2,u,30,-180,-270)],m=[{x:l/2,y:-c/2-u},{x:-l/2,y:-c/2-u},...yi(l/2,-c/2,u,20,-90,0),{x:-l/2-u,y:-u},...yi(l/2+u*2,-u,u,20,-180,-270),...yi(l/2+u*2,u,u,20,-90,-180),{x:-l/2-u,y:c/2},...yi(l/2,c/2,u,20,0,90),{x:-l/2,y:c/2+u},{x:l/2-u-u/2,y:c/2+u},...yi(-l/2+u+u/2,-c/2,u,20,-90,-180),{x:l/2-u/2,y:u},...yi(-l/2-u/2,-u,u,20,0,90),...yi(-l/2-u/2,u,u,20,-90,0),{x:l/2-u/2,y:-u},...yi(-l/2+u+u/2,c/2,u,30,-180,-270)],p=ht.svg(i),g=mt(t,{fill:"none"});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=dn(h).replace("Z",""),v=p.path(y,g),E=dn(f).replace("Z",""),_=p.path(E,g),S=dn(m),C=p.path(S,{...g}),T=i.insert("g",":first-child");return T.insert(()=>C,":first-child").attr("stroke-opacity",0),T.insert(()=>v,":first-child"),T.insert(()=>_,":first-child"),T.attr("class","text"),d&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",d),r&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",r),T.attr("transform",`translate(${u-u/4}, 0)`),s.attr("transform",`translate(${-l/2+(t.padding??0)/2-(a.x-(a.left??0))},${-c/2+(t.padding??0)/2-(a.y-(a.top??0))})`),yt(t,T),t.intersect=function(j){return lt.polygon(t,m,j)},i}F(cpe,"curlyBraces");async function upe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await $t(e,t,Pt(t)),s=80,l=20,c=Math.max(s,(a.width+(t.padding??0)*2)*1.25,(t==null?void 0:t.width)??0),u=Math.max(l,a.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),d=u/2,{cssStyles:h}=t,f=ht.svg(i),m=mt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const p=c,g=u,x=p-d,y=g/4,v=[{x,y:0},{x:y,y:0},{x:0,y:g/2},{x:y,y:g},{x,y:g},...g5(-x,-g/2,d,50,270,90)],b=dn(v),E=f.path(b,m),_=i.insert(()=>E,":first-child");return _.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&_.selectChildren("path").attr("style",h),r&&t.look!=="handDrawn"&&_.selectChildren("path").attr("style",r),_.attr("transform",`translate(${-c/2}, ${-u/2})`),yt(t,_),t.intersect=function(S){return lt.polygon(t,v,S)},i}F(upe,"curvedTrapezoid");var CAt=F((e,t,n,r,i,a)=>[`M${e},${t+a}`,`a${i},${a} 0,0,0 ${n},0`,`a${i},${a} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${a} 0,0,0 ${n},0`,`l0,${-r}`].join(" "),"createCylinderPathD"),TAt=F((e,t,n,r,i,a)=>[`M${e},${t+a}`,`M${e+n},${t+a}`,`a${i},${a} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${a} 0,0,0 ${n},0`,`l0,${-r}`].join(" "),"createOuterCylinderPathD"),NAt=F((e,t,n,r,i,a)=>[`M${e-n/2},${-r/2}`,`a${i},${a} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function dpe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await $t(e,t,Pt(t)),l=Math.max(a.width+t.padding,t.width??0),c=l/2,u=c/(2.5+l/50),d=Math.max(a.height+u+t.padding,t.height??0);let h;const{cssStyles:f}=t;if(t.look==="handDrawn"){const m=ht.svg(i),p=TAt(0,0,l,d,c,u),g=NAt(0,u,l,d,c,u),x=m.path(p,mt(t,{})),y=m.path(g,mt(t,{fill:"none"}));h=i.insert(()=>y,":first-child"),h=i.insert(()=>x,":first-child"),h.attr("class","basic label-container"),f&&h.attr("style",f)}else{const m=CAt(0,0,l,d,c,u);h=i.insert("path",":first-child").attr("d",m).attr("class","basic label-container").attr("style",ya(f)).attr("style",r)}return h.attr("label-offset-y",u),h.attr("transform",`translate(${-l/2}, ${-(d/2+u)})`),yt(t,h),s.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+(t.padding??0)/1.5-(a.y-(a.top??0))})`),t.intersect=function(m){const p=lt.rect(t,m),g=p.x-(t.x??0);if(c!=0&&(Math.abs(g)<(t.width??0)/2||Math.abs(g)==(t.width??0)/2&&Math.abs(p.y-(t.y??0))>(t.height??0)/2-u)){let x=u*u*(1-g*g/(c*c));x>0&&(x=Math.sqrt(x)),x=u-x,m.y-(t.y??0)>0&&(x=-x),p.y+=x}return p},i}F(dpe,"cylinder");async function hpe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await $t(e,t,Pt(t)),l=a.width+t.padding,c=a.height+t.padding,u=c*.2,d=-l/2,h=-c/2-u/2,{cssStyles:f}=t,m=ht.svg(i),p=mt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=[{x:d,y:h+u},{x:-d,y:h+u},{x:-d,y:-h},{x:d,y:-h},{x:d,y:h},{x:-d,y:h},{x:-d,y:h+u}],x=m.polygon(g.map(v=>[v.x,v.y]),p),y=i.insert(()=>x,":first-child");return y.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",f),r&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",r),s.attr("transform",`translate(${d+(t.padding??0)/2-(a.x-(a.left??0))}, ${h+u+(t.padding??0)/2-(a.y-(a.top??0))})`),yt(t,y),t.intersect=function(v){return lt.rect(t,v)},i}F(hpe,"dividedRectangle");async function fpe(e,t){var f,m;const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,halfPadding:s}=await $t(e,t,Pt(t)),c=a.width/2+s+5,u=a.width/2+s;let d;const{cssStyles:h}=t;if(t.look==="handDrawn"){const p=ht.svg(i),g=mt(t,{roughness:.2,strokeWidth:2.5}),x=mt(t,{roughness:.2,strokeWidth:1.5}),y=p.circle(0,0,c*2,g),v=p.circle(0,0,u*2,x);d=i.insert("g",":first-child"),d.attr("class",ya(t.cssClasses)).attr("style",ya(h)),(f=d.node())==null||f.appendChild(y),(m=d.node())==null||m.appendChild(v)}else{d=i.insert("g",":first-child");const p=d.insert("circle",":first-child"),g=d.insert("circle");d.attr("class","basic label-container").attr("style",r),p.attr("class","outer-circle").attr("style",r).attr("r",c).attr("cx",0).attr("cy",0),g.attr("class","inner-circle").attr("style",r).attr("r",u).attr("cx",0).attr("cy",0)}return yt(t,d),t.intersect=function(p){return je.info("DoubleCircle intersect",t,c,p),lt.circle(t,c,p)},i}F(fpe,"doublecircle");function mpe(e,t,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:i}=xt(t);t.label="",t.labelStyle=r;const a=e.insert("g").attr("class",Pt(t)).attr("id",t.domId??t.id),s=7,{cssStyles:l}=t,c=ht.svg(a),{nodeBorder:u}=n,d=mt(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(d.roughness=0);const h=c.circle(0,0,s*2,d),f=a.insert(()=>h,":first-child");return f.selectAll("path").attr("style",`fill: ${u} !important;`),l&&l.length>0&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",l),i&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",i),yt(t,f),t.intersect=function(m){return je.info("filledCircle intersect",t,{radius:s,point:m}),lt.circle(t,s,m)},a}F(mpe,"filledCircle");async function ppe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await $t(e,t,Pt(t)),l=a.width+(t.padding??0),c=l+a.height,u=l+a.height,d=[{x:0,y:-c},{x:u,y:-c},{x:u/2,y:0}],{cssStyles:h}=t,f=ht.svg(i),m=mt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const p=dn(d),g=f.path(p,m),x=i.insert(()=>g,":first-child").attr("transform",`translate(${-c/2}, ${c/2})`);return h&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",h),r&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",r),t.width=l,t.height=c,yt(t,x),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-c/2+(t.padding??0)/2+(a.y-(a.top??0))})`),t.intersect=function(y){return je.info("Triangle intersect",t,d,y),lt.polygon(t,d,y)},i}F(ppe,"flippedTriangle");function gpe(e,t,{dir:n,config:{state:r,themeVariables:i}}){const{nodeStyles:a}=xt(t);t.label="";const s=e.insert("g").attr("class",Pt(t)).attr("id",t.domId??t.id),{cssStyles:l}=t;let c=Math.max(70,(t==null?void 0:t.width)??0),u=Math.max(10,(t==null?void 0:t.height)??0);n==="LR"&&(c=Math.max(10,(t==null?void 0:t.width)??0),u=Math.max(70,(t==null?void 0:t.height)??0));const d=-1*c/2,h=-1*u/2,f=ht.svg(s),m=mt(t,{stroke:i.lineColor,fill:i.lineColor});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const p=f.rectangle(d,h,c,u,m),g=s.insert(()=>p,":first-child");l&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",l),a&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",a),yt(t,g);const x=(r==null?void 0:r.padding)??0;return t.width&&t.height&&(t.width+=x/2||0,t.height+=x/2||0),t.intersect=function(y){return lt.rect(t,y)},s}F(gpe,"forkJoin");async function ype(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const i=80,a=50,{shapeSvg:s,bbox:l}=await $t(e,t,Pt(t)),c=Math.max(i,l.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(a,l.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),d=u/2,{cssStyles:h}=t,f=ht.svg(s),m=mt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const p=[{x:-c/2,y:-u/2},{x:c/2-d,y:-u/2},...g5(-c/2+d,0,d,50,90,270),{x:c/2-d,y:u/2},{x:-c/2,y:u/2}],g=dn(p),x=f.path(g,m),y=s.insert(()=>x,":first-child");return y.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",h),r&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",r),yt(t,y),t.intersect=function(v){return je.info("Pill intersect",t,{radius:d,point:v}),lt.polygon(t,p,v)},s}F(ype,"halfRoundedRectangle");var kAt=F((e,t,n,r,i)=>[`M${e+i},${t}`,`L${e+n-i},${t}`,`L${e+n},${t-r/2}`,`L${e+n-i},${t-r}`,`L${e+i},${t-r}`,`L${e},${t-r/2}`,"Z"].join(" "),"createHexagonPathD");async function xpe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await $t(e,t,Pt(t)),s=4,l=a.height+t.padding,c=l/s,u=a.width+2*c+t.padding,d=[{x:c,y:0},{x:u-c,y:0},{x:u,y:-l/2},{x:u-c,y:-l},{x:c,y:-l},{x:0,y:-l/2}];let h;const{cssStyles:f}=t;if(t.look==="handDrawn"){const m=ht.svg(i),p=mt(t,{}),g=kAt(0,0,u,l,c),x=m.path(g,p);h=i.insert(()=>x,":first-child").attr("transform",`translate(${-u/2}, ${l/2})`),f&&h.attr("style",f)}else h=Vc(i,u,l,d);return r&&h.attr("style",r),t.width=u,t.height=l,yt(t,h),t.intersect=function(m){return lt.polygon(t,d,m)},i}F(xpe,"hexagon");async function vpe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.label="",t.labelStyle=n;const{shapeSvg:i}=await $t(e,t,Pt(t)),a=Math.max(30,(t==null?void 0:t.width)??0),s=Math.max(30,(t==null?void 0:t.height)??0),{cssStyles:l}=t,c=ht.svg(i),u=mt(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const d=[{x:0,y:0},{x:a,y:0},{x:0,y:s},{x:a,y:s}],h=dn(d),f=c.path(h,u),m=i.insert(()=>f,":first-child");return m.attr("class","basic label-container"),l&&t.look!=="handDrawn"&&m.selectChildren("path").attr("style",l),r&&t.look!=="handDrawn"&&m.selectChildren("path").attr("style",r),m.attr("transform",`translate(${-a/2}, ${-s/2})`),yt(t,m),t.intersect=function(p){return je.info("Pill intersect",t,{points:d}),lt.polygon(t,d,p)},i}F(vpe,"hourglass");async function bpe(e,t,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=xt(t);t.labelStyle=i;const a=t.assetHeight??48,s=t.assetWidth??48,l=Math.max(a,s),c=r==null?void 0:r.wrappingWidth;t.width=Math.max(l,c??0);const{shapeSvg:u,bbox:d,label:h}=await $t(e,t,"icon-shape default"),f=t.pos==="t",m=l,p=l,{nodeBorder:g}=n,{stylesMap:x}=x0(t),y=-p/2,v=-m/2,b=t.label?8:0,E=ht.svg(u),_=mt(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const S=E.rectangle(y,v,p,m,_),C=Math.max(p,d.width),T=m+d.height+b,j=E.rectangle(-C/2,-T/2,C,T,{..._,fill:"transparent",stroke:"none"}),k=u.insert(()=>S,":first-child"),O=u.insert(()=>j);if(t.icon){const M=u.append("g");M.html(`<g>${await mN(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const B=M.node().getBBox(),N=B.width,D=B.height,P=B.x,L=B.y;M.attr("transform",`translate(${-N/2-P},${f?d.height/2+b/2-D/2-L:-d.height/2-b/2-D/2-L})`),M.attr("style",`color: ${x.get("stroke")??g};`)}return h.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${f?-T/2:T/2-d.height})`),k.attr("transform",`translate(0,${f?d.height/2+b/2:-d.height/2-b/2})`),yt(t,O),t.intersect=function(M){if(je.info("iconSquare intersect",t,M),!t.label)return lt.rect(t,M);const B=t.x??0,N=t.y??0,D=t.height??0;let P=[];return f?P=[{x:B-d.width/2,y:N-D/2},{x:B+d.width/2,y:N-D/2},{x:B+d.width/2,y:N-D/2+d.height+b},{x:B+p/2,y:N-D/2+d.height+b},{x:B+p/2,y:N+D/2},{x:B-p/2,y:N+D/2},{x:B-p/2,y:N-D/2+d.height+b},{x:B-d.width/2,y:N-D/2+d.height+b}]:P=[{x:B-p/2,y:N-D/2},{x:B+p/2,y:N-D/2},{x:B+p/2,y:N-D/2+m},{x:B+d.width/2,y:N-D/2+m},{x:B+d.width/2/2,y:N+D/2},{x:B-d.width/2,y:N+D/2},{x:B-d.width/2,y:N-D/2+m},{x:B-p/2,y:N-D/2+m}],lt.polygon(t,P,M)},u}F(bpe,"icon");async function wpe(e,t,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=xt(t);t.labelStyle=i;const a=t.assetHeight??48,s=t.assetWidth??48,l=Math.max(a,s),c=r==null?void 0:r.wrappingWidth;t.width=Math.max(l,c??0);const{shapeSvg:u,bbox:d,label:h}=await $t(e,t,"icon-shape default"),f=20,m=t.label?8:0,p=t.pos==="t",{nodeBorder:g,mainBkg:x}=n,{stylesMap:y}=x0(t),v=ht.svg(u),b=mt(t,{});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const E=y.get("fill");b.stroke=E??x;const _=u.append("g");t.icon&&_.html(`<g>${await mN(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const S=_.node().getBBox(),C=S.width,T=S.height,j=S.x,k=S.y,O=Math.max(C,T)*Math.SQRT2+f*2,M=v.circle(0,0,O,b),B=Math.max(O,d.width),N=O+d.height+m,D=v.rectangle(-B/2,-N/2,B,N,{...b,fill:"transparent",stroke:"none"}),P=u.insert(()=>M,":first-child"),L=u.insert(()=>D);return _.attr("transform",`translate(${-C/2-j},${p?d.height/2+m/2-T/2-k:-d.height/2-m/2-T/2-k})`),_.attr("style",`color: ${y.get("stroke")??g};`),h.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${p?-N/2:N/2-d.height})`),P.attr("transform",`translate(0,${p?d.height/2+m/2:-d.height/2-m/2})`),yt(t,L),t.intersect=function(I){return je.info("iconSquare intersect",t,I),lt.rect(t,I)},u}F(wpe,"iconCircle");async function Epe(e,t,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=xt(t);t.labelStyle=i;const a=t.assetHeight??48,s=t.assetWidth??48,l=Math.max(a,s),c=r==null?void 0:r.wrappingWidth;t.width=Math.max(l,c??0);const{shapeSvg:u,bbox:d,halfPadding:h,label:f}=await $t(e,t,"icon-shape default"),m=t.pos==="t",p=l+h*2,g=l+h*2,{nodeBorder:x,mainBkg:y}=n,{stylesMap:v}=x0(t),b=-g/2,E=-p/2,_=t.label?8:0,S=ht.svg(u),C=mt(t,{});t.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const T=v.get("fill");C.stroke=T??y;const j=S.path(Hc(b,E,g,p,5),C),k=Math.max(g,d.width),O=p+d.height+_,M=S.rectangle(-k/2,-O/2,k,O,{...C,fill:"transparent",stroke:"none"}),B=u.insert(()=>j,":first-child").attr("class","icon-shape2"),N=u.insert(()=>M);if(t.icon){const D=u.append("g");D.html(`<g>${await mN(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const P=D.node().getBBox(),L=P.width,I=P.height,U=P.x,$=P.y;D.attr("transform",`translate(${-L/2-U},${m?d.height/2+_/2-I/2-$:-d.height/2-_/2-I/2-$})`),D.attr("style",`color: ${v.get("stroke")??x};`)}return f.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${m?-O/2:O/2-d.height})`),B.attr("transform",`translate(0,${m?d.height/2+_/2:-d.height/2-_/2})`),yt(t,N),t.intersect=function(D){if(je.info("iconSquare intersect",t,D),!t.label)return lt.rect(t,D);const P=t.x??0,L=t.y??0,I=t.height??0;let U=[];return m?U=[{x:P-d.width/2,y:L-I/2},{x:P+d.width/2,y:L-I/2},{x:P+d.width/2,y:L-I/2+d.height+_},{x:P+g/2,y:L-I/2+d.height+_},{x:P+g/2,y:L+I/2},{x:P-g/2,y:L+I/2},{x:P-g/2,y:L-I/2+d.height+_},{x:P-d.width/2,y:L-I/2+d.height+_}]:U=[{x:P-g/2,y:L-I/2},{x:P+g/2,y:L-I/2},{x:P+g/2,y:L-I/2+p},{x:P+d.width/2,y:L-I/2+p},{x:P+d.width/2/2,y:L+I/2},{x:P-d.width/2,y:L+I/2},{x:P-d.width/2,y:L-I/2+p},{x:P-g/2,y:L-I/2+p}],lt.polygon(t,U,D)},u}F(Epe,"iconRounded");async function Spe(e,t,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=xt(t);t.labelStyle=i;const a=t.assetHeight??48,s=t.assetWidth??48,l=Math.max(a,s),c=r==null?void 0:r.wrappingWidth;t.width=Math.max(l,c??0);const{shapeSvg:u,bbox:d,halfPadding:h,label:f}=await $t(e,t,"icon-shape default"),m=t.pos==="t",p=l+h*2,g=l+h*2,{nodeBorder:x,mainBkg:y}=n,{stylesMap:v}=x0(t),b=-g/2,E=-p/2,_=t.label?8:0,S=ht.svg(u),C=mt(t,{});t.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const T=v.get("fill");C.stroke=T??y;const j=S.path(Hc(b,E,g,p,.1),C),k=Math.max(g,d.width),O=p+d.height+_,M=S.rectangle(-k/2,-O/2,k,O,{...C,fill:"transparent",stroke:"none"}),B=u.insert(()=>j,":first-child"),N=u.insert(()=>M);if(t.icon){const D=u.append("g");D.html(`<g>${await mN(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const P=D.node().getBBox(),L=P.width,I=P.height,U=P.x,$=P.y;D.attr("transform",`translate(${-L/2-U},${m?d.height/2+_/2-I/2-$:-d.height/2-_/2-I/2-$})`),D.attr("style",`color: ${v.get("stroke")??x};`)}return f.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${m?-O/2:O/2-d.height})`),B.attr("transform",`translate(0,${m?d.height/2+_/2:-d.height/2-_/2})`),yt(t,N),t.intersect=function(D){if(je.info("iconSquare intersect",t,D),!t.label)return lt.rect(t,D);const P=t.x??0,L=t.y??0,I=t.height??0;let U=[];return m?U=[{x:P-d.width/2,y:L-I/2},{x:P+d.width/2,y:L-I/2},{x:P+d.width/2,y:L-I/2+d.height+_},{x:P+g/2,y:L-I/2+d.height+_},{x:P+g/2,y:L+I/2},{x:P-g/2,y:L+I/2},{x:P-g/2,y:L-I/2+d.height+_},{x:P-d.width/2,y:L-I/2+d.height+_}]:U=[{x:P-g/2,y:L-I/2},{x:P+g/2,y:L-I/2},{x:P+g/2,y:L-I/2+p},{x:P+d.width/2,y:L-I/2+p},{x:P+d.width/2/2,y:L+I/2},{x:P-d.width/2,y:L+I/2},{x:P-d.width/2,y:L-I/2+p},{x:P-g/2,y:L-I/2+p}],lt.polygon(t,U,D)},u}F(Spe,"iconSquare");async function _pe(e,t,{config:{flowchart:n}}){const r=new Image;r.src=(t==null?void 0:t.img)??"",await r.decode();const i=Number(r.naturalWidth.toString().replace("px","")),a=Number(r.naturalHeight.toString().replace("px",""));t.imageAspectRatio=i/a;const{labelStyles:s}=xt(t);t.labelStyle=s;const l=n==null?void 0:n.wrappingWidth;t.defaultWidth=n==null?void 0:n.wrappingWidth;const c=Math.max(t.label?l??0:0,(t==null?void 0:t.assetWidth)??i),u=t.constraint==="on"&&t!=null&&t.assetHeight?t.assetHeight*t.imageAspectRatio:c,d=t.constraint==="on"?u/t.imageAspectRatio:(t==null?void 0:t.assetHeight)??a;t.width=Math.max(u,l??0);const{shapeSvg:h,bbox:f,label:m}=await $t(e,t,"image-shape default"),p=t.pos==="t",g=-u/2,x=-d/2,y=t.label?8:0,v=ht.svg(h),b=mt(t,{});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const E=v.rectangle(g,x,u,d,b),_=Math.max(u,f.width),S=d+f.height+y,C=v.rectangle(-_/2,-S/2,_,S,{...b,fill:"none",stroke:"none"}),T=h.insert(()=>E,":first-child"),j=h.insert(()=>C);if(t.img){const k=h.append("image");k.attr("href",t.img),k.attr("width",u),k.attr("height",d),k.attr("preserveAspectRatio","none"),k.attr("transform",`translate(${-u/2},${p?S/2-d:-S/2})`)}return m.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${p?-d/2-f.height/2-y/2:d/2-f.height/2+y/2})`),T.attr("transform",`translate(0,${p?f.height/2+y/2:-f.height/2-y/2})`),yt(t,j),t.intersect=function(k){if(je.info("iconSquare intersect",t,k),!t.label)return lt.rect(t,k);const O=t.x??0,M=t.y??0,B=t.height??0;let N=[];return p?N=[{x:O-f.width/2,y:M-B/2},{x:O+f.width/2,y:M-B/2},{x:O+f.width/2,y:M-B/2+f.height+y},{x:O+u/2,y:M-B/2+f.height+y},{x:O+u/2,y:M+B/2},{x:O-u/2,y:M+B/2},{x:O-u/2,y:M-B/2+f.height+y},{x:O-f.width/2,y:M-B/2+f.height+y}]:N=[{x:O-u/2,y:M-B/2},{x:O+u/2,y:M-B/2},{x:O+u/2,y:M-B/2+d},{x:O+f.width/2,y:M-B/2+d},{x:O+f.width/2/2,y:M+B/2},{x:O-f.width/2,y:M+B/2},{x:O-f.width/2,y:M-B/2+d},{x:O-u/2,y:M-B/2+d}],lt.polygon(t,N,k)},h}F(_pe,"imageSquare");async function Cpe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await $t(e,t,Pt(t)),s=Math.max(a.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(a.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=[{x:0,y:0},{x:s,y:0},{x:s+3*l/6,y:-l},{x:-3*l/6,y:-l}];let u;const{cssStyles:d}=t;if(t.look==="handDrawn"){const h=ht.svg(i),f=mt(t,{}),m=dn(c),p=h.path(m,f);u=i.insert(()=>p,":first-child").attr("transform",`translate(${-s/2}, ${l/2})`),d&&u.attr("style",d)}else u=Vc(i,s,l,c);return r&&u.attr("style",r),t.width=s,t.height=l,yt(t,u),t.intersect=function(h){return lt.polygon(t,c,h)},i}F(Cpe,"inv_trapezoid");async function E1(e,t,n){const{labelStyles:r,nodeStyles:i}=xt(t);t.labelStyle=r;const{shapeSvg:a,bbox:s}=await $t(e,t,Pt(t)),l=Math.max(s.width+n.labelPaddingX*2,(t==null?void 0:t.width)||0),c=Math.max(s.height+n.labelPaddingY*2,(t==null?void 0:t.height)||0),u=-l/2,d=-c/2;let h,{rx:f,ry:m}=t;const{cssStyles:p}=t;if(n!=null&&n.rx&&n.ry&&(f=n.rx,m=n.ry),t.look==="handDrawn"){const g=ht.svg(a),x=mt(t,{}),y=f||m?g.path(Hc(u,d,l,c,f||0),x):g.rectangle(u,d,l,c,x);h=a.insert(()=>y,":first-child"),h.attr("class","basic label-container").attr("style",ya(p))}else h=a.insert("rect",":first-child"),h.attr("class","basic label-container").attr("style",i).attr("rx",ya(f)).attr("ry",ya(m)).attr("x",u).attr("y",d).attr("width",l).attr("height",c);return yt(t,h),t.intersect=function(g){return lt.rect(t,g)},a}F(E1,"drawRect");async function Tpe(e,t){const{shapeSvg:n,bbox:r,label:i}=await $t(e,t,"label"),a=n.insert("rect",":first-child");return a.attr("width",.1).attr("height",.1),n.attr("class","label edgeLabel"),i.attr("transform",`translate(${-(r.width/2)-(r.x-(r.left??0))}, ${-(r.height/2)-(r.y-(r.top??0))})`),yt(t,a),t.intersect=function(c){return lt.rect(t,c)},n}F(Tpe,"labelRect");async function Npe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await $t(e,t,Pt(t)),s=Math.max(a.width+(t.padding??0),(t==null?void 0:t.width)??0),l=Math.max(a.height+(t.padding??0),(t==null?void 0:t.height)??0),c=[{x:0,y:0},{x:s+3*l/6,y:0},{x:s,y:-l},{x:-(3*l)/6,y:-l}];let u;const{cssStyles:d}=t;if(t.look==="handDrawn"){const h=ht.svg(i),f=mt(t,{}),m=dn(c),p=h.path(m,f);u=i.insert(()=>p,":first-child").attr("transform",`translate(${-s/2}, ${l/2})`),d&&u.attr("style",d)}else u=Vc(i,s,l,c);return r&&u.attr("style",r),t.width=s,t.height=l,yt(t,u),t.intersect=function(h){return lt.polygon(t,c,h)},i}F(Npe,"lean_left");async function kpe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await $t(e,t,Pt(t)),s=Math.max(a.width+(t.padding??0),(t==null?void 0:t.width)??0),l=Math.max(a.height+(t.padding??0),(t==null?void 0:t.height)??0),c=[{x:-3*l/6,y:0},{x:s,y:0},{x:s+3*l/6,y:-l},{x:0,y:-l}];let u;const{cssStyles:d}=t;if(t.look==="handDrawn"){const h=ht.svg(i),f=mt(t,{}),m=dn(c),p=h.path(m,f);u=i.insert(()=>p,":first-child").attr("transform",`translate(${-s/2}, ${l/2})`),d&&u.attr("style",d)}else u=Vc(i,s,l,c);return r&&u.attr("style",r),t.width=s,t.height=l,yt(t,u),t.intersect=function(h){return lt.polygon(t,c,h)},i}F(kpe,"lean_right");function Ape(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.label="",t.labelStyle=n;const i=e.insert("g").attr("class",Pt(t)).attr("id",t.domId??t.id),{cssStyles:a}=t,s=Math.max(35,(t==null?void 0:t.width)??0),l=Math.max(35,(t==null?void 0:t.height)??0),c=7,u=[{x:s,y:0},{x:0,y:l+c/2},{x:s-2*c,y:l+c/2},{x:0,y:2*l},{x:s,y:l-c/2},{x:2*c,y:l-c/2}],d=ht.svg(i),h=mt(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const f=dn(u),m=d.path(f,h),p=i.insert(()=>m,":first-child");return a&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",a),r&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",r),p.attr("transform",`translate(-${s/2},${-l})`),yt(t,p),t.intersect=function(g){return je.info("lightningBolt intersect",t,g),lt.polygon(t,u,g)},i}F(Ape,"lightningBolt");var AAt=F((e,t,n,r,i,a,s)=>[`M${e},${t+a}`,`a${i},${a} 0,0,0 ${n},0`,`a${i},${a} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${a} 0,0,0 ${n},0`,`l0,${-r}`,`M${e},${t+a+s}`,`a${i},${a} 0,0,0 ${n},0`].join(" "),"createCylinderPathD"),jAt=F((e,t,n,r,i,a,s)=>[`M${e},${t+a}`,`M${e+n},${t+a}`,`a${i},${a} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${a} 0,0,0 ${n},0`,`l0,${-r}`,`M${e},${t+a+s}`,`a${i},${a} 0,0,0 ${n},0`].join(" "),"createOuterCylinderPathD"),OAt=F((e,t,n,r,i,a)=>[`M${e-n/2},${-r/2}`,`a${i},${a} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function jpe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await $t(e,t,Pt(t)),l=Math.max(a.width+(t.padding??0),t.width??0),c=l/2,u=c/(2.5+l/50),d=Math.max(a.height+u+(t.padding??0),t.height??0),h=d*.1;let f;const{cssStyles:m}=t;if(t.look==="handDrawn"){const p=ht.svg(i),g=jAt(0,0,l,d,c,u,h),x=OAt(0,u,l,d,c,u),y=mt(t,{}),v=p.path(g,y),b=p.path(x,y);i.insert(()=>b,":first-child").attr("class","line"),f=i.insert(()=>v,":first-child"),f.attr("class","basic label-container"),m&&f.attr("style",m)}else{const p=AAt(0,0,l,d,c,u,h);f=i.insert("path",":first-child").attr("d",p).attr("class","basic label-container").attr("style",ya(m)).attr("style",r)}return f.attr("label-offset-y",u),f.attr("transform",`translate(${-l/2}, ${-(d/2+u)})`),yt(t,f),s.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+u-(a.y-(a.top??0))})`),t.intersect=function(p){const g=lt.rect(t,p),x=g.x-(t.x??0);if(c!=0&&(Math.abs(x)<(t.width??0)/2||Math.abs(x)==(t.width??0)/2&&Math.abs(g.y-(t.y??0))>(t.height??0)/2-u)){let y=u*u*(1-x*x/(c*c));y>0&&(y=Math.sqrt(y)),y=u-y,p.y-(t.y??0)>0&&(y=-y),g.y+=y}return g},i}F(jpe,"linedCylinder");async function Ope(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await $t(e,t,Pt(t)),l=Math.max(a.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(a.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=c/4,d=c+u,{cssStyles:h}=t,f=ht.svg(i),m=mt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const p=[{x:-l/2-l/2*.1,y:-d/2},{x:-l/2-l/2*.1,y:d/2},...yd(-l/2-l/2*.1,d/2,l/2+l/2*.1,d/2,u,.8),{x:l/2+l/2*.1,y:-d/2},{x:-l/2-l/2*.1,y:-d/2},{x:-l/2,y:-d/2},{x:-l/2,y:d/2*1.1},{x:-l/2,y:-d/2}],g=f.polygon(p.map(y=>[y.x,y.y]),m),x=i.insert(()=>g,":first-child");return x.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",h),r&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",r),x.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-l/2+(t.padding??0)+l/2*.1/2-(a.x-(a.left??0))},${-c/2+(t.padding??0)-u/2-(a.y-(a.top??0))})`),yt(t,x),t.intersect=function(y){return lt.polygon(t,p,y)},i}F(Ope,"linedWaveEdgedRect");async function Ppe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await $t(e,t,Pt(t)),l=Math.max(a.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(a.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=5,d=-l/2,h=-c/2,{cssStyles:f}=t,m=ht.svg(i),p=mt(t,{}),g=[{x:d-u,y:h+u},{x:d-u,y:h+c+u},{x:d+l-u,y:h+c+u},{x:d+l-u,y:h+c},{x:d+l,y:h+c},{x:d+l,y:h+c-u},{x:d+l+u,y:h+c-u},{x:d+l+u,y:h-u},{x:d+u,y:h-u},{x:d+u,y:h},{x:d,y:h},{x:d,y:h+u}],x=[{x:d,y:h+u},{x:d+l-u,y:h+u},{x:d+l-u,y:h+c},{x:d+l,y:h+c},{x:d+l,y:h},{x:d,y:h}];t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const y=dn(g),v=m.path(y,p),b=dn(x),E=m.path(b,{...p,fill:"none"}),_=i.insert(()=>E,":first-child");return _.insert(()=>v,":first-child"),_.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",f),r&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",r),s.attr("transform",`translate(${-(a.width/2)-u-(a.x-(a.left??0))}, ${-(a.height/2)+u-(a.y-(a.top??0))})`),yt(t,_),t.intersect=function(S){return lt.polygon(t,g,S)},i}F(Ppe,"multiRect");async function Mpe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await $t(e,t,Pt(t)),l=Math.max(a.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(a.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=c/4,d=c+u,h=-l/2,f=-d/2,m=5,{cssStyles:p}=t,g=yd(h-m,f+d+m,h+l-m,f+d+m,u,.8),x=g==null?void 0:g[g.length-1],y=[{x:h-m,y:f+m},{x:h-m,y:f+d+m},...g,{x:h+l-m,y:x.y-m},{x:h+l,y:x.y-m},{x:h+l,y:x.y-2*m},{x:h+l+m,y:x.y-2*m},{x:h+l+m,y:f-m},{x:h+m,y:f-m},{x:h+m,y:f},{x:h,y:f},{x:h,y:f+m}],v=[{x:h,y:f+m},{x:h+l-m,y:f+m},{x:h+l-m,y:x.y-m},{x:h+l,y:x.y-m},{x:h+l,y:f},{x:h,y:f}],b=ht.svg(i),E=mt(t,{});t.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const _=dn(y),S=b.path(_,E),C=dn(v),T=b.path(C,E),j=i.insert(()=>S,":first-child");return j.insert(()=>T),j.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&j.selectAll("path").attr("style",p),r&&t.look!=="handDrawn"&&j.selectAll("path").attr("style",r),j.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-(a.width/2)-m-(a.x-(a.left??0))}, ${-(a.height/2)+m-u/2-(a.y-(a.top??0))})`),yt(t,j),t.intersect=function(k){return lt.polygon(t,y,k)},i}F(Mpe,"multiWaveEdgedRectangle");async function Ipe(e,t,{config:{themeVariables:n}}){var y;const{labelStyles:r,nodeStyles:i}=xt(t);t.labelStyle=r,t.useHtmlLabels||((y=Ba().flowchart)==null?void 0:y.htmlLabels)!==!1||(t.centerLabel=!0);const{shapeSvg:s,bbox:l}=await $t(e,t,Pt(t)),c=Math.max(l.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(l.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),d=-c/2,h=-u/2,{cssStyles:f}=t,m=ht.svg(s),p=mt(t,{fill:n.noteBkgColor,stroke:n.noteBorderColor});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=m.rectangle(d,h,c,u,p),x=s.insert(()=>g,":first-child");return x.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",f),i&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",i),yt(t,x),t.intersect=function(v){return lt.rect(t,v)},s}F(Ipe,"note");var PAt=F((e,t,n)=>[`M${e+n/2},${t}`,`L${e+n},${t-n/2}`,`L${e+n/2},${t-n}`,`L${e},${t-n/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function Rpe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await $t(e,t,Pt(t)),s=a.width+t.padding,l=a.height+t.padding,c=s+l,u=[{x:c/2,y:0},{x:c,y:-c/2},{x:c/2,y:-c},{x:0,y:-c/2}];let d;const{cssStyles:h}=t;if(t.look==="handDrawn"){const f=ht.svg(i),m=mt(t,{}),p=PAt(0,0,c),g=f.path(p,m);d=i.insert(()=>g,":first-child").attr("transform",`translate(${-c/2}, ${c/2})`),h&&d.attr("style",h)}else d=Vc(i,c,c,u);return r&&d.attr("style",r),yt(t,d),t.intersect=function(f){return je.debug(`APA12 Intersect called SPLIT
point:`,f,`
node:
`,t,`
res:`,lt.polygon(t,u,f)),lt.polygon(t,u,f)},i}F(Rpe,"question");async function Dpe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await $t(e,t,Pt(t)),l=Math.max(a.width+(t.padding??0),(t==null?void 0:t.width)??0),c=Math.max(a.height+(t.padding??0),(t==null?void 0:t.height)??0),u=-l/2,d=-c/2,h=d/2,f=[{x:u+h,y:d},{x:u,y:0},{x:u+h,y:-d},{x:-u,y:-d},{x:-u,y:d}],{cssStyles:m}=t,p=ht.svg(i),g=mt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const x=dn(f),y=p.path(x,g),v=i.insert(()=>y,":first-child");return v.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",m),r&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",r),v.attr("transform",`translate(${-h/2},0)`),s.attr("transform",`translate(${-h/2-a.width/2-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),yt(t,v),t.intersect=function(b){return lt.polygon(t,f,b)},i}F(Dpe,"rect_left_inv_arrow");async function Lpe(e,t){var T,j;const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;let i;t.cssClasses?i="node "+t.cssClasses:i="node default";const a=e.insert("g").attr("class",i).attr("id",t.domId||t.id),s=a.insert("g"),l=a.insert("g").attr("class","label").attr("style",r),c=t.description,u=t.label,d=l.node().appendChild(await bh(u,t.labelStyle,!0,!0));let h={width:0,height:0};if(ei((j=(T=vn())==null?void 0:T.flowchart)==null?void 0:j.htmlLabels)){const k=d.children[0],O=Lt(d);h=k.getBoundingClientRect(),O.attr("width",h.width),O.attr("height",h.height)}je.info("Text 2",c);const f=c||[],m=d.getBBox(),p=l.node().appendChild(await bh(f.join?f.join("<br/>"):f,t.labelStyle,!0,!0)),g=p.children[0],x=Lt(p);h=g.getBoundingClientRect(),x.attr("width",h.width),x.attr("height",h.height);const y=(t.padding||0)/2;Lt(p).attr("transform","translate( "+(h.width>m.width?0:(m.width-h.width)/2)+", "+(m.height+y+5)+")"),Lt(d).attr("transform","translate( "+(h.width<m.width?0:-(m.width-h.width)/2)+", 0)"),h=l.node().getBBox(),l.attr("transform","translate("+-h.width/2+", "+(-h.height/2-y+3)+")");const v=h.width+(t.padding||0),b=h.height+(t.padding||0),E=-h.width/2-y,_=-h.height/2-y;let S,C;if(t.look==="handDrawn"){const k=ht.svg(a),O=mt(t,{}),M=k.path(Hc(E,_,v,b,t.rx||0),O),B=k.line(-h.width/2-y,-h.height/2-y+m.height+y,h.width/2+y,-h.height/2-y+m.height+y,O);C=a.insert(()=>(je.debug("Rough node insert CXC",M),B),":first-child"),S=a.insert(()=>(je.debug("Rough node insert CXC",M),M),":first-child")}else S=s.insert("rect",":first-child"),C=s.insert("line"),S.attr("class","outer title-state").attr("style",r).attr("x",-h.width/2-y).attr("y",-h.height/2-y).attr("width",h.width+(t.padding||0)).attr("height",h.height+(t.padding||0)),C.attr("class","divider").attr("x1",-h.width/2-y).attr("x2",h.width/2+y).attr("y1",-h.height/2-y+m.height+y).attr("y2",-h.height/2-y+m.height+y);return yt(t,S),t.intersect=function(k){return lt.rect(t,k)},a}F(Lpe,"rectWithTitle");async function $pe(e,t){const n={rx:5,ry:5,classes:"",labelPaddingX:((t==null?void 0:t.padding)||0)*1,labelPaddingY:((t==null?void 0:t.padding)||0)*1};return E1(e,t,n)}F($pe,"roundedRect");async function Bpe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await $t(e,t,Pt(t)),l=(t==null?void 0:t.padding)??0,c=Math.max(a.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(a.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),d=-a.width/2-l,h=-a.height/2-l,{cssStyles:f}=t,m=ht.svg(i),p=mt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=[{x:d,y:h},{x:d+c+8,y:h},{x:d+c+8,y:h+u},{x:d-8,y:h+u},{x:d-8,y:h},{x:d,y:h},{x:d,y:h+u}],x=m.polygon(g.map(v=>[v.x,v.y]),p),y=i.insert(()=>x,":first-child");return y.attr("class","basic label-container").attr("style",ya(f)),r&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",r),f&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",r),s.attr("transform",`translate(${-c/2+4+(t.padding??0)-(a.x-(a.left??0))},${-u/2+(t.padding??0)-(a.y-(a.top??0))})`),yt(t,y),t.intersect=function(v){return lt.rect(t,v)},i}F(Bpe,"shadedProcess");async function Fpe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await $t(e,t,Pt(t)),l=Math.max(a.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(a.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=-l/2,d=-c/2,{cssStyles:h}=t,f=ht.svg(i),m=mt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const p=[{x:u,y:d},{x:u,y:d+c},{x:u+l,y:d+c},{x:u+l,y:d-c/2}],g=dn(p),x=f.path(g,m),y=i.insert(()=>x,":first-child");return y.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",h),r&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",r),y.attr("transform",`translate(0, ${c/4})`),s.attr("transform",`translate(${-l/2+(t.padding??0)-(a.x-(a.left??0))}, ${-c/4+(t.padding??0)-(a.y-(a.top??0))})`),yt(t,y),t.intersect=function(v){return lt.polygon(t,p,v)},i}F(Fpe,"slopedRect");async function zpe(e,t){const n={rx:0,ry:0,classes:"",labelPaddingX:((t==null?void 0:t.padding)||0)*2,labelPaddingY:((t==null?void 0:t.padding)||0)*1};return E1(e,t,n)}F(zpe,"squareRect");async function Upe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await $t(e,t,Pt(t)),s=a.height+t.padding,l=a.width+s/4+t.padding;let c;const{cssStyles:u}=t;if(t.look==="handDrawn"){const d=ht.svg(i),h=mt(t,{}),f=Hc(-l/2,-s/2,l,s,s/2),m=d.path(f,h);c=i.insert(()=>m,":first-child"),c.attr("class","basic label-container").attr("style",ya(u))}else c=i.insert("rect",":first-child"),c.attr("class","basic label-container").attr("style",r).attr("rx",s/2).attr("ry",s/2).attr("x",-l/2).attr("y",-s/2).attr("width",l).attr("height",s);return yt(t,c),t.intersect=function(d){return lt.rect(t,d)},i}F(Upe,"stadium");async function Hpe(e,t){return E1(e,t,{rx:5,ry:5,classes:"flowchart-node"})}F(Hpe,"state");function Vpe(e,t,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:i}=xt(t);t.labelStyle=r;const{cssStyles:a}=t,{lineColor:s,stateBorder:l,nodeBorder:c}=n,u=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),d=ht.svg(u),h=mt(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const f=d.circle(0,0,14,{...h,stroke:s,strokeWidth:2}),m=l??c,p=d.circle(0,0,5,{...h,fill:m,stroke:m,strokeWidth:2,fillStyle:"solid"}),g=u.insert(()=>f,":first-child");return g.insert(()=>p),a&&g.selectAll("path").attr("style",a),i&&g.selectAll("path").attr("style",i),yt(t,g),t.intersect=function(x){return lt.circle(t,7,x)},u}F(Vpe,"stateEnd");function Wpe(e,t,{config:{themeVariables:n}}){const{lineColor:r}=n,i=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let a;if(t.look==="handDrawn"){const l=ht.svg(i).circle(0,0,14,hAt(r));a=i.insert(()=>l),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else a=i.insert("circle",":first-child"),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return yt(t,a),t.intersect=function(s){return lt.circle(t,7,s)},i}F(Wpe,"stateStart");async function qpe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await $t(e,t,Pt(t)),s=((t==null?void 0:t.padding)||0)/2,l=a.width+t.padding,c=a.height+t.padding,u=-a.width/2-s,d=-a.height/2-s,h=[{x:0,y:0},{x:l,y:0},{x:l,y:-c},{x:0,y:-c},{x:0,y:0},{x:-8,y:0},{x:l+8,y:0},{x:l+8,y:-c},{x:-8,y:-c},{x:-8,y:0}];if(t.look==="handDrawn"){const f=ht.svg(i),m=mt(t,{}),p=f.rectangle(u-8,d,l+16,c,m),g=f.line(u,d,u,d+c,m),x=f.line(u+l,d,u+l,d+c,m);i.insert(()=>g,":first-child"),i.insert(()=>x,":first-child");const y=i.insert(()=>p,":first-child"),{cssStyles:v}=t;y.attr("class","basic label-container").attr("style",ya(v)),yt(t,y)}else{const f=Vc(i,l,c,h);r&&f.attr("style",r),yt(t,f)}return t.intersect=function(f){return lt.polygon(t,h,f)},i}F(qpe,"subroutine");async function Gpe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await $t(e,t,Pt(t)),s=Math.max(a.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(a.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=-s/2,u=-l/2,d=.2*l,h=.2*l,{cssStyles:f}=t,m=ht.svg(i),p=mt(t,{}),g=[{x:c-d/2,y:u},{x:c+s+d/2,y:u},{x:c+s+d/2,y:u+l},{x:c-d/2,y:u+l}],x=[{x:c+s-d/2,y:u+l},{x:c+s+d/2,y:u+l},{x:c+s+d/2,y:u+l-h}];t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const y=dn(g),v=m.path(y,p),b=dn(x),E=m.path(b,{...p,fillStyle:"solid"}),_=i.insert(()=>E,":first-child");return _.insert(()=>v,":first-child"),_.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",f),r&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",r),yt(t,_),t.intersect=function(S){return lt.polygon(t,g,S)},i}F(Gpe,"taggedRect");async function Ype(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await $t(e,t,Pt(t)),l=Math.max(a.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(a.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=c/4,d=.2*l,h=.2*c,f=c+u,{cssStyles:m}=t,p=ht.svg(i),g=mt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const x=[{x:-l/2-l/2*.1,y:f/2},...yd(-l/2-l/2*.1,f/2,l/2+l/2*.1,f/2,u,.8),{x:l/2+l/2*.1,y:-f/2},{x:-l/2-l/2*.1,y:-f/2}],y=-l/2+l/2*.1,v=-f/2-h*.4,b=[{x:y+l-d,y:(v+c)*1.4},{x:y+l,y:v+c-h},{x:y+l,y:(v+c)*.9},...yd(y+l,(v+c)*1.3,y+l-d,(v+c)*1.5,-c*.03,.5)],E=dn(x),_=p.path(E,g),S=dn(b),C=p.path(S,{...g,fillStyle:"solid"}),T=i.insert(()=>C,":first-child");return T.insert(()=>_,":first-child"),T.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",m),r&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",r),T.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-l/2+(t.padding??0)-(a.x-(a.left??0))},${-c/2+(t.padding??0)-u/2-(a.y-(a.top??0))})`),yt(t,T),t.intersect=function(j){return lt.polygon(t,x,j)},i}F(Ype,"taggedWaveEdgedRectangle");async function Kpe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await $t(e,t,Pt(t)),s=Math.max(a.width+t.padding,(t==null?void 0:t.width)||0),l=Math.max(a.height+t.padding,(t==null?void 0:t.height)||0),c=-s/2,u=-l/2,d=i.insert("rect",":first-child");return d.attr("class","text").attr("style",r).attr("rx",0).attr("ry",0).attr("x",c).attr("y",u).attr("width",s).attr("height",l),yt(t,d),t.intersect=function(h){return lt.rect(t,h)},i}F(Kpe,"text");var MAt=F((e,t,n,r,i,a)=>`M${e},${t}
    a${i},${a} 0,0,1 0,${-r}
    l${n},0
    a${i},${a} 0,0,1 0,${r}
    M${n},${-r}
    a${i},${a} 0,0,0 0,${r}
    l${-n},0`,"createCylinderPathD"),IAt=F((e,t,n,r,i,a)=>[`M${e},${t}`,`M${e+n},${t}`,`a${i},${a} 0,0,0 0,${-r}`,`l${-n},0`,`a${i},${a} 0,0,0 0,${r}`,`l${n},0`].join(" "),"createOuterCylinderPathD"),RAt=F((e,t,n,r,i,a)=>[`M${e+n/2},${-r/2}`,`a${i},${a} 0,0,0 0,${r}`].join(" "),"createInnerCylinderPathD");async function Xpe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:s,halfPadding:l}=await $t(e,t,Pt(t)),c=t.look==="neo"?l*2:l,u=a.height+c,d=u/2,h=d/(2.5+u/50),f=a.width+h+c,{cssStyles:m}=t;let p;if(t.look==="handDrawn"){const g=ht.svg(i),x=IAt(0,0,f,u,h,d),y=RAt(0,0,f,u,h,d),v=g.path(x,mt(t,{})),b=g.path(y,mt(t,{fill:"none"}));p=i.insert(()=>b,":first-child"),p=i.insert(()=>v,":first-child"),p.attr("class","basic label-container"),m&&p.attr("style",m)}else{const g=MAt(0,0,f,u,h,d);p=i.insert("path",":first-child").attr("d",g).attr("class","basic label-container").attr("style",ya(m)).attr("style",r),p.attr("class","basic label-container"),m&&p.selectAll("path").attr("style",m),r&&p.selectAll("path").attr("style",r)}return p.attr("label-offset-x",h),p.attr("transform",`translate(${-f/2}, ${u/2} )`),s.attr("transform",`translate(${-(a.width/2)-h-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),yt(t,p),t.intersect=function(g){const x=lt.rect(t,g),y=x.y-(t.y??0);if(d!=0&&(Math.abs(y)<(t.height??0)/2||Math.abs(y)==(t.height??0)/2&&Math.abs(x.x-(t.x??0))>(t.width??0)/2-h)){let v=h*h*(1-y*y/(d*d));v!=0&&(v=Math.sqrt(Math.abs(v))),v=h-v,g.x-(t.x??0)>0&&(v=-v),x.x+=v}return x},i}F(Xpe,"tiltedCylinder");async function Zpe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await $t(e,t,Pt(t)),s=a.width+t.padding,l=a.height+t.padding,c=[{x:-3*l/6,y:0},{x:s+3*l/6,y:0},{x:s,y:-l},{x:0,y:-l}];let u;const{cssStyles:d}=t;if(t.look==="handDrawn"){const h=ht.svg(i),f=mt(t,{}),m=dn(c),p=h.path(m,f);u=i.insert(()=>p,":first-child").attr("transform",`translate(${-s/2}, ${l/2})`),d&&u.attr("style",d)}else u=Vc(i,s,l,c);return r&&u.attr("style",r),t.width=s,t.height=l,yt(t,u),t.intersect=function(h){return lt.polygon(t,c,h)},i}F(Zpe,"trapezoid");async function Qpe(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await $t(e,t,Pt(t)),s=60,l=20,c=Math.max(s,a.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(l,a.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),{cssStyles:d}=t,h=ht.svg(i),f=mt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const m=[{x:-c/2*.8,y:-u/2},{x:c/2*.8,y:-u/2},{x:c/2,y:-u/2*.6},{x:c/2,y:u/2},{x:-c/2,y:u/2},{x:-c/2,y:-u/2*.6}],p=dn(m),g=h.path(p,f),x=i.insert(()=>g,":first-child");return x.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",d),r&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",r),yt(t,x),t.intersect=function(y){return lt.polygon(t,m,y)},i}F(Qpe,"trapezoidalPentagon");async function Jpe(e,t){var v;const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await $t(e,t,Pt(t)),l=ei((v=vn().flowchart)==null?void 0:v.htmlLabels),c=a.width+(t.padding??0),u=c+a.height,d=c+a.height,h=[{x:0,y:0},{x:d,y:0},{x:d/2,y:-u}],{cssStyles:f}=t,m=ht.svg(i),p=mt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=dn(h),x=m.path(g,p),y=i.insert(()=>x,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return f&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",f),r&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",r),t.width=c,t.height=u,yt(t,y),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${u/2-(a.height+(t.padding??0)/(l?2:1)-(a.y-(a.top??0)))})`),t.intersect=function(b){return je.info("Triangle intersect",t,h,b),lt.polygon(t,h,b)},i}F(Jpe,"triangle");async function ege(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await $t(e,t,Pt(t)),l=Math.max(a.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(a.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=c/8,d=c+u,{cssStyles:h}=t,m=70-l,p=m>0?m/2:0,g=ht.svg(i),x=mt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const y=[{x:-l/2-p,y:d/2},...yd(-l/2-p,d/2,l/2+p,d/2,u,.8),{x:l/2+p,y:-d/2},{x:-l/2-p,y:-d/2}],v=dn(y),b=g.path(v,x),E=i.insert(()=>b,":first-child");return E.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",h),r&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",r),E.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-l/2+(t.padding??0)-(a.x-(a.left??0))},${-c/2+(t.padding??0)-u-(a.y-(a.top??0))})`),yt(t,E),t.intersect=function(_){return lt.polygon(t,y,_)},i}F(ege,"waveEdgedRectangle");async function tge(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await $t(e,t,Pt(t)),s=100,l=50,c=Math.max(a.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(a.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),d=c/u;let h=c,f=u;h>f*d?f=h/d:h=f*d,h=Math.max(h,s),f=Math.max(f,l);const m=Math.min(f*.2,f/4),p=f+m*2,{cssStyles:g}=t,x=ht.svg(i),y=mt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const v=[{x:-h/2,y:p/2},...yd(-h/2,p/2,h/2,p/2,m,1),{x:h/2,y:-p/2},...yd(h/2,-p/2,-h/2,-p/2,m,-1)],b=dn(v),E=x.path(b,y),_=i.insert(()=>E,":first-child");return _.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",g),r&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",r),yt(t,_),t.intersect=function(S){return lt.polygon(t,v,S)},i}F(tge,"waveRectangle");async function nge(e,t){const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:s}=await $t(e,t,Pt(t)),l=Math.max(a.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(a.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=5,d=-l/2,h=-c/2,{cssStyles:f}=t,m=ht.svg(i),p=mt(t,{}),g=[{x:d-u,y:h-u},{x:d-u,y:h+c},{x:d+l,y:h+c},{x:d+l,y:h-u}],x=`M${d-u},${h-u} L${d+l},${h-u} L${d+l},${h+c} L${d-u},${h+c} L${d-u},${h-u}
                M${d-u},${h} L${d+l},${h}
                M${d},${h-u} L${d},${h+c}`;t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const y=m.path(x,p),v=i.insert(()=>y,":first-child");return v.attr("transform",`translate(${u/2}, ${u/2})`),v.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",f),r&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",r),s.attr("transform",`translate(${-(a.width/2)+u/2-(a.x-(a.left??0))}, ${-(a.height/2)+u/2-(a.y-(a.top??0))})`),yt(t,v),t.intersect=function(b){return lt.polygon(t,g,b)},i}F(nge,"windowPane");async function y5(e,t){var U,$,W;const n=t;if(n.alias&&(t.label=n.alias),t.look==="handDrawn"){const{themeVariables:z}=Ba(),{background:R}=z,G={...t,id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${R}`]};await y5(e,G)}const r=Ba();t.useHtmlLabels=r.htmlLabels;let i=((U=r.er)==null?void 0:U.diagramPadding)??10,a=(($=r.er)==null?void 0:$.entityPadding)??6;const{cssStyles:s}=t,{labelStyles:l}=xt(t);if(n.attributes.length===0&&t.label){const z={rx:0,ry:0,labelPaddingX:i,labelPaddingY:i*1.5,classes:""};Ic(t.label,r)+z.labelPaddingX*2<r.er.minEntityWidth&&(t.width=r.er.minEntityWidth);const R=await E1(e,t,z);if(!ei(r.htmlLabels)){const G=R.select("text"),Q=(W=G.node())==null?void 0:W.getBBox();G.attr("transform",`translate(${-Q.width/2}, 0)`)}return R}r.htmlLabels||(i*=1.25,a*=1.25);let c=Pt(t);c||(c="node default");const u=e.insert("g").attr("class",c).attr("id",t.domId||t.id),d=await um(u,t.label??"",r,0,0,["name"],l);d.height+=a;let h=0;const f=[];let m=0,p=0,g=0,x=0,y=!0,v=!0;for(const z of n.attributes){const R=await um(u,z.type,r,0,h,["attribute-type"],l);m=Math.max(m,R.width+i);const G=await um(u,z.name,r,0,h,["attribute-name"],l);p=Math.max(p,G.width+i);const Q=await um(u,z.keys.join(),r,0,h,["attribute-keys"],l);g=Math.max(g,Q.width+i);const oe=await um(u,z.comment,r,0,h,["attribute-comment"],l);x=Math.max(x,oe.width+i),h+=Math.max(R.height,G.height,Q.height,oe.height)+a,f.push(h)}f.pop();let b=4;g<=i&&(y=!1,g=0,b--),x<=i&&(v=!1,x=0,b--);const E=u.node().getBBox();if(d.width+i*2-(m+p+g+x)>0){const z=d.width+i*2-(m+p+g+x);m+=z/b,p+=z/b,g>0&&(g+=z/b),x>0&&(x+=z/b)}const _=m+p+g+x,S=ht.svg(u),C=mt(t,{});t.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const T=Math.max(E.width+i*2,(t==null?void 0:t.width)||0,_),j=Math.max(E.height+(f[0]||h)+a,(t==null?void 0:t.height)||0),k=-T/2,O=-j/2;u.selectAll("g:not(:first-child)").each((z,R,G)=>{const Q=Lt(G[R]),oe=Q.attr("transform");let re=0,pe=0;if(oe){const me=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(oe);me&&(re=parseFloat(me[1]),pe=parseFloat(me[2]),Q.attr("class").includes("attribute-name")?re+=m:Q.attr("class").includes("attribute-keys")?re+=m+p:Q.attr("class").includes("attribute-comment")&&(re+=m+p+g))}Q.attr("transform",`translate(${k+i/2+re}, ${pe+O+d.height+a/2})`)}),u.select(".name").attr("transform","translate("+-d.width/2+", "+(O+a/2)+")");const M=S.rectangle(k,O,T,j,C),B=u.insert(()=>M,":first-child").attr("style",s.join("")),{themeVariables:N}=Ba(),{rowEven:D,rowOdd:P,nodeBorder:L}=N;f.push(0);for(const[z,R]of f.entries()){if(z===0&&f.length>1)continue;const G=z%2===0&&R!==0,Q=S.rectangle(k,d.height+O+R,T,d.height,{...C,fill:G?D:P,stroke:L});u.insert(()=>Q,"g.label").attr("style",s.join("")).attr("class",`row-rect-${z%2===0?"even":"odd"}`)}let I=S.line(k,d.height+O,T+k,d.height+O,C);u.insert(()=>I).attr("class","divider"),I=S.line(m+k,d.height+O,m+k,j+O,C),u.insert(()=>I).attr("class","divider"),y&&(I=S.line(m+p+k,d.height+O,m+p+k,j+O,C),u.insert(()=>I).attr("class","divider")),v&&(I=S.line(m+p+g+k,d.height+O,m+p+g+k,j+O,C),u.insert(()=>I).attr("class","divider"));for(const z of f)I=S.line(k,d.height+O+z,T+k,d.height+O+z,C),u.insert(()=>I).attr("class","divider");return yt(t,B),t.intersect=function(z){return lt.rect(t,z)},u}F(y5,"erBox");async function um(e,t,n,r=0,i=0,a=[],s=""){const l=e.insert("g").attr("class",`label ${a.join(" ")}`).attr("transform",`translate(${r}, ${i})`).attr("style",s);t!==QW(t)&&(t=QW(t),t=t.replaceAll("<","&lt;").replaceAll(">","&gt;"));const c=l.node().appendChild(await Id(l,t,{width:Ic(t,n)+100,style:s,useHtmlLabels:n.htmlLabels},n));if(t.includes("&lt;")||t.includes("&gt;")){let d=c.children[0];for(d.textContent=d.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");d.childNodes[0];)d=d.childNodes[0],d.textContent=d.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let u=c.getBBox();if(ei(n.htmlLabels)){const d=c.children[0];d.style.textAlign="start";const h=Lt(c);u=d.getBoundingClientRect(),h.attr("width",u.width),h.attr("height",u.height)}return u}F(um,"addText");async function rge(e,t,n,r,i=n.class.padding??12){const a=r?0:3,s=e.insert("g").attr("class",Pt(t)).attr("id",t.domId||t.id);let l=null,c=null,u=null,d=null,h=0,f=0,m=0;if(l=s.insert("g").attr("class","annotation-group text"),t.annotations.length>0){const v=t.annotations[0];await Iy(l,{text:`${v}`},0),h=l.node().getBBox().height}c=s.insert("g").attr("class","label-group text"),await Iy(c,t,0,["font-weight: bolder"]);const p=c.node().getBBox();f=p.height,u=s.insert("g").attr("class","members-group text");let g=0;for(const v of t.members){const b=await Iy(u,v,g,[v.parseClassifier()]);g+=b+a}m=u.node().getBBox().height,m<=0&&(m=i/2),d=s.insert("g").attr("class","methods-group text");let x=0;for(const v of t.methods){const b=await Iy(d,v,x,[v.parseClassifier()]);x+=b+a}let y=s.node().getBBox();if(l!==null){const v=l.node().getBBox();l.attr("transform",`translate(${-v.width/2})`)}return c.attr("transform",`translate(${-p.width/2}, ${h})`),y=s.node().getBBox(),u.attr("transform",`translate(0, ${h+f+i*2})`),y=s.node().getBBox(),d.attr("transform",`translate(0, ${h+f+(m?m+i*4:i*2)})`),y=s.node().getBBox(),{shapeSvg:s,bbox:y}}F(rge,"textHelper");async function Iy(e,t,n,r=[]){const i=e.insert("g").attr("class","label").attr("style",r.join("; ")),a=Ba();let s="useHtmlLabels"in t?t.useHtmlLabels:ei(a.htmlLabels)??!0,l="";"text"in t?l=t.text:l=t.label,!s&&l.startsWith("\\")&&(l=l.substring(1)),Ng(l)&&(s=!0);const c=await Id(i,$$(Lf(l)),{width:Ic(l,a)+50,classes:"markdown-node-label",useHtmlLabels:s},a);let u,d=1;if(s){const h=c.children[0],f=Lt(c);d=h.innerHTML.split("<br>").length,h.innerHTML.includes("</math>")&&(d+=h.innerHTML.split("<mrow>").length-1);const m=h.getElementsByTagName("img");if(m){const p=l.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...m].map(g=>new Promise(x=>{function y(){var v;if(g.style.display="flex",g.style.flexDirection="column",p){const b=((v=a.fontSize)==null?void 0:v.toString())??window.getComputedStyle(document.body).fontSize,_=parseInt(b,10)*5+"px";g.style.minWidth=_,g.style.maxWidth=_}else g.style.width="100%";x(g)}F(y,"setupImage"),setTimeout(()=>{g.complete&&y()}),g.addEventListener("error",y),g.addEventListener("load",y)})))}u=h.getBoundingClientRect(),f.attr("width",u.width),f.attr("height",u.height)}else{r.includes("font-weight: bolder")&&Lt(c).selectAll("tspan").attr("font-weight",""),d=c.children.length;const h=c.children[0];(c.textContent===""||c.textContent.includes("&gt"))&&(h.textContent=l[0]+l.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),l[1]===" "&&(h.textContent=h.textContent[0]+" "+h.textContent.substring(1))),h.textContent==="undefined"&&(h.textContent=""),u=c.getBBox()}return i.attr("transform","translate(0,"+(-u.height/(2*d)+n)+")"),u.height}F(Iy,"addText");async function ige(e,t){var j,k;const n=vn(),r=n.class.padding??12,i=r,a=t.useHtmlLabels??ei(n.htmlLabels)??!0,s=t;s.annotations=s.annotations??[],s.members=s.members??[],s.methods=s.methods??[];const{shapeSvg:l,bbox:c}=await rge(e,t,n,a,i),{labelStyles:u,nodeStyles:d}=xt(t);t.labelStyle=u,t.cssStyles=s.styles||"";const h=((j=s.styles)==null?void 0:j.join(";"))||d||"";t.cssStyles||(t.cssStyles=h.replaceAll("!important","").split(";"));const f=s.members.length===0&&s.methods.length===0&&!((k=n.class)!=null&&k.hideEmptyMembersBox),m=ht.svg(l),p=mt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=c.width;let x=c.height;s.members.length===0&&s.methods.length===0?x+=i:s.members.length>0&&s.methods.length===0&&(x+=i*2);const y=-g/2,v=-x/2,b=m.rectangle(y-r,v-r-(f?r:s.members.length===0&&s.methods.length===0?-r/2:0),g+2*r,x+2*r+(f?r*2:s.members.length===0&&s.methods.length===0?-r:0),p),E=l.insert(()=>b,":first-child");E.attr("class","basic label-container");const _=E.node().getBBox();l.selectAll(".text").each((O,M,B)=>{var U;const N=Lt(B[M]),D=N.attr("transform");let P=0;if(D){const W=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(D);W&&(P=parseFloat(W[2]))}let L=P+v+r-(f?r:s.members.length===0&&s.methods.length===0?-r/2:0);a||(L-=4);let I=y;(N.attr("class").includes("label-group")||N.attr("class").includes("annotation-group"))&&(I=-((U=N.node())==null?void 0:U.getBBox().width)/2||0,l.selectAll("text").each(function($,W,z){window.getComputedStyle(z[W]).textAnchor==="middle"&&(I=0)})),N.attr("transform",`translate(${I}, ${L})`)});const S=l.select(".annotation-group").node().getBBox().height-(f?r/2:0)||0,C=l.select(".label-group").node().getBBox().height-(f?r/2:0)||0,T=l.select(".members-group").node().getBBox().height-(f?r/2:0)||0;if(s.members.length>0||s.methods.length>0||f){const O=m.line(_.x,S+C+v+r,_.x+_.width,S+C+v+r,p);l.insert(()=>O).attr("class","divider").attr("style",h)}if(f||s.members.length>0||s.methods.length>0){const O=m.line(_.x,S+C+T+v+i*2+r,_.x+_.width,S+C+T+v+r+i*2,p);l.insert(()=>O).attr("class","divider").attr("style",h)}if(s.look!=="handDrawn"&&l.selectAll("path").attr("style",h),E.select(":nth-child(2)").attr("style",h),l.selectAll(".divider").select("path").attr("style",h),t.labelStyle?l.selectAll("span").attr("style",t.labelStyle):l.selectAll("span").attr("style",h),!a){const O=RegExp(/color\s*:\s*([^;]*)/),M=O.exec(h);if(M){const B=M[0].replace("color","fill");l.selectAll("tspan").attr("style",B)}else if(u){const B=O.exec(u);if(B){const N=B[0].replace("color","fill");l.selectAll("tspan").attr("style",N)}}}return yt(t,E),t.intersect=function(O){return lt.rect(t,O)},l}F(ige,"classBox");async function age(e,t){var S,C;const{labelStyles:n,nodeStyles:r}=xt(t);t.labelStyle=n;const i=t,a=t,s=20,l=20,c="verifyMethod"in t,u=Pt(t),d=e.insert("g").attr("class",u).attr("id",t.domId??t.id);let h;c?h=await Go(d,`&lt;&lt;${i.type}&gt;&gt;`,0,t.labelStyle):h=await Go(d,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle);let f=h;const m=await Go(d,i.name,f,t.labelStyle+"; font-weight: bold;");if(f+=m+l,c){const T=await Go(d,`${i.requirementId?`Id: ${i.requirementId}`:""}`,f,t.labelStyle);f+=T;const j=await Go(d,`${i.text?`Text: ${i.text}`:""}`,f,t.labelStyle);f+=j;const k=await Go(d,`${i.risk?`Risk: ${i.risk}`:""}`,f,t.labelStyle);f+=k,await Go(d,`${i.verifyMethod?`Verification: ${i.verifyMethod}`:""}`,f,t.labelStyle)}else{const T=await Go(d,`${a.type?`Type: ${a.type}`:""}`,f,t.labelStyle);f+=T,await Go(d,`${a.docRef?`Doc Ref: ${a.docRef}`:""}`,f,t.labelStyle)}const p=(((S=d.node())==null?void 0:S.getBBox().width)??200)+s,g=(((C=d.node())==null?void 0:C.getBBox().height)??200)+s,x=-p/2,y=-g/2,v=ht.svg(d),b=mt(t,{});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const E=v.rectangle(x,y,p,g,b),_=d.insert(()=>E,":first-child");if(_.attr("class","basic label-container").attr("style",r),d.selectAll(".label").each((T,j,k)=>{const O=Lt(k[j]),M=O.attr("transform");let B=0,N=0;if(M){const I=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(M);I&&(B=parseFloat(I[1]),N=parseFloat(I[2]))}const D=N-g/2;let P=x+s/2;(j===0||j===1)&&(P=B),O.attr("transform",`translate(${P}, ${D+s})`)}),f>h+m+l){const T=v.line(x,y+h+m+l,x+p,y+h+m+l,b);d.insert(()=>T).attr("style",r)}return yt(t,_),t.intersect=function(T){return lt.rect(t,T)},d}F(age,"requirementBox");async function Go(e,t,n,r=""){if(t==="")return 0;const i=e.insert("g").attr("class","label").attr("style",r),a=vn(),s=a.htmlLabels??!0,l=await Id(i,$$(Lf(t)),{width:Ic(t,a)+50,classes:"markdown-node-label",useHtmlLabels:s,style:r},a);let c;if(s){const u=l.children[0],d=Lt(l);c=u.getBoundingClientRect(),d.attr("width",c.width),d.attr("height",c.height)}else{const u=l.children[0];for(const d of u.children)d.textContent=d.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),r&&d.setAttribute("style",r);c=l.getBBox(),c.height+=6}return i.attr("transform",`translate(${-c.width/2},${-c.height/2+n})`),c.height}F(Go,"addText");var DAt=F(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function sge(e,t,{config:n}){var M,B;const{labelStyles:r,nodeStyles:i}=xt(t);t.labelStyle=r||"";const a=10,s=t.width;t.width=(t.width??200)-10;const{shapeSvg:l,bbox:c,label:u}=await $t(e,t,Pt(t)),d=t.padding||10;let h="",f;"ticket"in t&&t.ticket&&((M=n==null?void 0:n.kanban)!=null&&M.ticketBaseUrl)&&(h=(B=n==null?void 0:n.kanban)==null?void 0:B.ticketBaseUrl.replace("#TICKET#",t.ticket),f=l.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",h).attr("target","_blank"));const m={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let p,g;f?{label:p,bbox:g}=await pj(f,"ticket"in t&&t.ticket||"",m):{label:p,bbox:g}=await pj(l,"ticket"in t&&t.ticket||"",m);const{label:x,bbox:y}=await pj(l,"assigned"in t&&t.assigned||"",m);t.width=s;const v=10,b=(t==null?void 0:t.width)||0,E=Math.max(g.height,y.height)/2,_=Math.max(c.height+v*2,(t==null?void 0:t.height)||0)+E,S=-b/2,C=-_/2;u.attr("transform","translate("+(d-b/2)+", "+(-E-c.height/2)+")"),p.attr("transform","translate("+(d-b/2)+", "+(-E+c.height/2)+")"),x.attr("transform","translate("+(d+b/2-y.width-2*a)+", "+(-E+c.height/2)+")");let T;const{rx:j,ry:k}=t,{cssStyles:O}=t;if(t.look==="handDrawn"){const N=ht.svg(l),D=mt(t,{}),P=j||k?N.path(Hc(S,C,b,_,j||0),D):N.rectangle(S,C,b,_,D);T=l.insert(()=>P,":first-child"),T.attr("class","basic label-container").attr("style",O||null)}else{T=l.insert("rect",":first-child"),T.attr("class","basic label-container __APA__").attr("style",i).attr("rx",j??5).attr("ry",k??5).attr("x",S).attr("y",C).attr("width",b).attr("height",_);const N="priority"in t&&t.priority;if(N){const D=l.append("line"),P=S+2,L=C+Math.floor((j??0)/2),I=C+_-Math.floor((j??0)/2);D.attr("x1",P).attr("y1",L).attr("x2",P).attr("y2",I).attr("stroke-width","4").attr("stroke",DAt(N))}}return yt(t,T),t.height=_,t.intersect=function(N){return lt.rect(t,N)},l}F(sge,"kanbanItem");var LAt=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:zpe},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:$pe},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:Upe},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:qpe},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:dpe},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:ipe},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:Rpe},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:xpe},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:kpe},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:Npe},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:Zpe},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:Cpe},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:fpe},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:Kpe},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:npe},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:Bpe},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:Wpe},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:Vpe},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:gpe},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:vpe},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:ope},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:lpe},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:cpe},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:Ape},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:ege},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:ype},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:Xpe},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:jpe},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:upe},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:hpe},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:Jpe},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:nge},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:mpe},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:Qpe},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:ppe},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:Fpe},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:Mpe},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:Ppe},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:tpe},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:spe},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:Ype},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:Gpe},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:tge},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:Dpe},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:Ope}],$At=F(()=>{const t=[...Object.entries({state:Hpe,choice:rpe,note:Ipe,rectWithTitle:Lpe,labelRect:Tpe,iconSquare:Spe,iconCircle:wpe,icon:bpe,iconRounded:Epe,imageSquare:_pe,anchor:epe,kanbanItem:sge,classBox:ige,erBox:y5,requirementBox:age}),...LAt.flatMap(n=>[n.shortName,..."aliases"in n?n.aliases:[],..."internalAliases"in n?n.internalAliases:[]].map(i=>[i,n.handler]))];return Object.fromEntries(t)},"generateShapeMap"),oge=$At();function BAt(e){return e in oge}F(BAt,"isValidShape");var TN=new Map;async function lge(e,t,n){let r,i;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");const a=t.shape?oge[t.shape]:void 0;if(!a)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let s;n.config.securityLevel==="sandbox"?s="_top":t.linkTarget&&(s=t.linkTarget||"_blank"),r=e.insert("svg:a").attr("xlink:href",t.link).attr("target",s??null),i=await a(r,t,n)}else i=await a(e,t,n),r=i;return t.tooltip&&i.attr("title",t.tooltip),TN.set(t.id,r),t.haveCallback&&r.attr("class",r.attr("class")+" clickable"),r}F(lge,"insertNode");var sDt=F((e,t)=>{TN.set(t.id,e)},"setNodeElem"),oDt=F(()=>{TN.clear()},"clear"),lDt=F(e=>{const t=TN.get(e.id);je.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const n=8,r=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+r-e.width/2)+", "+(e.y-e.height/2-n)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),r},"positionNode"),FAt=F((e,t,n,r,i,a)=>{t.arrowTypeStart&&Rq(e,"start",t.arrowTypeStart,n,r,i,a),t.arrowTypeEnd&&Rq(e,"end",t.arrowTypeEnd,n,r,i,a)},"addEdgeMarkers"),zAt={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},Rq=F((e,t,n,r,i,a,s)=>{var h;const l=zAt[n];if(!l){je.warn(`Unknown arrow type: ${n}`);return}const c=l.type,d=`${i}_${a}-${c}${t==="start"?"Start":"End"}`;if(s&&s.trim()!==""){const f=s.replace(/[^\dA-Za-z]/g,"_"),m=`${d}_${f}`;if(!document.getElementById(m)){const p=document.getElementById(d);if(p){const g=p.cloneNode(!0);g.id=m,g.querySelectorAll("path, circle, line").forEach(y=>{y.setAttribute("stroke",s),l.fill&&y.setAttribute("fill",s)}),(h=p.parentNode)==null||h.appendChild(g)}}e.attr(`marker-${t}`,`url(${r}#${m})`)}else e.attr(`marker-${t}`,`url(${r}#${d})`)},"addEdgeMarker"),$C=new Map,bi=new Map,cDt=F(()=>{$C.clear(),bi.clear()},"clear"),xy=F(e=>e?e.reduce((n,r)=>n+";"+r,""):"","getLabelStyles"),UAt=F(async(e,t)=>{let n=ei(vn().flowchart.htmlLabels);const r=await Id(e,t.label,{style:xy(t.labelStyle),useHtmlLabels:n,addSvgBackground:!0,isNode:!1});je.info("abc82",t,t.labelType);const i=e.insert("g").attr("class","edgeLabel"),a=i.insert("g").attr("class","label");a.node().appendChild(r);let s=r.getBBox();if(n){const c=r.children[0],u=Lt(r);s=c.getBoundingClientRect(),u.attr("width",s.width),u.attr("height",s.height)}a.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),$C.set(t.id,i),t.width=s.width,t.height=s.height;let l;if(t.startLabelLeft){const c=await bh(t.startLabelLeft,xy(t.labelStyle)),u=e.insert("g").attr("class","edgeTerminals"),d=u.insert("g").attr("class","inner");l=d.node().appendChild(c);const h=c.getBBox();d.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),bi.get(t.id)||bi.set(t.id,{}),bi.get(t.id).startLeft=u,Ry(l,t.startLabelLeft)}if(t.startLabelRight){const c=await bh(t.startLabelRight,xy(t.labelStyle)),u=e.insert("g").attr("class","edgeTerminals"),d=u.insert("g").attr("class","inner");l=u.node().appendChild(c),d.node().appendChild(c);const h=c.getBBox();d.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),bi.get(t.id)||bi.set(t.id,{}),bi.get(t.id).startRight=u,Ry(l,t.startLabelRight)}if(t.endLabelLeft){const c=await bh(t.endLabelLeft,xy(t.labelStyle)),u=e.insert("g").attr("class","edgeTerminals"),d=u.insert("g").attr("class","inner");l=d.node().appendChild(c);const h=c.getBBox();d.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),u.node().appendChild(c),bi.get(t.id)||bi.set(t.id,{}),bi.get(t.id).endLeft=u,Ry(l,t.endLabelLeft)}if(t.endLabelRight){const c=await bh(t.endLabelRight,xy(t.labelStyle)),u=e.insert("g").attr("class","edgeTerminals"),d=u.insert("g").attr("class","inner");l=d.node().appendChild(c);const h=c.getBBox();d.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),u.node().appendChild(c),bi.get(t.id)||bi.set(t.id,{}),bi.get(t.id).endRight=u,Ry(l,t.endLabelRight)}return r},"insertEdgeLabel");function Ry(e,t){vn().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}F(Ry,"setTerminalWidth");var HAt=F((e,t)=>{je.debug("Moving label abc88 ",e.id,e.label,$C.get(e.id),t);let n=t.updatedPath?t.updatedPath:t.originalPath;const r=vn(),{subGraphTitleTotalMargin:i}=q$(r);if(e.label){const a=$C.get(e.id);let s=e.x,l=e.y;if(n){const c=il.calcLabelPosition(n);je.debug("Moving label "+e.label+" from (",s,",",l,") to (",c.x,",",c.y,") abc88"),t.updatedPath&&(s=c.x,l=c.y)}a.attr("transform",`translate(${s}, ${l+i/2})`)}if(e.startLabelLeft){const a=bi.get(e.id).startLeft;let s=e.x,l=e.y;if(n){const c=il.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",n);s=c.x,l=c.y}a.attr("transform",`translate(${s}, ${l})`)}if(e.startLabelRight){const a=bi.get(e.id).startRight;let s=e.x,l=e.y;if(n){const c=il.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",n);s=c.x,l=c.y}a.attr("transform",`translate(${s}, ${l})`)}if(e.endLabelLeft){const a=bi.get(e.id).endLeft;let s=e.x,l=e.y;if(n){const c=il.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",n);s=c.x,l=c.y}a.attr("transform",`translate(${s}, ${l})`)}if(e.endLabelRight){const a=bi.get(e.id).endRight;let s=e.x,l=e.y;if(n){const c=il.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",n);s=c.x,l=c.y}a.attr("transform",`translate(${s}, ${l})`)}},"positionEdgeLabel"),VAt=F((e,t)=>{const n=e.x,r=e.y,i=Math.abs(t.x-n),a=Math.abs(t.y-r),s=e.width/2,l=e.height/2;return i>=s||a>=l},"outsideNode"),WAt=F((e,t,n)=>{je.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(n)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const r=e.x,i=e.y,a=Math.abs(r-n.x),s=e.width/2;let l=n.x<t.x?s-a:s+a;const c=e.height/2,u=Math.abs(t.y-n.y),d=Math.abs(t.x-n.x);if(Math.abs(i-t.y)*s>Math.abs(r-t.x)*c){let h=n.y<t.y?t.y-c-i:i-c-t.y;l=d*h/u;const f={x:n.x<t.x?n.x+l:n.x-d+l,y:n.y<t.y?n.y+u-h:n.y-u+h};return l===0&&(f.x=t.x,f.y=t.y),d===0&&(f.x=t.x),u===0&&(f.y=t.y),je.debug(`abc89 top/bottom calc, Q ${u}, q ${h}, R ${d}, r ${l}`,f),f}else{n.x<t.x?l=t.x-s-r:l=r-s-t.x;let h=u*l/d,f=n.x<t.x?n.x+d-l:n.x-d+l,m=n.y<t.y?n.y+h:n.y-h;return je.debug(`sides calc abc89, Q ${u}, q ${h}, R ${d}, r ${l}`,{_x:f,_y:m}),l===0&&(f=t.x,m=t.y),d===0&&(f=t.x),u===0&&(m=t.y),{x:f,y:m}}},"intersection"),Dq=F((e,t)=>{je.warn("abc88 cutPathAtIntersect",e,t);let n=[],r=e[0],i=!1;return e.forEach(a=>{if(je.info("abc88 checking point",a,t),!VAt(t,a)&&!i){const s=WAt(t,r,a);je.debug("abc88 inside",a,r,s),je.debug("abc88 intersection",s,t);let l=!1;n.forEach(c=>{l=l||c.x===s.x&&c.y===s.y}),n.some(c=>c.x===s.x&&c.y===s.y)?je.warn("abc88 no intersect",s,n):n.push(s),i=!0}else je.warn("abc88 outside",a,r),r=a,i||n.push(a)}),je.debug("returning points",n),n},"cutPathAtIntersect");function cge(e){const t=[],n=[];for(let r=1;r<e.length-1;r++){const i=e[r-1],a=e[r],s=e[r+1];(i.x===a.x&&a.y===s.y&&Math.abs(a.x-s.x)>5&&Math.abs(a.y-i.y)>5||i.y===a.y&&a.x===s.x&&Math.abs(a.x-i.x)>5&&Math.abs(a.y-s.y)>5)&&(t.push(a),n.push(r))}return{cornerPoints:t,cornerPointPositions:n}}F(cge,"extractCornerPoints");var Lq=F(function(e,t,n){const r=t.x-e.x,i=t.y-e.y,a=Math.sqrt(r*r+i*i),s=n/a;return{x:t.x-s*r,y:t.y-s*i}},"findAdjacentPoint"),qAt=F(function(e){const{cornerPointPositions:t}=cge(e),n=[];for(let r=0;r<e.length;r++)if(t.includes(r)){const i=e[r-1],a=e[r+1],s=e[r],l=Lq(i,s,5),c=Lq(a,s,5),u=c.x-l.x,d=c.y-l.y;n.push(l);const h=Math.sqrt(2)*2;let f={x:s.x,y:s.y};if(Math.abs(a.x-i.x)>10&&Math.abs(a.y-i.y)>=10){je.debug("Corner point fixing",Math.abs(a.x-i.x),Math.abs(a.y-i.y));const m=5;s.x===l.x?f={x:u<0?l.x-m+h:l.x+m-h,y:d<0?l.y-h:l.y+h}:f={x:u<0?l.x-h:l.x+h,y:d<0?l.y-m+h:l.y+m-h}}else je.debug("Corner point skipping fixing",Math.abs(a.x-i.x),Math.abs(a.y-i.y));n.push(f,c)}else n.push(e[r]);return n},"fixCorners"),GAt=F(function(e,t,n,r,i,a,s){var j;const{handDrawnSeed:l}=vn();let c=t.points,u=!1;const d=i;var h=a;const f=[];for(const k in t.cssCompiledStyles)Wme(k)||f.push(t.cssCompiledStyles[k]);h.intersect&&d.intersect&&(c=c.slice(1,t.points.length-1),c.unshift(d.intersect(c[0])),je.debug("Last point APA12",t.start,"-->",t.end,c[c.length-1],h,h.intersect(c[c.length-1])),c.push(h.intersect(c[c.length-1]))),t.toCluster&&(je.info("to cluster abc88",n.get(t.toCluster)),c=Dq(t.points,n.get(t.toCluster).node),u=!0),t.fromCluster&&(je.debug("from cluster abc88",n.get(t.fromCluster),JSON.stringify(c,null,2)),c=Dq(c.reverse(),n.get(t.fromCluster).node).reverse(),u=!0);let m=c.filter(k=>!Number.isNaN(k.y));m=qAt(m);let p=nx;switch(p=Qh,t.curve){case"linear":p=Qh;break;case"basis":p=nx;break;case"cardinal":p=jie;break;case"bumpX":p=CL;break;case"bumpY":p=TL;break;case"catmullRom":p=Pie;break;case"monotoneX":p=PL;break;case"monotoneY":p=ML;break;case"natural":p=IL;break;case"step":p=RL;break;case"stepAfter":p=LL;break;case"stepBefore":p=DL;break;default:p=nx}const{x:g,y:x}=WCt(t),y=_L().x(g).y(x).curve(p);let v;switch(t.thickness){case"normal":v="edge-thickness-normal";break;case"thick":v="edge-thickness-thick";break;case"invisible":v="edge-thickness-invisible";break;default:v="edge-thickness-normal"}switch(t.pattern){case"solid":v+=" edge-pattern-solid";break;case"dotted":v+=" edge-pattern-dotted";break;case"dashed":v+=" edge-pattern-dashed";break;default:v+=" edge-pattern-solid"}let b,E=y(m);const _=Array.isArray(t.style)?t.style:[t.style];let S=_.find(k=>k==null?void 0:k.startsWith("stroke:"));if(t.look==="handDrawn"){const k=ht.svg(e);Object.assign([],m);const O=k.path(E,{roughness:.3,seed:l});v+=" transition",b=Lt(O).select("path").attr("id",t.id).attr("class"," "+v+(t.classes?" "+t.classes:"")).attr("style",_?_.reduce((B,N)=>B+";"+N,""):"");let M=b.attr("d");b.attr("d",M),e.node().appendChild(b.node())}else{const k=f.join(";"),O=_?_.reduce((N,D)=>N+D+";",""):"";let M="";t.animate&&(M=" edge-animation-fast"),t.animation&&(M=" edge-animation-"+t.animation);const B=k?k+";"+O+";":O;b=e.append("path").attr("d",E).attr("id",t.id).attr("class"," "+v+(t.classes?" "+t.classes:"")+(M??"")).attr("style",B),S=(j=B.match(/stroke:([^;]+)/))==null?void 0:j[1]}let C="";(vn().flowchart.arrowMarkerAbsolute||vn().state.arrowMarkerAbsolute)&&(C=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,C=C.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),je.info("arrowTypeStart",t.arrowTypeStart),je.info("arrowTypeEnd",t.arrowTypeEnd),FAt(b,t,C,s,r,S);let T={};return u&&(T.updatedPath=c),T.originalPath=t.points,T},"insertEdge"),YAt=F((e,t,n,r)=>{t.forEach(i=>{ujt[i](e,n,r)})},"insertMarkers"),KAt=F((e,t,n)=>{je.trace("Making markers for ",n),e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),XAt=F((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),ZAt=F((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),QAt=F((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),JAt=F((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),ejt=F((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),tjt=F((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),njt=F((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),rjt=F((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),ijt=F((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",n+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),ajt=F((e,t,n)=>{const r=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),r.append("path").attr("d","M9,0 L9,18");const i=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),i.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),sjt=F((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",n+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),ojt=F((e,t,n)=>{const r=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),r.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const i=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),i.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),ljt=F((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),cjt=F((e,t,n)=>{const r=e.append("defs").append("marker").attr("id",n+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");r.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),r.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),r.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),ujt={extension:KAt,composition:XAt,aggregation:ZAt,dependency:QAt,lollipop:JAt,point:ejt,circle:tjt,cross:njt,barb:rjt,only_one:ijt,zero_or_one:ajt,one_or_more:sjt,zero_or_more:ojt,requirement_arrow:ljt,requirement_contains:cjt},djt=YAt,hjt={common:m0,getConfig:Ba,insertCluster:bAt,insertEdge:GAt,insertEdgeLabel:UAt,insertMarkers:djt,insertNode:lge,interpolateToCurve:Q$,labelHelper:$t,log:je,positionEdgeLabel:HAt},mb={},uge=F(e=>{for(const t of e)mb[t.name]=t},"registerLayoutLoaders"),fjt=F(()=>{uge([{name:"dagre",loader:F(async()=>await bn(()=>import("./dagre-OKDRZEBW-CQHYizoB.js"),__vite__mapDeps([0,1,2,3,4,5])),"loader")}])},"registerDefaultLayoutLoaders");fjt();var uDt=F(async(e,t)=>{if(!(e.layoutAlgorithm in mb))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);const n=mb[e.layoutAlgorithm];return(await n.loader()).render(e,t,hjt,{algorithm:n.algorithm})},"render"),dDt=F((e="",{fallback:t="dagre"}={})=>{if(e in mb)return e;if(t in mb)return je.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm"),$q={name:"mermaid",version:"11.6.0",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.0.4","@iconify/utils":"^2.1.33","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.11",dayjs:"^1.11.13",dompurify:"^3.2.4",katex:"^0.16.9",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^15.0.7",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.2","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",chokidar:"^4.0.3",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.0.2",jison:"^0.4.18","js-base64":"^3.7.7",jsdom:"^26.0.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.2",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.10","type-fest":"^4.35.0",typedoc:"^0.27.8","typedoc-plugin-markdown":"^4.4.2",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.0.2","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},mjt=F(e=>{var i;const{securityLevel:t}=vn();let n=Lt("body");if(t==="sandbox"){const s=((i=Lt(`#i${e}`).node())==null?void 0:i.contentDocument)??document;n=Lt(s.body)}return n.select(`#${e}`)},"selectSvgElement"),dge="comm",hge="rule",fge="decl",pjt="@import",gjt="@namespace",yjt="@keyframes",xjt="@layer",mge=Math.abs,x5=String.fromCharCode;function pge(e){return e.trim()}function HE(e,t,n){return e.replace(t,n)}function vjt(e,t,n){return e.indexOf(t,n)}function np(e,t){return e.charCodeAt(t)|0}function jg(e,t,n){return e.slice(t,n)}function Zo(e){return e.length}function bjt(e){return e.length}function eE(e,t){return t.push(e),e}var NN=1,Og=1,gge=0,Ks=0,Fr=0,v0="";function v5(e,t,n,r,i,a,s,l){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:NN,column:Og,length:s,return:"",siblings:l}}function wjt(){return Fr}function Ejt(){return Fr=Ks>0?np(v0,--Ks):0,Og--,Fr===10&&(Og=1,NN--),Fr}function Io(){return Fr=Ks<gge?np(v0,Ks++):0,Og++,Fr===10&&(Og=1,NN++),Fr}function Iu(){return np(v0,Ks)}function VE(){return Ks}function kN(e,t){return jg(v0,e,t)}function pb(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Sjt(e){return NN=Og=1,gge=Zo(v0=e),Ks=0,[]}function _jt(e){return v0="",e}function gj(e){return pge(kN(Ks-1,cR(e===91?e+2:e===40?e+1:e)))}function Cjt(e){for(;(Fr=Iu())&&Fr<33;)Io();return pb(e)>2||pb(Fr)>3?"":" "}function Tjt(e,t){for(;--t&&Io()&&!(Fr<48||Fr>102||Fr>57&&Fr<65||Fr>70&&Fr<97););return kN(e,VE()+(t<6&&Iu()==32&&Io()==32))}function cR(e){for(;Io();)switch(Fr){case e:return Ks;case 34:case 39:e!==34&&e!==39&&cR(Fr);break;case 40:e===41&&cR(e);break;case 92:Io();break}return Ks}function Njt(e,t){for(;Io()&&e+Fr!==57;)if(e+Fr===84&&Iu()===47)break;return"/*"+kN(t,Ks-1)+"*"+x5(e===47?e:Io())}function kjt(e){for(;!pb(Iu());)Io();return kN(e,Ks)}function Ajt(e){return _jt(WE("",null,null,null,[""],e=Sjt(e),0,[0],e))}function WE(e,t,n,r,i,a,s,l,c){for(var u=0,d=0,h=s,f=0,m=0,p=0,g=1,x=1,y=1,v=0,b="",E=i,_=a,S=r,C=b;x;)switch(p=v,v=Io()){case 40:if(p!=108&&np(C,h-1)==58){vjt(C+=HE(gj(v),"&","&\f"),"&\f",mge(u?l[u-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:C+=gj(v);break;case 9:case 10:case 13:case 32:C+=Cjt(p);break;case 92:C+=Tjt(VE()-1,7);continue;case 47:switch(Iu()){case 42:case 47:eE(jjt(Njt(Io(),VE()),t,n,c),c),(pb(p||1)==5||pb(Iu()||1)==5)&&Zo(C)&&jg(C,-1,void 0)!==" "&&(C+=" ");break;default:C+="/"}break;case 123*g:l[u++]=Zo(C)*y;case 125*g:case 59:case 0:switch(v){case 0:case 125:x=0;case 59+d:y==-1&&(C=HE(C,/\f/g,"")),m>0&&(Zo(C)-h||g===0&&p===47)&&eE(m>32?Fq(C+";",r,n,h-1,c):Fq(HE(C," ","")+";",r,n,h-2,c),c);break;case 59:C+=";";default:if(eE(S=Bq(C,t,n,u,d,i,l,b,E=[],_=[],h,a),a),v===123)if(d===0)WE(C,t,S,S,E,a,h,l,_);else{switch(f){case 99:if(np(C,3)===110)break;case 108:if(np(C,2)===97)break;default:d=0;case 100:case 109:case 115:}d?WE(e,S,S,r&&eE(Bq(e,S,S,0,0,i,l,b,i,E=[],h,_),_),i,_,h,l,r?E:_):WE(C,S,S,S,[""],_,0,l,_)}}u=d=m=0,g=y=1,b=C="",h=s;break;case 58:h=1+Zo(C),m=p;default:if(g<1){if(v==123)--g;else if(v==125&&g++==0&&Ejt()==125)continue}switch(C+=x5(v),v*g){case 38:y=d>0?1:(C+="\f",-1);break;case 44:l[u++]=(Zo(C)-1)*y,y=1;break;case 64:Iu()===45&&(C+=gj(Io())),f=Iu(),d=h=Zo(b=C+=kjt(VE())),v++;break;case 45:p===45&&Zo(C)==2&&(g=0)}}return a}function Bq(e,t,n,r,i,a,s,l,c,u,d,h){for(var f=i-1,m=i===0?a:[""],p=bjt(m),g=0,x=0,y=0;g<r;++g)for(var v=0,b=jg(e,f+1,f=mge(x=s[g])),E=e;v<p;++v)(E=pge(x>0?m[v]+" "+b:HE(b,/&\f/g,m[v])))&&(c[y++]=E);return v5(e,t,n,i===0?hge:l,c,u,d,h)}function jjt(e,t,n,r){return v5(e,t,n,dge,x5(wjt()),jg(e,2,-2),0,r)}function Fq(e,t,n,r,i){return v5(e,t,n,fge,jg(e,0,r),jg(e,r+1,-1),r,i)}function uR(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Ojt(e,t,n,r){switch(e.type){case xjt:if(e.children.length)break;case pjt:case gjt:case fge:return e.return=e.return||e.value;case dge:return"";case yjt:return e.return=e.value+"{"+uR(e.children,r)+"}";case hge:if(!Zo(e.value=e.props.join(",")))return""}return Zo(n=uR(e.children,r))?e.return=e.value+"{"+n+"}":""}var Pjt=Xfe(Object.keys,Object),Mjt=Object.prototype,Ijt=Mjt.hasOwnProperty;function Rjt(e){if(!xN(e))return Pjt(e);var t=[];for(var n in Object(e))Ijt.call(e,n)&&n!="constructor"&&t.push(n);return t}var dR=Df(Rl,"DataView"),hR=Df(Rl,"Promise"),fR=Df(Rl,"Set"),mR=Df(Rl,"WeakMap"),zq="[object Map]",Djt="[object Object]",Uq="[object Promise]",Hq="[object Set]",Vq="[object WeakMap]",Wq="[object DataView]",Ljt=Rf(dR),$jt=Rf(fb),Bjt=Rf(hR),Fjt=Rf(fR),zjt=Rf(mR),Jd=p0;(dR&&Jd(new dR(new ArrayBuffer(1)))!=Wq||fb&&Jd(new fb)!=zq||hR&&Jd(hR.resolve())!=Uq||fR&&Jd(new fR)!=Hq||mR&&Jd(new mR)!=Vq)&&(Jd=function(e){var t=p0(e),n=t==Djt?e.constructor:void 0,r=n?Rf(n):"";if(r)switch(r){case Ljt:return Wq;case $jt:return zq;case Bjt:return Uq;case Fjt:return Hq;case zjt:return Vq}return t});var Ujt="[object Map]",Hjt="[object Set]",Vjt=Object.prototype,Wjt=Vjt.hasOwnProperty;function qq(e){if(e==null)return!0;if(vN(e)&&(AC(e)||typeof e=="string"||typeof e.splice=="function"||X$(e)||Z$(e)||kC(e)))return!e.length;var t=Jd(e);if(t==Ujt||t==Hjt)return!e.size;if(xN(e))return!Rjt(e).length;for(var n in e)if(Wjt.call(e,n))return!1;return!0}var yge="c4",qjt=F(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),Gjt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./c4Diagram-VJAJSXHY-DM8a2Jx7.js");return{diagram:t}},__vite__mapDeps([6,7]));return{id:yge,diagram:e}},"loader"),Yjt={id:yge,detector:qjt,loader:Gjt},Kjt=Yjt,xge="flowchart",Xjt=F((e,t)=>{var n,r;return((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"||((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)},"detector"),Zjt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./flowDiagram-4HSFHLVR-KwY_pnXK.js");return{diagram:t}},__vite__mapDeps([8,9,10]));return{id:xge,diagram:e}},"loader"),Qjt={id:xge,detector:Xjt,loader:Zjt},Jjt=Qjt,vge="flowchart-v2",eOt=F((e,t)=>{var n,r,i;return((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="dagre-d3"?!1:(((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="elk"&&(t.layout="elk"),/^\s*graph/.test(e)&&((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(e))},"detector"),tOt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./flowDiagram-4HSFHLVR-KwY_pnXK.js");return{diagram:t}},__vite__mapDeps([8,9,10]));return{id:vge,diagram:e}},"loader"),nOt={id:vge,detector:eOt,loader:tOt},rOt=nOt,bge="er",iOt=F(e=>/^\s*erDiagram/.test(e),"detector"),aOt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./erDiagram-Q7BY3M3F-DWgKzS0R.js");return{diagram:t}},__vite__mapDeps([11,9,10]));return{id:bge,diagram:e}},"loader"),sOt={id:bge,detector:iOt,loader:aOt},oOt=sOt,wge="gitGraph",lOt=F(e=>/^\s*gitGraph/.test(e),"detector"),cOt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./gitGraphDiagram-7IBYFJ6S-BHM4nmbK.js");return{diagram:t}},__vite__mapDeps([12,13,14,15,2,4,5]));return{id:wge,diagram:e}},"loader"),uOt={id:wge,detector:lOt,loader:cOt},dOt=uOt,Ege="gantt",hOt=F(e=>/^\s*gantt/.test(e),"detector"),fOt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./ganttDiagram-APWFNJXF-CfAzMo3r.js");return{diagram:t}},[]);return{id:Ege,diagram:e}},"loader"),mOt={id:Ege,detector:hOt,loader:fOt},pOt=mOt,Sge="info",gOt=F(e=>/^\s*info/.test(e),"detector"),yOt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./infoDiagram-PH2N3AL5-DWKlNmei.js");return{diagram:t}},__vite__mapDeps([16,15,2,4,5]));return{id:Sge,diagram:e}},"loader"),xOt={id:Sge,detector:gOt,loader:yOt},_ge="pie",vOt=F(e=>/^\s*pie/.test(e),"detector"),bOt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./pieDiagram-IB7DONF6-RW1YrKq1.js");return{diagram:t}},__vite__mapDeps([17,13,15,2,4,5,18]));return{id:_ge,diagram:e}},"loader"),wOt={id:_ge,detector:vOt,loader:bOt},Cge="quadrantChart",EOt=F(e=>/^\s*quadrantChart/.test(e),"detector"),SOt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./quadrantDiagram-7GDLP6J5-2DUnOHaw.js");return{diagram:t}},[]);return{id:Cge,diagram:e}},"loader"),_Ot={id:Cge,detector:EOt,loader:SOt},COt=_Ot,Tge="xychart",TOt=F(e=>/^\s*xychart-beta/.test(e),"detector"),NOt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./xychartDiagram-VJFVF3MP-D_A6y_PB.js");return{diagram:t}},[]);return{id:Tge,diagram:e}},"loader"),kOt={id:Tge,detector:TOt,loader:NOt},AOt=kOt,Nge="requirement",jOt=F(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),OOt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./requirementDiagram-KVF5MWMF-lxaqXayw.js");return{diagram:t}},__vite__mapDeps([19,9]));return{id:Nge,diagram:e}},"loader"),POt={id:Nge,detector:jOt,loader:OOt},MOt=POt,kge="sequence",IOt=F(e=>/^\s*sequenceDiagram/.test(e),"detector"),ROt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./sequenceDiagram-X6HHIX6F-ByruWzHX.js");return{diagram:t}},__vite__mapDeps([20,7,14]));return{id:kge,diagram:e}},"loader"),DOt={id:kge,detector:IOt,loader:ROt},LOt=DOt,Age="class",$Ot=F((e,t)=>{var n;return((n=t==null?void 0:t.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e)},"detector"),BOt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./classDiagram-GIVACNV2-DAtuIYMt.js");return{diagram:t}},__vite__mapDeps([21,22,9]));return{id:Age,diagram:e}},"loader"),FOt={id:Age,detector:$Ot,loader:BOt},zOt=FOt,jge="classDiagram",UOt=F((e,t)=>{var n;return/^\s*classDiagram/.test(e)&&((n=t==null?void 0:t.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e)},"detector"),HOt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./classDiagram-v2-COTLJTTW-DAtuIYMt.js");return{diagram:t}},__vite__mapDeps([23,22,9]));return{id:jge,diagram:e}},"loader"),VOt={id:jge,detector:UOt,loader:HOt},WOt=VOt,Oge="state",qOt=F((e,t)=>{var n;return((n=t==null?void 0:t.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e)},"detector"),GOt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./stateDiagram-DGXRK772-CVeyxTUw.js");return{diagram:t}},__vite__mapDeps([24,25,9,1,2,3,4]));return{id:Oge,diagram:e}},"loader"),YOt={id:Oge,detector:qOt,loader:GOt},KOt=YOt,Pge="stateDiagram",XOt=F((e,t)=>{var n;return!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&((n=t==null?void 0:t.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper")},"detector"),ZOt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./stateDiagram-v2-YXO3MK2T-DL7LkIB6.js");return{diagram:t}},__vite__mapDeps([26,25,9]));return{id:Pge,diagram:e}},"loader"),QOt={id:Pge,detector:XOt,loader:ZOt},JOt=QOt,Mge="journey",ePt=F(e=>/^\s*journey/.test(e),"detector"),tPt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./journeyDiagram-U35MCT3I-xgnyOvZA.js");return{diagram:t}},__vite__mapDeps([27,7,18]));return{id:Mge,diagram:e}},"loader"),nPt={id:Mge,detector:ePt,loader:tPt},rPt=nPt,iPt=F((e,t,n)=>{je.debug(`rendering svg for syntax error
`);const r=mjt(t),i=r.append("g");r.attr("viewBox","0 0 2412 512"),she(r,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${n}`)},"draw"),Ige={draw:iPt},aPt=Ige,sPt={db:{},renderer:Ige,parser:{parse:F(()=>{},"parse")}},oPt=sPt,Rge="flowchart-elk",lPt=F((e,t={})=>{var n;return/^\s*flowchart-elk/.test(e)||/^\s*flowchart|graph/.test(e)&&((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk"?(t.layout="elk",!0):!1},"detector"),cPt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./flowDiagram-4HSFHLVR-KwY_pnXK.js");return{diagram:t}},__vite__mapDeps([8,9,10]));return{id:Rge,diagram:e}},"loader"),uPt={id:Rge,detector:lPt,loader:cPt},dPt=uPt,Dge="timeline",hPt=F(e=>/^\s*timeline/.test(e),"detector"),fPt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./timeline-definition-BDJGKUSR-uJdcAYHb.js");return{diagram:t}},__vite__mapDeps([28,18]));return{id:Dge,diagram:e}},"loader"),mPt={id:Dge,detector:hPt,loader:fPt},pPt=mPt,Lge="mindmap",gPt=F(e=>/^\s*mindmap/.test(e),"detector"),yPt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./mindmap-definition-ALO5MXBD-BfPKqLhB.js");return{diagram:t}},__vite__mapDeps([29,30]));return{id:Lge,diagram:e}},"loader"),xPt={id:Lge,detector:gPt,loader:yPt},vPt=xPt,$ge="kanban",bPt=F(e=>/^\s*kanban/.test(e),"detector"),wPt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./kanban-definition-NDS4AKOZ-B7h1meXv.js");return{diagram:t}},[]);return{id:$ge,diagram:e}},"loader"),EPt={id:$ge,detector:bPt,loader:wPt},SPt=EPt,Bge="sankey",_Pt=F(e=>/^\s*sankey-beta/.test(e),"detector"),CPt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./sankeyDiagram-QLVOVGJD-Cc3wLUD8.js");return{diagram:t}},[]);return{id:Bge,diagram:e}},"loader"),TPt={id:Bge,detector:_Pt,loader:CPt},NPt=TPt,Fge="packet",kPt=F(e=>/^\s*packet-beta/.test(e),"detector"),APt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./diagram-VNBRO52H-DnPsEfHn.js");return{diagram:t}},__vite__mapDeps([31,13,15,2,4,5]));return{id:Fge,diagram:e}},"loader"),jPt={id:Fge,detector:kPt,loader:APt},zge="radar",OPt=F(e=>/^\s*radar-beta/.test(e),"detector"),PPt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./diagram-SSKATNLV-D7-ghoTV.js");return{diagram:t}},__vite__mapDeps([32,13,15,2,4,5]));return{id:zge,diagram:e}},"loader"),MPt={id:zge,detector:OPt,loader:PPt},Uge="block",IPt=F(e=>/^\s*block-beta/.test(e),"detector"),RPt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./blockDiagram-JOT3LUYC-DmvYiFRe.js");return{diagram:t}},__vite__mapDeps([33,5,2,1,10]));return{id:Uge,diagram:e}},"loader"),DPt={id:Uge,detector:IPt,loader:RPt},LPt=DPt,Hge="architecture",$Pt=F(e=>/^\s*architecture/.test(e),"detector"),BPt=F(async()=>{const{diagram:e}=await bn(async()=>{const{diagram:t}=await import("./architectureDiagram-IEHRJDOE-xx-sy6bT.js");return{diagram:t}},__vite__mapDeps([34,13,14,15,2,4,5,30]));return{id:Hge,diagram:e}},"loader"),FPt={id:Hge,detector:$Pt,loader:BPt},zPt=FPt,Gq=!1,AN=F(()=>{Gq||(Gq=!0,xC("error",oPt,e=>e.toLowerCase().trim()==="error"),xC("---",{db:{clear:F(()=>{},"clear")},styles:{},renderer:{draw:F(()=>{},"draw")},parser:{parse:F(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:F(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),Gde(Kjt,SPt,WOt,zOt,oOt,pOt,xOt,wOt,MOt,LOt,dPt,rOt,Jjt,vPt,pPt,dOt,JOt,KOt,rPt,COt,NPt,jPt,AOt,LPt,zPt,MPt))},"addDiagrams"),UPt=F(async()=>{je.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(_g).map(async([n,{detector:r,loader:i}])=>{if(i)try{RI(n)}catch{try{const{diagram:a,id:s}=await i();xC(s,a,r)}catch(a){throw je.error(`Failed to load external diagram with key ${n}. Removing from detectors.`),delete _g[n],a}}}))).filter(n=>n.status==="rejected");if(t.length>0){je.error(`Failed to load ${t.length} external diagrams`);for(const n of t)je.error(n);throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams"),HPt="graphics-document document";function Vge(e,t){e.attr("role",HPt),t!==""&&e.attr("aria-roledescription",t)}F(Vge,"setA11yDiagramInfo");function Wge(e,t,n,r){if(e.insert!==void 0){if(n){const i=`chart-desc-${r}`;e.attr("aria-describedby",i),e.insert("desc",":first-child").attr("id",i).text(n)}if(t){const i=`chart-title-${r}`;e.attr("aria-labelledby",i),e.insert("title",":first-child").attr("id",i).text(t)}}}F(Wge,"addSVGa11yTitleDescription");var Mh,pR=(Mh=class{constructor(t,n,r,i,a){this.type=t,this.text=n,this.db=r,this.parser=i,this.renderer=a}static async fromText(t,n={}){var u,d;const r=Ba(),i=P$(t,r);t=ukt(t)+`
`;try{RI(i)}catch{const h=WSt(i);if(!h)throw new qde(`Diagram ${i} not found.`);const{id:f,diagram:m}=await h();xC(f,m)}const{db:a,parser:s,renderer:l,init:c}=RI(i);return s.parser&&(s.parser.yy=a),(u=a.clear)==null||u.call(a),c==null||c(r),n.title&&((d=a.setDiagramTitle)==null||d.call(a,n.title)),await s.parse(t),new Mh(i,t,a,s,l)}async render(t,n){await this.renderer.draw(this.text,t,n,this)}getParser(){return this.parser}getType(){return this.type}},F(Mh,"Diagram"),Mh),Yq=[],VPt=F(()=>{Yq.forEach(e=>{e()}),Yq=[]},"attachFunctions"),WPt=F(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function qge(e){const t=e.match(Wde);if(!t)return{text:e,metadata:{}};let n=VCt(t[1],{schema:HCt})??{};n=typeof n=="object"&&!Array.isArray(n)?n:{};const r={};return n.displayMode&&(r.displayMode=n.displayMode.toString()),n.title&&(r.title=n.title.toString()),n.config&&(r.config=n.config),{text:e.slice(t[0].length),metadata:r}}F(qge,"extractFrontMatter");var qPt=F(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,n,r)=>"<"+n+r.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),GPt=F(e=>{const{text:t,metadata:n}=qge(e),{displayMode:r,title:i,config:a={}}=n;return r&&(a.gantt||(a.gantt={}),a.gantt.displayMode=r),{title:i,config:a,text:t}},"processFrontmatter"),YPt=F(e=>{const t=il.detectInit(e)??{},n=il.detectDirective(e,"wrap");return Array.isArray(n)?t.wrap=n.some(({type:r})=>r==="wrap"):(n==null?void 0:n.type)==="wrap"&&(t.wrap=!0),{text:ZNt(e),directive:t}},"processDirectives");function b5(e){const t=qPt(e),n=GPt(t),r=YPt(n.text),i=r5(n.config,r.directive);return e=WPt(r.text),{code:e,title:n.title,config:i}}F(b5,"preprocessDiagram");function Gge(e){const t=new TextEncoder().encode(e),n=Array.from(t,r=>String.fromCodePoint(r)).join("");return btoa(n)}F(Gge,"toBase64");var KPt=5e4,XPt="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",ZPt="sandbox",QPt="loose",JPt="http://www.w3.org/2000/svg",eMt="http://www.w3.org/1999/xlink",tMt="http://www.w3.org/1999/xhtml",nMt="100%",rMt="100%",iMt="border:0;margin:0;",aMt="margin:0",sMt="allow-top-navigation-by-user-activation allow-popups",oMt='The "iframe" tag is not supported by your browser.',lMt=["foreignobject"],cMt=["dominant-baseline"];function w5(e){const t=b5(e);return gC(),o_t(t.config??{}),t}F(w5,"processAndSetConfigs");async function Yge(e,t){AN();try{const{code:n,config:r}=w5(e);return{diagramType:(await Xge(n)).type,config:r}}catch(n){if(t!=null&&t.suppressErrors)return!1;throw n}}F(Yge,"parse");var Kq=F((e,t,n=[])=>`
.${e} ${t} { ${n.join(" !important; ")} !important; }`,"cssImportantStyles"),uMt=F((e,t=new Map)=>{var r;let n="";if(e.themeCSS!==void 0&&(n+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(n+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(n+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){const l=e.htmlLabels??((r=e.flowchart)==null?void 0:r.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(c=>{qq(c.styles)||l.forEach(u=>{n+=Kq(c.id,u,c.styles)}),qq(c.textStyles)||(n+=Kq(c.id,"tspan",((c==null?void 0:c.textStyles)||[]).map(u=>u.replace("color","fill"))))})}return n},"createCssStyles"),dMt=F((e,t,n,r)=>{const i=uMt(e,n),a=T_t(t,i,e.themeVariables);return uR(Ajt(`${r}{${a}}`),Ojt)},"createUserStyles"),hMt=F((e="",t,n)=>{let r=e;return!n&&!t&&(r=r.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),r=Lf(r),r=r.replace(/<br>/g,"<br/>"),r},"cleanUpSvgCode"),fMt=F((e="",t)=>{var i,a;const n=(a=(i=t==null?void 0:t.viewBox)==null?void 0:i.baseVal)!=null&&a.height?t.viewBox.baseVal.height+"px":rMt,r=Gge(`<body style="${aMt}">${e}</body>`);return`<iframe style="width:${nMt};height:${n};${iMt}" src="data:text/html;charset=UTF-8;base64,${r}" sandbox="${sMt}">
  ${oMt}
</iframe>`},"putIntoIFrame"),Xq=F((e,t,n,r,i)=>{const a=e.append("div");a.attr("id",n),r&&a.attr("style",r);const s=a.append("svg").attr("id",t).attr("width","100%").attr("xmlns",JPt);return i&&s.attr("xmlns:xlink",i),s.append("g"),e},"appendDivSvgG");function gR(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}F(gR,"sandboxedIframe");var mMt=F((e,t,n,r)=>{var i,a,s;(i=e.getElementById(t))==null||i.remove(),(a=e.getElementById(n))==null||a.remove(),(s=e.getElementById(r))==null||s.remove()},"removeExistingElements"),pMt=F(async function(e,t,n){var M,B,N,D,P,L;AN();const r=w5(t);t=r.code;const i=Ba();je.debug(i),t.length>((i==null?void 0:i.maxTextSize)??KPt)&&(t=XPt);const a="#"+e,s="i"+e,l="#"+s,c="d"+e,u="#"+c,d=F(()=>{const U=Lt(f?l:u).node();U&&"remove"in U&&U.remove()},"removeTempElements");let h=Lt("body");const f=i.securityLevel===ZPt,m=i.securityLevel===QPt,p=i.fontFamily;if(n!==void 0){if(n&&(n.innerHTML=""),f){const I=gR(Lt(n),s);h=Lt(I.nodes()[0].contentDocument.body),h.node().style.margin=0}else h=Lt(n);Xq(h,e,c,`font-family: ${p}`,eMt)}else{if(mMt(document,e,c,s),f){const I=gR(Lt("body"),s);h=Lt(I.nodes()[0].contentDocument.body),h.node().style.margin=0}else h=Lt("body");Xq(h,e,c)}let g,x;try{g=await pR.fromText(t,{title:r.title})}catch(I){if(i.suppressErrorRendering)throw d(),I;g=await pR.fromText("error"),x=I}const y=h.select(u).node(),v=g.type,b=y.firstChild,E=b.firstChild,_=(B=(M=g.renderer).getClasses)==null?void 0:B.call(M,t,g),S=dMt(i,v,_,a),C=document.createElement("style");C.innerHTML=S,b.insertBefore(C,E);try{await g.renderer.draw(t,e,$q.version,g)}catch(I){throw i.suppressErrorRendering?d():aPt.draw(t,e,$q.version),I}const T=h.select(`${u} svg`),j=(D=(N=g.db).getAccTitle)==null?void 0:D.call(N),k=(L=(P=g.db).getAccDescription)==null?void 0:L.call(P);Zge(v,T,j,k),h.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",tMt);let O=h.select(u).node().innerHTML;if(je.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),O=hMt(O,f,ei(i.arrowMarkerAbsolute)),f){const I=h.select(u+" svg").node();O=fMt(O,I)}else m||(O=Sg.sanitize(O,{ADD_TAGS:lMt,ADD_ATTR:cMt,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(VPt(),x)throw x;return d(),{diagramType:v,svg:O,bindFunctions:g.db.bindFunctions}},"render");function Kge(e={}){var r;const t=_i({},e);t!=null&&t.fontFamily&&!((r=t.themeVariables)!=null&&r.fontFamily)&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),a_t(t),t!=null&&t.theme&&t.theme in xc?t.themeVariables=xc[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=xc.default.getThemeVariables(t.themeVariables));const n=typeof t=="object"?i_t(t):Jde();O$(n.logLevel),AN()}F(Kge,"initialize");var Xge=F((e,t={})=>{const{code:n}=b5(e);return pR.fromText(n,t)},"getDiagramFromText");function Zge(e,t,n,r){Vge(t,e),Wge(t,n,r,t.attr("id"))}F(Zge,"addA11yInfo");var mf=Object.freeze({render:pMt,parse:Yge,getDiagramFromText:Xge,initialize:Kge,getConfig:Ba,setConfig:ehe,getSiteConfig:Jde,updateSiteConfig:s_t,reset:F(()=>{gC()},"reset"),globalReset:F(()=>{gC(Cg)},"globalReset"),defaultConfig:Cg});O$(Ba().logLevel);gC(Ba());var gMt=F((e,t,n)=>{je.warn(e),n5(e)?(n&&n(e.str,e.hash),t.push({...e,message:e.str,error:e})):(n&&n(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),Qge=F(async function(e={querySelector:".mermaid"}){try{await yMt(e)}catch(t){if(n5(t)&&je.error(t.str),ps.parseError&&ps.parseError(t),!e.suppressErrors)throw je.error("Use the suppressErrors option to suppress these errors"),t}},"run"),yMt=F(async function({postRenderCallback:e,querySelector:t,nodes:n}={querySelector:".mermaid"}){const r=mf.getConfig();je.debug(`${e?"":"No "}Callback function found`);let i;if(n)i=n;else if(t)i=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");je.debug(`Found ${i.length} diagrams`),(r==null?void 0:r.startOnLoad)!==void 0&&(je.debug("Start On Load: "+(r==null?void 0:r.startOnLoad)),mf.updateSiteConfig({startOnLoad:r==null?void 0:r.startOnLoad}));const a=new il.InitIDGenerator(r.deterministicIds,r.deterministicIDSeed);let s;const l=[];for(const c of Array.from(i)){if(je.info("Rendering diagram: "+c.id),c.getAttribute("data-processed"))continue;c.setAttribute("data-processed","true");const u=`mermaid-${a.next()}`;s=c.innerHTML,s=Tme(il.entityDecode(s)).trim().replace(/<br\s*\/?>/gi,"<br/>");const d=il.detectInit(s);d&&je.debug("Detected early reinit: ",d);try{const{svg:h,bindFunctions:f}=await n0e(u,s,c);c.innerHTML=h,e&&await e(u),f&&f(c)}catch(h){gMt(h,l,ps.parseError)}}if(l.length>0)throw l[0]},"runThrowsErrors"),Jge=F(function(e){mf.initialize(e)},"initialize"),xMt=F(async function(e,t,n){je.warn("mermaid.init is deprecated. Please use run instead."),e&&Jge(e);const r={postRenderCallback:n,querySelector:".mermaid"};typeof t=="string"?r.querySelector=t:t&&(t instanceof HTMLElement?r.nodes=[t]:r.nodes=t),await Qge(r)},"init"),vMt=F(async(e,{lazyLoad:t=!0}={})=>{AN(),Gde(...e),t===!1&&await UPt()},"registerExternalDiagrams"),e0e=F(function(){if(ps.startOnLoad){const{startOnLoad:e}=mf.getConfig();e&&ps.run().catch(t=>je.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",e0e,!1);var bMt=F(function(e){ps.parseError=e},"setParseErrorHandler"),BC=[],yj=!1,t0e=F(async()=>{if(!yj){for(yj=!0;BC.length>0;){const e=BC.shift();if(e)try{await e()}catch(t){je.error("Error executing queue",t)}}yj=!1}},"executeQueue"),wMt=F(async(e,t)=>new Promise((n,r)=>{const i=F(()=>new Promise((a,s)=>{mf.parse(e,t).then(l=>{a(l),n(l)},l=>{var c;je.error("Error parsing",l),(c=ps.parseError)==null||c.call(ps,l),s(l),r(l)})}),"performCall");BC.push(i),t0e().catch(r)}),"parse"),n0e=F((e,t,n)=>new Promise((r,i)=>{const a=F(()=>new Promise((s,l)=>{mf.render(e,t,n).then(c=>{s(c),r(c)},c=>{var u;je.error("Error parsing",c),(u=ps.parseError)==null||u.call(ps,c),l(c),i(c)})}),"performCall");BC.push(a),t0e().catch(i)}),"render"),ps={startOnLoad:!0,mermaidAPI:mf,parse:wMt,render:n0e,init:xMt,run:Qge,registerExternalDiagrams:vMt,registerLayoutLoaders:uge,initialize:Jge,parseError:void 0,contentLoaded:e0e,setParseErrorHandler:bMt,detectType:P$,registerIconPacks:f2t},FC=ps;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */FC.registerLayoutLoaders(cSt);const EMt=FC.registerExternalDiagrams([hSt]),SMt=async(e,t,n)=>(await EMt,FC.initialize(e),await FC.render(n,t));let _Mt=0,CMt={startOnLoad:!1,theme:"default",securityLevel:"loose",fontFamily:"Fira Code"};function Zq(e){let{diagram:t,config:n,shouldPanZoom:r,...i}=e,a=w.useRef(null),s;const l=c=>{s==null||s.destroy(),Promise.resolve().then(()=>{c&&(s=nSt(c,{controlIconsEnabled:!1,fit:!0,center:!0}))})};return w.useEffect(()=>(a.current instanceof HTMLDivElement&&TMt(t,a.current,n).then(c=>{if(c.hasError)return;let u=document.querySelector(`#${c.svgId}`);u&&(r&&l(u),u.setAttribute("height","100%"),u.setAttribute("width","100%"),u.style.maxWidth="100%")}),()=>{s==null||s.destroy(),a.current instanceof HTMLDivElement&&r0e(a.current)}),[a,t]),o.jsx("div",{"data-test-selector":"mermaid-diagram",...i,ref:a})}function r0e(e){for(;e.firstChild;)e.lastChild&&e.removeChild(e.lastChild)}async function TMt(e,t,n){r0e(t);let r=!1,i=`diagram-${_Mt++}`;try{const{svg:a,bindFunctions:s}=await SMt(n??CMt,e,i);s&&s(t),t.innerHTML=a}catch(a){r=!0;let s=document.querySelector(`#${i}`);s&&(s.remove(),console.warn("Mermaid Diagram",a))}return{svgId:i,hasError:r}}const NMt={createdAt:new Date().toISOString(),createdBy:"system",lastModifiedBy:"system",lastModifiedAt:new Date().toISOString(),tenantId:"default",userId:"system"};function gb(e,t){if(!e||typeof e!="object")return e;if(Array.isArray(e))return e.map(n=>gb(n,t));if(e!==null){const n={...e},r=new Date().toISOString(),i={...NMt,createdAt:r,...t};return Object.entries(i).forEach(([a,s])=>{a in n&&(n[a]===null||n[a]===void 0)&&(n[a]=s)}),Object.keys(n).forEach(a=>{n[a]!==null&&typeof n[a]=="object"&&(n[a]=gb(n[a],t))}),n}return e}const tu=e=>{if(!e)return"";const t=/[\s\/\-:;,\.\(\)\[\]\{\}\<\>\=\+\*\&\^\%\$\#\@\!\?\|\\]/.test(e),n=e.replace(/"/g,'\\"');return t?`"${n}"`:n},Qq=(e,t)=>{try{if(!e)return console.warn("Business challenge is undefined or null"),`graph TD;
  A[Error: Invalid business challenge data]`;let n=`graph TD;
`;const r=tu(e.title||"Business Challenge"),a=`bc_${(e.id?tu(e.id):"")||"main"}`;return n+=`    ${a}[${r}]:::challengeNode;
`,e.problems&&Array.isArray(e.problems)&&e.problems.forEach((s,l)=>{if(!s)return;const c=tu(s.title||"Problem"),u=s.id?tu(s.id):`p${l}`,d=`prob_${s.id}`;n+=`    ${d}[${c}]:::problemNode;
`,n+=`    ${a} --> ${d};
`,s.hypotheses&&Array.isArray(s.hypotheses)&&s.hypotheses.forEach((h,f)=>{if(!h)return;const m=tu(h.title||"Hypothesis"),p=h.id?tu(h.id):`h${l}_${f}`,g=`hyp_${h.id}`;n+=`    ${g}[${m}]:::hypothesisNode;
`,n+=`    ${d} --> ${g};
`,h.metrics_details&&Array.isArray(h.metrics_details)&&h.metrics_details.forEach((x,y)=>{if(!x||!x.metric)return;const v=tu(x.metric.name||"Metric"),b=x.metric.id?tu(x.metric.id):`m${l}_${f}_${y}`,E=`met_${x.metric.name}`;n+=`    ${E}[${v}];
`,n+=`    ${g} --> ${E};
`})})}),console.log("Generated Mermaid diagram:",n),n+=`    classDef challengeNode fill:#d0e0ff,stroke:#3080ff,stroke-width:2px;
`,n+=`    classDef problemNode fill:#d0ffe0,stroke:#30c080,stroke-width:2px;
`,n+="    classDef hypothesisNode fill:#ffff00,stroke:#e0c000,stroke-width:2px;",n}catch(n){return console.error("Error generating Mermaid diagram:",n),`graph TD;
  A[Error: Failed to generate diagram]`}};class b0{canExecute(t){return!!t.businessChallenge&&!!t.currentAgent}createLog(t,n,r="info"){return{type:this.stepId,title:t,description:n,status:r}}handleError(t){return{success:!1,error:t instanceof Error?t.message:"Unknown error",shouldContinue:!1}}createSuccessResult(t){return{success:!0,result:t,shouldContinue:!0}}}class i0e{static registerProcessor(t){this.processors.set(t.stepId,t)}static getProcessor(t){return this.processors.get(t)}static getAllProcessors(){return Array.from(this.processors.values())}}ot(i0e,"processors",new Map);class kMt extends b0{constructor(){super(...arguments);ot(this,"stepId","judgeChallenge");ot(this,"stepTitle","Evaluate Insurance Business Challenge");ot(this,"stepDescription","Assess if the current business challenge is suitable for AI analysis and provide initial recommendations.")}async execute(n){try{const r=await od.evaluate_insurance_business_challenge(n.businessChallenge),i={...n.analysisResult,judgeChallengeResult:r},a="Business Challenge Assessment Complete",s=`Assessment Result: ${r.isGoodChallenge?"Good":"Needs Improvement"}`;return r.verification_pass?{success:!0,result:{...r,updatedAnalysisResult:i,log:this.createLog(a,s,"success")},shouldContinue:!0}:{success:!0,result:{...r,updatedAnalysisResult:i,log:this.createLog(a,s,"error")},shouldContinue:!1}}catch(r){console.error("Error evaluating challenge:",r);const i={isGoodChallenge:!1,suggestions:["Error occurred during evaluation"],requiredContext:[],error:r instanceof Error?r.message:"Unknown error"};return{success:!1,result:{...i,log:this.createLog("Business Challenge Assessment Failed",`Error: ${i.error}`,"error")},error:i.error,shouldContinue:!1}}}canExecute(n){return super.canExecute(n)&&!!n.businessChallenge}}class AMt extends b0{constructor(){super(...arguments);ot(this,"stepId","queryHistory");ot(this,"stepTitle","Query Historical Experience");ot(this,"stepDescription","Search for similar business challenge analysis cases and results from the past.")}async execute(n){try{const r=await od.query_historical_experience(n.businessChallenge),i={...n.analysisResult,queryHistoryResult:r},a="Historical Experience Query Complete",s=`Similar Cases Found: ${r.hasSimilar?"Yes":"No"}`;return{success:!0,result:{...r,updatedAnalysisResult:i,log:this.createLog(a,s,"success")},shouldContinue:!0}}catch(r){console.error("Error querying historical experience:",r);const i={hasSimilar:!1,similarChallenges:[],error:r instanceof Error?r.message:"Unknown error"};return{success:!1,result:{...i,log:this.createLog("Historical Experience Query Failed",`Error: ${i.error}`,"error")},error:i.error,shouldContinue:!1}}}canExecute(n){return super.canExecute(n)&&!!n.businessChallenge}}class jMt extends b0{constructor(){super(...arguments);ot(this,"stepId","queryKnowledgeBase");ot(this,"stepTitle","Query Knowledge Base");ot(this,"stepDescription","Retrieve relevant insurance industry knowledge, analysis logic, and models.")}async execute(n){try{const r=await od.query_knowledge_base(n.businessChallenge),i={...n.analysisResult,queryKnowledgeBaseResult:r};return{success:!0,result:{knowledgeBaseResult:r,updatedAnalysisResult:i,log:this.createLog("Knowledge Base Query Complete","Knowledge base query completed successfully","success")},shouldContinue:!0}}catch(r){console.error("Error querying knowledge base:",r);const i={hasKnowledgeBase:!1,knowledgeBaseChallenges:[],error:r instanceof Error?r.message:"Unknown error"};return{success:!1,result:{...i,log:this.createLog("Knowledge Base Query Failed",`Error: ${i.error}`,"error")},error:i.error,shouldContinue:!1}}}canExecute(n){return super.canExecute(n)&&!!n.businessChallenge}}class OMt extends b0{constructor(){super(...arguments);ot(this,"stepId","buildSimulation");ot(this,"stepTitle","Build Business Problem Simulation Environment");ot(this,"stepDescription","Create simulation analysis environment based on historical experience and knowledge base.")}async execute(n){var r,i,a,s,l,c,u;try{console.log("buildSimulation");const d=this.createLog("Starting to build simulation environment...","","info"),h=await od.build_business_problem_simulation_environment(n.businessChallenge),f=h.challenge,m=h.result,p=[];m!=null&&m.businessProblems&&m.businessProblems.length>0&&p.push(this.createLog("Business Problems Identified",`Found ${m.businessProblems.length} business problems: ${m.businessProblems.map(y=>y.title).join(", ")}`,"info")),m!=null&&m.validatedHypotheses&&m.validatedHypotheses.length>0&&p.push(this.createLog("Validated Hypotheses",`${m.validatedHypotheses.length} hypotheses validated: ${m.validatedHypotheses.map(y=>y.title).join(", ")}`,"success")),m!=null&&m.rejectedHypotheses&&m.rejectedHypotheses.length>0&&p.push(this.createLog("Rejected Hypotheses",`${m.rejectedHypotheses.length} hypotheses rejected: ${m.rejectedHypotheses.map(y=>y.title).join(", ")}`,"warning")),m!=null&&m.keyMetrics&&m.keyMetrics.length>0&&p.push(this.createLog("Key Metrics Identified",`${m.keyMetrics.length} key metrics: ${m.keyMetrics.map(y=>y.name).join(", ")}`,"info")),m!=null&&m.insights&&m.insights.length>0&&p.push(this.createLog("Insights Generated",`${m.insights.length} insights discovered: ${m.insights.map(y=>y.title).join(", ")}`,"success")),m!=null&&m.recommendations&&m.recommendations.length>0&&p.push(this.createLog("Recommendations Generated",`${m.recommendations.length} recommendations: ${m.recommendations.slice(0,2).join("; ")}${m.recommendations.length>2?"...":""}`,"info")),m!=null&&m.nextSteps&&m.nextSteps.length>0&&p.push(this.createLog("Next Steps Defined",`${m.nextSteps.length} next steps identified: ${m.nextSteps.slice(0,2).join("; ")}${m.nextSteps.length>2?"...":""}`,"info")),m!=null&&m.status&&p.push(this.createLog("Analysis Status",`Analysis status: ${m.status}`,m.status==="completed"?"success":"info"));const g={...n.analysisResult,simulationResult:{simulationId:h.simulationId,environmentStatus:"Simulation Environment Built",challenge:f,result:h.result,analysisDetails:{businessProblemsCount:((r=m==null?void 0:m.businessProblems)==null?void 0:r.length)||0,validatedHypothesesCount:((i=m==null?void 0:m.validatedHypotheses)==null?void 0:i.length)||0,rejectedHypothesesCount:((a=m==null?void 0:m.rejectedHypotheses)==null?void 0:a.length)||0,keyMetricsCount:((s=m==null?void 0:m.keyMetrics)==null?void 0:s.length)||0,insightsCount:((l=m==null?void 0:m.insights)==null?void 0:l.length)||0,recommendationsCount:((c=m==null?void 0:m.recommendations)==null?void 0:c.length)||0,nextStepsCount:((u=m==null?void 0:m.nextSteps)==null?void 0:u.length)||0,analysisStatus:(m==null?void 0:m.status)||"unknown"}}},x=this.createLog("Simulation Environment Build Complete",`Successfully built simulation environment with ${p.length} analysis components`,"success");return{success:!0,result:{environmentStatus:"Simulation Environment Built",challenge:f,updatedAnalysisResult:g,businessChallengeWithProblems:f,logs:[d,...p,x]},shouldContinue:!0}}catch(d){console.error("Error building simulation environment:",d);const h={environmentStatus:"Failed to build simulation environment",error:d instanceof Error?d.message:"Unknown error"};return{success:!1,result:{...h,log:this.createLog("Simulation Environment Build Failed",`Error: ${h.error}`,"error")},error:h.error,shouldContinue:!1}}}canExecute(n){return super.canExecute(n)&&!!n.businessChallenge}}class PMt extends b0{constructor(){super(...arguments);ot(this,"stepId","answerBusinessChallenge");ot(this,"stepTitle","Attempt to Answer Business Challenge");ot(this,"stepDescription","Provide answers to the original business challenge based on simulation results.")}async execute(n){var r;try{const i=(r=n.analysisResult)==null?void 0:r.simulationResult;if(!i)throw new Error("No simulation result found in context");const a=gb(i),s=await od.attempt_to_answer_business_challenge(a),l=s.challenge,c={...n.analysisResult,simulationResult:{simulationId:s.simulationId,environmentStatus:"Simulation Environment Built",challenge:l,result:s.result}},u="Business Challenge Answer Attempt";return this.createLog(u,"","success"),{success:!0,result:{environmentStatus:"Simulation Environment Built",challenge:l,updatedAnalysisResult:c,businessChallengeWithProblems:l,logs:[this.createLog(u,"","success")]},shouldContinue:!0}}catch(i){console.error("Error answering business challenge:",i);const a={challengeAnswer:"Failed to answer business challenge",recommendations:[],error:i instanceof Error?i.message:"Unknown error"};return{success:!1,result:{...a,log:this.createLog("Business Challenge Answer Failed",`Error: ${a.error}`,"error")},error:a.error,shouldContinue:!1}}}canExecute(n){return super.canExecute(n)&&!!n.businessChallenge}}class MMt extends b0{constructor(){super(...arguments);ot(this,"stepId","generateReport");ot(this,"stepTitle","Build Conclusions and Generate Analysis Report");ot(this,"stepDescription","Summarize the analysis process, generate final report, and provide feedback mechanism.")}async execute(n){var r,i,a,s,l,c;try{await new Promise(v=>setTimeout(v,2e3));const u=(r=n.analysisResult)==null?void 0:r.answerBusinessProblemResult,d=(u==null?void 0:u.validationResult)||{confidence:75,insights:["Default insight from analysis"]},h=(i=n.analysisResult)==null?void 0:i.simulationResult,f=gb(h);console.log("Cleaned simulation result for report generation:",{originalKeys:h?Object.keys(h):[],cleanedKeys:f?Object.keys(f):[]});const m=await od.build_conclusions_and_generate_analysis_report(f);(s=(a=n.analysisResult)==null?void 0:a.simulationResult)!=null&&s.result&&((l=m==null?void 0:m.result)!=null&&l.challengeMarkdown)&&(n.analysisResult.simulationResult.result.challengeMarkdown=m.result.challengeMarkdown);const p={summary:`For business challenge "${n.businessChallenge.title}", AI analysis indicates that the key hypothesis is the core driving factor.`,findings:d.insights||[],recommendations:["Specific Recommendation 1","Specific Recommendation 2"],confidenceScore:d.confidence||75,isLogical:(d.confidence||75)>75,customerRating:null,challengeId:n.businessChallenge.id},g={...n.analysisResult,generateReportResult:m,simulationResult:{...(c=n.analysisResult)==null?void 0:c.simulationResult}},x="Analysis Report Generated",y=`Report Confidence: ${p.confidenceScore}%`;return{success:!0,result:{...p,updatedAnalysisResult:g,log:this.createLog(x,y,"success")},shouldContinue:!0}}catch(u){console.error("Error generating report:",u);const d={summary:"Failed to generate analysis report",findings:[],recommendations:[],confidenceScore:0,isLogical:!1,error:u instanceof Error?u.message:"Unknown error"};return{success:!1,result:{...d,log:this.createLog("Analysis Report Generation Failed",`Error: ${d.error}`,"error")},error:d.error,shouldContinue:!1}}}canExecute(n){return super.canExecute(n)&&!!n.businessChallenge}}class IMt{constructor(){ot(this,"processors",new Map);ot(this,"onLogCallback");ot(this,"onStepUpdateCallback");this.initializeProcessors()}initializeProcessors(){[new kMt,new AMt,new jMt,new OMt,new PMt,new MMt].forEach(n=>{this.processors.set(n.stepId,n),i0e.registerProcessor(n)})}setLogCallback(t){this.onLogCallback=t}setStepUpdateCallback(t){this.onStepUpdateCallback=t}async executeStep(t,n){var a,s,l,c;const r=this.processors.get(t);if(!r){const u=`Unknown step processor: ${t}`;return this.addLog("system","Unknown Step Processing",u,"error"),{success:!1,error:u,shouldContinue:!1}}if(!r.canExecute(n)){const u=`Step ${t} cannot be executed with current context`;return this.addLog("system","Step Execution Blocked",u,"warning"),{success:!1,error:u,shouldContinue:!1}}this.updateStepStatus(t,"in-progress");const i=(a=n.stepContext)!=null&&a.additionalInfo?` (Context: ${n.stepContext.additionalInfo})`:"";this.addLog("step_start",r.stepTitle,`Starting step execution${i}`,"info");try{const u=await r.execute(n);return u.success?(this.updateStepStatus(t,"completed",u.result),(s=u.result)!=null&&s.log&&this.addLog(u.result.log.type,u.result.log.title,u.result.log.description,u.result.log.status),(l=u.result)!=null&&l.logs&&Array.isArray(u.result.logs)&&u.result.logs.forEach(d=>{this.addLog(d.type,d.title,d.description,d.status)})):(this.updateStepStatus(t,"error",u.result),(c=u.result)!=null&&c.log&&this.addLog(u.result.log.type,u.result.log.title,u.result.log.description,u.result.log.status)),u}catch(u){console.error(`Error executing step ${t}:`,u);const d=u instanceof Error?u.message:"Unknown error";return this.updateStepStatus(t,"error",{error:d}),this.addLog(t,"Step Execution Failed",d,"error"),{success:!1,error:d,shouldContinue:!1}}}getAllProcessors(){return Array.from(this.processors.values())}getProcessor(t){return this.processors.get(t)}addLog(t,n,r,i){this.onLogCallback&&this.onLogCallback({id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:t,title:n,description:r,timestamp:new Date().toISOString(),status:i})}updateStepStatus(t,n,r){this.onStepUpdateCallback&&this.onStepUpdateCallback(t,n,r)}}const xj=new IMt,RMt=4e3,vj=[{id:"judgeChallenge",title:"Evaluate Insurance Business Challenge",description:"Assess if the current business challenge is suitable for AI analysis and provide initial recommendations.",status:"pending"},{id:"queryHistory",title:"Query Historical Experience",description:"Search for similar business challenge analysis cases and results from the past.",status:"pending"},{id:"queryKnowledgeBase",title:"Query Knowledge Base",description:"Retrieve relevant insurance industry knowledge, analysis logic, and models.",status:"pending"},{id:"buildSimulation",title:"Build Business Problem Simulation Environment",description:"Create simulation analysis environment based on historical experience and knowledge base.",status:"pending",subSteps:[{id:"simDefineProblem",title:"Define Simulation Business Problem",description:"",status:"pending"},{id:"simCreateHypothesis",title:"Create Hypothesis Simulation Environment",description:"",status:"pending"},{id:"simLinkMetrics",title:"Link Metrics and Dimensions",description:"",status:"pending"},{id:"simConcludeHypothesis",title:"Build Hypothesis Conclusions",description:"",status:"pending"},{id:"simAnalyze",title:"Execute Simulation Analysis",description:"",status:"pending"}]},{id:"answerBusinessChallenge",title:"Attempt to Answer Business Challenge",description:"Provide answers to the original business challenge based on simulation results.",status:"pending"},{id:"generateReport",title:"Build Conclusions and Generate Analysis Report",description:"Summarize the analysis process, generate final report, and provide feedback mechanism.",status:"pending"}],a0e=({challengeId:e,onComplete:t})=>{var ie,ue,we,Se;const{collapsed:n}=Tr(),r=Dn(),i=window.location,s=new URLSearchParams(i.search).get("agentId"),[l,c]=w.useState(null),[u,d]=w.useState(null),[h,f]=w.useState(null),[m,p]=w.useState(vj),[g,x]=w.useState(0),[y,v]=w.useState({}),[b,E]=w.useState(!1),[_,S]=w.useState([]),[C,T]=w.useState(!1),[j,k]=w.useState(!0),O=w.useRef(null),[M,B]=w.useState(null),[N,D]=w.useState(null),[P,L]=w.useState(0),[I,U]=w.useState(!1),[$,W]=w.useState(!1),[z,R]=w.useState(null);w.useEffect(()=>{const K=()=>{if(!document.fullscreenElement&&(W(!1),z)){const Le=new Event("remove");z.dispatchEvent(Le),z.remove(),R(null)}},Ce=Le=>{if(console.error("Fullscreen error:",Le),W(!1),z){const Y=new Event("remove");z.dispatchEvent(Y),z.remove(),R(null)}};return document.addEventListener("fullscreenchange",K),document.addEventListener("fullscreenerror",Ce),()=>{document.removeEventListener("fullscreenchange",K),document.removeEventListener("fullscreenerror",Ce)}},[z]);const G=e||s;w.useState(""),w.useState([]),w.useState(""),w.useState([{id:"metric1",name:"Customer Retention Rate",value:68,unit:"%",relevance:95},{id:"metric2",name:"Customer Satisfaction",value:7.2,unit:"/10",relevance:85},{id:"metric3",name:"Product Usage Frequency",value:3.5,unit:"times/week",relevance:75}]);const[Q,oe]=w.useState({isValid:!1,confidence:0,insights:[]}),[re,pe]=w.useState(!1),[ce,me]=w.useState(!0),[ye,ae]=w.useState({agentLoaded:!1,challengeLoaded:!1});w.useEffect(()=>{ae({agentLoaded:!1,challengeLoaded:!1}),s&&(console.log("Agent ID from URL parameters:",s),Z("system","Agent ID Detected",`Using Agent ID from URL: ${s}`,"info"),Gm.getAgent(s).then(K=>{var Ce;if(console.log("agent",K),K){c(K),ae(Y=>({...Y,agentLoaded:!0}));const Le=(Ce=K.metadata)==null?void 0:Ce.businessChallengeId;Le?Kr.getBusinessChallengeById(Le).then(Y=>{Y?(Z("system","Challenge Loaded",`Business challenge ${Y.id} loaded successfully`,"success"),d(Y),ae(be=>({...be,challengeLoaded:!0})),D({businessChallenge:Y,judgeChallengeResult:null,queryHistoryResult:null,queryKnowledgeBaseResult:null,simulationResult:null,answerBusinessChallengeResult:null,generateReportResult:null})):(Z("system","Challenge Not Found",`No business challenge found with ID: ${Le}`,"error"),T(!1))}).catch(Y=>{Z("system","Challenge Load Error",`Error loading business challenge: ${Y.message}`,"error"),T(!1)}):(Z("system","Challenge ID Missing","Agent does not have a business challenge ID","warning"),T(!1))}else Z("system","Agent Not Found",`No agent found with ID: ${s}`,"error"),T(!1)}).catch(K=>{Z("system","Agent Load Error",`Error loading agent: ${K.message}`,"error"),T(!1)}))},[s]),w.useEffect(()=>{xj.setLogCallback(K=>{Z(K.type,K.title,K.description,K.status)}),xj.setStepUpdateCallback(Ae)},[]),w.useEffect(()=>{ye.agentLoaded&&ye.challengeLoaded&&l&&u&&(console.log("Resources loaded, ready for execution:",{agent:l,challenge:u}),Z("system","Resources Loaded",`Agent ${l.name||l.id} and challenge loaded successfully. Click 'Start Agent' to begin analysis.`,"success"))},[ye,l,u]),w.useEffect(()=>{C&&ye.agentLoaded&&ye.challengeLoaded&&l&&u&&!re&&(console.log("Starting execution after user clicked start"),H())},[C,ye,l,u,re]),w.useEffect(()=>(O.current&&(clearInterval(O.current),O.current=null),C&&u&&!re&&(O.current=setInterval(()=>{H()},RMt)),()=>{O.current&&(clearInterval(O.current),O.current=null)}),[C,u,re]),w.useEffect(()=>()=>{O.current&&(clearInterval(O.current),O.current=null),pe(!1)},[]);const Ae=(K,Ce,Le,Y)=>{console.log("Updating step status:",{stepId:K,result:Le}),p(ee=>ee.map(be=>be.id===K?Y&&be.subSteps?{...be,status:be.subSteps.every(Te=>Te.status==="completed")?"completed":"in-progress",subSteps:be.subSteps.map(Te=>Te.id===Y?{...Te,status:Ce,result:Le}:Te)}:{...be,status:Ce,result:Le}:be))},H=async()=>{var Y,ee,be,Te,fe;if(re){console.log("Agent is already executing, skipping this cycle");return}if(!l){Z("system","Agent Not Found","Waiting for agent to be loaded before proceeding","warning");return}if(!u){Z("system","Challenge Not Found","Waiting for business challenge to be loaded before proceeding","warning");return}if(g>=m.length){T(!1),Z("system","Analysis Complete","All steps have been executed successfully.","success"),t&&t({report:M,logs:_});return}if(!j){const Ne=y[g]||{};if(g>0&&Ne.manualApproval===!1){Z("system","Step Paused",`Waiting for manual approval for step: ${m[g].title}`,"info"),T(!1);return}}const K=m[g];if(K.status==="completed"){g<m.length-1&&(x(Ne=>Ne+1),Z("system","Step Completed",`Moving to next step: ${(Y=m[g+1])==null?void 0:Y.title}`,"info"));return}if(K.status==="in-progress"){console.log(`Step ${K.id} is already in progress, waiting...`);return}pe(!0);const Ce=y[g]||{},Le={businessChallenge:u,analysisResult:N,stepContext:Ce,agent:l,currentAgent:l,stepIndex:g};try{const Ne=await xj.executeStep(K.id,Le);if(Ne.success){(ee=Ne.result)!=null&&ee.updatedAnalysisResult&&D(Ne.result.updatedAnalysisResult),console.log("Step execution result shouldContinue:",Ne.shouldContinue);const Nt=Ne.shouldContinue;if(Nt!==void 0&&(me(Nt),Z("system","Continue Control",`Step returned shouldContinue: ${Nt}`,"info"),!Nt)){T(!1),Z("system","Execution Paused","Step execution paused due to shouldContinue = false","warning");return}K.id==="buildSimulation"&&((be=Ne.result)!=null&&be.challenge)&&f(Ne.result.challenge),K.id==="generateReport"&&Ne.result&&(B(Ne.result),t&&t(Ne.result)),g<m.length-1?j?(x(vt=>vt+1),Z("system","Auto Mode",`Automatically proceeding to next step: ${(Te=m[g+1])==null?void 0:Te.title}`,"info")):(v(vt=>({...vt,[g+1]:{...vt[g+1],manualApproval:!1}})),x(vt=>vt+1),Z("system","Manual Approval Mode",`Waiting for user approval before executing: ${(fe=m[g+1])==null?void 0:fe.title}`,"info"),T(!1)):(T(!1),Z("system","All Steps Complete","AI Analysis Process Ended.","success"))}else Z(K.id,"Step Execution Failed",Ne.error||"Unknown error","error"),Ae(K.id,"error",{error:Ne.error}),T(!1)}catch(Ne){console.error("Error during agent step:",Ne);const Nt=Ne instanceof Error?Ne.message:"Unknown Error";Z(K.id,"Step Execution Failed",Nt,"error"),Ae(K.id,"error",{error:Nt}),T(!1)}finally{pe(!1)}},Z=(K,Ce,Le,Y)=>{S(ee=>[...ee,{id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:K,title:Ce,description:Le,timestamp:new Date().toISOString(),status:Y}])},he=(K,Ce)=>{if(re){Z("system","Action Blocked","Cannot perform manual action while step is executing","warning");return}const Le=m[K];switch(Ce){case"approve":Ae(Le.id,"completed",Le.result),v(be=>({...be,[K]:{...be[K],manualApproval:!0}})),j?x(K+1):(v(be=>({...be,[K]:{...be[K],manualApproval:!0}})),T(!0),Z("system","Step Approved",`Step ${Le.title} was approved by user, continuing execution`,"success"));break;case"reject":Ae(Le.id,"error",{error:"Step rejected by user"}),T(!1),Z("system","Step Rejected",`Step ${Le.title} was rejected by user`,"error");break;case"rerun":const ee=((y[K]||{}).retryCount||0)+1;Ae(Le.id,"pending"),v(be=>({...be,[K]:{...be[K],retryCount:ee}})),x(K),T(!0),Z("system","Step Rerun",`Rerunning step ${Le.title} (Attempt ${ee})`,"info");break}},se=K=>{if(M){const Ce={...M,customerRating:K};B(Ce),Z("feedback","Customer Rating",`Report Rating: ${K} stars`,"info")}},V=()=>{if(re){Z("system","Action Blocked","Cannot rerun all steps while a step is executing","warning");return}p(vj.map(K=>({...K,status:"pending",result:void 0,subSteps:K.subSteps?K.subSteps.map(Ce=>({...Ce,status:"pending",result:void 0})):void 0}))),x(0),v({}),B(null),oe({isValid:!1,confidence:0,insights:[]}),u&&D({businessChallenge:u,judgeChallengeResult:null,queryHistoryResult:null,queryKnowledgeBaseResult:null,simulationResult:null,answerBusinessChallengeResult:null,generateReportResult:null}),T(!0),Z("system","Rerun All Steps","All steps have been reset and analysis will restart","info")};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ir,{}),o.jsxs("div",{className:`${n?"pl-20":"pl-56"} min-h-screen transition-all duration-300`,children:[o.jsx(Xn,{}),o.jsx("main",{className:"container py-4 sm:py-6 px-4 sm:px-6 max-w-full overflow-hidden",children:o.jsxs(Pe,{className:"mt-4",children:[o.jsxs(Ye,{children:[o.jsxs(dt,{className:"flex items-center gap-2",children:[o.jsx(Wi,{className:"h-6 w-6 text-primary"}),o.jsx("span",{className:"text-xl font-semibold",children:"AI Agent Analysis"})]}),o.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium",children:"Challenge ID:"}),o.jsx("span",{children:G||"Not specified"})]}),l&&l.metadata&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium",children:"Agent:"}),o.jsx("span",{children:l.name||l.id})]}),l.metadata.businessChallengeId&&o.jsxs("div",{className:"flex  gap-2",children:[o.jsx("span",{className:"font-medium",children:"Title:"}),o.jsx("span",{children:((ie=l==null?void 0:l.metadata)==null?void 0:ie.businessChallengeTitle)||""})]}),l.metadata.businessChallengeId&&o.jsxs("div",{className:"flex  gap-2",children:[o.jsx("span",{className:"font-medium",children:"Description:"}),o.jsx("span",{children:((ue=l==null?void 0:l.metadata)==null?void 0:ue.businessChallengeDescription)||""})]})]})]})})]}),o.jsxs(De,{className:"space-y-8 pt-6",children:[o.jsxs("div",{className:"mb-6 pb-6 border-b border-border/50 space-y-6",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 p-4 rounded-xl border border-blue-200/50 dark:border-blue-800/50",children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${C?"bg-green-500 animate-pulse":"bg-gray-400"}`}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:C?" Analysis in Progress...":g>=m.length?" Analysis Completed":" Analysis Paused"})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Current Step: ",g<m.length?`${g+1}. ${m[g].title}`:"All steps completed"]})]}),o.jsxs("div",{className:"bg-white/80 dark:bg-gray-900/80 px-4 py-3 rounded-lg border border-white/50 dark:border-gray-700/50 min-w-[200px]",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Analysis Progress"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[m.filter(K=>K.status==="completed").length,"/",m.length]})]}),o.jsx("div",{className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-600 transition-all duration-500 ease-out",style:{width:`${m.filter(K=>K.status==="completed").length/m.length*100}%`}})})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[o.jsx(te,{variant:C?"destructive":"default",size:"lg",onClick:()=>{C?(T(!1),Z("system","Analysis Paused","User paused the analysis process","info")):(g>=m.length?(x(0),p(vj),v({}),Z("system","Restart Analysis","Starting analysis process from the beginning","info")):Z("system","Start Analysis","User initiated AI analysis process","info"),T(!0))},className:"h-12 font-medium shadow-md hover:shadow-lg transition-all duration-200",disabled:!ye.agentLoaded||!ye.challengeLoaded,children:C?o.jsxs(o.Fragment,{children:[o.jsx(nr,{className:"h-5 w-5 mr-2 animate-spin"}),"Pause Analysis"]}):g>=m.length?o.jsxs(o.Fragment,{children:[o.jsx(ac,{className:"h-5 w-5 mr-2"}),"Restart"]}):o.jsxs(o.Fragment,{children:[o.jsx(Wi,{className:"h-5 w-5 mr-2"}),"Start Analysis"]})}),o.jsx(te,{variant:j?"default":"secondary",size:"lg",onClick:()=>{k(!j),Z("system","Mode Switch",`Switched to ${j?"Manual Approval":"Auto"} mode`,"info")},className:"h-12 transition-all duration-200 hover:shadow-md",children:j?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"Auto Mode"]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),"Manual Mode"]})}),o.jsxs(te,{variant:"outline",size:"lg",onClick:V,disabled:re||C,className:"h-12 hover:bg-muted/50 hover:shadow-md transition-all duration-200",children:[o.jsx(ac,{className:"h-5 w-5 mr-2"}),"Reset Process"]}),(g>=m.length||m.every(K=>K.status==="completed"))&&!C?o.jsxs(te,{variant:"default",size:"lg",onClick:async()=>{Z("system","Analysis Confirmed","User confirmed the analysis results","success");try{if(N){const K=gb(N.simulationResult),Ce=await Qoe.save_analysis_result(K);Ce&&Ce.success&&Ce.storage_key?(Z("system","Analysis Saved",`Analysis results saved successfully, storage key: ${Ce.storage_key}`,"success"),localStorage.setItem("analysis_storage_key",Ce.storage_key),E(!0)):(Z("system","Analysis Saved","Analysis results saved successfully","success"),E(!0))}}catch(K){Z("system","Save Failed","Failed to save analysis results: "+K.message,"error")}t&&M&&t({report:M,logs:_,confirmed:!0})},className:"h-12 bg-green-600 hover:bg-green-700 text-white shadow-md hover:shadow-lg transition-all duration-200",children:[o.jsx(vr,{className:"h-5 w-5 mr-2"}),"Confirm Analysis"]}):o.jsx("div",{className:"h-12 flex items-center justify-center text-sm text-muted-foreground bg-muted/30 rounded-md border border-dashed",children:"Confirm after analysis completion"})]}),o.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t border-muted/30",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2 w-full",children:[o.jsx(ic,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"View Results"})]}),o.jsxs(te,{variant:"outline",size:"sm",onClick:()=>{const K=localStorage.getItem("analysis_storage_key");if(K){const Ce=`/challenge-analysis?analysisId=${K}&challengeId=${h.id}`;r(Ce),Z("system","View Details",`Opening detailed analysis page, storage key: ${K}`,"info")}else Z("system","No Storage Key","Analysis storage key not found, please confirm analysis results first","warning")},disabled:!b,className:"hover:bg-blue-50 hover:border-blue-300 hover:text-blue-700 transition-all duration-200",children:[o.jsx(ic,{className:"h-4 w-4 mr-2"}),"Detailed Analysis Report",!b&&o.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Confirm first)"})]}),((Se=(we=N==null?void 0:N.generateReportResult)==null?void 0:we.result)==null?void 0:Se.challengeMarkdown)&&o.jsxs(te,{variant:"outline",size:"sm",onClick:()=>{var Ce,Le;const K=(Le=(Ce=N==null?void 0:N.generateReportResult)==null?void 0:Ce.result)==null?void 0:Le.challengeMarkdown;if(K){const Y=window.open("","_blank");Y&&(Y.document.write(`
                        <!DOCTYPE html>
                        <html>
                        <head>
                          <title>Challenge Analysis Report</title>
                          <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"><\/script>
                          <style>
                            body { 
                              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
                              max-width: 1200px; 
                              margin: 0 auto; 
                              padding: 2rem 3rem; 
                              line-height: 1.6; 
                              color: #333;
                              min-height: 100vh;
                            }
                            h1, h2, h3 { color: #2563eb; }
                            pre { background: #f8f9fa; padding: 1rem; border-radius: 0.5rem; overflow-x: auto; }
                            code { background: #f1f5f9; padding: 0.2rem 0.4rem; border-radius: 0.25rem; }
                            blockquote { border-left: 4px solid #e5e7eb; margin: 0; padding-left: 1rem; }
                            table { border-collapse: collapse; width: 100%; }
                            th, td { border: 1px solid #e5e7eb; padding: 0.5rem; text-align: left; }
                            th { background: #f9fafb; }
                          </style>
                        </head>
                        <body>
                          <div id="content"></div>
                          <script>
                            document.getElementById('content').innerHTML = marked.parse(${JSON.stringify(K)});
                          <\/script>
                        </body>
                        </html>
                      `),Y.document.close())}},className:"hover:bg-green-50 hover:border-green-300 hover:text-green-700 transition-all duration-200",children:[o.jsx(ic,{className:"h-4 w-4 mr-2"}),"Challenge Analysis Report"]})]})]}),o.jsx("div",{className:"space-y-4",children:m.map((K,Ce)=>{var Le,Y,ee,be,Te;return o.jsxs(JA.div,{initial:{opacity:.6,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:Ce*.05},className:`p-4 rounded-lg border ${K.status==="in-progress"?"border-primary shadow-md":K.status==="completed"?"border-green-500 bg-green-50/30 dark:bg-green-900/20":K.status==="error"?"border-red-500 bg-red-50/30 dark:bg-red-900/20":"border-border"}`,children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[K.status==="in-progress"&&o.jsx(nr,{className:"h-5 w-5 text-primary animate-spin flex-shrink-0"}),K.status==="completed"&&o.jsx(vr,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),K.status==="error"&&o.jsx(Hu,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),K.status==="pending"&&o.jsx(zh,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"}),o.jsxs("h3",{className:"font-medium text-md truncate",children:[Ce+1,". ",K.title]}),o.jsx(Oe,{variant:K.status==="completed"?"default":K.status==="error"?"destructive":"outline",className:"capitalize flex-shrink-0",children:K.status})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[K.status==="in-progress"&&o.jsxs(o.Fragment,{children:[o.jsxs(te,{variant:"outline",size:"sm",onClick:()=>he(Ce,"approve"),className:"min-w-[5rem] hover:bg-green-50 hover:border-green-300 hover:text-green-700",children:[o.jsx(vr,{className:"h-4 w-4 mr-1"}),o.jsx("span",{className:"hidden sm:inline",children:"Approve"}),o.jsx("span",{className:"sm:hidden",children:""})]}),o.jsxs(te,{variant:"outline",size:"sm",onClick:()=>he(Ce,"reject"),className:"min-w-[5rem] hover:bg-red-50 hover:border-red-300 hover:text-red-700",children:[o.jsx(Hu,{className:"h-4 w-4 mr-1"}),o.jsx("span",{className:"hidden sm:inline",children:"Reject"}),o.jsx("span",{className:"sm:hidden",children:""})]})]}),(K.status==="completed"||K.status==="error")&&o.jsxs(te,{variant:"outline",size:"sm",onClick:()=>he(Ce,"rerun"),className:"min-w-[5rem] hover:bg-blue-50 hover:border-blue-300 hover:text-blue-700",children:[o.jsx(ac,{className:"h-4 w-4 mr-1"}),o.jsx("span",{className:"hidden sm:inline",children:"Retry"}),o.jsx("span",{className:"sm:hidden",children:""})]})]})]}),o.jsxs("div",{className:"ml-8 mt-2 space-y-2",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:K.description}),((Le=y[Ce])==null?void 0:Le.retryCount)&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["retry count : ",y[Ce].retryCount]}),((Y=y[Ce])==null?void 0:Y.manualApproval)&&o.jsx(Oe,{variant:"outline",className:"text-xs",children:"Confirm"}),(K.status==="error"||K.status==="completed")&&o.jsx("div",{className:"w-full",children:o.jsx("input",{type:"text",placeholder:"Add context information or special requirements for retry",className:"flex h-8 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-w-0 hover:border-primary/50 focus:border-primary",value:((ee=y[Ce])==null?void 0:ee.additionalInfo)||"",onChange:fe=>v(Ne=>({...Ne,[Ce]:{...Ne[Ce],additionalInfo:fe.target.value}}))})})]}),K.status==="completed"&&K.result&&o.jsxs("div",{className:"mt-3 ml-8 p-3 bg-background/50 rounded-md text-xs space-y-1 overflow-hidden",children:[o.jsx("h4",{className:"font-semibold mb-1",children:"Step Output:"}),K.id==="judgeChallenge"&&typeof K.result=="object"?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"font-medium w-1/3",children:"Challenge Assessment:"}),o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${K.result.verification_pass?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:K.result.verification_pass?"Suitable for Analysis":"Needs Improvement"})]}),K.result.reason&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium block mb-1",children:"Reason:"}),o.jsx("p",{className:"text-sm",children:K.result.reason})]}),K.result.clarity&&o.jsxs("div",{className:"border-t pt-2",children:[o.jsxs("div",{className:"flex items-center mb-1",children:[o.jsx("span",{className:"font-medium",children:"Clarity:"}),o.jsxs("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${K.result.clarity.is_specific?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:["Score: ",K.result.clarity.specificity_score.toFixed(1),"/10"]})]}),o.jsx("p",{className:"text-xs",children:K.result.clarity.specificity_feedback})]}),K.result.operability&&o.jsxs("div",{className:"border-t pt-2",children:[o.jsxs("div",{className:"mb-1",children:[o.jsx("span",{className:"font-medium block mb-2",children:"Operability:"}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${K.result.operability.is_actionable?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:K.result.operability.is_actionable?"Actionable":"Not Actionable"}),o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${K.result.operability.data_analyzable?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:K.result.operability.data_analyzable?"Analyzable":"Not Analyzable"}),o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${K.result.operability.strategy_adjustable?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:K.result.operability.strategy_adjustable?"Adjustable":"Not Adjustable"})]})]}),o.jsx("p",{className:"text-xs",children:K.result.operability.operability_feedback})]}),K.result.impact&&o.jsxs("div",{className:"border-t pt-2",children:[o.jsxs("div",{className:"flex items-center mb-1",children:[o.jsx("span",{className:"font-medium",children:"Impact:"}),o.jsxs("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${K.result.impact.impact_level==="High"?"bg-green-100 text-green-800":K.result.impact.impact_level==="Medium"?"bg-blue-100 text-blue-800":"bg-amber-100 text-amber-800"}`,children:[K.result.impact.impact_level," Impact"]})]}),K.result.impact.potential_impact_areas&&K.result.impact.potential_impact_areas.length>0&&o.jsxs("div",{children:[o.jsx("span",{className:"text-xs font-medium",children:"Potential Impact Areas:"}),o.jsx("ul",{className:"list-disc list-inside pl-2 text-xs",children:K.result.impact.potential_impact_areas.map((fe,Ne)=>o.jsx("li",{children:fe},Ne))})]}),o.jsx("p",{className:"text-xs mt-1",children:K.result.impact.impact_feedback})]}),K.result.suggested_challenge&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium block mb-1",children:"Suggested Challenge:"}),o.jsx("p",{className:"text-sm",children:K.result.suggested_challenge})]})]}):K.id==="queryHistory"&&typeof K.result=="object"?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"font-medium w-1/3",children:"Similar Cases Found:"}),o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${K.result.hasSimilar?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:K.result.hasSimilar?"Yes":"No"})]}),K.result.similarChallenges&&K.result.similarChallenges.length>0&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium block mb-1",children:"Similar Challenges:"}),o.jsx("ul",{className:"list-disc list-inside pl-2",children:K.result.similarChallenges.map((fe,Ne)=>o.jsx("li",{className:"text-xs",children:o.jsx("span",{className:"font-medium",children:fe.title})},Ne))})]})]}):K.id==="queryKnowledgeBase"&&typeof K.result=="object"?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium block mb-1",children:"Knowledge Base Status:"}),o.jsx("p",{className:"text-xs pl-2",children:K.result.hasKnowledgeBase?"Available":"Not Available"})]}),K.result.knowledgeBaseChallenges&&K.result.knowledgeBaseChallenges.length>0&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium block mb-1",children:"Knowledge Base Challenges:"}),o.jsx("ul",{className:"list-disc list-inside pl-2",children:K.result.knowledgeBaseChallenges.map((fe,Ne)=>o.jsx("li",{className:"text-xs",children:fe},Ne))})]})]}):K.id==="buildSimulation"&&typeof K.result=="object"?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"font-medium w-1/3",children:"Environment Status:"}),o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${K.result.environmentStatus==="Simulation Environment Built"?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:K.result.environmentStatus})]}),K.result.analysisDetails&&o.jsxs("div",{className:"border-t pt-2",children:[o.jsx("span",{className:"font-medium block mb-2",children:"Analysis Summary:"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Business Problems:"}),o.jsx("span",{className:"font-medium",children:K.result.analysisDetails.businessProblemsCount})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Validated Hypotheses:"}),o.jsx("span",{className:"font-medium text-green-600",children:K.result.analysisDetails.validatedHypothesesCount})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Rejected Hypotheses:"}),o.jsx("span",{className:"font-medium text-red-600",children:K.result.analysisDetails.rejectedHypothesesCount})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Key Metrics:"}),o.jsx("span",{className:"font-medium",children:K.result.analysisDetails.keyMetricsCount})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Insights:"}),o.jsx("span",{className:"font-medium text-blue-600",children:K.result.analysisDetails.insightsCount})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Recommendations:"}),o.jsx("span",{className:"font-medium",children:K.result.analysisDetails.recommendationsCount})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Next Steps:"}),o.jsx("span",{className:"font-medium",children:K.result.analysisDetails.nextStepsCount})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Status:"}),o.jsx("span",{className:`font-medium ${K.result.analysisDetails.analysisStatus==="completed"?"text-green-600":K.result.analysisDetails.analysisStatus==="in_progress"?"text-blue-600":"text-amber-600"}`,children:K.result.analysisDetails.analysisStatus})]})]})]}),K.result.challenge&&o.jsxs("div",{className:"border-t pt-2",children:[o.jsx("span",{className:"font-medium block mb-1",children:"Enhanced Challenge:"}),o.jsx("p",{className:"text-xs",children:K.result.challenge.title}),K.result.challenge.problems&&K.result.challenge.problems.length>0&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[K.result.challenge.problems.length," problems identified"]})]})]}):K.id==="answerBusinessProblem"&&typeof K.result=="object"?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium block mb-1",children:"Answer:"}),o.jsx("p",{className:"text-xs pl-2",children:K.result.answer})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"font-medium w-1/3",children:"Confidence:"}),o.jsxs("div",{className:"w-2/3 flex items-center",children:[o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mr-2",children:o.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full",style:{width:`${K.result.confidence}%`}})}),o.jsxs("span",{className:"text-xs",children:[K.result.confidence,"%"]})]})]})]}):K.id==="answerBusinessChallenge"&&typeof K.result=="object"?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium block mb-1",children:"Challenge Answer:"}),o.jsx("p",{className:"text-xs pl-2",children:K.result.challengeAnswer})]}),K.result.recommendations&&K.result.recommendations.length>0&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium block mb-1",children:"Recommendations:"}),o.jsx("ul",{className:"list-disc list-inside pl-2",children:K.result.recommendations.map((fe,Ne)=>o.jsx("li",{className:"text-xs",children:fe},Ne))})]})]}):K.id==="generateReport"&&typeof K.result=="object"?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium block mb-1",children:"Summary:"}),o.jsx("p",{className:"text-xs pl-2",children:K.result.summary})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"font-medium w-1/3",children:"Confidence Score:"}),o.jsxs("div",{className:"w-2/3 flex items-center",children:[o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mr-2",children:o.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full",style:{width:`${K.result.confidenceScore}%`}})}),o.jsxs("span",{className:"text-xs",children:[K.result.confidenceScore,"%"]})]})]}),K.result.findings&&K.result.findings.length>0&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium block mb-1",children:"Findings:"}),o.jsx("ul",{className:"list-disc list-inside pl-2",children:K.result.findings.map((fe,Ne)=>o.jsx("li",{className:"text-xs",children:fe},Ne))})]}),K.result.recommendations&&K.result.recommendations.length>0&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium block mb-1",children:"Recommendations:"}),o.jsx("ul",{className:"list-disc list-inside pl-2",children:K.result.recommendations.map((fe,Ne)=>o.jsx("li",{className:"text-xs",children:fe},Ne))})]})]}):typeof K.result=="object"?Object.entries(K.result).map(([fe,Ne])=>o.jsxs("div",{className:"flex",children:[o.jsxs("span",{className:"font-medium w-1/3 capitalize",children:[fe.replace(/([A-Z])/g," $1"),":"]}),o.jsx("span",{className:"w-2/3",children:Array.isArray(Ne)?Ne.join(", "):typeof Ne=="object"&&Ne!==null?Object.entries(Ne).map(([Nt,vt])=>`${Nt}: ${String(vt)}`).join(", "):String(Ne)})]},fe)):o.jsx("p",{children:String(K.result)})]}),K.status==="error"&&K.result&&K.result.error&&o.jsxs("p",{className:"mt-2 ml-8 text-red-600 text-xs",children:["Error: ",K.result.error]}),K.subSteps&&K.subSteps.length>0&&o.jsx("div",{className:"mt-3 ml-12 space-y-2",children:K.subSteps.map(fe=>o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[fe.status==="in-progress"&&o.jsx(nr,{className:"h-3 w-3 text-primary animate-spin"}),fe.status==="completed"&&o.jsx(vr,{className:"h-3 w-3 text-green-500"}),fe.status==="pending"&&o.jsx("div",{className:"h-3 w-3 rounded-full bg-muted-foreground/50"}),o.jsx("span",{children:fe.title}),fe.result&&o.jsxs("span",{className:"text-muted-foreground truncate",children:["- ",typeof fe.result=="string"?fe.result:JSON.stringify(fe.result)]})]},fe.id))}),K.id==="generateReport"&&K.status==="completed"&&M&&o.jsxs("div",{className:"mt-4 ml-8 p-4 border-t",children:[o.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Final Analysis Report"}),o.jsxs("p",{className:"text-sm mb-1",children:[o.jsx("span",{className:"font-medium",children:"Summary:"})," ",M.summary]}),M.findings&&M.findings.length>0&&o.jsxs("div",{className:"mb-2",children:[o.jsx("p",{className:"font-medium text-sm",children:"Key Findings:"}),o.jsx("ul",{className:"list-disc list-inside text-sm",children:M.findings.map((fe,Ne)=>o.jsx("li",{children:fe},Ne))})]}),o.jsxs("p",{className:"text-sm mb-1",children:[o.jsx("span",{className:"font-medium",children:"Confidence Score:"})," ",M.confidenceScore,"%"]}),o.jsxs("div",{className:"mt-3 flex gap-2",children:[o.jsxs(te,{variant:"outline",size:"sm",onClick:()=>{I||L(fe=>fe+1),U(!I)},className:"mb-4",children:[o.jsx(Wi,{className:"h-4 w-4 mr-2"}),I?"Hide Relationship Diagram":"Show Relationship Diagram"]}),I&&o.jsxs(te,{variant:"outline",size:"sm",onClick:async()=>{try{const fe=document.createElement("div");fe.id="mermaid-fullscreen-container",fe.style.cssText=`
                            position: fixed;
                            top: 0;
                            left: 0;
                            width: 100vw;
                            height: 100vh;
                            background: white;
                            z-index: 9999;
                            display: flex;
                            flex-direction: column;
                            padding: 20px;
                            box-sizing: border-box;
                            overflow: hidden;
                          `;const Ne=document.createElement("div");Ne.style.cssText=`
                            display: flex;
                            justify-content: center;
                            align-items: center;
                            margin-bottom: 20px;
                            padding-bottom: 10px;
                            border-bottom: 1px solid #e5e7eb;
                          `;const Nt=document.createElement("h2");Nt.textContent="Business Challenge Hierarchy Visualization - Fullscreen",Nt.style.cssText="margin: 0; font-size: 1.25rem; font-weight: 600; color: #111827;",Ne.appendChild(Nt);const vt=document.createElement("div");vt.style.cssText=`
                            flex: 1;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            overflow: hidden;
                            position: relative;
                            cursor: grab;
                          `;const an=document.createElement("div");an.style.cssText=`
                            transform-origin: center center;
                            transition: transform 0.1s ease;
                            width: 100%;
                            height: 100%;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                          `;const Ln=document.querySelector(".mermaid-container");if(Ln){const Yt=Ln.cloneNode(!0);Yt.style.cssText="width: auto; height: auto; max-width: none; max-height: none;",setTimeout(()=>{Yt.querySelectorAll(".node, .nodeLabel, rect, circle, ellipse").forEach(Dl=>{Dl.addEventListener("click",Ll=>{Ll.stopPropagation();const no=Dl.getBoundingClientRect(),ro=vt.getBoundingClientRect(),Rd=no.left+no.width/2-ro.left,Ni=no.top+no.height/2-ro.top,qa=ro.width/2,$l=ro.height/2;Tt=qa-Rd*_t,ln=$l-Ni*_t,_t=Math.min(3,_t*1.5),an.style.transform=`translate(${Tt}px, ${ln}px) scale(${_t})`,an.style.transition="transform 0.3s ease",setTimeout(()=>{an.style.transition="transform 0.1s ease"},300)})})},500),an.appendChild(Yt)}vt.appendChild(an);let _t=1.5,ri=!1,pt=0,on=0,Tt=0,ln=0;an.style.transform=`translate(${Tt}px, ${ln}px) scale(${_t})`,vt.addEventListener("wheel",Yt=>{Yt.preventDefault();const _a=vt.getBoundingClientRect(),Bf=Yt.clientX-_a.left,Dl=Yt.clientY-_a.top,Ll=_a.width/2,no=_a.height/2,ro=Bf-Ll,Rd=Dl-no,Ni=Yt.deltaY>0?.9:1.1,qa=Math.max(.1,Math.min(10,_t*Ni)),$l=qa/_t;Tt=Tt-ro*($l-1),ln=ln-Rd*($l-1),_t=qa,an.style.transform=`translate(${Tt}px, ${ln}px) scale(${_t})`}),vt.addEventListener("mousedown",Yt=>{ri=!0,pt=Yt.clientX-Tt,on=Yt.clientY-ln,vt.style.cursor="grabbing"}),document.addEventListener("mousemove",Yt=>{ri&&(Tt=Yt.clientX-pt,ln=Yt.clientY-on,an.style.transform=`translate(${Tt}px, ${ln}px) scale(${_t})`)}),document.addEventListener("mouseup",()=>{ri=!1,vt.style.cursor="grab"}),vt.addEventListener("dblclick",()=>{_t=1.5,Tt=0,ln=0,an.style.transform=`translate(${Tt}px, ${ln}px) scale(${_t})`});const Nr=Yt=>{switch(Yt.key){case"1":_t=1,Tt=0,ln=0;break;case"2":_t=2,Tt=0,ln=0;break;case"3":_t=3,Tt=0,ln=0;break;case"5":_t=5,Tt=0,ln=0;break;case"0":case"r":_t=1.5,Tt=0,ln=0;break;case"+":case"=":_t=Math.min(10,_t*1.2);break;case"-":_t=Math.max(.1,_t*.8);break;case"ArrowUp":ln+=50;break;case"ArrowDown":ln-=50;break;case"ArrowLeft":Tt+=50;break;case"ArrowRight":Tt-=50;break;default:return}Yt.preventDefault(),an.style.transform=`translate(${Tt}px, ${ln}px) scale(${_t})`};document.addEventListener("keydown",Nr);const Uo=()=>{document.removeEventListener("keydown",Nr)};fe.addEventListener("remove",Uo);const Ho=document.createElement("div");Ho.style.cssText=`
                            margin-top: 20px;
                            padding-top: 10px;
                            border-top: 1px solid #e5e7eb;
                            text-align: center;
                            color: #6b7280;
                            font-size: 14px;
                          `,Ho.innerHTML=`
                            <div style="margin-bottom: 8px;">
                              <strong>Mouse:</strong> Wheel to zoom (up to 10x), drag to pan, double-click to reset, click nodes to focus
                            </div>
                            <div>
                              <strong>Keyboard:</strong> 1/2/3/5 for zoom levels, +/- to zoom, arrows to pan, 0/R to reset, ESC to exit
                            </div>
                          `,fe.appendChild(Ne),fe.appendChild(vt),fe.appendChild(Ho),document.body.appendChild(fe),R(fe),await fe.requestFullscreen(),W(!0),L(Yt=>Yt+1)}catch(fe){console.error("Failed to enter fullscreen:",fe),W(!0),L(Ne=>Ne+1)}},className:"mb-4",children:[o.jsx(tX,{className:"h-4 w-4 mr-2"}),"Fullscreen View"]}),((Te=(be=N==null?void 0:N.generateReportResult)==null?void 0:be.result)==null?void 0:Te.challengeMarkdown)&&o.jsxs(te,{variant:"outline",size:"sm",onClick:()=>{const fe=window.open("","_blank","width=800,height=600,scrollbars=yes");if(fe){const Ne=N.generateReportResult.result.challengeMarkdown,Nt=`
                            <!DOCTYPE html>
                            <html>
                            <head>
                              <title>Challenge Analysis Report</title>
                              <meta charset="UTF-8">
                              <style>
                                body { 
                                  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
                                  margin: 40px; 
                                  line-height: 1.6; 
                                  color: #333;
                                  max-width: 800px;
                                }
                                h1, h2, h3, h4, h5, h6 { 
                                  color: #2c3e50; 
                                  margin-top: 24px; 
                                  margin-bottom: 16px;
                                }
                                h1 { border-bottom: 2px solid #eee; padding-bottom: 10px; }
                                h2 { border-bottom: 1px solid #eee; padding-bottom: 8px; }
                                p { margin-bottom: 16px; }
                                ul, ol { margin-bottom: 16px; padding-left: 24px; }
                                li { margin-bottom: 8px; }
                                blockquote { 
                                  border-left: 4px solid #ddd; 
                                  margin: 16px 0; 
                                  padding-left: 16px; 
                                  color: #666;
                                }
                                code { 
                                  background: #f5f5f5; 
                                  padding: 2px 4px; 
                                  border-radius: 3px; 
                                  font-family: 'Monaco', 'Consolas', monospace;
                                }
                                pre { 
                                  background: #f5f5f5; 
                                  padding: 16px; 
                                  border-radius: 5px; 
                                  overflow-x: auto;
                                  border: 1px solid #ddd;
                                }
                                table {
                                  border-collapse: collapse;
                                  width: 100%;
                                  margin-bottom: 16px;
                                }
                                th, td {
                                  border: 1px solid #ddd;
                                  padding: 8px 12px;
                                  text-align: left;
                                }
                                th {
                                  background-color: #f5f5f5;
                                  font-weight: bold;
                                }
                                .markdown-content {
                                  white-space: pre-wrap;
                                }
                              </style>
                              <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"><\/script>
                            </head>
                            <body>
                              <div id="markdown-content"></div>
                              <script>
                                const markdownText = ${JSON.stringify(Ne)};
                                document.getElementById('markdown-content').innerHTML = marked.parse(markdownText);
                              <\/script>
                            </body>
                            </html>
                          `;fe.document.write(Nt),fe.document.close()}},className:"mb-4",children:[o.jsx(ic,{className:"h-4 w-4 mr-2"}),"View Challenge Report"]})]}),I&&o.jsxs("div",{className:"mt-4 p-4 bg-muted/20 dark:bg-muted/5 rounded-md overflow-auto",children:[o.jsx("h4",{className:"text-sm font-medium mb-2",children:"Business Challenge Hierarchy Visualization"}),o.jsx("div",{className:"mermaid-container",style:{maxWidth:"100%",overflowX:"auto"},children:o.jsx(Zq,{diagram:Qq(h)},P)}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"This diagram visualizes the relationship between business challenge, problem, hypotheses, metrics, and insights."})]}),M.isLogical?o.jsxs("div",{className:"mt-3 p-4 bg-green-50/50 dark:bg-green-900/10 rounded-lg border border-green-200/50",children:[o.jsxs("p",{className:"text-sm text-green-700 dark:text-green-400 mb-3 flex items-center gap-2",children:[o.jsx("span",{children:""}),o.jsx("span",{children:"AI analysis logic is clear and has successfully answered the business challenge"})]}),o.jsx("p",{className:"text-sm mb-2 font-medium",children:"Please rate the quality of this analysis:"}),o.jsx("div",{className:"flex gap-1 mb-4",children:[1,2,3,4,5].map(fe=>o.jsx(te,{variant:M.customerRating&&M.customerRating>=fe?"default":"outline",size:"icon",onClick:()=>se(fe),className:"h-8 w-8 hover:scale-105 transition-transform",children:o.jsxs("span",{className:"text-sm font-medium",children:[fe,""]})},fe))}),o.jsxs("div",{className:"mt-4",children:[o.jsxs("p",{className:"text-sm mb-2 font-medium flex items-center gap-2",children:[o.jsx("span",{children:""}),o.jsx("span",{children:"Suggest new metrics or domain data:"})]}),o.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-md text-sm resize-vertical min-h-[90px] focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary hover:border-primary/50 transition-colors",placeholder:"If you think the analysis needs improvement, please suggest new metrics or domain data here, for example:\\n Customer churn rate metrics\\n Regional economic data\\n Competitor analysis data\\n Industry trend indicators\\n Market share metrics\\n Customer satisfaction scores\\n Product usage frequency data",onChange:fe=>{const Ne=fe.target.value;Ne.trim()&&Z("customer_feedback","Customer Suggestion",`Customer suggestion: ${Ne}`,"info")}})]})]}):o.jsx("div",{className:"mt-3 p-4 bg-amber-50/50 dark:bg-amber-900/10 rounded-lg border border-amber-200/50",children:o.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-400 mb-1 flex items-center gap-2",children:[o.jsx("span",{children:""}),o.jsx("span",{children:"AI analysis may need further refinement"})]})})]})]},K.id)})}),o.jsxs("div",{className:"mt-8",children:[o.jsxs("h3",{className:"font-medium text-md mb-2 flex items-center gap-2",children:[o.jsx("span",{children:" AI Agent Execution Log"}),o.jsx(Oe,{variant:"secondary",className:"text-xs",children:_.length})]}),o.jsx("div",{className:"max-h-60 overflow-y-auto bg-muted/20 dark:bg-muted/5 p-3 rounded-md text-xs space-y-1.5 border",children:o.jsx(gvt,{children:_.length===0?o.jsx(JA.p,{initial:{opacity:0},animate:{opacity:1},className:"text-muted-foreground italic text-center py-4",children:" No log records yet, AI agent will record analysis steps here"}):_.slice().reverse().map(K=>o.jsxs(JA.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{duration:.2},className:"flex gap-2 items-start hover:bg-muted/30 p-1.5 rounded transition-colors",children:[o.jsx(Oe,{variant:"outline",className:"px-1.5 py-0.5 text-[10px] whitespace-nowrap capitalize",children:K.type.replace("_"," ")}),o.jsxs("span",{className:"font-semibold text-primary/80",children:[K.title,":"]}),o.jsx("span",{className:"text-muted-foreground flex-1",children:K.description}),o.jsx("span",{className:"text-muted-foreground/70 ml-auto text-[10px]",children:new Date(K.timestamp).toLocaleTimeString()})]},K.id))})})]})]})]})})]}),$&&!document.fullscreenElement&&o.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl w-full h-full max-w-7xl max-h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Business Challenge Hierarchy Visualization - Fullscreen"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(te,{variant:"outline",size:"sm",onClick:()=>{L(K=>K+1)},children:[o.jsx(ac,{className:"h-4 w-4 mr-2"}),"Refresh"]}),o.jsxs(te,{variant:"outline",size:"sm",onClick:()=>W(!1),children:[o.jsx(CD,{className:"h-4 w-4 mr-2"}),"Exit Fullscreen"]}),o.jsx(te,{variant:"ghost",size:"sm",onClick:()=>W(!1),children:o.jsx(Pr,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"flex-1 p-6 overflow-auto",children:o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx("div",{className:"mermaid-container-fullscreen",style:{width:"100%",height:"100%",minHeight:"500px"},children:o.jsx(Zq,{diagram:Qq(h)},`fullscreen-${P}`)})})}),o.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:"This diagram visualizes the relationship between business challenge, problem, hypotheses, metrics, and insights. Use the mouse wheel to zoom and drag to pan around the diagram."})})]})})]})};new Date().toISOString();const DMt=[{id:"1",type:"challenge",title:"New Business Challenge Detected",description:"AI identified a potential business opportunity in customer retention patterns.",timestamp:new Date().toISOString(),status:"info",value:.85},{id:"2",type:"hypothesis",title:"Hypothesis Generation",description:"Generated 3 new hypotheses based on recent customer feedback analysis.",timestamp:new Date(Date.now()-864e5).toISOString(),status:"success",value:.92}],LMt=()=>{const{collapsed:e}=Tr(),[t,n]=w.useState(new Date),[r,i]=w.useState(""),[a,s]=w.useState("all"),l=Dn(),c=()=>{l("/business-challenges")};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ir,{}),o.jsxs("div",{className:`${e?"pl-20":"pl-56"} min-h-screen transition-all duration-300`,children:[o.jsx(Xn,{}),o.jsxs("main",{className:"container py-6 space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(te,{variant:"ghost",size:"icon",onClick:c,className:"hover:bg-accent",children:o.jsx(xl,{className:"h-5 w-5"})}),o.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[o.jsx(vl,{className:"h-8 w-8 text-primary"}),"AI Agent Monitoring"]})]})}),o.jsxs(Pe,{children:[o.jsx(Ye,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(dt,{children:"Execution History"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Fa,{className:"h-4 w-4 text-muted-foreground"}),o.jsx(Me,{placeholder:"Search logs...",value:r,onChange:u=>i(u.target.value),className:"w-[200px]"})]}),o.jsxs(Je,{value:a,onValueChange:s,children:[o.jsxs(Ze,{className:"w-[140px]",children:[o.jsx(Ap,{className:"h-4 w-4 mr-2"}),o.jsx(et,{placeholder:"Filter by status"})]}),o.jsxs(Qe,{children:[o.jsx(le,{value:"all",children:"All Status"}),o.jsx(le,{value:"success",children:"Success"}),o.jsx(le,{value:"warning",children:"Warning"}),o.jsx(le,{value:"error",children:"Error"}),o.jsx(le,{value:"info",children:"Info"})]})]}),o.jsxs(te,{variant:"outline",className:"flex items-center gap-2",children:[o.jsx(nd,{className:"h-4 w-4"}),t?XO(t,"PPP"):"Pick a date"]})]})]})}),o.jsx(De,{children:o.jsxs(Oo,{defaultValue:"timeline",className:"w-full",children:[o.jsxs(Us,{children:[o.jsx(Xt,{value:"timeline",children:"Timeline View"}),o.jsx(Xt,{value:"detailed",children:"Detailed View"}),o.jsxs(Xt,{value:"workflow",children:[o.jsx(Wi,{className:"h-4 w-4 mr-2"}),"AI"]}),o.jsx(Xt,{value:"analytics",children:"Analytics"})]}),o.jsx(Zt,{value:"timeline",className:"mt-4",children:o.jsx(wte,{logs:DMt,challengeTitle:"Customer Retention",searchQuery:r,selectedStatus:a})}),o.jsx(Zt,{value:"workflow",className:"mt-4",children:o.jsx(a0e,{challengeId:"challenge-1",onComplete:u=>{console.log("AI:",u)}})}),o.jsx(Zt,{value:"detailed",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.jsxs(Pe,{className:"md:col-span-2 mt-6",children:[o.jsx(Ye,{children:o.jsx(dt,{className:"text-lg",children:"AI Agent Execution Steps"})}),o.jsx(De,{children:o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border border-accent/30 hover:border-primary/50 transition-colors",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-700 font-medium",children:"1"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-base",children:"Configuration Integrity Check"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Verify all necessary configuration parameters are complete to ensure AI agent runs properly"}),o.jsxs("div",{className:"mt-2 flex items-center",children:[o.jsx("div",{className:"w-full bg-accent/10 h-2 rounded-full overflow-hidden",children:o.jsx("div",{className:"bg-blue-500 h-full w-[100%] rounded-full"})}),o.jsx("span",{className:"ml-2 text-xs font-medium",children:"Complete"})]})]})]}),o.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border border-accent/30 hover:border-primary/50 transition-colors",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-700 font-medium",children:"2"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-base",children:"Knowledge Base Similarity Comparison"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Analyze similarity between current issue and existing cases in knowledge base to find best matching references"}),o.jsxs("div",{className:"mt-2 flex items-center",children:[o.jsx("div",{className:"w-full bg-accent/10 h-2 rounded-full overflow-hidden",children:o.jsx("div",{className:"bg-blue-500 h-full w-[85%] rounded-full"})}),o.jsx("span",{className:"ml-2 text-xs font-medium",children:"85%"})]})]})]}),o.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border border-accent/30 hover:border-primary/50 transition-colors",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-700 font-medium",children:"3"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-base",children:"Calculate Metrics"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Calculate key business metrics based on collected data to provide quantitative basis for decision making"}),o.jsxs("div",{className:"mt-2 flex items-center",children:[o.jsx("div",{className:"w-full bg-accent/10 h-2 rounded-full overflow-hidden",children:o.jsx("div",{className:"bg-blue-500 h-full w-[70%] rounded-full"})}),o.jsx("span",{className:"ml-2 text-xs font-medium",children:"70%"})]})]})]}),o.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border border-accent/30 hover:border-primary/50 transition-colors",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-700 font-medium",children:"4"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-base",children:"Validation Analysis"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Validate and analyze generated hypotheses, evaluate their feasibility and potential impact"}),o.jsxs("div",{className:"mt-2 flex items-center",children:[o.jsx("div",{className:"w-full bg-accent/10 h-2 rounded-full overflow-hidden",children:o.jsx("div",{className:"bg-blue-500 h-full w-[60%] rounded-full"})}),o.jsx("span",{className:"ml-2 text-xs font-medium",children:"60%"})]})]})]}),o.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border border-accent/30 hover:border-primary/50 transition-colors",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-700 font-medium",children:"5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-base",children:"Generate Self-Service Report"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Automatically generate detailed analysis report including findings, recommendations and action plans"}),o.jsxs("div",{className:"mt-2 flex items-center",children:[o.jsx("div",{className:"w-full bg-accent/10 h-2 rounded-full overflow-hidden",children:o.jsx("div",{className:"bg-blue-500 h-full w-[40%] rounded-full"})}),o.jsx("span",{className:"ml-2 text-xs font-medium",children:"40%"})]})]})]}),o.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border border-accent/30 hover:border-primary/50 transition-colors",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-700 font-medium",children:"6"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-base",children:"Record Chain of Thought"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Record complete thinking process of AI agent, providing transparent decision basis and traceability"}),o.jsxs("div",{className:"mt-2 flex items-center",children:[o.jsx("div",{className:"w-full bg-accent/10 h-2 rounded-full overflow-hidden",children:o.jsx("div",{className:"bg-blue-500 h-full w-[25%] rounded-full"})}),o.jsx("span",{className:"ml-2 text-xs font-medium",children:"25%"})]})]})]})]})})})})]})})}),o.jsx(Zt,{value:"analytics",children:o.jsx("div",{className:"py-4",children:"Advanced analytics and insights coming soon"})})]})})]})]})]})]})},$Mt=({name:e,description:t,role:n,capabilities:r,currentTask:i,onTaskAction:a,onConnect:s,onAnalyze:l,isConnected:c=!1,isConnecting:u=!1,version:d,lastActive:h,supportedContentTypes:f=[]})=>{const[m,p]=w.useState(!1),g=y=>{switch(y){case"completed":return o.jsx(Fh,{className:"h-4 w-4 text-green-500"});case"in_progress":return o.jsx(bl,{className:"h-4 w-4 text-blue-500 animate-pulse"});case"failed":return o.jsx(Bh,{className:"h-4 w-4 text-red-500"});default:return o.jsx(bl,{className:"h-4 w-4 text-gray-500"})}},x=y=>{switch(y){case"action":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"knowledge":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";case"communication":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}};return o.jsxs(Pe,{className:"glass-card overflow-hidden hover:shadow-glass-hover transition-all",children:[o.jsx(Ye,{className:"pb-2",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(vl,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-xs font-medium text-primary",children:n==="client"?"Client Agent":"Remote Agent"}),o.jsx(Oe,{variant:c?"default":"secondary",className:"text-xs",children:c?"Connected":"Disconnected"})]}),o.jsx(dt,{className:"text-base",children:e})]}),o.jsxs("div",{className:"flex gap-2",children:[s&&o.jsx(te,{variant:"outline",size:"sm",onClick:s,disabled:u,className:"text-xs",children:u?o.jsxs(o.Fragment,{children:[o.jsx(nr,{className:"h-3 w-3 animate-spin mr-1"}),"Connecting..."]}):c?"Disconnect":"Connect"}),o.jsx(te,{variant:"outline",size:"sm",onClick:l,className:"text-xs",disabled:!l,children:"Analyze"})]})]})}),o.jsxs(De,{children:[o.jsx(hn,{className:"text-sm mb-4",children:t}),o.jsxs(rle,{open:m,onOpenChange:p,children:[o.jsx(ile,{asChild:!0,children:o.jsxs(te,{variant:"ghost",size:"sm",className:"w-full flex justify-between items-center mb-4",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(xO,{className:"h-4 w-4"}),o.jsx("span",{children:"Agent Details"})]}),m?o.jsx(_D,{className:"h-4 w-4"}):o.jsx(xf,{className:"h-4 w-4"})]})}),o.jsxs(ale,{className:"space-y-4 mb-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-1",children:"Version"}),o.jsx("p",{className:"text-muted-foreground",children:d||"N/A"})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-1",children:"Last Active"}),o.jsx("p",{className:"text-muted-foreground",children:h?new Date(h).toLocaleString():"N/A"})]})]}),f.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Supported Content Types"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((y,v)=>o.jsx(Oe,{variant:"outline",className:"text-xs",children:y},v))})]}),r.length>0&&r.some(y=>y.description)&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Capability Details"}),o.jsx("div",{className:"space-y-2",children:r.map((y,v)=>o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium",children:y.name}),o.jsx("p",{className:"text-muted-foreground text-xs",children:y.description})]},v))})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium mb-2",children:"Capabilities"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:r.map((y,v)=>o.jsx(Oe,{variant:"secondary",className:`${x(y.type)}`,children:y.name},v))})]}),i&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium mb-2",children:"Current Task"}),o.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[g(i.status),o.jsx("span",{className:"text-sm font-medium",children:i.title})]}),a&&o.jsxs("div",{className:"flex gap-2",children:[i.status==="failed"&&o.jsx(te,{variant:"ghost",size:"sm",onClick:()=>a("retry",i.id),className:"text-xs",children:"Retry"}),i.status==="in_progress"&&o.jsx(te,{variant:"ghost",size:"sm",onClick:()=>a("stop",i.id),className:"text-xs text-red-500",children:"Stop"}),i.status==="pending"&&o.jsx(te,{variant:"ghost",size:"sm",onClick:()=>a("start",i.id),className:"text-xs",children:"Start"})]})]}),i.artifact&&o.jsx("div",{className:"mt-2 text-xs text-muted-foreground",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Lg,{className:"h-3 w-3"}),o.jsxs("span",{children:["Latest Artifact: ",i.artifact.type]})]})})]})]})]})]}),o.jsx(Tf,{className:"pt-0",children:o.jsx("div",{className:"text-xs text-muted-foreground",children:i?`Last updated: ${new Date(i.createdAt).toLocaleString()}`:`Created: ${new Date().toLocaleString()}`})})]})},BMt=()=>{const{collapsed:e}=Tr(),[t,n]=w.useState([]),[r,i]=w.useState(""),[a,s]=w.useState(!0),[l,c]=w.useState(null),u=Dn(),d=async p=>{u(`/ai-analysis-workflow?agentId=${p.id}`)},{toast:h}=za(),f=async()=>{try{s(!0),c(null);const p=await Gm.findAgents();p&&n(p)}catch{c("Failed to load data. Please try again later."),h({title:"Error",description:"Failed to load data. Please try again later.",variant:"destructive"})}finally{s(!1)}};w.useEffect(()=>{f()},[h]);const m=t.filter(p=>p.name.toLowerCase().includes(r.toLowerCase())||p.description.toLowerCase().includes(r.toLowerCase()));return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ir,{}),o.jsxs("div",{className:`${e?"pl-20":"pl-56"} min-h-screen transition-all duration-300`,children:[o.jsx(Xn,{}),o.jsxs("main",{className:"container py-6",children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsx("h1",{className:"text-2xl font-semibold",children:"AI Agent Management"})}),o.jsx("div",{className:"glass-card p-4 mb-6",children:o.jsxs("div",{className:"relative flex-grow",children:[o.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Me,{placeholder:"Search AI agents...",value:r,onChange:p=>i(p.target.value),className:"pl-9"})]})}),o.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx(nr,{className:"h-8 w-8 animate-spin text-primary"})}):l?o.jsxs("div",{className:"text-center py-12 text-destructive",children:[o.jsx("p",{children:l}),o.jsx(te,{onClick:()=>window.location.reload(),variant:"outline",className:"mt-4",children:"Try Again"})]}):m.map(p=>o.jsx($Mt,{name:p.name,description:p.description,role:p.role,capabilities:p.capabilities,supportedContentTypes:p.supportedContentTypes,isConnected:p.isConnecting,isConnecting:!1,onAnalyze:()=>d(p),onConnect:async()=>{try{p.isConnecting?(await Gm.disconnectAgent(`local-client-${p.id}`),h({title:"Disconnected",description:`Successfully disconnected from ${p.name}`,variant:"default"})):(await Gm.establishConnection("local-client",p.id),h({title:"Connected",description:`Successfully connected to ${p.name}`,variant:"default"})),await f()}catch{h({title:"Error",description:"Failed to manage connection. Please try again.",variant:"destructive"})}}},p.id)),m.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-muted-foreground",children:"No matching AI agents found."})})]})]})]})]})},FMt=()=>{const[e,t]=w.useState(!0),[n,r]=w.useState(!1),i=()=>{t(!e),n&&r(!1)},a=()=>{r(!n),!n&&e&&t(!1)};return n?o.jsx(te,{className:"fixed right-6 bottom-6 h-12 w-12 rounded-full shadow-lg z-50 animate-fade-in",onClick:a,children:o.jsx(Wi,{className:"h-6 w-6"})}):o.jsx("div",{className:`fixed right-6 bottom-6 z-50 transition-all duration-300 animate-fade-in ${e?"w-auto":"w-80 md:w-96"}`,children:o.jsxs("div",{className:"relative",children:[!e&&o.jsx(te,{variant:"ghost",size:"icon",className:"absolute -top-10 right-0 h-8 w-8 bg-background/80 backdrop-blur-sm",onClick:a,children:o.jsx(CD,{className:"h-4 w-4"})}),o.jsx(jre,{isCollapsed:e,onToggleCollapse:i,className:`shadow-lg ${e?"h-16 w-16":"h-[450px]"}`})]})})},Xu=w.forwardRef(({className:e,...t},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:Be("w-full caption-bottom text-sm",e),...t})}));Xu.displayName="Table";const Zu=w.forwardRef(({className:e,...t},n)=>o.jsx("thead",{ref:n,className:Be("[&_tr]:border-b",e),...t}));Zu.displayName="TableHeader";const Qu=w.forwardRef(({className:e,...t},n)=>o.jsx("tbody",{ref:n,className:Be("[&_tr:last-child]:border-0",e),...t}));Qu.displayName="TableBody";const zMt=w.forwardRef(({className:e,...t},n)=>o.jsx("tfoot",{ref:n,className:Be("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));zMt.displayName="TableFooter";const Si=w.forwardRef(({className:e,...t},n)=>o.jsx("tr",{ref:n,className:Be("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Si.displayName="TableRow";const Qt=w.forwardRef(({className:e,...t},n)=>o.jsx("th",{ref:n,className:Be("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Qt.displayName="TableHead";const Rt=w.forwardRef(({className:e,...t},n)=>o.jsx("td",{ref:n,className:Be("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Rt.displayName="TableCell";const UMt=w.forwardRef(({className:e,...t},n)=>o.jsx("caption",{ref:n,className:Be("mt-4 text-sm text-muted-foreground",e),...t}));UMt.displayName="TableCaption";function Ct({className:e,...t}){return o.jsx("div",{className:Be("animate-pulse rounded-md bg-muted",e),...t})}const HMt=async()=>{try{const e=await fetch(`${Ke}/watchmen/metric/semantic-models/all`,{method:"GET",headers:tt()});return await gt(e)}catch(e){throw console.error("Error fetching semantic models:",e),e}},VMt=async e=>{try{const t=await fetch(`${Ke}/watchmen/metric/semantic-model`,{method:"POST",headers:tt(),body:JSON.stringify(e)});return await gt(t)}catch(t){throw console.error("Error creating semantic model:",t),t}},WMt=async(e,t)=>{try{const n=await fetch(`${Ke}/watchmen/metric/semantic-model/${encodeURIComponent(e)}`,{method:"PUT",headers:tt(),body:JSON.stringify(t)});return await gt(n)}catch(n){throw console.error("Error updating semantic model:",n),n}},qMt=async e=>{try{const t=await fetch(`${Ke}/watchmen/metric/semantic-models/${encodeURIComponent(e)}`,{method:"DELETE",headers:tt()});await gt(t)}catch(t){throw console.error("Error deleting semantic model:",t),t}};class GMt{constructor(){ot(this,"baseUrl");this.baseUrl=Ke}async getDatamartTopics(){try{const t=await fetch(`${this.baseUrl}/watchmen/metric/topics/mart`,{method:"GET",headers:{"Content-Type":"application/json",...this.getAuthHeaders()}});if(!t.ok)throw new Error(`Failed to fetch datamart topics: ${t.statusText}`);return(await t.json()).map(r=>({id:r.topic.topicId,name:r.topic.name,description:r.topic.description,type:r.topic.type,kind:r.topic.kind,classification:r.classification,createdAt:r.topic.createdAt,lastModifiedAt:r.topic.lastModifiedAt}))}catch(t){return console.error("Error fetching datamart topics:",t),[]}}getAuthHeaders(){const t=localStorage.getItem("authToken");return t?{Authorization:`Bearer ${t}`}:{}}getMockTopics(){return[{id:"customer-data-mart",name:"Customer Data Mart",description:"Customer demographics and behavior data",type:"datamart",kind:"business",classification:"dm",createdAt:"2024-01-01T00:00:00Z",lastModifiedAt:"2024-01-15T10:30:00Z"},{id:"policy-data-mart",name:"Policy Data Mart",description:"Insurance policy information and metrics",type:"datamart",kind:"business",classification:"dm",createdAt:"2024-01-01T00:00:00Z",lastModifiedAt:"2024-01-15T10:30:00Z"},{id:"claims-data-mart",name:"Claims Data Mart",description:"Claims processing and analytics data",type:"datamart",kind:"business",classification:"dm",createdAt:"2024-01-01T00:00:00Z",lastModifiedAt:"2024-01-15T10:30:00Z"},{id:"financial-data-mart",name:"Financial Data Mart",description:"Financial metrics and reporting data",type:"datamart",kind:"business",classification:"dm",createdAt:"2024-01-01T00:00:00Z",lastModifiedAt:"2024-01-15T10:30:00Z"},{id:"risk-assessment-mart",name:"Risk Assessment Data Mart",description:"Risk analysis and underwriting data",type:"datamart",kind:"business",classification:"dm",createdAt:"2024-01-01T00:00:00Z",lastModifiedAt:"2024-01-15T10:30:00Z"}]}}const YMt=new GMt,KMt=()=>{var pe,ce,me,ye,ae,Ae;const{collapsed:e}=Tr(),[t,n]=w.useState([]),[r,i]=w.useState(null),[a,s]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(!0),[h,f]=w.useState(""),[m,p]=w.useState(!1),[g,x]=w.useState(!1),[y,v]=w.useState(null),[b,E]=w.useState([]),[_,S]=w.useState(!1),{toast:C}=za(),[T,j]=w.useState({id:"fake",name:"",description:"",defaults:{agg_time_dimension:""},node_relation:{alias:"",schema_name:"",database:"",relation_name:""},primary_entity:null,entities:[],measures:[],dimensions:[],topicId:"",sourceType:"topic",label:null,metadata:null,config:{meta:{}}});w.useEffect(()=>{O()},[]);const k=H=>{const Z=H.reduce((se,V)=>se+V.entities.length,0),he=H.reduce((se,V)=>se+V.measures.length,0);return{totalModels:H.length,totalEntities:Z,totalMeasures:he,lastUpdated:new Date().toISOString()}},O=async()=>{try{c(!0),S(!0);const[H,Z]=await Promise.all([HMt(),YMt.getDatamartTopics()]);n(H),E(Z);const he=k(H);i(he)}catch{C({title:"Error",description:"Failed to load semantic models or topics",variant:"destructive"})}finally{c(!1),S(!1),d(!1)}},M=async H=>{try{await qMt(H),C({title:"Success",description:"Semantic model deleted successfully"}),O()}catch{C({title:"Error",description:"Failed to delete semantic model",variant:"destructive"})}},B=()=>{j({id:"fake",name:"",description:"",defaults:{agg_time_dimension:""},node_relation:{alias:"",schema_name:"",database:"",relation_name:""},primary_entity:null,entities:[],measures:[],dimensions:[],topicId:"",sourceType:"topic",label:null,metadata:null,config:{meta:{}}})},N=async()=>{try{c(!0),await VMt(T),C({title:"Success",description:"Semantic model created successfully"}),p(!1),B(),O()}catch(H){C({title:"Error",description:H instanceof Error?H.message:"Failed to create semantic model",variant:"destructive"})}finally{c(!1)}},D=async()=>{if(y)try{c(!0),await WMt(y.name,T),C({title:"Success",description:"Semantic model updated successfully"}),x(!1),v(null),B(),O()}catch{C({title:"Error",description:"Failed to update semantic model",variant:"destructive"})}finally{c(!1)}},P=H=>{v(H),j({...H}),x(!0)},L=()=>{j(H=>({...H,entities:[...H.entities,{name:"",description:null,type:"primary",role:null,expr:"",metadata:null,label:null}]}))},I=H=>{j(Z=>({...Z,entities:Z.entities.filter((he,se)=>se!==H)}))},U=(H,Z,he)=>{j(se=>({...se,entities:se.entities.map((V,ie)=>ie===H?{...V,[Z]:he}:V)}))},$=()=>{j(H=>({...H,measures:[...H.measures,{name:"",agg:"count",description:"",create_metric:!1,expr:"",agg_params:null,metadata:null,non_additive_dimension:null,agg_time_dimension:null,label:null}]}))},W=H=>{j(Z=>({...Z,measures:Z.measures.filter((he,se)=>se!==H)}))},z=(H,Z,he)=>{j(se=>({...se,measures:se.measures.map((V,ie)=>ie===H?{...V,[Z]:he}:V)}))},R=()=>{j(H=>({...H,dimensions:[...H.dimensions,{name:"",description:null,type:"time",is_partition:!1,type_params:{time_granularity:"day",validity_params:null},expr:"",metadata:null,label:null}]}))},G=H=>{j(Z=>({...Z,dimensions:Z.dimensions.filter((he,se)=>se!==H)}))},Q=(H,Z,he)=>{j(se=>({...se,dimensions:se.dimensions.map((V,ie)=>ie===H?{...V,[Z]:he}:V)}))},oe=t.filter(H=>H.name.toLowerCase().includes(h.toLowerCase())||H.description.toLowerCase().includes(h.toLowerCase())),re=H=>{switch(H){case"count":return"bg-blue-100 text-blue-800";case"sum":return"bg-green-100 text-green-800";case"average":return"bg-yellow-100 text-yellow-800";case"count_distinct":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ir,{}),o.jsxs("div",{className:`${e?"pl-20":"pl-56"} min-h-screen transition-all duration-300`,children:[o.jsx(Xn,{}),o.jsxs("main",{className:"container py-6 space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Semantic Model Management"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage and configure semantic model definitions"})]}),o.jsx(ur,{open:m,onOpenChange:p,children:o.jsx(zS,{asChild:!0,children:o.jsxs(te,{className:"flex items-center gap-2",onClick:()=>B(),children:[o.jsx(or,{size:16}),"Create Model"]})})})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:u?Array.from({length:4}).map((H,Z)=>o.jsxs(Pe,{children:[o.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ct,{className:"h-4 w-24"}),o.jsx(Ct,{className:"h-4 w-4"})]}),o.jsx(De,{children:o.jsx(Ct,{className:"h-8 w-16"})})]},Z)):r?o.jsxs(o.Fragment,{children:[o.jsxs(Pe,{children:[o.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(dt,{className:"text-sm font-medium",children:"Total Models"}),o.jsx(ss,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(De,{children:o.jsx("div",{className:"text-2xl font-bold",children:r.totalModels})})]}),o.jsxs(Pe,{children:[o.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(dt,{className:"text-sm font-medium",children:"Total Entities"}),o.jsx(kD,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(De,{children:o.jsx("div",{className:"text-2xl font-bold",children:r.totalEntities})})]}),o.jsxs(Pe,{children:[o.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(dt,{className:"text-sm font-medium",children:"Total Measures"}),o.jsx(zi,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(De,{children:o.jsx("div",{className:"text-2xl font-bold",children:r.totalMeasures})})]}),o.jsxs(Pe,{children:[o.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(dt,{className:"text-sm font-medium",children:"Last Updated"}),o.jsx(nd,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(De,{children:o.jsx("div",{className:"text-sm font-medium",children:new Date(r.lastUpdated).toLocaleDateString()})})]})]}):null}),o.jsx("div",{className:"flex gap-4",children:o.jsx(Me,{placeholder:"Search models...",value:h,onChange:H=>f(H.target.value),className:"max-w-sm"})}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:u?Array.from({length:4}).map((H,Z)=>o.jsxs(Pe,{className:"hover:shadow-lg transition-shadow",children:[o.jsx(Ye,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Ct,{className:"h-5 w-5"}),o.jsx(Ct,{className:"h-6 w-32"})]}),o.jsx(Ct,{className:"h-4 w-48"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ct,{className:"h-8 w-12"}),o.jsx(Ct,{className:"h-8 w-8"}),o.jsx(Ct,{className:"h-8 w-8"})]})]})}),o.jsx(De,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx(Ct,{className:"h-4 w-16"}),o.jsx(Ct,{className:"h-4 w-8"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx(Ct,{className:"h-4 w-20"}),o.jsx(Ct,{className:"h-4 w-8"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx(Ct,{className:"h-4 w-28"}),o.jsx(Ct,{className:"h-4 w-24"})]})]})})]},Z)):oe.map(H=>o.jsxs(Pe,{className:"hover:shadow-lg transition-shadow",children:[o.jsx(Ye,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsxs(dt,{className:"flex items-center gap-2",children:[o.jsx(JK,{size:20}),H.name]}),o.jsx(hn,{className:"mt-2",children:H.description})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ur,{children:[o.jsx(zS,{asChild:!0,children:o.jsx(te,{variant:"outline",size:"sm",onClick:()=>s(H),children:"View"})}),o.jsxs(dr,{className:"max-w-4xl max-h-[80vh]",children:[o.jsxs(hr,{children:[o.jsx(fr,{children:H.name}),o.jsx(mr,{children:H.description})]}),o.jsxs(Oo,{defaultValue:"entities",className:"w-full",children:[o.jsxs(Us,{className:"grid w-full grid-cols-3",children:[o.jsx(Xt,{value:"entities",children:"Entities"}),o.jsx(Xt,{value:"measures",children:"Measures"}),o.jsx(Xt,{value:"dimensions",children:"Dimensions"})]}),o.jsx(Zt,{value:"entities",className:"space-y-4",children:o.jsx(Li,{className:"h-[400px]",children:o.jsxs(Xu,{children:[o.jsx(Zu,{children:o.jsxs(Si,{children:[o.jsx(Qt,{children:"Name"}),o.jsx(Qt,{children:"Type"}),o.jsx(Qt,{children:"Expression"})]})}),o.jsx(Qu,{children:H.entities.map((Z,he)=>o.jsxs(Si,{children:[o.jsx(Rt,{className:"font-medium",children:Z.name}),o.jsx(Rt,{children:o.jsx(Oe,{variant:Z.type==="primary"?"default":"secondary",children:Z.type})}),o.jsx(Rt,{className:"font-mono text-sm",children:Z.expr})]},he))})]})})}),o.jsx(Zt,{value:"measures",className:"space-y-4",children:o.jsx(Li,{className:"h-[400px]",children:o.jsxs(Xu,{children:[o.jsx(Zu,{children:o.jsxs(Si,{children:[o.jsx(Qt,{children:"Name"}),o.jsx(Qt,{children:"Aggregation"}),o.jsx(Qt,{children:"Description"}),o.jsx(Qt,{children:"Expression"})]})}),o.jsx(Qu,{children:H.measures.map((Z,he)=>o.jsxs(Si,{children:[o.jsx(Rt,{className:"font-medium",children:Z.name}),o.jsx(Rt,{children:o.jsx(Oe,{className:re(Z.agg),children:Z.agg})}),o.jsx(Rt,{children:Z.description}),o.jsx(Rt,{className:"font-mono text-sm max-w-xs truncate",children:Z.expr})]},he))})]})})}),o.jsx(Zt,{value:"dimensions",className:"space-y-4",children:o.jsx(Li,{className:"h-[400px]",children:o.jsxs(Xu,{children:[o.jsx(Zu,{children:o.jsxs(Si,{children:[o.jsx(Qt,{children:"Name"}),o.jsx(Qt,{children:"Type"}),o.jsx(Qt,{children:"Time Granularity"}),o.jsx(Qt,{children:"Expression"})]})}),o.jsx(Qu,{children:H.dimensions.map((Z,he)=>{var se;return o.jsxs(Si,{children:[o.jsx(Rt,{className:"font-medium",children:Z.name}),o.jsx(Rt,{children:o.jsx(Oe,{variant:Z.type==="time"?"default":"secondary",children:Z.type})}),o.jsx(Rt,{children:((se=Z.type_params)==null?void 0:se.time_granularity)||"N/A"}),o.jsx(Rt,{className:"font-mono text-sm max-w-xs truncate",children:Z.expr})]},he)})})]})})})]})]})]}),o.jsx(te,{variant:"outline",size:"sm",onClick:()=>P(H),children:o.jsx(oa,{size:14})}),o.jsx(te,{variant:"outline",size:"sm",onClick:()=>M(H.name),children:o.jsx(Uh,{size:14})})]})]})}),o.jsx(De,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Entities:"}),o.jsx("span",{className:"font-medium",children:H.entities.length})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Measures:"}),o.jsx("span",{className:"font-medium",children:H.measures.length})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Time Dimension:"}),o.jsx("span",{className:"font-mono text-xs",children:H.defaults.agg_time_dimension})]})]})})]},H.name))}),!u&&oe.length===0&&o.jsx(Pe,{children:o.jsxs(De,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(ss,{className:"h-12 w-12 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No semantic models found"}),o.jsx("p",{className:"text-muted-foreground text-center mb-4",children:h?"No models match your search criteria.":"Get started by creating your first semantic model."}),!h&&o.jsxs(te,{children:[o.jsx(or,{size:16,className:"mr-2"}),"Create Your First Model"]})]})})]})]}),o.jsx(ur,{open:m,onOpenChange:p,children:o.jsxs(dr,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(hr,{children:[o.jsx(fr,{children:"Create Semantic Model"}),o.jsx(mr,{children:"Configure new semantic model definition"})]}),o.jsxs(Oo,{defaultValue:"basic",className:"w-full",children:[o.jsxs(Us,{className:"grid w-full grid-cols-5",children:[o.jsx(Xt,{value:"basic",children:"Basic Info"}),o.jsx(Xt,{value:"datasource",children:"Data Source"}),o.jsx(Xt,{value:"entities",children:"Entities"}),o.jsx(Xt,{value:"measures",children:"Measures"}),o.jsx(Xt,{value:"dimensions",children:"Dimensions"})]}),o.jsxs(Zt,{value:"basic",className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"name",children:"Model Name"}),o.jsx(Me,{id:"name",value:T.name,onChange:H=>j(Z=>({...Z,name:H.target.value})),placeholder:"Enter model name"})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"description",children:"Description"}),o.jsx(Me,{id:"description",value:T.description,onChange:H=>j(Z=>({...Z,description:H.target.value})),placeholder:"Enter model description"})]})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"agg_time_dimension",children:"Default Time Dimension"}),o.jsx(Me,{id:"agg_time_dimension",value:T.defaults.agg_time_dimension,onChange:H=>j(Z=>({...Z,defaults:{...Z.defaults,agg_time_dimension:H.target.value}})),placeholder:"Enter default time dimension"})]})]}),o.jsx(Zt,{value:"datasource",className:"space-y-4",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-4",children:"Source Configuration"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"datasource-sourceType",children:"Source Type"}),o.jsxs(Je,{value:T.sourceType||"topic",onValueChange:H=>j(Z=>({...Z,sourceType:H})),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Select source type"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"topic",children:"Topic"}),o.jsx(le,{value:"subject",children:"Subject"}),o.jsx(le,{value:"db_source",children:"Direct DB Source"})]})]})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"datasource-topicId",children:"Topic ID"}),o.jsxs(Je,{value:T.topicId||"",onValueChange:H=>j(Z=>({...Z,topicId:H})),disabled:T.sourceType!=="topic"||_,children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:_?"Loading topics...":"Select a topic",children:T.topicId&&b.length>0?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"truncate",children:((pe=b.find(H=>H.id===T.topicId))==null?void 0:pe.name)||T.topicId}),o.jsx(Oe,{variant:"outline",className:"text-xs",children:(ce=b.find(H=>H.id===T.topicId))==null?void 0:ce.type})]}):null})}),o.jsx(Qe,{className:"max-w-md max-h-80",children:_?o.jsx("div",{className:"p-4 space-y-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading topics..."})]})}):b.length===0?o.jsxs("div",{className:"p-4 text-center",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"No topics available"}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Please check your data source configuration"})]}):b.map(H=>o.jsx(le,{value:H.id,className:"p-0",children:o.jsxs("div",{className:"w-full p-3 space-y-2 hover:bg-accent/50 transition-colors",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-semibold text-sm truncate",title:H.name,children:H.name}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["ID: ",H.id]})]}),o.jsxs("div",{className:"flex flex-col gap-1 flex-shrink-0",children:[o.jsx(Oe,{variant:"default",className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-800 hover:bg-blue-200 transition-colors",children:H.type}),o.jsx(Oe,{variant:"outline",className:"text-xs px-2 py-0.5 border-green-200 text-green-700 hover:bg-green-50 transition-colors",children:H.classification})]})]}),H.description&&o.jsx("div",{className:"border-t border-border/50 pt-2",children:o.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 leading-relaxed",children:H.description})}),o.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground border-t border-border/50 pt-2",children:o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full"}),"Kind: ",H.kind]})})]})},H.id))})]})]})]})]}),T.sourceType==="db_source"&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-4",children:"Database Connection"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"datasource-database",children:"Database"}),o.jsx(Me,{id:"datasource-database",value:T.node_relation.database,onChange:H=>j(Z=>({...Z,node_relation:{...Z.node_relation,database:H.target.value}})),placeholder:"Enter database name"})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"datasource-schema",children:"Schema Name"}),o.jsx(Me,{id:"datasource-schema",value:T.node_relation.schema_name,onChange:H=>j(Z=>({...Z,node_relation:{...Z.node_relation,schema_name:H.target.value}})),placeholder:"Enter schema name"})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"datasource-alias",children:"Table Alias"}),o.jsx(Me,{id:"datasource-alias",value:T.node_relation.alias,onChange:H=>j(Z=>({...Z,node_relation:{...Z.node_relation,alias:H.target.value}})),placeholder:"Enter table alias"})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"datasource-relation",children:"Relation Name"}),o.jsx(Me,{id:"datasource-relation",value:T.node_relation.relation_name,onChange:H=>j(Z=>({...Z,node_relation:{...Z.node_relation,relation_name:H.target.value}})),placeholder:"Enter full relation name"})]})]})]})]})}),o.jsxs(Zt,{value:"entities",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h4",{className:"text-sm font-medium",children:"Entity Configuration"}),o.jsxs(te,{onClick:L,size:"sm",children:[o.jsx(or,{size:16,className:"mr-2"}),"Add Entity"]})]}),o.jsx(Li,{className:"h-[400px]",children:o.jsx("div",{className:"space-y-4",children:T.entities.map((H,Z)=>o.jsx(Pe,{children:o.jsxs(De,{className:"pt-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("h5",{className:"text-sm font-medium",children:["Entity ",Z+1]}),o.jsx(te,{variant:"outline",size:"sm",onClick:()=>I(Z),children:o.jsx(Pr,{size:14})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ve,{children:"Name"}),o.jsx(Me,{value:H.name,onChange:he=>U(Z,"name",he.target.value),placeholder:"Entity name"})]}),o.jsxs("div",{children:[o.jsx(ve,{children:"Type"}),o.jsxs(Je,{value:H.type,onValueChange:he=>U(Z,"type",he),children:[o.jsx(Ze,{children:o.jsx(et,{})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"primary",children:"Primary"}),o.jsx(le,{value:"foreign",children:"Foreign"})]})]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx(ve,{children:"Expression"}),o.jsx(Me,{value:H.expr,onChange:he=>U(Z,"expr",he.target.value),placeholder:"Enter expression"})]})]})]})},Z))})})]}),o.jsxs(Zt,{value:"measures",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h4",{className:"text-sm font-medium",children:"Measure Configuration"}),o.jsxs(te,{onClick:$,size:"sm",children:[o.jsx(or,{size:16,className:"mr-2"}),"Add Measure"]})]}),o.jsx(Li,{className:"h-[400px]",children:o.jsx("div",{className:"space-y-4",children:T.measures.map((H,Z)=>o.jsx(Pe,{children:o.jsxs(De,{className:"pt-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("h5",{className:"text-sm font-medium",children:["Measure ",Z+1]}),o.jsx(te,{variant:"outline",size:"sm",onClick:()=>W(Z),children:o.jsx(Pr,{size:14})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ve,{children:"Name"}),o.jsx(Me,{value:H.name,onChange:he=>z(Z,"name",he.target.value),placeholder:"Measure name"})]}),o.jsxs("div",{children:[o.jsx(ve,{children:"Aggregation Type"}),o.jsxs(Je,{value:H.agg,onValueChange:he=>z(Z,"agg",he),children:[o.jsx(Ze,{children:o.jsx(et,{})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"count",children:"Count"}),o.jsx(le,{value:"sum",children:"Sum"}),o.jsx(le,{value:"average",children:"Average"}),o.jsx(le,{value:"count_distinct",children:"Count Distinct"})]})]})]}),o.jsxs("div",{children:[o.jsx(ve,{children:"Description"}),o.jsx(Me,{value:H.description||"",onChange:he=>z(Z,"description",he.target.value),placeholder:"Measure description"})]}),o.jsxs("div",{children:[o.jsx(ve,{children:"Expression"}),o.jsx(Me,{value:H.expr,onChange:he=>z(Z,"expr",he.target.value),placeholder:"Enter expression"})]})]})]})},Z))})})]}),o.jsxs(Zt,{value:"dimensions",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h4",{className:"text-sm font-medium",children:"Dimension Configuration"}),o.jsxs(te,{onClick:R,size:"sm",children:[o.jsx(or,{size:16,className:"mr-2"}),"Add Dimension"]})]}),o.jsx(Li,{className:"h-[400px]",children:o.jsx("div",{className:"space-y-4",children:T.dimensions.map((H,Z)=>{var he;return o.jsx(Pe,{children:o.jsxs(De,{className:"pt-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("h5",{className:"text-sm font-medium",children:["Dimension ",Z+1]}),o.jsx(te,{variant:"outline",size:"sm",onClick:()=>G(Z),children:o.jsx(Pr,{size:14})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ve,{children:"Name"}),o.jsx(Me,{value:H.name,onChange:se=>Q(Z,"name",se.target.value),placeholder:"Dimension name"})]}),o.jsxs("div",{children:[o.jsx(ve,{children:"Type"}),o.jsxs(Je,{value:H.type,onValueChange:se=>Q(Z,"type",se),children:[o.jsx(Ze,{children:o.jsx(et,{})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"time",children:"Time"}),o.jsx(le,{value:"categorical",children:"Categorical"})]})]})]}),o.jsxs("div",{children:[o.jsx(ve,{children:"Expression"}),o.jsx(Me,{value:H.expr,onChange:se=>Q(Z,"expr",se.target.value),placeholder:"Enter expression"})]}),H.type==="time"&&o.jsxs("div",{children:[o.jsx(ve,{children:"Time Granularity"}),o.jsxs(Je,{value:((he=H.type_params)==null?void 0:he.time_granularity)||"day",onValueChange:se=>Q(Z,"type_params",{...H.type_params,time_granularity:se}),children:[o.jsx(Ze,{children:o.jsx(et,{})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"day",children:"Day"}),o.jsx(le,{value:"week",children:"Week"}),o.jsx(le,{value:"month",children:"Month"}),o.jsx(le,{value:"quarter",children:"Quarter"}),o.jsx(le,{value:"year",children:"Year"})]})]})]})]})]})},Z)})})})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx(te,{variant:"outline",onClick:()=>{p(!1),B()},children:"Cancel"}),o.jsx(te,{onClick:N,disabled:l,children:l?"Creating...":"Create Model"})]})]})}),o.jsx(ur,{open:g,onOpenChange:x,children:o.jsxs(dr,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(hr,{children:[o.jsx(fr,{children:"Edit Semantic Model"}),o.jsx(mr,{children:"Modify semantic model definition"})]}),o.jsxs(Oo,{defaultValue:"basic",className:"w-full",children:[o.jsxs(Us,{className:"grid w-full grid-cols-5",children:[o.jsx(Xt,{value:"basic",children:"Basic Info"}),o.jsx(Xt,{value:"datasource",children:"Data Source"}),o.jsx(Xt,{value:"entities",children:"Entities"}),o.jsx(Xt,{value:"measures",children:"Measures"}),o.jsx(Xt,{value:"dimensions",children:"Dimensions"})]}),o.jsxs(Zt,{value:"basic",className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"edit-name",children:"Model Name"}),o.jsx(Me,{id:"edit-name",value:T.name,onChange:H=>j(Z=>({...Z,name:H.target.value})),placeholder:"Enter model name",disabled:!0})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"edit-description",children:"Description"}),o.jsx(Me,{id:"edit-description",value:T.description,onChange:H=>j(Z=>({...Z,description:H.target.value})),placeholder:"Enter model description"})]})]}),o.jsxs("div",{className:"hidden",children:[o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"edit-sourceType",children:"Source Type"}),o.jsxs(Je,{value:T.sourceType||"topic",onValueChange:H=>j(Z=>({...Z,sourceType:H})),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Select source type"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"topic",children:"Topic"}),o.jsx(le,{value:"subject",children:"Subject"}),o.jsx(le,{value:"db_source",children:"DB Source"})]})]})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"edit-topicId",children:"Topic ID"}),o.jsxs(Je,{value:T.topicId||"",onValueChange:H=>j(Z=>({...Z,topicId:H})),disabled:T.sourceType!=="topic"||_,children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:_?"Loading topics...":"Select a topic",children:T.topicId&&b.length>0?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"truncate",children:((me=b.find(H=>H.id===T.topicId))==null?void 0:me.name)||T.topicId}),o.jsx(Oe,{variant:"outline",className:"text-xs",children:(ye=b.find(H=>H.id===T.topicId))==null?void 0:ye.type})]}):null})}),o.jsx(Qe,{className:"max-w-md max-h-80",children:_?o.jsx("div",{className:"p-4 space-y-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading topics..."})]})}):b.length===0?o.jsxs("div",{className:"p-4 text-center",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"No topics available"}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Please check your data source configuration"})]}):b.map(H=>o.jsx(le,{value:H.id,className:"p-0",children:o.jsxs("div",{className:"w-full p-3 space-y-2 hover:bg-accent/50 transition-colors",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-semibold text-sm truncate",title:H.name,children:H.name}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["ID: ",H.id]})]}),o.jsxs("div",{className:"flex flex-col gap-1 flex-shrink-0",children:[o.jsx(Oe,{variant:"default",className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-800 hover:bg-blue-200 transition-colors",children:H.type}),o.jsx(Oe,{variant:"outline",className:"text-xs px-2 py-0.5 border-green-200 text-green-700 hover:bg-green-50 transition-colors",children:H.classification})]})]}),H.description&&o.jsx("div",{className:"border-t border-border/50 pt-2",children:o.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 leading-relaxed",children:H.description})}),o.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground border-t border-border/50 pt-2",children:o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full"}),"Kind: ",H.kind]})})]})},H.id))})]})]})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"edit-agg_time_dimension",children:"Default Time Dimension"}),o.jsx(Me,{id:"edit-agg_time_dimension",value:T.defaults.agg_time_dimension,onChange:H=>j(Z=>({...Z,defaults:{...Z.defaults,agg_time_dimension:H.target.value}})),placeholder:"Enter default time dimension"})]})]}),o.jsx(Zt,{value:"datasource",className:"space-y-4",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-4",children:"Source Configuration"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"datasource-sourceType",children:"Source Type"}),o.jsxs(Je,{value:T.sourceType||"topic",onValueChange:H=>j(Z=>({...Z,sourceType:H})),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Select source type"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"topic",children:"Topic"}),o.jsx(le,{value:"subject",children:"Subject"}),o.jsx(le,{value:"db_source",children:"Direct DB Source"})]})]})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"datasource-topicId",children:"Topic ID"}),o.jsxs(Je,{value:T.topicId||"",onValueChange:H=>j(Z=>({...Z,topicId:H})),disabled:T.sourceType!=="topic"||_,children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:_?"Loading topics...":"Select a topic",children:T.topicId&&b.length>0?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"truncate",children:((ae=b.find(H=>H.id===T.topicId))==null?void 0:ae.name)||T.topicId}),o.jsx(Oe,{variant:"outline",className:"text-xs",children:(Ae=b.find(H=>H.id===T.topicId))==null?void 0:Ae.type})]}):null})}),o.jsx(Qe,{className:"max-w-md max-h-80",children:_?o.jsx("div",{className:"p-4 space-y-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading topics..."})]})}):b.length===0?o.jsxs("div",{className:"p-4 text-center",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"No topics available"}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Please check your data source configuration"})]}):b.map(H=>o.jsx(le,{value:H.id,className:"p-0",children:o.jsxs("div",{className:"w-full p-3 space-y-2 hover:bg-accent/50 transition-colors",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-semibold text-sm truncate",title:H.name,children:H.name}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["ID: ",H.id]})]}),o.jsxs("div",{className:"flex flex-col gap-1 flex-shrink-0",children:[o.jsx(Oe,{variant:"default",className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-800 hover:bg-blue-200 transition-colors",children:H.type}),o.jsx(Oe,{variant:"outline",className:"text-xs px-2 py-0.5 border-green-200 text-green-700 hover:bg-green-50 transition-colors",children:H.classification})]})]}),H.description&&o.jsx("div",{className:"border-t border-border/50 pt-2",children:o.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 leading-relaxed",children:H.description})}),o.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground border-t border-border/50 pt-2",children:o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full"}),"Kind: ",H.kind]})})]})},H.id))})]})]})]})]}),T.sourceType==="db_source"&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-4",children:"Database Connection"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"datasource-database",children:"Database"}),o.jsx(Me,{id:"datasource-database",value:T.node_relation.database,onChange:H=>j(Z=>({...Z,node_relation:{...Z.node_relation,database:H.target.value}})),placeholder:"Enter database name"})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"datasource-schema",children:"Schema Name"}),o.jsx(Me,{id:"datasource-schema",value:T.node_relation.schema_name,onChange:H=>j(Z=>({...Z,node_relation:{...Z.node_relation,schema_name:H.target.value}})),placeholder:"Enter schema name"})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"datasource-alias",children:"Table Alias"}),o.jsx(Me,{id:"datasource-alias",value:T.node_relation.alias,onChange:H=>j(Z=>({...Z,node_relation:{...Z.node_relation,alias:H.target.value}})),placeholder:"Enter table alias"})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"datasource-relation",children:"Relation Name"}),o.jsx(Me,{id:"datasource-relation",value:T.node_relation.relation_name,onChange:H=>j(Z=>({...Z,node_relation:{...Z.node_relation,relation_name:H.target.value}})),placeholder:"Enter full relation name"})]})]})]})]})}),o.jsxs(Zt,{value:"entities",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h4",{className:"text-sm font-medium",children:"Entity Configuration"}),o.jsxs(te,{onClick:L,size:"sm",children:[o.jsx(or,{size:16,className:"mr-2"}),"Add Entity"]})]}),o.jsx(Li,{className:"h-[400px]",children:o.jsx("div",{className:"space-y-4",children:T.entities.map((H,Z)=>o.jsx(Pe,{children:o.jsxs(De,{className:"pt-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("h5",{className:"text-sm font-medium",children:["Entity ",Z+1]}),o.jsx(te,{variant:"outline",size:"sm",onClick:()=>I(Z),children:o.jsx(Pr,{size:14})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ve,{children:"Name"}),o.jsx(Me,{value:H.name,onChange:he=>U(Z,"name",he.target.value),placeholder:"Entity name"})]}),o.jsxs("div",{children:[o.jsx(ve,{children:"Type"}),o.jsxs(Je,{value:H.type,onValueChange:he=>U(Z,"type",he),children:[o.jsx(Ze,{children:o.jsx(et,{})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"primary",children:"Primary"}),o.jsx(le,{value:"foreign",children:"Foreign"})]})]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx(ve,{children:"Expression"}),o.jsx(Me,{value:H.expr,onChange:he=>U(Z,"expr",he.target.value),placeholder:"Enter expression"})]})]})]})},Z))})})]}),o.jsxs(Zt,{value:"measures",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h4",{className:"text-sm font-medium",children:"Measure Configuration"}),o.jsxs(te,{onClick:$,size:"sm",children:[o.jsx(or,{size:16,className:"mr-2"}),"Add Measure"]})]}),o.jsx(Li,{className:"h-[400px]",children:o.jsx("div",{className:"space-y-4",children:T.measures.map((H,Z)=>o.jsx(Pe,{children:o.jsxs(De,{className:"pt-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("h5",{className:"text-sm font-medium",children:["Measure ",Z+1]}),o.jsx(te,{variant:"outline",size:"sm",onClick:()=>W(Z),children:o.jsx(Pr,{size:14})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ve,{children:"Name"}),o.jsx(Me,{value:H.name,onChange:he=>z(Z,"name",he.target.value),placeholder:"Measure name"})]}),o.jsxs("div",{children:[o.jsx(ve,{children:"Aggregation Type"}),o.jsxs(Je,{value:H.agg,onValueChange:he=>z(Z,"agg",he),children:[o.jsx(Ze,{children:o.jsx(et,{})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"count",children:"Count"}),o.jsx(le,{value:"sum",children:"Sum"}),o.jsx(le,{value:"average",children:"Average"}),o.jsx(le,{value:"count_distinct",children:"Count Distinct"})]})]})]}),o.jsxs("div",{children:[o.jsx(ve,{children:"Description"}),o.jsx(Me,{value:H.description||"",onChange:he=>z(Z,"description",he.target.value),placeholder:"Measure description"})]}),o.jsxs("div",{children:[o.jsx(ve,{children:"Expression"}),o.jsx(Me,{value:H.expr,onChange:he=>z(Z,"expr",he.target.value),placeholder:"Enter expression"})]})]})]})},Z))})})]}),o.jsxs(Zt,{value:"dimensions",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h4",{className:"text-sm font-medium",children:"Dimension Configuration"}),o.jsxs(te,{onClick:R,size:"sm",children:[o.jsx(or,{size:16,className:"mr-2"}),"Add Dimension"]})]}),o.jsx(Li,{className:"h-[400px]",children:o.jsx("div",{className:"space-y-4",children:T.dimensions.map((H,Z)=>{var he;return o.jsx(Pe,{children:o.jsxs(De,{className:"pt-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("h5",{className:"text-sm font-medium",children:["Dimension ",Z+1]}),o.jsx(te,{variant:"outline",size:"sm",onClick:()=>G(Z),children:o.jsx(Pr,{size:14})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ve,{children:"Name"}),o.jsx(Me,{value:H.name,onChange:se=>Q(Z,"name",se.target.value),placeholder:"Dimension name"})]}),o.jsxs("div",{children:[o.jsx(ve,{children:"Type"}),o.jsxs(Je,{value:H.type,onValueChange:se=>Q(Z,"type",se),children:[o.jsx(Ze,{children:o.jsx(et,{})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"time",children:"Time"}),o.jsx(le,{value:"categorical",children:"Categorical"})]})]})]}),o.jsxs("div",{children:[o.jsx(ve,{children:"Expression"}),o.jsx(Me,{value:H.expr,onChange:se=>Q(Z,"expr",se.target.value),placeholder:"Enter expression"})]}),H.type==="time"&&o.jsxs("div",{children:[o.jsx(ve,{children:"Time Granularity"}),o.jsxs(Je,{value:((he=H.type_params)==null?void 0:he.time_granularity)||"day",onValueChange:se=>Q(Z,"type_params",{...H.type_params,time_granularity:se}),children:[o.jsx(Ze,{children:o.jsx(et,{})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"day",children:"Day"}),o.jsx(le,{value:"week",children:"Week"}),o.jsx(le,{value:"month",children:"Month"}),o.jsx(le,{value:"quarter",children:"Quarter"}),o.jsx(le,{value:"year",children:"Year"})]})]})]})]})]})},Z)})})})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx(te,{variant:"outline",onClick:()=>{x(!1),v(null),B()},children:"Cancel"}),o.jsx(te,{onClick:D,disabled:l,children:l?"Updating...":"Update Model"})]})]})})]})},S1=e=>new Promise(t=>setTimeout(t,e)),s0e=async e=>{await S1(200);try{const t=await fetch(`${Ke}/watchmen/metric/categories`,{method:"GET",headers:tt()});return t.status===404?Jq(e):(await gt(t),await t.json())}catch(t){return console.warn("Failed to fetch categories, using mock data:",t),Jq()}},XMt=async e=>{await S1(400);try{const t=tIt(e);if(t.length>0)return{success:!1,message:"Validation failed",errors:t};const n=await fetch(`${Ke}/watchmen/metric/categories`,{method:"POST",headers:tt(),body:JSON.stringify(e)});return n.status===404?{success:!0,message:"Category created successfully",data:eIt(e)}:{success:!0,message:"Category created successfully",data:await gt(n)}}catch(t){return console.error("Failed to create category:",t),{success:!1,message:"Failed to create category",errors:[t instanceof Error?t.message:"Unknown error"]}}},ZMt=async(e,t)=>{await S1(350);try{const n=await fetch(`${Ke}/watchmen/metric/categories/${encodeURIComponent(e)}`,{method:"PUT",headers:tt(),body:JSON.stringify(t)});return n.status===404?{success:!1,message:"Category not found",errors:["Category does not exist"]}:{success:!0,message:"Category updated successfully",data:await gt(n)}}catch(n){return console.error("Failed to update category:",n),{success:!1,message:"Failed to update category",errors:[n instanceof Error?n.message:"Unknown error"]}}},QMt=async(e,t=!1)=>{await S1(300);try{const n=t?"?force=true":"",r=await fetch(`${Ke}/watchmen/metric/categories/${encodeURIComponent(e)}${n}`,{method:"DELETE",headers:tt()});return r.status===404?{success:!1,message:"Category not found",errors:["Category does not exist"]}:r.status===409?{success:!1,message:"Cannot delete category with associated metrics",errors:["Category has associated metrics. Use force delete or reassign metrics first."]}:(await gt(r),{success:!0,message:"Category deleted successfully"})}catch(n){return console.error("Failed to delete category:",n),{success:!1,message:"Failed to delete category",errors:[n instanceof Error?n.message:"Unknown error"]}}},o0e=async e=>{await S1(500);try{if(await cIt())try{const n=await lIt();let r=n;return console.log("Real-time metrics:",n),r}catch(n){console.warn("Failed to fetch real-time metrics, falling back to mock data:",n)}}catch(t){console.warn("API availability check failed, using mock data:",t)}return[]},JMt=e=>[{id:"sales",name:"Sales Performance",description:"Sales and revenue related metrics",level:0,path:"sales",color:"#3B82F6",icon:"TrendingUp",isActive:!0,sortOrder:1,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z",children:[{id:"sales-premium",name:"Premium Income",description:"Premium income metrics",parentId:"sales",level:1,path:"sales/premium",color:"#10B981",icon:"DollarSign",isActive:!0,sortOrder:1,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"sales-policies",name:"Policy Metrics",description:"Policy count and related metrics",parentId:"sales",level:1,path:"sales/policies",color:"#8B5CF6",icon:"FileText",isActive:!0,sortOrder:2,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}]},{id:"customer",name:"Customer Analytics",description:"Customer behavior and demographics",level:0,path:"customer",color:"#F59E0B",icon:"Users",isActive:!0,sortOrder:2,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z",children:[{id:"customer-demographics",name:"Demographics",description:"Customer demographic metrics",parentId:"customer",level:1,path:"customer/demographics",color:"#EF4444",icon:"BarChart3",isActive:!0,sortOrder:1,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}]},{id:"channel",name:"Channel Performance",description:"Distribution channel metrics",level:0,path:"channel",color:"#06B6D4",icon:"GitBranch",isActive:!0,sortOrder:3,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}],Jq=e=>{const t=JMt(),n=[],r=i=>{i.forEach(a=>{n.push(a),a.children&&r(a.children)})};return r(t),n};const eIt=e=>{const t=new Date().toISOString();return{id:`category_${Date.now()}`,name:e.name,description:e.description,parentId:e.parentId,level:e.parentId?1:0,path:e.parentId?`${e.parentId}/${e.name.toLowerCase().replace(/\s+/g,"-")}`:e.name.toLowerCase().replace(/\s+/g,"-"),color:e.color||"#6B7280",icon:e.icon||"Folder",isActive:!0,sortOrder:e.sortOrder||999,createdAt:t,updatedAt:t}},tIt=e=>{const t=[];return(!e.name||e.name.trim().length===0)&&t.push("Category name is required"),e.name&&e.name.length>100&&t.push("Category name must be less than 100 characters"),e.description&&e.description.length>500&&t.push("Category description must be less than 500 characters"),t},nIt=async e=>{try{e.id="fake";const t=await fetch(`${Ke}/watchmen/metric/metric`,{method:"POST",headers:tt(),body:JSON.stringify(e)});return await gt(t)}catch(t){throw console.error("Failed to create metric:",t),new xd("SERVER_ERROR","Failed to create metric",t instanceof Error||t==null?void 0:t.status,t instanceof Error?t:void 0)}},rIt=async(e,t)=>{try{return await(await fetch(`${Ke}/watchmen/metric/metric/${e}`,{method:"PUT",headers:tt(),body:JSON.stringify(t)})).json()}catch(n){throw console.error("Failed to update metric:",n),new xd("SERVER_ERROR","Failed to update metric",n instanceof Error||n==null?void 0:n.status,n instanceof Error?n:void 0)}},iIt=async e=>{try{const t=await fetch(`${Ke}/watchmen/metric/metrics/${encodeURIComponent(e)}`,{method:"DELETE",headers:tt()});await gt(t)}catch(t){throw console.error("Failed to delete metric:",t),new xd("SERVER_ERROR","Failed to delete metric",t instanceof Error||t==null?void 0:t.status,t instanceof Error?t:void 0)}};class xd extends Error{constructor(t,n,r,i){super(n),this.type=t,this.statusCode=r,this.originalError=i,this.name="MetricsAPIException"}}const aIt={maxRetries:3,retryDelay:1e3,backoffMultiplier:2},sIt=async(e,t=aIt)=>{let n;for(let r=0;r<=t.maxRetries;r++)try{return await e()}catch(i){if(n=i,i instanceof xd&&i.type==="AUTHENTICATION_ERROR")throw i;if(r===t.maxRetries)break;const a=t.retryDelay*Math.pow(t.backoffMultiplier,r);console.warn(`API call failed (attempt ${r+1}/${t.maxRetries+1}), retrying in ${a}ms...`,i),await new Promise(s=>setTimeout(s,a))}throw n},oIt=async e=>{if(!e.ok){let t,n;switch(e.status){case 401:case 403:t="AUTHENTICATION_ERROR",n="Authentication failed. Please check your API credentials.";break;case 404:t="SERVER_ERROR",n="Metrics endpoint not found. Please check the API configuration.";break;case 408:t="TIMEOUT_ERROR",n="Request timeout. The server took too long to respond.";break;case 500:case 502:case 503:case 504:t="SERVER_ERROR",n=`Server error (${e.status}). Please try again later.`;break;default:t="SERVER_ERROR",n=`HTTP error ${e.status}: ${e.statusText}`}try{const r=await e.json();r.message&&(n=r.message)}catch{}throw new xd(t,n,e.status)}try{return await e.json()}catch(t){throw new xd("INVALID_RESPONSE","Failed to parse response as JSON",e.status,t)}},lIt=async()=>sIt(async()=>{const e=new AbortController,t=setTimeout(()=>e.abort(),1e4);try{const n=await fetch(`${Ke}/watchmen/metric/metrics/all`,{method:"GET",headers:tt(),signal:e.signal});return clearTimeout(t),await oIt(n)}catch(n){throw clearTimeout(t),n instanceof Error&&n.name==="AbortError"?new xd("TIMEOUT_ERROR","Request timeout while fetching real-time metrics"):n instanceof TypeError&&n.message.includes("fetch")?new xd("NETWORK_ERROR","Network error while fetching real-time metrics. Please check your connection."):n}}),cIt=async()=>{try{const e=new AbortController,t=setTimeout(()=>e.abort(),5e3),n=await fetch(`${Ke}/watchmen/metric/health`,{method:"GET",headers:tt(),signal:e.signal});return clearTimeout(t),n.ok}catch(e){return console.warn("Real-time metrics API health check failed:",e),!1}},eG=({params:e,onChange:t})=>{var p,g;const[n,r]=w.useState([]),[i,a]=w.useState(!1);w.useEffect(()=>{(async()=>{a(!0);try{const y=await o0e();r(y)}catch(y){console.error("Failed to load metrics:",y),r([{name:"total_policies_issued",label:"Total Policies Issued",description:"Total number of issued policies",type:"simple",type_params:{},createdAt:"",updatedAt:""},{name:"total_annual_premium_hkd",label:"Annual Premium Income (HKD)",description:"Total annual premium income",type:"simple",type_params:{},createdAt:"",updatedAt:""},{name:"total_afyp_hkd",label:"First Year Premium (HKD)",description:"Total first year premium",type:"simple",type_params:{},createdAt:"",updatedAt:""},{name:"avg_premium_per_policy",label:"Average Policy Premium",description:"Average annual premium per policy",type:"simple",type_params:{},createdAt:"",updatedAt:""},{name:"active_banks_count",label:"Active Banks",description:"Number of active banks",type:"simple",type_params:{},createdAt:"",updatedAt:""},{name:"active_branches_count",label:"Active Branches",description:"Number of active branches",type:"simple",type_params:{},createdAt:"",updatedAt:""}])}finally{a(!1)}})()},[]);const s=x=>{t({...e,...x})},l=()=>{const x={name:"",alias:"",filter:null,offset_window:void 0,offset_to_grain:null};s({metrics:[...e.metrics||[],x]})},c=(x,y)=>{const v=[...e.metrics||[]];v[x]={...v[x],...y},s({metrics:v})},u=x=>{const y=[...e.metrics||[]];y.splice(x,1),s({metrics:y})},d=()=>{const x={name:"",filter:null,alias:null,join_to_timespine:!1,fill_nulls_with:null};s({input_measures:[...e.input_measures||[],x]})},h=(x,y)=>{const v=[...e.input_measures||[]];v[x]={...v[x],...y},s({input_measures:v})},f=x=>{const y=[...e.input_measures||[]];y.splice(x,1),s({input_measures:y})},m=(x,y)=>{var b;const v=(b=e.metrics)==null?void 0:b[x];v&&c(x,{offset_window:{...v.offset_window,...y}})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Expression"}),o.jsx(Pn,{value:e.expr||"",onChange:x=>s({expr:x.target.value}),placeholder:"Enter calculation expression (e.g., (current_premium - prev_premium) / prev_premium * 100)",rows:3})]}),o.jsxs(Pe,{children:[o.jsx(Ye,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(dt,{className:"text-lg",children:"Metric References"}),o.jsxs(te,{size:"sm",onClick:l,children:[o.jsx(or,{className:"h-4 w-4 mr-2"}),"Add Metric"]})]})}),o.jsxs(De,{className:"space-y-4",children:[(p=e.metrics)==null?void 0:p.map((x,y)=>{var v,b;return o.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h4",{className:"font-medium",children:["Metric Reference ",y+1]}),o.jsx(te,{size:"sm",variant:"outline",onClick:()=>u(y),children:o.jsx(Uh,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Metric Name"}),o.jsxs(Je,{value:x.name,onValueChange:E=>c(y,{name:E}),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:i?"Loading metrics...":"Select metric name"})}),o.jsx(Qe,{children:i?o.jsx(le,{value:"",disabled:!0,children:"Loading metrics..."}):n.length>0?n.map(E=>o.jsx(le,{value:E.name,children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:E.label||E.name}),o.jsx("span",{className:"text-xs text-muted-foreground",children:E.description})]})},E.name)):o.jsx(le,{value:"",disabled:!0,children:"No metrics available"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Alias"}),o.jsx(Me,{value:x.alias,onChange:E=>c(y,{alias:E.target.value}),placeholder:"Enter alias"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Offset Window (Optional)"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs text-muted-foreground",children:"Count"}),o.jsx(Me,{type:"number",value:((v=x.offset_window)==null?void 0:v.count)||"",onChange:E=>m(y,{count:parseInt(E.target.value)||0}),placeholder:"Enter count"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs text-muted-foreground",children:"Granularity"}),o.jsxs(Je,{value:((b=x.offset_window)==null?void 0:b.granularity)||"",onValueChange:E=>m(y,{granularity:E}),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Select granularity"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"day",children:"Day"}),o.jsx(le,{value:"week",children:"Week"}),o.jsx(le,{value:"month",children:"Month"}),o.jsx(le,{value:"quarter",children:"Quarter"}),o.jsx(le,{value:"year",children:"Year"})]})]})]})]})]})]},y)}),(!e.metrics||e.metrics.length===0)&&o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No metric references defined. Click "Add Metric" to get started.'})]})]}),o.jsxs(Pe,{children:[o.jsx(Ye,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(dt,{className:"text-lg",children:"Input Measures"}),o.jsxs(te,{size:"sm",onClick:d,children:[o.jsx(or,{className:"h-4 w-4 mr-2"}),"Add Measure"]})]})}),o.jsxs(De,{className:"space-y-4",children:[(g=e.input_measures)==null?void 0:g.map((x,y)=>o.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h4",{className:"font-medium",children:["Input Measure ",y+1]}),o.jsx(te,{size:"sm",variant:"outline",onClick:()=>f(y),children:o.jsx(Uh,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Measure Name"}),o.jsx(Me,{value:x.name,onChange:v=>h(y,{name:v.target.value}),placeholder:"Enter measure name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Alias (Optional)"}),o.jsx(Me,{value:x.alias||"",onChange:v=>h(y,{alias:v.target.value||null}),placeholder:"Enter alias"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:`join-timespine-${y}`,checked:x.join_to_timespine,onChange:v=>h(y,{join_to_timespine:v.target.checked}),className:"rounded"}),o.jsx("label",{htmlFor:`join-timespine-${y}`,className:"text-sm font-medium",children:"Join to Timespine"})]})]},y)),(!e.input_measures||e.input_measures.length===0)&&o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No input measures defined. Click "Add Measure" to get started.'})]})]})]})},uIt=({onCategoriesChanged:e})=>{const[t,n]=w.useState([]),[r,i]=w.useState(!1),[a,s]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[h,f]=w.useState(!1),[m,p]=w.useState(null),[g,x]=w.useState({name:"",description:"",color:"#3B82F6",icon:"Folder"}),[y,v]=w.useState({}),{toast:b}=za(),E=async()=>{i(!0);try{const M=await s0e();n(M)}catch(M){console.error("Failed to load categories:",M),b({title:"Error",description:"Failed to load categories",variant:"destructive"})}finally{i(!1)}},_=async()=>{var M;if(!((M=g.name)!=null&&M.trim())){b({title:"Validation Error",description:"Category name cannot be empty",variant:"destructive"});return}try{const B=await XMt(g);B.success&&B.data?(n(N=>[...N,B.data]),b({title:"Success",description:B.message||`Category "${g.name}" created successfully`}),c(!1),x({name:"",description:"",color:"#3B82F6",icon:"Folder"}),e==null||e()):b({title:"Error",description:B.message||"Failed to create category",variant:"destructive"})}catch{b({title:"Error",description:"Failed to create category",variant:"destructive"})}},S=M=>{s(M),v({name:M.name,description:M.description,color:M.color,icon:M.icon}),d(!0)},C=async()=>{var M;if(!a||!((M=y.name)!=null&&M.trim())){b({title:"Validation Error",description:"Category name cannot be empty",variant:"destructive"});return}try{const B=await ZMt(a.id,y);B.success&&B.data?(n(N=>N.map(D=>D.id===a.id?B.data:D)),b({title:"Success",description:B.message||`Category "${y.name}" updated successfully`}),d(!1),s(null),v({}),e==null||e()):b({title:"Error",description:B.message||"Failed to update category",variant:"destructive"})}catch{b({title:"Error",description:"Failed to update category",variant:"destructive"})}},T=M=>{p(M),f(!0)},j=async()=>{if(m)try{await QMt(m.id),n(M=>M.filter(B=>B.id!==m.id)),b({title:"Success",description:`Category "${m.name}" deleted successfully`}),e==null||e()}catch{b({title:"Error",description:"Failed to delete category",variant:"destructive"})}finally{f(!1),p(null)}},k=M=>({TrendingUp:hi,Users:kD,Package:n1e,Megaphone:Jbe,Calculator:Lbe,Calendar:nd,Folder:xE,BarChart3:zi,Activity:s2,Tag:TD})[M]||xE,O=()=>r?o.jsx("div",{className:"space-y-2",children:[...Array(3)].map((M,B)=>o.jsx(Ct,{className:"h-16 w-full"},B))}):t.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(xE,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),o.jsx("p",{children:"No categories"}),o.jsx("p",{className:"text-sm",children:"Create your first category to get started"})]}):o.jsx("div",{className:"space-y-2",children:t.map(M=>{const B=k(M.icon);return o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border hover:bg-muted/50 group",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsx("div",{className:"w-10 h-10 rounded-md flex items-center justify-center",style:{backgroundColor:M.color},children:o.jsx(B,{size:20,className:"text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium",children:M.name}),o.jsx(Oe,{variant:"outline",className:"text-xs",children:M.id})]}),M.description&&o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:M.description})]})]}),o.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx(te,{variant:"ghost",size:"sm",onClick:()=>S(M),className:"h-8 w-8 p-0",children:o.jsx(oa,{size:14})}),o.jsx(te,{variant:"ghost",size:"sm",onClick:()=>T(M),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:o.jsx(Uh,{size:14})})]})]},M.id)})});return w.useEffect(()=>{E()},[]),o.jsxs(o.Fragment,{children:[o.jsxs(Pe,{children:[o.jsx(Ye,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(dt,{className:"flex items-center gap-2",children:[o.jsx(Gbe,{className:"h-5 w-5"}),"Category Management"]}),o.jsx(hn,{children:"Manage metric categories to organize and classify metrics"})]}),o.jsxs(te,{onClick:()=>c(!0),size:"sm",children:[o.jsx(or,{className:"h-4 w-4 mr-2"}),"New Category"]})]})}),o.jsx(De,{children:O()})]}),o.jsx(ur,{open:l,onOpenChange:c,children:o.jsxs(dr,{className:"max-w-md",children:[o.jsxs(hr,{children:[o.jsx(fr,{children:"Create New Category"}),o.jsx(mr,{children:"Create a new category to organize your metrics"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"category-name",children:"Category Name"}),o.jsx(Me,{id:"category-name",value:g.name,onChange:M=>x({...g,name:M.target.value}),placeholder:"Enter category name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"category-description",children:"Description"}),o.jsx(Pn,{id:"category-description",value:g.description,onChange:M=>x({...g,description:M.target.value}),placeholder:"Enter category description",rows:3})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"category-color",children:"Color"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"color",id:"category-color",value:g.color,onChange:M=>x({...g,color:M.target.value}),className:"w-10 h-10 rounded border border-border"}),o.jsx(Me,{value:g.color,onChange:M=>x({...g,color:M.target.value}),placeholder:"#3B82F6"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"category-icon",children:"Icon"}),o.jsxs(Je,{value:g.icon,onValueChange:M=>x({...g,icon:M}),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Select icon"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"Folder",children:" Folder"}),o.jsx(le,{value:"BarChart3",children:" Chart"}),o.jsx(le,{value:"TrendingUp",children:" Trending"}),o.jsx(le,{value:"Users",children:" Users"}),o.jsx(le,{value:"Package",children:" Package"}),o.jsx(le,{value:"Calculator",children:" Calculator"}),o.jsx(le,{value:"Activity",children:" Activity"}),o.jsx(le,{value:"Tag",children:" Tag"})]})]})]})]})]}),o.jsxs(Hi,{children:[o.jsx(te,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),o.jsx(te,{onClick:_,children:"Create Category"})]})]})}),o.jsx(ur,{open:u,onOpenChange:d,children:o.jsxs(dr,{className:"max-w-md",children:[o.jsxs(hr,{children:[o.jsx(fr,{children:"Edit Category"}),o.jsx(mr,{children:"Update category information"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"edit-category-name",children:"Category Name"}),o.jsx(Me,{id:"edit-category-name",value:y.name||"",onChange:M=>v({...y,name:M.target.value}),placeholder:"Enter category name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"edit-category-description",children:"Description"}),o.jsx(Pn,{id:"edit-category-description",value:y.description||"",onChange:M=>v({...y,description:M.target.value}),placeholder:"Enter category description",rows:3})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"edit-category-color",children:"Color"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"color",id:"edit-category-color",value:y.color||"#3B82F6",onChange:M=>v({...y,color:M.target.value}),className:"w-10 h-10 rounded border border-border"}),o.jsx(Me,{value:y.color||"",onChange:M=>v({...y,color:M.target.value}),placeholder:"#3B82F6"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"edit-category-icon",children:"Icon"}),o.jsxs(Je,{value:y.icon||"Folder",onValueChange:M=>v({...y,icon:M}),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Select icon"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"Folder",children:" Folder"}),o.jsx(le,{value:"BarChart3",children:" Chart"}),o.jsx(le,{value:"TrendingUp",children:" Trending"}),o.jsx(le,{value:"Users",children:" Users"}),o.jsx(le,{value:"Package",children:" Package"}),o.jsx(le,{value:"Calculator",children:" Calculator"}),o.jsx(le,{value:"Activity",children:" Activity"}),o.jsx(le,{value:"Tag",children:" Tag"})]})]})]})]})]}),o.jsxs(Hi,{children:[o.jsx(te,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),o.jsx(te,{onClick:C,children:"Save Changes"})]})]})}),o.jsx(ur,{open:h,onOpenChange:f,children:o.jsxs(dr,{className:"max-w-md",children:[o.jsxs(hr,{children:[o.jsx(fr,{children:"Delete Category"}),o.jsx(mr,{children:"Are you sure you want to delete this category? This action cannot be undone."})]}),m&&o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-muted/50",children:[o.jsx("div",{className:"w-8 h-8 rounded-md flex items-center justify-center",style:{backgroundColor:m.color},children:q.createElement(k(m.icon),{size:16,className:"text-white"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:m.name}),m.description&&o.jsx("div",{className:"text-sm text-muted-foreground",children:m.description})]})]})}),o.jsxs(Hi,{children:[o.jsx(te,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),o.jsx(te,{variant:"destructive",onClick:j,children:"Delete Category"})]})]})})]})},dIt=()=>{var z,R,G,Q,oe,re,pe,ce,me,ye,ae,Ae;const{collapsed:e}=Tr();Dn();const[t,n]=w.useState([]),[r,i]=w.useState([]),[a,s]=w.useState(null);w.useState([]);const[l,c]=w.useState(!1),[u,d]=w.useState(!0),[h,f]=w.useState(!1),[m,p]=w.useState(!1),[g,x]=w.useState(null),[y,v]=w.useState({}),[b,E]=w.useState({}),[_,S]=w.useState(!1),[C,T]=w.useState({category:"all",type:"all",searchTerm:""}),{toast:j}=za(),k=w.useCallback(async()=>{try{c(!0);const H={...C};C.category&&C.category!=="all"&&C.category!=="uncategorized"?(H.categoryId=C.category,delete H.category):C.category==="uncategorized"&&(H.categoryId=void 0,delete H.category);const Z=await o0e(H);console.log("loadData metrics:",Z),n(Z||[])}catch(H){console.error("Error loading metrics:",H),n([]),j({title:"Error",description:"Failed to load metrics data",variant:"destructive"})}finally{c(!1),d(!1)}},[C,j]),O=w.useCallback(async()=>{try{const H=await s0e();console.log("loadCategories result:",H),i(Array.isArray(H)?H:[])}catch(H){console.error("Error loading categories:",H),i([])}},[]);w.useEffect(()=>{k()},[C,k]),w.useEffect(()=>{O()},[O]);const M=async H=>{try{await iIt(H),j({title:"Success",description:"Metric deleted successfully"}),k()}catch{j({title:"Error",description:"Failed to delete metric",variant:"destructive"})}},B=H=>{x(H),v({name:H.name,label:H.label,description:H.description,type:H.type,unit:H.unit,format:H.format,type_params:H.type_params}),f(!0)},N=(H,Z=!1)=>{var se,V,ie,ue,we,Se,K,Ce,Le,Y,ee,be,Te,fe,Ne;const he=[];return(se=H.name)!=null&&se.trim()||he.push("Metric name cannot be empty"),(V=H.label)!=null&&V.trim()||he.push("Metric label cannot be empty"),(ie=H.description)!=null&&ie.trim()||he.push("Metric description cannot be empty"),H.type||he.push("Please select a metric type"),H.type==="simple"&&!((Se=(we=(ue=H.type_params)==null?void 0:ue.measure)==null?void 0:we.name)!=null&&Se.trim())&&he.push("Simple metric requires a measure"),H.type==="ratio"&&((Le=(Ce=(K=H.type_params)==null?void 0:K.numerator)==null?void 0:Ce.name)!=null&&Le.trim()||he.push("Ratio metric requires a numerator"),(be=(ee=(Y=H.type_params)==null?void 0:Y.denominator)==null?void 0:ee.name)!=null&&be.trim()||he.push("Ratio metric requires a denominator")),H.type==="derived"&&((fe=(Te=H.type_params)==null?void 0:Te.expr)!=null&&fe.trim()||he.push("Derived metric requires an expression"),(!((Ne=H.type_params)!=null&&Ne.metrics)||H.type_params.metrics.length===0)&&he.push("Derived metric requires at least one metric reference")),he},D=async()=>{if(!g||!y.name)return;const H=N(y);if(H.length>0){j({title:"Validation Error",description:H.join("; "),variant:"destructive"});return}try{const Z={...y,categoryId:y.categoryId==="none"?void 0:y.categoryId};await rIt(g.name,Z),j({title:"Success",description:`Metric "${y.label||g.label}" has been successfully updated.`}),f(!1),x(null),v({}),k()}catch{j({title:"Error",description:"Failed to update metric",variant:"destructive"})}},P=H=>{if(!H)return"Uncategorized";const Z=r.find(he=>he.id===H);return Z?Z.name:"Uncategorized"},L=H=>{switch(H){case"simple":return"bg-blue-100 text-blue-800 hover:bg-blue-200";case"ratio":return"bg-green-100 text-green-800 hover:bg-green-200";case"derived":return"bg-purple-100 text-purple-800 hover:bg-purple-200";case"conversion":return"bg-orange-100 text-orange-800 hover:bg-orange-200";default:return"bg-gray-100 text-gray-800 hover:bg-gray-200"}},I=()=>{E({name:"",label:"",description:"",type:"simple",unit:"",format:"number",type_params:{}}),p(!0)},U=H=>{E({...b,type_params:H})},$=H=>{v({...y,type_params:H})},W=async()=>{try{c(!0);const H={...b,categoryId:b.categoryId==="none"?void 0:b.categoryId};await nIt(H),p(!1),E({name:"",label:"",description:"",type:"simple",unit:"",format:"number",type_params:{}}),await k(),j({title:"Success",description:"Metric created successfully"})}catch(H){console.error("Error creating metric:",H),j({title:"Error",description:"Failed to create metric",variant:"destructive"})}finally{c(!1)}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ir,{}),o.jsxs("div",{className:`${e?"pl-20":"pl-56"} min-h-screen transition-all duration-300`,children:[o.jsx(Xn,{}),o.jsxs("main",{className:"container py-8 space-y-8",children:[_&&o.jsx(uIt,{onCategoriesChanged:()=>{console.log("Categories changed, refreshing data..."),k()}}),o.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-end gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Metrics Management"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage and configure business metric definitions with clear structure and fast actions."})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(te,{variant:"outline",className:"flex items-center gap-2",onClick:()=>S(!_),children:[o.jsx(TD,{size:16}),_?"Hide Categories":"Manage Categories"]}),o.jsxs(te,{className:"flex items-center gap-2",onClick:I,children:[o.jsx(or,{size:16}),"Create Metric"]})]})]}),o.jsxs(Pe,{children:[o.jsx(Ye,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(dt,{className:"text-lg",children:"Filters"}),o.jsx(hn,{children:"Search updates in real time. Use filters to narrow results."})]}),o.jsx(te,{variant:"secondary",size:"sm",onClick:()=>T({category:"all",type:"all",searchTerm:""}),children:"Reset"})]})}),o.jsx(De,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Search"}),o.jsxs("div",{className:"relative",children:[o.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Me,{placeholder:"Search metrics by name, label or description...",value:C.searchTerm||"",onChange:H=>T({...C,searchTerm:H.target.value}),className:"pl-10"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Category"}),o.jsxs(Je,{value:C.category,onValueChange:H=>T({...C,category:H}),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"All Categories"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"all",children:"All Categories"}),o.jsx(le,{value:"uncategorized",children:"Uncategorized"}),r&&r.length>0&&r.map(H=>o.jsx(le,{value:H.id,children:H.name},H.id))]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Type"}),o.jsxs(Je,{value:C.type,onValueChange:H=>T({...C,type:H}),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"All Types"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"all",children:"All Types"}),o.jsx(le,{value:"simple",children:"Simple Metric"}),o.jsx(le,{value:"ratio",children:"Ratio Metric"}),o.jsx(le,{value:"derived",children:"Derived Metric"})]})]})]})]})})]}),o.jsxs(Pe,{className:"border border-border/50 bg-card/50 backdrop-blur-sm shadow-lg",children:[o.jsxs(Ye,{className:"flex flex-row items-center justify-between border-b border-border/50 bg-gradient-to-r from-background/80 to-muted/20 rounded-t-lg",children:[o.jsxs("div",{children:[o.jsx(dt,{className:"text-xl font-semibold text-foreground",children:"Metrics"}),o.jsxs(hn,{className:"text-sm text-muted-foreground mt-1",children:["All defined business metrics (",t.length,")"]})]}),l&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),"Refreshing..."]})]}),o.jsx(De,{className:"p-0",children:u?o.jsx("div",{className:"space-y-3 p-6",children:Array.from({length:8}).map((H,Z)=>o.jsxs("div",{className:"flex items-center space-x-4 p-4",children:[o.jsx(Ct,{className:"h-12 w-12"}),o.jsxs("div",{className:"space-y-2 flex-1",children:[o.jsx(Ct,{className:"h-4 w-[200px]"}),o.jsx(Ct,{className:"h-3 w-[150px]"})]}),o.jsx(Ct,{className:"h-6 w-16"}),o.jsx(Ct,{className:"h-6 w-20"}),o.jsx(Ct,{className:"h-6 w-16"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ct,{className:"h-8 w-8"}),o.jsx(Ct,{className:"h-8 w-8"}),o.jsx(Ct,{className:"h-8 w-8"})]})]},Z))}):o.jsx("div",{className:"rounded-b-lg border-t-0 overflow-hidden",children:o.jsx(Li,{className:"h-[600px]",children:o.jsxs(Xu,{className:"w-full",children:[o.jsx(Zu,{className:"sticky top-0 bg-gradient-to-r from-muted/80 to-muted/60 backdrop-blur-md z-10 border-b-2 border-border/30",children:o.jsxs(Si,{className:"hover:bg-transparent border-b border-border/20",children:[o.jsx(Qt,{className:"w-[30%] font-semibold text-foreground/90 py-4 px-6 text-left",children:"Metric Name"}),o.jsx(Qt,{className:"w-[25%] font-semibold text-foreground/90 py-4 px-6 text-left",children:"Label"}),o.jsx(Qt,{className:"w-[15%] font-semibold text-foreground/90 py-4 px-6 text-left",children:"Category"}),o.jsx(Qt,{className:"w-[15%] font-semibold text-foreground/90 py-4 px-6 text-left",children:"Type"}),o.jsx(Qt,{className:"text-right w-[15%] font-semibold text-foreground/90 py-4 px-6",children:"Actions"})]})}),o.jsx(Qu,{children:(t||[]).length===0?o.jsx(Si,{children:o.jsx(Rt,{colSpan:5,className:"text-center py-12 text-muted-foreground",children:o.jsxs("div",{className:"flex flex-col items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center",children:o.jsx(zi,{className:"w-6 h-6 text-muted-foreground"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"No metrics found"}),o.jsx("p",{className:"text-sm",children:"Try adjusting your filters or create a new metric."})]})]})})}):(t||[]).map((H,Z)=>o.jsxs(Si,{className:`
                              group transition-all duration-200 ease-in-out
                              hover:bg-gradient-to-r hover:from-muted/30 hover:to-muted/10 
                              hover:shadow-sm hover:scale-[1.002]
                              ${Z%2===0?"bg-background/50":"bg-muted/20"}
                              border-b border-border/30 last:border-b-0
                            `,children:[o.jsx(Rt,{className:"py-5 px-6",children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-semibold text-foreground group-hover:text-primary transition-colors",children:H.name}),o.jsx("div",{className:"text-sm text-muted-foreground line-clamp-2 leading-relaxed",children:H.description})]})}),o.jsx(Rt,{className:"py-5 px-6",children:o.jsx("div",{className:"font-medium text-foreground/90",children:H.label})}),o.jsx(Rt,{className:"py-5 px-6",children:o.jsx(Oe,{variant:"outline",className:"text-xs text-muted-foreground",children:P(H.categoryId)})}),o.jsx(Rt,{className:"py-5 px-6",children:o.jsx(Oe,{className:`
                                  px-3 py-1 text-xs font-medium rounded-full border-0 
                                  shadow-sm transition-all duration-200 group-hover:shadow-md
                                  ${L(H.type)}
                                `,children:H.type})}),o.jsx(Rt,{className:"py-5 px-6 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-70 group-hover:opacity-100 transition-opacity duration-200",children:[o.jsx(te,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-primary/10 hover:text-primary transition-all duration-200",onClick:()=>s(H),children:o.jsx(Vx,{size:16})}),o.jsx(te,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-blue-500/10 hover:text-blue-600 transition-all duration-200",onClick:()=>B(H),children:o.jsx(oa,{size:16})}),o.jsx(te,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-destructive/10 hover:text-destructive transition-all duration-200",onClick:()=>M(H.name),children:o.jsx(Uh,{size:16})})]})})]},H.name))})]})})})})]}),o.jsx(ur,{open:h,onOpenChange:f,children:o.jsxs(dr,{className:"max-w-2xl max-h-[90vh]",children:[o.jsxs(hr,{children:[o.jsx(fr,{children:"Edit Metric"}),o.jsx(mr,{children:"Modify basic information and configuration parameters of the metric."})]}),o.jsx(Li,{className:"max-h-[60vh] pr-4",children:o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Metric Name"}),o.jsx(Me,{value:y.name||"",onChange:H=>v({...y,name:H.target.value}),placeholder:"Enter metric name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Display Label"}),o.jsx(Me,{value:y.label||"",onChange:H=>v({...y,label:H.target.value}),placeholder:"Enter display label"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Description"}),o.jsx(Pn,{value:y.description||"",onChange:H=>v({...y,description:H.target.value}),placeholder:"Enter metric description",rows:3})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Metric Type"}),o.jsxs(Je,{value:y.type||"",onValueChange:H=>v({...y,type:H}),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Select type"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"simple",children:"Simple Metric"}),o.jsx(le,{value:"ratio",children:"Ratio Metric"}),o.jsx(le,{value:"derived",children:"Derived Metric"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Unit"}),o.jsx(Me,{value:y.unit||"",onChange:H=>v({...y,unit:H.target.value}),placeholder:"Enter unit"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Format"}),o.jsxs(Je,{value:y.format||"",onValueChange:H=>v({...y,format:H}),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Select format"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"number",children:"Number"}),o.jsx(le,{value:"currency",children:"Currency"}),o.jsx(le,{value:"percentage",children:"Percentage"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Category"}),o.jsxs(Je,{value:y.categoryId||"none",onValueChange:H=>v({...y,categoryId:H==="none"?void 0:H}),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Select category"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"none",children:"No Category"}),r&&r.length>0&&r.map(H=>o.jsx(le,{value:H.id,children:H.name},H.id))]})]})]})]}),o.jsx(wo,{}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Type-specific parameters vary by metric type."}),y.type==="derived"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Derived Metric Parameters"}),o.jsx(eG,{params:y.type_params||{},onChange:$})]}),y.type==="ratio"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Numerator"}),o.jsxs(Je,{value:((R=(z=y.type_params)==null?void 0:z.numerator)==null?void 0:R.name)||"",onValueChange:H=>{var Z,he,se,V,ie,ue,we,Se;return v({...y,type_params:{...y.type_params,numerator:{name:H,join_to_timespine:((he=(Z=y.type_params)==null?void 0:Z.numerator)==null?void 0:he.join_to_timespine)||!1,filter:(V=(se=y.type_params)==null?void 0:se.numerator)==null?void 0:V.filter,alias:(ue=(ie=y.type_params)==null?void 0:ie.numerator)==null?void 0:ue.alias,fill_nulls_with:(Se=(we=y.type_params)==null?void 0:we.numerator)==null?void 0:Se.fill_nulls_with}}})},children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Select numerator metric"})}),o.jsx(Qe,{children:t.map(H=>o.jsx(le,{value:H.name,children:H.label||H.name},H.name))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Denominator"}),o.jsxs(Je,{value:((Q=(G=y.type_params)==null?void 0:G.denominator)==null?void 0:Q.name)||"",onValueChange:H=>{var Z,he,se,V,ie,ue,we,Se;return v({...y,type_params:{...y.type_params,denominator:{name:H,join_to_timespine:((he=(Z=y.type_params)==null?void 0:Z.denominator)==null?void 0:he.join_to_timespine)||!1,filter:(V=(se=y.type_params)==null?void 0:se.denominator)==null?void 0:V.filter,alias:(ue=(ie=y.type_params)==null?void 0:ie.denominator)==null?void 0:ue.alias,fill_nulls_with:(Se=(we=y.type_params)==null?void 0:we.denominator)==null?void 0:Se.fill_nulls_with}}})},children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Select denominator metric"})}),o.jsx(Qe,{children:t.map(H=>o.jsx(le,{value:H.name,children:H.label||H.name},H.name))})]})]})]}),y.type==="simple"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Measure"}),o.jsx(Me,{value:((re=(oe=y.type_params)==null?void 0:oe.measure)==null?void 0:re.name)||"",onChange:H=>{var Z,he,se,V,ie,ue,we,Se;return v({...y,type_params:{...y.type_params,measure:{name:H.target.value,join_to_timespine:((he=(Z=y.type_params)==null?void 0:Z.measure)==null?void 0:he.join_to_timespine)||!1,filter:(V=(se=y.type_params)==null?void 0:se.measure)==null?void 0:V.filter,alias:(ue=(ie=y.type_params)==null?void 0:ie.measure)==null?void 0:ue.alias,fill_nulls_with:(Se=(we=y.type_params)==null?void 0:we.measure)==null?void 0:Se.fill_nulls_with}}})},placeholder:"Enter measure name"})]})]})}),o.jsxs(Hi,{children:[o.jsx(te,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),o.jsx(te,{onClick:D,children:"Save Changes"})]})]})}),o.jsx(ur,{open:m,onOpenChange:p,children:o.jsxs(dr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(hr,{children:[o.jsx(fr,{children:"Create New Metric"}),o.jsx(mr,{children:"Define a new business metric with its configuration parameters."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Metric Name *"}),o.jsx(Me,{value:b.name||"",onChange:H=>E({...b,name:H.target.value}),placeholder:"Enter metric name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Display Label *"}),o.jsx(Me,{value:b.label||"",onChange:H=>E({...b,label:H.target.value}),placeholder:"Enter display label"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Description"}),o.jsx(Pn,{value:b.description||"",onChange:H=>E({...b,description:H.target.value}),placeholder:"Enter metric description",rows:3})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Metric Type"}),o.jsxs(Je,{value:b.type||"",onValueChange:H=>E({...b,type:H}),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Select type"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"simple",children:"Simple Metric"}),o.jsx(le,{value:"ratio",children:"Ratio Metric"}),o.jsx(le,{value:"derived",children:"Derived Metric"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Unit"}),o.jsx(Me,{value:b.unit||"",onChange:H=>E({...b,unit:H.target.value}),placeholder:"Enter unit"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Format"}),o.jsxs(Je,{value:b.format||"",onValueChange:H=>E({...b,format:H}),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Select format"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"number",children:"Number"}),o.jsx(le,{value:"currency",children:"Currency"}),o.jsx(le,{value:"percentage",children:"Percentage"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Category"}),o.jsxs(Je,{value:b.categoryId||"none",onValueChange:H=>E({...b,categoryId:H==="none"?void 0:H}),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Select category"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"none",children:"No Category"}),r&&r.length>0&&r.map(H=>o.jsx(le,{value:H.id,children:H.name},H.id))]})]})]})]}),o.jsx(wo,{}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Configure parameters based on the selected metric type."}),b.type==="derived"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Derived Metric Parameters"}),o.jsx(eG,{params:b.type_params||{},onChange:U})]}),b.type==="ratio"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Numerator"}),o.jsxs(Je,{value:((ce=(pe=b.type_params)==null?void 0:pe.numerator)==null?void 0:ce.name)||"",onValueChange:H=>{var Z,he,se,V,ie,ue,we,Se;return E({...b,type_params:{...b.type_params,numerator:{name:H,join_to_timespine:((he=(Z=b.type_params)==null?void 0:Z.numerator)==null?void 0:he.join_to_timespine)||!1,filter:(V=(se=b.type_params)==null?void 0:se.numerator)==null?void 0:V.filter,alias:(ue=(ie=b.type_params)==null?void 0:ie.numerator)==null?void 0:ue.alias,fill_nulls_with:(Se=(we=b.type_params)==null?void 0:we.numerator)==null?void 0:Se.fill_nulls_with}}})},children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Select numerator metric"})}),o.jsx(Qe,{children:t.map(H=>o.jsx(le,{value:H.name,children:H.label||H.name},H.name))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Denominator"}),o.jsxs(Je,{value:((ye=(me=b.type_params)==null?void 0:me.denominator)==null?void 0:ye.name)||"",onValueChange:H=>{var Z,he,se,V,ie,ue,we,Se;return E({...b,type_params:{...b.type_params,denominator:{name:H,join_to_timespine:((he=(Z=b.type_params)==null?void 0:Z.denominator)==null?void 0:he.join_to_timespine)||!1,filter:(V=(se=b.type_params)==null?void 0:se.denominator)==null?void 0:V.filter,alias:(ue=(ie=b.type_params)==null?void 0:ie.denominator)==null?void 0:ue.alias,fill_nulls_with:(Se=(we=b.type_params)==null?void 0:we.denominator)==null?void 0:Se.fill_nulls_with}}})},children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Select denominator metric"})}),o.jsx(Qe,{children:t.map(H=>o.jsx(le,{value:H.name,children:H.label||H.name},H.name))})]})]})]}),b.type==="simple"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Measure"}),o.jsx(Me,{value:((Ae=(ae=b.type_params)==null?void 0:ae.measure)==null?void 0:Ae.name)||"",onChange:H=>{var Z,he,se,V,ie,ue,we,Se;return E({...b,type_params:{...b.type_params,measure:{name:H.target.value,join_to_timespine:((he=(Z=b.type_params)==null?void 0:Z.measure)==null?void 0:he.join_to_timespine)||!1,filter:(V=(se=b.type_params)==null?void 0:se.measure)==null?void 0:V.filter,alias:(ue=(ie=b.type_params)==null?void 0:ie.measure)==null?void 0:ue.alias,fill_nulls_with:(Se=(we=b.type_params)==null?void 0:we.measure)==null?void 0:Se.fill_nulls_with}}})},placeholder:"Enter measure name"})]})]}),o.jsxs(Hi,{children:[o.jsx(te,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),o.jsx(te,{onClick:W,children:"Create Metric"})]})]})}),t.length===0&&o.jsx(Pe,{children:o.jsxs(De,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(zi,{className:"h-12 w-12 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No metrics found"}),o.jsx("p",{className:"text-muted-foreground text-center mb-4",children:C.searchTerm||C.category!=="all"||C.type!=="all"?"No metrics match the filter criteria.":"Get started by creating your first business metric."}),!C.searchTerm&&C.category==="all"&&C.type==="all"&&o.jsxs(te,{onClick:I,children:[o.jsx(or,{size:16,className:"mr-2"}),"Create First Metric"]})]})}),a&&o.jsx(ur,{open:!!a,onOpenChange:()=>s(null),children:o.jsxs(dr,{className:"max-w-2xl max-h-[80vh]",children:[o.jsxs(hr,{children:[o.jsx(fr,{children:a.label}),o.jsx(mr,{children:a.description})]}),o.jsx(Li,{className:"max-h-[60vh] pr-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Metric Name"}),o.jsx("div",{className:"mt-1 p-2 bg-muted rounded font-mono text-sm",children:a.name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Type"}),o.jsx("div",{className:"mt-1",children:o.jsx(Oe,{className:L(a.type),children:a.type})})]})]}),o.jsx(wo,{}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Type Parameters"}),o.jsx("div",{className:"mt-1 p-3 bg-muted rounded",children:o.jsx("pre",{className:"text-sm overflow-x-auto",children:JSON.stringify(a.type_params,null,2)})})]}),a.unit&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Unit"}),o.jsx("div",{className:"mt-1 p-2 bg-muted rounded text-sm",children:a.unit})]}),a.format&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Format"}),o.jsx("div",{className:"mt-1 p-2 bg-muted rounded text-sm",children:a.format})]})]})})]})})]})]})]})};var E5=(e=>(e.POSTGRES="postgres",e.DUCKDB="duckdb",e.MYSQL="mysql",e.SQLITE="sqlite",e))(E5||{});const tG={postgres:{type:"postgres",host:"127.0.0.1",port:5432,user:"postgres",dbname:"postgres",schema:"public",threads:4,keepalives_idle:0,connect_timeout:10,retries:1},duckdb:{type:"duckdb",path:"./data/database.duckdb"},mysql:{type:"mysql",host:"127.0.0.1",port:3306,user:"root",dbname:"database"},sqlite:{type:"sqlite",path:"./data/database.sqlite"}},hIt=async()=>{const e=await fetch(`${Ke}/profile`,{method:"GET",headers:tt()});return console.log("getTenantDataProfile response:",e),await e.json()},fIt=async e=>{const t=await fetch(`${Ke}/profile`,{method:"POST",headers:{...tt(),"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to create data profile: ${t.status} ${t.statusText}`);return await t.json()},mIt=async(e,t)=>{const n=await fetch(`${Ke}/data-profiles/${e}`,{method:"PUT",headers:{...tt(),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`Failed to update data profile: ${n.status} ${n.statusText}`);return await n.json()},pIt=async e=>{const t=await fetch(`${Ke}/data-profiles/test-connection`,{method:"POST",headers:{...tt(),"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to test connection: ${t.status} ${t.statusText}`);return await t.json()},gIt=e=>{const t={name:e.name,target:e.target,outputs:e.outputs};return JSON.stringify(t,null,2)},yIt=e=>{try{const t=JSON.parse(e);if(!t.name||!t.target||!t.outputs)throw new Error("Invalid data profile format");return{name:t.name,target:t.target,outputs:t.outputs}}catch(t){throw new Error("Failed to parse JSON: "+t.message)}};class ea{static profileToFormData(t){const n=Object.values(t.outputs)[0];return{name:t.name,target:t.target,output:n}}static formDataToProfile(t){return{name:t.name,target:t.target,outputs:{[t.target]:t.output}}}static updateFormOutput(t,n,r){return{...t,output:{...t.output,[n]:r}}}static getDefaultTemplate(t){return{...tG[t]}}static downloadProfile(t){const n=gIt(t),r=new Blob([n],{type:"application/json"}),i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=`${t.name}_profile.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)}static async importProfileFromFile(t){return new Promise((n,r)=>{const i=new FileReader;i.onload=a=>{var s;try{const l=(s=a.target)==null?void 0:s.result,c=yIt(l),u=this.profileToFormData(c);n(u)}catch(l){r(new Error("Failed to import profile: "+l.message))}},i.onerror=()=>{r(new Error("Failed to read file"))},i.readAsText(t)})}static validateFormData(t){var r,i,a,s;const n=[];return t.name.trim()||n.push("Profile name is required"),t.target.trim()||n.push("Target environment is required"),t.output.type||n.push("Database type is required"),t.output.type!=="duckdb"&&t.output.type!=="sqlite"?((r=t.output.host)!=null&&r.trim()||n.push("Host is required for this database type"),(i=t.output.user)!=null&&i.trim()||n.push("Username is required for this database type"),(a=t.output.dbname)!=null&&a.trim()||n.push("Database name is required for this database type")):(s=t.output.path)!=null&&s.trim()||n.push("File path is required for this database type"),{isValid:n.length===0,errors:n}}static formatConnectionResult(t,n){return{success:t,message:n||(t?"Connection successful":"Connection failed")}}static isFileDatabase(t){return t==="duckdb"||t==="sqlite"}static getDatabaseDisplayName(t){return t.toUpperCase()}static getDefaultFormData(){return{name:"default",target:"dev",output:{...tG[E5.POSTGRES]}}}static cloneFormData(t){return JSON.parse(JSON.stringify(t))}static isFormDataEqual(t,n){return JSON.stringify(t)===JSON.stringify(n)}}const xIt=()=>{const{collapsed:e}=Tr(),[t,n]=w.useState(null),[r,i]=w.useState(!0),[a,s]=w.useState(!1),[l,c]=w.useState(ea.getDefaultFormData()),[u,d]=w.useState(!1),[h,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{g()},[]);const g=async()=>{try{i(!0);const E=await hIt();E?(n(E),c(ea.profileToFormData(E))):(n(null),c(ea.getDefaultFormData()))}catch(E){console.error("Failed to load profiles:",E),p(ea.formatConnectionResult(!1,"Failed to load profiles"))}finally{i(!1)}},x=async()=>{const E=ea.validateFormData(l);if(!E.isValid){p(ea.formatConnectionResult(!1,E.errors.join(", ")));return}try{s(!0);const _=ea.formDataToProfile(l);if(t){const S=await mIt(t.id,_);n(S)}else{const S=await fIt(_);n(S)}p(ea.formatConnectionResult(!0,"Profile saved successfully!"))}catch(_){console.error("Failed to save profile:",_),p(ea.formatConnectionResult(!1,"Failed to save profile"))}finally{s(!1)}},y=(E,_)=>{c(ea.updateFormOutput(l,E,_))},v=async()=>{f(!0);try{const E=await pIt(l.output);p(E)}catch{p(ea.formatConnectionResult(!1,"Connection test failed"))}finally{f(!1)}},b=()=>{d(!u)};return o.jsxs("div",{className:Be("min-h-screen flex flex-col transition-all duration-300",e?"ml-[80px]":"ml-[224px]"),children:[o.jsx(ir,{}),o.jsx(Xn,{}),o.jsx("main",{className:"flex-1 p-6",children:r?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Data Profile Configuration"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Configure your database connection settings"})]})}),o.jsxs("div",{className:"bg-white rounded-lg shadow border p-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Name"}),o.jsx("input",{type:"text",value:l.name,onChange:E=>c({...l,name:E.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Enter profile name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Environment"}),o.jsx("input",{type:"text",value:l.target,onChange:E=>c({...l,target:E.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"e.g., dev, prod"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Database Configuration"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:v,disabled:h,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50",children:[o.jsx(ND,{className:"h-4 w-4"}),h?"Testing...":"Test Connection"]}),o.jsxs("button",{onClick:x,disabled:a,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50",children:[o.jsx(xu,{className:"h-4 w-4"}),a?"Saving...":t?"Update Profile":"Create Profile"]})]})]}),m&&o.jsx("div",{className:`mb-4 p-3 rounded-lg text-sm ${m.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.message}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Database Type"}),o.jsx("select",{value:l.output.type,onChange:E=>{const _=ea.getDefaultTemplate(E.target.value);c({...l,output:_})},className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:Object.values(E5).map(E=>o.jsx("option",{value:E,children:ea.getDatabaseDisplayName(E)},E))})]}),!ea.isFileDatabase(l.output.type)&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Host"}),o.jsx("input",{type:"text",value:l.output.host||"",onChange:E=>y("host",E.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"localhost"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Port"}),o.jsx("input",{type:"number",value:l.output.port||"",onChange:E=>y("port",parseInt(E.target.value)),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"5432"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),o.jsx("input",{type:"text",value:l.output.user||"",onChange:E=>y("user",E.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"postgres"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:u?"text":"password",value:l.output.password||"",onChange:E=>y("password",E.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 pr-10",placeholder:"Enter password"}),o.jsx("button",{type:"button",onClick:b,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:u?o.jsx(Vbe,{className:"h-4 w-4"}):o.jsx(Vx,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Database Name"}),o.jsx("input",{type:"text",value:l.output.dbname||"",onChange:E=>y("dbname",E.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"postgres"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Schema"}),o.jsx("input",{type:"text",value:l.output.schema||"",onChange:E=>y("schema",E.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"public"})]})]}),ea.isFileDatabase(l.output.type)&&o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"File Path"}),o.jsx("input",{type:"text",value:l.output.path||"",onChange:E=>y("path",E.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"./data/database.duckdb"})]})]})]})]})]})})]})};var cn=(e=>(e.DRAFT="draft",e.ACTIVE="active",e.DEPRECATED="deprecated",e.RETIRED="retired",e))(cn||{}),Rs=(e=>(e.PUBLIC="public",e.PRIVATE="private",e.INTERNAL="internal",e))(Rs||{}),_r=(e=>(e.DATASET="dataset",e.API="api",e.STREAM="stream",e.MODEL="model",e))(_r||{}),rh=(e=>(e.SOURCE_ALIGNED="source-aligned",e.CONSUMER_ALIGNED="consumer-aligned",e.AGGREGATE="aggregate",e))(rh||{}),nl=(e=>(e.BRONZE="bronze",e.SILVER="silver",e.GOLD="gold",e))(nl||{});const wi=[{product:{en:{name:"Customer Demographics Dataset",productID:"customer-demographics-001",visibility:Rs.INTERNAL,status:cn.ACTIVE,type:_r.DATASET,description:"Comprehensive customer demographic data including age, location, and preferences",version:"1.2.0",archetype:rh.SOURCE_ALIGNED,owner:"Data Analytics Team",domain:"Customer Intelligence",tags:["demographics","customer","analytics","segmentation"]}},dataHolder:{name:"Alice Johnson",email:"alice.johnson@company.com",role:"Data Product Owner",telephone:"+1-555-0123"},outputPorts:[{id:"customer-demo-csv",name:"Customer Demographics CSV",description:"CSV export of customer demographic data",type:"CSV",status:cn.ACTIVE,location:"s3://data-lake/customer-demographics/",containsPii:!0,dataQuality:nl.GOLD,format:"CSV",tags:["csv","export"]},{id:"customer-demo-api",name:"Customer Demographics API",description:"REST API for accessing customer demographic data",type:"REST API",status:cn.ACTIVE,location:"https://api.company.com/v1/customer-demographics",containsPii:!0,dataQuality:nl.GOLD,format:"JSON",tags:["api","rest"]}],sla:{availability:99.9,responseTime:200,throughput:1e3,healthStatus:"healthy",lastUpdated:"2024-01-15T10:30:00Z"},pricingPlans:[{id:"basic",name:"Basic Access",description:"Limited access to customer demographics",price:0,currency:"USD",billingPeriod:"free",features:["Read-only access","Up to 1000 records/month"]},{id:"premium",name:"Premium Access",description:"Full access to customer demographics with advanced features",price:299,currency:"USD",billingPeriod:"monthly",features:["Full read/write access","Unlimited records","Real-time updates","Priority support"]}],license:{name:"Internal Use Only",description:"Data is for internal company use only",permissions:["read","analyze"],limitations:["no-redistribution","internal-only"],conditions:["attribution-required"]},links:{documentation:"https://docs.company.com/data-products/customer-demographics",repository:"https://github.com/company/customer-demographics-dp",support:"https://support.company.com/data-products"},createdAt:"2023-06-15T08:00:00Z",updatedAt:"2024-01-15T10:30:00Z"},{product:{en:{name:"Insurance Claims Prediction Model",productID:"claims-prediction-ml-001",visibility:Rs.PRIVATE,status:cn.ACTIVE,type:_r.MODEL,description:"Machine learning model for predicting insurance claim likelihood and amounts",version:"2.1.0",archetype:rh.CONSUMER_ALIGNED,owner:"ML Engineering Team",domain:"Risk Assessment",tags:["machine-learning","prediction","claims","risk-assessment"]}},dataHolder:{name:"Bob Chen",email:"bob.chen@company.com",role:"ML Engineer",telephone:"+1-555-0456"},outputPorts:[{id:"claims-prediction-api",name:"Claims Prediction API",description:"REST API for claims prediction inference",type:"ML API",status:cn.ACTIVE,location:"https://ml-api.company.com/v2/claims-prediction",containsPii:!1,dataQuality:nl.GOLD,format:"JSON",tags:["ml","api","prediction"]}],inputPorts:[{id:"claims-training-data",name:"Claims Training Data",description:"Historical claims data for model training",type:"Dataset",status:cn.ACTIVE,location:"s3://ml-data/claims-training/",format:"Parquet",tags:["training","historical"]}],sla:{availability:99.95,responseTime:150,throughput:500,healthStatus:"healthy",lastUpdated:"2024-01-16T14:20:00Z"},pricingPlans:[{id:"enterprise",name:"Enterprise ML Access",description:"Full access to ML prediction models",price:1999,currency:"USD",billingPeriod:"monthly",features:["Unlimited predictions","Custom model training","24/7 support","SLA guarantee"]}],license:{name:"Proprietary",description:"Proprietary machine learning model",permissions:["inference"],limitations:["no-reverse-engineering","no-redistribution"],conditions:["commercial-use-only"]},createdAt:"2023-09-20T12:00:00Z",updatedAt:"2024-01-16T14:20:00Z"},{product:{en:{name:"Real-time Policy Events Stream",productID:"policy-events-stream-001",visibility:Rs.INTERNAL,status:cn.ACTIVE,type:_r.STREAM,description:"Real-time stream of policy lifecycle events including creation, updates, and cancellations",version:"1.0.0",archetype:rh.SOURCE_ALIGNED,owner:"Platform Engineering Team",domain:"Policy Management",tags:["real-time","events","policy","streaming"]}},dataHolder:{name:"Carol Davis",email:"carol.davis@company.com",role:"Platform Engineer"},outputPorts:[{id:"policy-events-kafka",name:"Policy Events Kafka Topic",description:"Kafka topic containing real-time policy events",type:"Kafka",status:cn.ACTIVE,location:"kafka://kafka.company.com:9092/policy-events",containsPii:!0,dataQuality:nl.SILVER,format:"Avro",tags:["kafka","streaming","avro"]}],sla:{availability:99.99,responseTime:50,throughput:1e4,healthStatus:"healthy",lastUpdated:"2024-01-16T16:45:00Z"},createdAt:"2023-11-10T09:30:00Z",updatedAt:"2024-01-16T16:45:00Z"},{product:{en:{name:"Market Research API",productID:"market-research-api-001",visibility:Rs.PUBLIC,status:cn.ACTIVE,type:_r.API,description:"Public API providing insurance market trends and competitive analysis",version:"1.5.0",archetype:rh.CONSUMER_ALIGNED,owner:"Business Intelligence Team",domain:"Market Intelligence",tags:["market-research","trends","competitive-analysis","public"]}},dataHolder:{name:"David Wilson",email:"david.wilson@company.com",role:"BI Analyst"},outputPorts:[{id:"market-trends-api",name:"Market Trends API",description:"REST API for market trends data",type:"REST API",status:cn.ACTIVE,location:"https://public-api.company.com/v1/market-trends",containsPii:!1,dataQuality:nl.SILVER,format:"JSON",tags:["api","public","trends"]}],sla:{availability:99.5,responseTime:300,throughput:2e3,healthStatus:"healthy",lastUpdated:"2024-01-16T11:15:00Z"},pricingPlans:[{id:"free-tier",name:"Free Tier",description:"Limited access to market research data",price:0,currency:"USD",billingPeriod:"free",features:["100 API calls/day","Basic market trends"]},{id:"professional",name:"Professional",description:"Enhanced access with detailed analytics",price:99,currency:"USD",billingPeriod:"monthly",features:["10,000 API calls/day","Detailed analytics","Historical data"]}],license:{name:"Creative Commons Attribution",url:"https://creativecommons.org/licenses/by/4.0/",description:"Data can be used with attribution",permissions:["read","distribute","modify"],conditions:["attribution-required"]},createdAt:"2023-08-05T14:20:00Z",updatedAt:"2024-01-16T11:15:00Z"},{product:{en:{name:"Legacy Claims Database",productID:"legacy-claims-db-001",visibility:Rs.INTERNAL,status:cn.DEPRECATED,type:_r.DATASET,description:"Legacy claims database - being migrated to new system",version:"0.9.0",archetype:rh.SOURCE_ALIGNED,owner:"Legacy Systems Team",domain:"Claims Processing",tags:["legacy","claims","deprecated","migration"]}},dataHolder:{name:"Eve Martinez",email:"eve.martinez@company.com",role:"Legacy Systems Maintainer"},outputPorts:[{id:"legacy-claims-export",name:"Legacy Claims Export",description:"Batch export from legacy claims system",type:"Database Export",status:cn.DEPRECATED,location:"ftp://legacy.company.com/claims-export/",containsPii:!0,dataQuality:nl.BRONZE,format:"XML",tags:["legacy","batch","xml"]}],sla:{availability:95,responseTime:5e3,throughput:10,healthStatus:"degraded",lastUpdated:"2024-01-10T08:00:00Z"},createdAt:"2020-03-15T10:00:00Z",updatedAt:"2024-01-10T08:00:00Z"}],vIt={totalProducts:wi.length,activeProducts:wi.filter(e=>e.product.en.status===cn.ACTIVE).length,totalDomains:[...new Set(wi.map(e=>e.product.en.domain).filter(Boolean))].length,totalOwners:[...new Set(wi.map(e=>e.product.en.owner).filter(Boolean))].length,productsByType:{[_r.DATASET]:wi.filter(e=>e.product.en.type===_r.DATASET).length,[_r.API]:wi.filter(e=>e.product.en.type===_r.API).length,[_r.STREAM]:wi.filter(e=>e.product.en.type===_r.STREAM).length,[_r.MODEL]:wi.filter(e=>e.product.en.type===_r.MODEL).length},productsByStatus:{[cn.DRAFT]:wi.filter(e=>e.product.en.status===cn.DRAFT).length,[cn.ACTIVE]:wi.filter(e=>e.product.en.status===cn.ACTIVE).length,[cn.DEPRECATED]:wi.filter(e=>e.product.en.status===cn.DEPRECATED).length,[cn.RETIRED]:wi.filter(e=>e.product.en.status===cn.RETIRED).length},productsByQuality:{[nl.BRONZE]:1,[nl.SILVER]:2,[nl.GOLD]:2}};class bIt{constructor(){ot(this,"baseUrl","http://localhost:3030")}async getDataProducts(t){var n,r,i,a,s,l,c,u;try{await new Promise(y=>setTimeout(y,500));let d=[...wi];if(t!=null&&t.filter){const{filter:y}=t;if((n=y.status)!=null&&n.length&&(d=d.filter(v=>y.status.includes(v.product.en.status))),(r=y.type)!=null&&r.length&&(d=d.filter(v=>y.type.includes(v.product.en.type))),(i=y.domain)!=null&&i.length&&(d=d.filter(v=>v.product.en.domain&&y.domain.includes(v.product.en.domain))),(a=y.owner)!=null&&a.length&&(d=d.filter(v=>v.product.en.owner&&y.owner.includes(v.product.en.owner))),(s=y.visibility)!=null&&s.length&&(d=d.filter(v=>y.visibility.includes(v.product.en.visibility))),(l=y.tags)!=null&&l.length&&(d=d.filter(v=>{var b;return(b=v.product.en.tags)==null?void 0:b.some(E=>y.tags.includes(E))})),y.searchQuery){const v=y.searchQuery.toLowerCase();d=d.filter(b=>{var E,_;return b.product.en.name.toLowerCase().includes(v)||((E=b.product.en.description)==null?void 0:E.toLowerCase().includes(v))||((_=b.product.en.tags)==null?void 0:_.some(S=>S.toLowerCase().includes(v)))})}}if(t!=null&&t.sort){const{field:y,direction:v}=t.sort;d.sort((b,E)=>{let _,S;switch(y){case"name":_=b.product.en.name,S=E.product.en.name;break;case"createdAt":_=new Date(b.createdAt||0),S=new Date(E.createdAt||0);break;case"updatedAt":_=new Date(b.updatedAt||0),S=new Date(E.updatedAt||0);break;default:_=b.product.en.name,S=E.product.en.name}return v==="desc"?_>S?-1:_<S?1:0:_<S?-1:_>S?1:0})}const h=((c=t==null?void 0:t.pagination)==null?void 0:c.page)||1,f=((u=t==null?void 0:t.pagination)==null?void 0:u.pageSize)||10,m=(h-1)*f,p=m+f,g=d.slice(m,p),x={domains:this.generateFacets(d,y=>y.product.en.domain),owners:this.generateFacets(d,y=>y.product.en.owner),types:this.generateTypeFacets(d),tags:this.generateTagFacets(d)};return{products:g,pagination:{page:h,pageSize:f,total:d.length},facets:x}}catch(d){throw console.error("Error fetching data products:",d),new Error("Failed to fetch data products")}}async getDataProduct(t){try{return await new Promise(r=>setTimeout(r,300)),wi.find(r=>r.product.en.productID===t)||null}catch(n){throw console.error("Error fetching data product:",n),new Error("Failed to fetch data product")}}async updateDataProduct(t,n){var r;try{await new Promise(l=>setTimeout(l,500));const i=wi.findIndex(l=>l.product.en.productID===t);if(i===-1)throw new Error(`Product with ID ${t} not found`);const a=wi[i],s={...a,...n,product:{...a.product,en:{...a.product.en,...((r=n.product)==null?void 0:r.en)||{}}},dataHolder:{...a.dataHolder,...n.dataHolder||{}},links:{...a.links,...n.links||{}},updatedAt:new Date().toISOString()};return wi[i]=s,s}catch(i){throw console.error("Error updating data product:",i),new Error("Failed to update data product")}}async getDataCatalogStats(){try{return await new Promise(t=>setTimeout(t,200)),vIt}catch(t){throw console.error("Error fetching data catalog stats:",t),new Error("Failed to fetch data catalog stats")}}async searchDataProducts(t){const n={filter:{searchQuery:t},pagination:{page:1,pageSize:50,total:0}};return(await this.getDataProducts(n)).products}generateFacets(t,n){const r=new Map;return t.forEach(i=>{const a=n(i);if(a){const s=String(a);r.set(s,(r.get(s)||0)+1)}}),Array.from(r.entries()).map(([i,a])=>({name:i,count:a})).sort((i,a)=>a.count-i.count)}generateTypeFacets(t){const n=new Map;return t.forEach(r=>{const i=r.product.en.type;n.set(i,(n.get(i)||0)+1)}),Array.from(n.entries()).map(([r,i])=>({type:r,count:i})).sort((r,i)=>i.count-r.count)}generateTagFacets(t){const n=new Map;return t.forEach(r=>{var i;(i=r.product.en.tags)==null||i.forEach(a=>{n.set(a,(n.get(a)||0)+1)})}),Array.from(n.entries()).map(([r,i])=>({tag:r,count:i})).sort((r,i)=>i.count-r.count)}}const tE=new bIt,wIt=()=>{const{collapsed:e}=Tr(),[t,n]=w.useState([]),[r,i]=w.useState(null),[a,s]=w.useState(!0),[l,c]=w.useState(""),[u,d]=w.useState(null),[h,f]=w.useState(null),[m,p]=w.useState({}),[g,x]=w.useState(!1),[y,v]=w.useState("grid"),[b,E]=w.useState("relevance"),[_,S]=w.useState({search:"",status:"",type:"",domain:"",visibility:""}),[C,T]=w.useState(!1);w.useEffect(()=>{j()},[]),w.useEffect(()=>{const R=setTimeout(()=>{l.trim().length!==0&&k()},400);return()=>clearTimeout(R)},[l]);const j=async()=>{try{s(!0);const[R,G]=await Promise.all([tE.getDataProducts(),tE.getDataCatalogStats()]);n(R.products),i(G)}catch(R){console.error("Failed to load data:",R)}finally{s(!1)}},k=async()=>{try{s(!0);const R={filter:{searchQuery:_.search||l,status:_.status?[_.status]:void 0,type:_.type?[_.type]:void 0,domain:_.domain?[_.domain]:void 0,visibility:_.visibility?[_.visibility]:void 0},pagination:{page:1,pageSize:50,total:0}},G=await tE.getDataProducts(R);n(G.products)}catch(R){console.error("Failed to apply filters:",R)}finally{s(!1)}},O=()=>{S({search:"",status:"",type:"",domain:"",visibility:""}),c(""),j()},M=R=>{var G,Q,oe,re,pe,ce,me;f(R),p({name:R.product.en.name,description:R.product.en.description||"",version:R.product.en.version||"",status:R.product.en.status,type:R.product.en.type,visibility:R.product.en.visibility,archetype:R.product.en.archetype||rh.SOURCE_ALIGNED,owner:R.product.en.owner||"",domain:R.product.en.domain||"",tags:((G=R.product.en.tags)==null?void 0:G.join(", "))||"",dataHolderName:((Q=R.dataHolder)==null?void 0:Q.name)||"",dataHolderEmail:((oe=R.dataHolder)==null?void 0:oe.email)||"",dataHolderRole:((re=R.dataHolder)==null?void 0:re.role)||"",documentationLink:((pe=R.links)==null?void 0:pe.documentation)||"",repositoryLink:((ce=R.links)==null?void 0:ce.repository)||"",supportLink:((me=R.links)==null?void 0:me.support)||""}),x(!0)},B=async()=>{var R,G,Q,oe,re,pe;if(h)try{const ce={product:{en:{productID:h.product.en.productID,name:m.name||h.product.en.name,description:m.description||h.product.en.description,version:m.version||h.product.en.version,status:m.status||h.product.en.status,type:m.type||h.product.en.type,visibility:m.visibility||h.product.en.visibility,archetype:m.archetype||h.product.en.archetype,owner:m.owner||h.product.en.owner,domain:m.domain||h.product.en.domain,tags:m.tags?m.tags.split(",").map(ye=>ye.trim()).filter(Boolean):h.product.en.tags}},dataHolder:{name:m.dataHolderName||((R=h.dataHolder)==null?void 0:R.name),email:m.dataHolderEmail||((G=h.dataHolder)==null?void 0:G.email),role:m.dataHolderRole||((Q=h.dataHolder)==null?void 0:Q.role)},links:{documentation:m.documentationLink||((oe=h.links)==null?void 0:oe.documentation),repository:m.repositoryLink||((re=h.links)==null?void 0:re.repository),support:m.supportLink||((pe=h.links)==null?void 0:pe.support)}},me=await tE.updateDataProduct(h.product.en.productID,ce);n(ye=>ye.map(ae=>ae.product.en.productID===h.product.en.productID?me:ae)),x(!1),f(null),p({})}catch(ce){console.error("Failed to update product:",ce)}},N=()=>{x(!1),f(null),p({})},D=R=>{switch(R){case cn.ACTIVE:return"bg-green-100 text-green-800";case cn.DEPRECATED:return"bg-yellow-100 text-yellow-800";case cn.DRAFT:return"bg-blue-100 text-blue-800";case cn.RETIRED:return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},P=({title:R,value:G,icon:Q,trend:oe})=>o.jsx(Pe,{className:"transition-all hover:shadow-sm",children:o.jsx(De,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:R}),o.jsx("p",{className:"text-2xl font-bold",children:G}),oe&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:oe})]}),o.jsx(Q,{className:"h-8 w-8 text-muted-foreground"})]})})}),L=({product:R})=>{var Q,oe;const G=R.product.en;return o.jsxs(Pe,{className:"hover:shadow-md transition-all cursor-pointer border-muted/60",children:[o.jsx(Ye,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(dt,{className:"text-lg",children:G.name}),o.jsx(hn,{className:"mt-1 line-clamp-2",children:G.description})]}),o.jsx(Oe,{className:D(G.status),children:G.status})]})}),o.jsx(De,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(rX,{className:"h-4 w-4"}),o.jsx("span",{children:G.owner||"Unknown"})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(nd,{className:"h-4 w-4"}),o.jsx("span",{children:R.createdAt?new Date(R.createdAt).toLocaleDateString():"N/A"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(Oe,{variant:"outline",children:G.type}),o.jsx(Oe,{variant:"outline",children:G.domain}),(Q=G.tags)==null?void 0:Q.slice(0,2).map((re,pe)=>o.jsx(Oe,{variant:"secondary",className:"text-xs",children:re},pe))]}),o.jsxs("div",{className:"flex items-center gap-1",children:[((oe=R.links)==null?void 0:oe.documentation)&&o.jsx(te,{asChild:!0,variant:"ghost",size:"sm",children:o.jsx("a",{href:R.links.documentation,target:"_blank",rel:"noreferrer",children:o.jsx(V6,{className:"h-4 w-4"})})}),o.jsx(te,{variant:"ghost",size:"sm",onClick:()=>M(R),title:"Edit product",children:o.jsx(oa,{className:"h-4 w-4"})}),o.jsxs(ur,{children:[o.jsx(zS,{asChild:!0,children:o.jsx(te,{variant:"ghost",size:"sm",onClick:()=>d(R),children:o.jsx(Vx,{className:"h-4 w-4"})})}),o.jsxs(dr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(hr,{children:[o.jsx(fr,{children:G.name}),o.jsx(mr,{children:G.description})]}),o.jsx(U,{product:R})]})]})]})]})]})})]})},I=({product:R})=>{var Q;const G=R.product.en;return o.jsx(Pe,{className:"hover:shadow-sm transition-shadow",children:o.jsx(De,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h3",{className:"font-medium",children:G.name}),o.jsx(Oe,{className:D(G.status),children:G.status}),o.jsx(Oe,{variant:"outline",children:G.type})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-1",children:G.description}),o.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[o.jsx("span",{children:G.owner||"Unknown"}),o.jsx("span",{children:G.domain}),o.jsx("span",{children:R.createdAt?new Date(R.createdAt).toLocaleDateString():"N/A"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[((Q=R.links)==null?void 0:Q.documentation)&&o.jsx(te,{asChild:!0,variant:"ghost",size:"sm",children:o.jsx("a",{href:R.links.documentation,target:"_blank",rel:"noreferrer",children:o.jsx(V6,{className:"h-4 w-4"})})}),o.jsx(te,{variant:"ghost",size:"sm",onClick:()=>M(R),title:"Edit product",children:o.jsx(oa,{className:"h-4 w-4"})}),o.jsxs(ur,{children:[o.jsx(zS,{asChild:!0,children:o.jsx(te,{variant:"ghost",size:"sm",onClick:()=>d(R),children:o.jsx(Vx,{className:"h-4 w-4"})})}),o.jsxs(dr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(hr,{children:[o.jsx(fr,{children:G.name}),o.jsx(mr,{children:G.description})]}),o.jsx(U,{product:R})]})]})]})]})})})},U=({product:R})=>{var Q,oe,re,pe,ce,me,ye,ae,Ae,H;const G=R.product.en;return o.jsxs(Oo,{defaultValue:"overview",className:"w-full",children:[o.jsxs(Us,{className:"grid w-full grid-cols-4",children:[o.jsx(Xt,{value:"overview",children:"Overview"}),o.jsx(Xt,{value:"schema",children:"Schema"}),o.jsx(Xt,{value:"quality",children:"Quality"}),o.jsx(Xt,{value:"access",children:"Access"})]}),o.jsxs(Zt,{value:"overview",className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Basic Information"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Version:"})," ",G.version||"N/A"]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Status:"})," ",G.status]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Type:"})," ",G.type]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Domain:"})," ",G.domain||"N/A"]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Visibility:"})," ",G.visibility]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Owner Information"}),o.jsxs("div",{className:"space-y-1 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Name:"})," ",((Q=R.dataHolder)==null?void 0:Q.name)||G.owner||"N/A"]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Email:"})," ",((oe=R.dataHolder)==null?void 0:oe.email)||"N/A"]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Role:"})," ",((re=R.dataHolder)==null?void 0:re.role)||"N/A"]})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Tags"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:((pe=G.tags)==null?void 0:pe.map((Z,he)=>o.jsx(Oe,{variant:"secondary",className:"text-xs",children:Z},he)))||o.jsx("span",{className:"text-sm text-muted-foreground",children:"No tags"})})]})]}),o.jsxs(Zt,{value:"schema",className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Input Ports"}),((ce=R.inputPorts)==null?void 0:ce.map((Z,he)=>o.jsx(Pe,{className:"mb-2",children:o.jsxs(De,{className:"p-3",children:[o.jsx("div",{className:"font-medium",children:Z.name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:Z.description}),o.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Format: ",Z.format]})]})},he)))||o.jsx("span",{className:"text-sm text-muted-foreground",children:"No input ports"})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Output Ports"}),((me=R.outputPorts)==null?void 0:me.map((Z,he)=>o.jsx(Pe,{className:"mb-2",children:o.jsxs(De,{className:"p-3",children:[o.jsx("div",{className:"font-medium",children:Z.name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:Z.description}),o.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Format: ",Z.format]})]})},he)))||o.jsx("span",{className:"text-sm text-muted-foreground",children:"No output ports"})]})]}),o.jsx(Zt,{value:"quality",className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Pe,{children:o.jsx(De,{className:"p-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold",children:"N/A"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Quality Score"})]})})}),o.jsx(Pe,{children:o.jsx(De,{className:"p-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Oe,{variant:"outline",children:"Not Assessed"}),o.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Quality Level"})]})})})]})}),o.jsx(Zt,{value:"access",className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Related Links"}),o.jsxs("div",{className:"space-y-2",children:[((ye=R.links)==null?void 0:ye.documentation)&&o.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Documentation"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:R.links.documentation})]}),o.jsx(Oe,{variant:"outline",children:"Documentation"})]}),((ae=R.links)==null?void 0:ae.repository)&&o.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Repository"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:R.links.repository})]}),o.jsx(Oe,{variant:"outline",children:"Repository"})]}),!((Ae=R.links)!=null&&Ae.documentation)&&!((H=R.links)!=null&&H.repository)&&o.jsx("span",{className:"text-sm text-muted-foreground",children:"No access endpoints"})]})]})})]})},$=!!(_.status||_.type||_.domain||_.visibility||l),W=q.useMemo(()=>{const R=[...t];return b==="name"?R.sort((G,Q)=>(G.product.en.name||"").localeCompare(Q.product.en.name||"")):b==="createdAt"?R.sort((G,Q)=>{const oe=G.createdAt?new Date(G.createdAt).getTime():0;return(Q.createdAt?new Date(Q.createdAt).getTime():0)-oe}):R},[t,b]),z=()=>o.jsx(ur,{open:g,onOpenChange:x,children:o.jsxs(dr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(hr,{children:[o.jsx(fr,{children:"Edit Data Product"}),o.jsx(mr,{children:"Modify the basic information and configuration of the data product"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Oo,{defaultValue:"basic",className:"w-full",children:[o.jsxs(Us,{className:"grid w-full grid-cols-3",children:[o.jsx(Xt,{value:"basic",children:"Basic Info"}),o.jsx(Xt,{value:"contact",children:"Contact"}),o.jsx(Xt,{value:"links",children:"Links"})]}),o.jsxs(Zt,{value:"basic",className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"name",children:"Product Name"}),o.jsx(Me,{id:"name",value:m.name||"",onChange:R=>p(G=>({...G,name:R.target.value})),placeholder:"Enter product name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"version",children:"Version"}),o.jsx(Me,{id:"version",value:m.version||"",onChange:R=>p(G=>({...G,version:R.target.value})),placeholder:"e.g., 1.0.0"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"description",children:"Description"}),o.jsx(Pn,{id:"description",value:m.description||"",onChange:R=>p(G=>({...G,description:R.target.value})),placeholder:"Enter product description",rows:3})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"status",children:"Status"}),o.jsxs(Je,{value:m.status,onValueChange:R=>p(G=>({...G,status:R})),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Select status"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:cn.DRAFT,children:"Draft"}),o.jsx(le,{value:cn.ACTIVE,children:"Active"}),o.jsx(le,{value:cn.DEPRECATED,children:"Deprecated"}),o.jsx(le,{value:cn.RETIRED,children:"Retired"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"type",children:"Type"}),o.jsxs(Je,{value:m.type,onValueChange:R=>p(G=>({...G,type:R})),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Select type"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:_r.DATASET,children:"Dataset"}),o.jsx(le,{value:_r.API,children:"API"}),o.jsx(le,{value:_r.STREAM,children:"Stream"}),o.jsx(le,{value:_r.MODEL,children:"Model"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"visibility",children:"Visibility"}),o.jsxs(Je,{value:m.visibility,onValueChange:R=>p(G=>({...G,visibility:R})),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Select visibility"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:Rs.PUBLIC,children:"Public"}),o.jsx(le,{value:Rs.INTERNAL,children:"Internal"}),o.jsx(le,{value:Rs.PRIVATE,children:"Private"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"owner",children:"Owner"}),o.jsx(Me,{id:"owner",value:m.owner||"",onChange:R=>p(G=>({...G,owner:R.target.value})),placeholder:"Enter owner name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"domain",children:"Domain"}),o.jsx(Me,{id:"domain",value:m.domain||"",onChange:R=>p(G=>({...G,domain:R.target.value})),placeholder:"Enter business domain"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"tags",children:"Tags"}),o.jsx(Me,{id:"tags",value:m.tags||"",onChange:R=>p(G=>({...G,tags:R.target.value})),placeholder:"Separate multiple tags with commas"})]})]}),o.jsxs(Zt,{value:"contact",className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"dataHolderName",children:"Data Holder Name"}),o.jsx(Me,{id:"dataHolderName",value:m.dataHolderName||"",onChange:R=>p(G=>({...G,dataHolderName:R.target.value})),placeholder:"Enter name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"dataHolderEmail",children:"Email"}),o.jsx(Me,{id:"dataHolderEmail",type:"email",value:m.dataHolderEmail||"",onChange:R=>p(G=>({...G,dataHolderEmail:R.target.value})),placeholder:"Enter email address"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"dataHolderRole",children:"Role"}),o.jsx(Me,{id:"dataHolderRole",value:m.dataHolderRole||"",onChange:R=>p(G=>({...G,dataHolderRole:R.target.value})),placeholder:"Enter role"})]})]}),o.jsx(Zt,{value:"links",className:"space-y-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"documentationLink",children:"Documentation Link"}),o.jsx(Me,{id:"documentationLink",value:m.documentationLink||"",onChange:R=>p(G=>({...G,documentationLink:R.target.value})),placeholder:"https://docs.example.com"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"repositoryLink",children:"Repository Link"}),o.jsx(Me,{id:"repositoryLink",value:m.repositoryLink||"",onChange:R=>p(G=>({...G,repositoryLink:R.target.value})),placeholder:"https://github.com/example/repo"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"supportLink",children:"Support Link"}),o.jsx(Me,{id:"supportLink",value:m.supportLink||"",onChange:R=>p(G=>({...G,supportLink:R.target.value})),placeholder:"https://support.example.com"})]})]})})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[o.jsxs(te,{variant:"outline",onClick:N,children:[o.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Cancel"]}),o.jsxs(te,{onClick:B,children:[o.jsx(xu,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})]})});return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ir,{}),o.jsxs("div",{className:`${e?"pl-20":"pl-56"} min-h-screen transition-all duration-300`,children:[o.jsx(Xn,{}),o.jsx(z,{}),o.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Data Catalog"}),o.jsx("p",{className:"text-muted-foreground",children:"Browse and manage all data assets"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Je,{value:b,onValueChange:R=>E(R),children:[o.jsx(Ze,{className:"w-[160px]",children:o.jsx(et,{placeholder:"Sort by"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"relevance",children:"Relevance"}),o.jsx(le,{value:"name",children:"Name"}),o.jsx(le,{value:"createdAt",children:"Newest"})]})]}),o.jsx(te,{variant:"outline",size:"sm",onClick:()=>v(y==="grid"?"list":"grid"),title:y==="grid"?"Switch to list":"Switch to grid",children:y==="grid"?o.jsx(Xbe,{className:"h-4 w-4"}):o.jsx(Kbe,{className:"h-4 w-4"})}),o.jsxs(te,{variant:"outline",size:"sm",onClick:()=>T(!C),children:[o.jsx(Ap,{className:"h-4 w-4 mr-2"}),"Filters"]})]})]}),r&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx(P,{title:"Total Products",value:r.totalProducts,icon:ss}),o.jsx(P,{title:"Active Products",value:r.activeProducts,icon:s2}),o.jsx(P,{title:"Total Domains",value:r.totalDomains,icon:hi}),o.jsx(P,{title:"Total Owners",value:r.totalOwners,icon:a1e})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Fa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Me,{placeholder:"Search data products...",value:l,onChange:R=>c(R.target.value),onKeyDown:R=>{R.key==="Enter"&&k()},className:"w-full pl-9"})]}),o.jsxs(te,{onClick:k,children:[o.jsx(Fa,{className:"h-4 w-4 mr-2"}),"Search"]})]}),$&&o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l&&o.jsxs(Oe,{variant:"secondary",className:"flex items-center gap-2",children:['Search: "',l,'" ',o.jsx(te,{variant:"ghost",size:"sm",onClick:()=>c(""),children:""})]}),_.status&&o.jsxs(Oe,{variant:"secondary",className:"flex items-center gap-2",children:["Status: ",_.status," ",o.jsx(te,{variant:"ghost",size:"sm",onClick:()=>S({..._,status:""}),children:""})]}),_.type&&o.jsxs(Oe,{variant:"secondary",className:"flex items-center gap-2",children:["Type: ",_.type," ",o.jsx(te,{variant:"ghost",size:"sm",onClick:()=>S({..._,type:""}),children:""})]}),_.domain&&o.jsxs(Oe,{variant:"secondary",className:"flex items-center gap-2",children:["Domain: ",_.domain," ",o.jsx(te,{variant:"ghost",size:"sm",onClick:()=>S({..._,domain:""}),children:""})]}),_.visibility&&o.jsxs(Oe,{variant:"secondary",className:"flex items-center gap-2",children:["Visibility: ",_.visibility," ",o.jsx(te,{variant:"ghost",size:"sm",onClick:()=>S({..._,visibility:""}),children:""})]}),o.jsx(te,{variant:"outline",size:"sm",onClick:O,children:"Clear all"})]}),C&&o.jsx(Pe,{children:o.jsxs(De,{className:"p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs(Je,{value:_.status,onValueChange:R=>S({..._,status:R}),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Status"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"",children:"All Status"}),o.jsx(le,{value:cn.ACTIVE,children:"Active"}),o.jsx(le,{value:cn.DRAFT,children:"Draft"}),o.jsx(le,{value:cn.DEPRECATED,children:"Deprecated"}),o.jsx(le,{value:cn.RETIRED,children:"Retired"})]})]}),o.jsxs(Je,{value:_.type,onValueChange:R=>S({..._,type:R}),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Type"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"",children:"All Types"}),o.jsx(le,{value:_r.DATASET,children:"Dataset"}),o.jsx(le,{value:_r.API,children:"API"}),o.jsx(le,{value:_r.STREAM,children:"Stream"}),o.jsx(le,{value:_r.MODEL,children:"Model"})]})]}),o.jsx(Me,{placeholder:"Domain",value:_.domain,onChange:R=>S({..._,domain:R.target.value})}),o.jsxs(Je,{value:_.visibility,onValueChange:R=>S({..._,visibility:R}),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Visibility"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"",children:"All Visibility"}),o.jsx(le,{value:Rs.PUBLIC,children:"Public"}),o.jsx(le,{value:Rs.INTERNAL,children:"Internal"}),o.jsx(le,{value:Rs.PRIVATE,children:"Private"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx(te,{variant:"outline",onClick:O,children:"Reset"}),o.jsx(te,{onClick:k,children:"Apply Filters"})]})]})})]}),o.jsx("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:o.jsx("div",{children:a?"Loading results":`Showing ${W.length} result${W.length!==1?"s":""}`})}),a?o.jsx("div",{children:y==="grid"?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((R,G)=>o.jsxs(Pe,{children:[o.jsxs(Ye,{className:"pb-3",children:[o.jsx(Ct,{className:"h-5 w-40"}),o.jsx(Ct,{className:"h-4 w-full mt-2"})]}),o.jsx(De,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Ct,{className:"h-4 w-24"}),o.jsx(Ct,{className:"h-4 w-24"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ct,{className:"h-5 w-16"}),o.jsx(Ct,{className:"h-5 w-16"})]}),o.jsx(Ct,{className:"h-8 w-8 rounded"})]})]})})]},G))}):o.jsx("div",{className:"space-y-4",children:Array.from({length:6}).map((R,G)=>o.jsx(Pe,{children:o.jsxs(De,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Ct,{className:"h-5 w-60"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ct,{className:"h-6 w-6 rounded"}),o.jsx(Ct,{className:"h-6 w-6 rounded"})]})]}),o.jsx(Ct,{className:"h-4 w-full mt-2"})]})},G))})}):o.jsx("div",{className:"space-y-4",children:W.length>0?y==="grid"?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:W.map((R,G)=>o.jsx(L,{product:R},G))}):o.jsx("div",{className:"space-y-4",children:W.map((R,G)=>o.jsx(I,{product:R},G))}):o.jsx(Pe,{className:"border-dashed",children:o.jsxs(De,{className:"py-12 text-center space-y-2",children:[o.jsx("div",{className:"text-lg font-medium",children:"No data products found"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Try adjusting your search or filters"}),o.jsxs("div",{className:"flex justify-center gap-2 pt-2",children:[o.jsx(te,{variant:"outline",onClick:O,children:"Reset Filters"}),o.jsx(te,{onClick:j,children:"Reload"})]})]})})})]})]})]})},nG="ai-hypothesis-onboarding-shown",EIt=()=>{const[e,t]=w.useState(!1);w.useEffect(()=>{localStorage.getItem(nG)||t(!0)},[]);const n=()=>{t(!1),localStorage.setItem(nG,"true")};return e?o.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.4)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsxs("div",{style:{background:"#fff",borderRadius:12,padding:32,maxWidth:400,boxShadow:"0 4px 32px rgba(0,0,0,0.15)",textAlign:"center"},children:[o.jsx("h2",{style:{marginBottom:16},children:"Welcome!"}),o.jsxs("p",{style:{marginBottom:24},children:["You can get help and explore features in the ",o.jsx("b",{children:"AI Chat"})," anytime.",o.jsx("br",{}),"Look for the AI Assistant icon or chat window on your screen."]}),o.jsx("button",{onClick:n,style:{background:"#2563eb",color:"#fff",border:"none",borderRadius:6,padding:"10px 24px",fontSize:16,cursor:"pointer"},children:"Got it!"})]})}):null};var l0e=["PageUp","PageDown"],c0e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],u0e={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},w0="Slider",[yR,SIt,_It]=Rg(w0),[d0e,hDt]=Ua(w0,[_It]),[CIt,jN]=d0e(w0),h0e=w.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:a=1,orientation:s="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:h=()=>{},onValueCommit:f=()=>{},inverted:m=!1,form:p,...g}=e,x=w.useRef(new Set),y=w.useRef(0),b=s==="horizontal"?TIt:NIt,[E=[],_]=qs({prop:d,defaultProp:u,onChange:O=>{var B;(B=[...x.current][y.current])==null||B.focus(),h(O)}}),S=w.useRef(E);function C(O){const M=PIt(E,O);k(O,M)}function T(O){k(O,y.current)}function j(){const O=S.current[y.current];E[y.current]!==O&&f(E)}function k(O,M,{commit:B}={commit:!1}){const N=DIt(a),D=LIt(Math.round((O-r)/a)*a+r,N),P=ov(D,[r,i]);_((L=[])=>{const I=jIt(L,P,M);if(RIt(I,c*a)){y.current=I.indexOf(P);const U=String(I)!==String(L);return U&&B&&f(I),U?I:L}else return L})}return o.jsx(CIt,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:i,valueIndexToChangeRef:y,thumbs:x.current,values:E,orientation:s,form:p,children:o.jsx(yR.Provider,{scope:e.__scopeSlider,children:o.jsx(yR.Slot,{scope:e.__scopeSlider,children:o.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:Ie(g.onPointerDown,()=>{l||(S.current=E)}),min:r,max:i,inverted:m,onSlideStart:l?void 0:C,onSlideMove:l?void 0:T,onSlideEnd:l?void 0:j,onHomeKeyDown:()=>!l&&k(r,0,{commit:!0}),onEndKeyDown:()=>!l&&k(i,E.length-1,{commit:!0}),onStepKeyDown:({event:O,direction:M})=>{if(!l){const D=l0e.includes(O.key)||O.shiftKey&&c0e.includes(O.key)?10:1,P=y.current,L=E[P],I=a*D*M;k(L+I,P,{commit:!0})}}})})})})});h0e.displayName=w0;var[f0e,m0e]=d0e(w0,{startEdge:"left",endEdge:"right",size:"width",direction:1}),TIt=w.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:a,onSlideStart:s,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[h,f]=w.useState(null),m=jt(t,b=>f(b)),p=w.useRef(),g=Nf(i),x=g==="ltr",y=x&&!a||!x&&a;function v(b){const E=p.current||h.getBoundingClientRect(),_=[0,E.width],C=S5(_,y?[n,r]:[r,n]);return p.current=E,C(b-E.left)}return o.jsx(f0e,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:o.jsx(p0e,{dir:g,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const E=v(b.clientX);s==null||s(E)},onSlideMove:b=>{const E=v(b.clientX);l==null||l(E)},onSlideEnd:()=>{p.current=void 0,c==null||c()},onStepKeyDown:b=>{const _=u0e[y?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:_?-1:1})}})})}),NIt=w.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:a,onSlideMove:s,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=w.useRef(null),h=jt(t,d),f=w.useRef(),m=!i;function p(g){const x=f.current||d.current.getBoundingClientRect(),y=[0,x.height],b=S5(y,m?[r,n]:[n,r]);return f.current=x,b(g-x.top)}return o.jsx(f0e,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:o.jsx(p0e,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const x=p(g.clientY);a==null||a(x)},onSlideMove:g=>{const x=p(g.clientY);s==null||s(x)},onSlideEnd:()=>{f.current=void 0,l==null||l()},onStepKeyDown:g=>{const y=u0e[m?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:y?-1:1})}})})}),p0e=w.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:s,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=jN(w0,n);return o.jsx(rt.span,{...u,ref:t,onKeyDown:Ie(e.onKeyDown,h=>{h.key==="Home"?(s(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):l0e.concat(c0e).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:Ie(e.onPointerDown,h=>{const f=h.target;f.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(f)?f.focus():r(h)}),onPointerMove:Ie(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:Ie(e.onPointerUp,h=>{const f=h.target;f.hasPointerCapture(h.pointerId)&&(f.releasePointerCapture(h.pointerId),a(h))})})}),g0e="SliderTrack",y0e=w.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=jN(g0e,n);return o.jsx(rt.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});y0e.displayName=g0e;var xR="SliderRange",x0e=w.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=jN(xR,n),a=m0e(xR,n),s=w.useRef(null),l=jt(t,s),c=i.values.length,u=i.values.map(f=>b0e(f,i.min,i.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return o.jsx(rt.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:l,style:{...e.style,[a.startEdge]:d+"%",[a.endEdge]:h+"%"}})});x0e.displayName=xR;var vR="SliderThumb",v0e=w.forwardRef((e,t)=>{const n=SIt(e.__scopeSlider),[r,i]=w.useState(null),a=jt(t,l=>i(l)),s=w.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return o.jsx(kIt,{...e,ref:a,index:s})}),kIt=w.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:i,...a}=e,s=jN(vR,n),l=m0e(vR,n),[c,u]=w.useState(null),d=jt(t,v=>u(v)),h=c?s.form||!!c.closest("form"):!0,f=h2(c),m=s.values[r],p=m===void 0?0:b0e(m,s.min,s.max),g=OIt(r,s.values.length),x=f==null?void 0:f[l.size],y=x?MIt(x,p,l.direction):0;return w.useEffect(()=>{if(c)return s.thumbs.add(c),()=>{s.thumbs.delete(c)}},[c,s.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${p}% + ${y}px)`},children:[o.jsx(yR.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(rt.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":s.min,"aria-valuenow":m,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...a,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:Ie(e.onFocus,()=>{s.valueIndexToChangeRef.current=r})})}),h&&o.jsx(AIt,{name:i??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:m},r)]})});v0e.displayName=vR;var AIt=e=>{const{value:t,...n}=e,r=w.useRef(null),i=$2(t);return w.useEffect(()=>{const a=r.current,s=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(s,"value").set;if(i!==t&&c){const u=new Event("input",{bubbles:!0});c.call(a,t),a.dispatchEvent(u)}},[i,t]),o.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function jIt(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,a)=>i-a)}function b0e(e,t,n){const a=100/(n-t)*(e-t);return ov(a,[0,100])}function OIt(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function PIt(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function MIt(e,t,n){const r=e/2,a=S5([0,50],[0,r]);return(r-a(t)*n)*n}function IIt(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function RIt(e,t){if(t>0){const n=IIt(e);return Math.min(...n)>=t}return!0}function S5(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function DIt(e){return(String(e).split(".")[1]||"").length}function LIt(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var w0e=h0e,$It=y0e,BIt=x0e,FIt=v0e;const bR=w.forwardRef(({className:e,...t},n)=>o.jsxs(w0e,{ref:n,className:Be("relative flex w-full touch-none select-none items-center",e),...t,children:[o.jsx($It,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:o.jsx(BIt,{className:"absolute h-full bg-primary"})}),o.jsx(FIt,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));bR.displayName=w0e.displayName;const zIt=()=>{const{collapsed:e}=Tr(),t=Dn(),{toast:n}=za();w.useRef(null);const[r,i]=w.useState(.7),[a,s]=w.useState(.5);w.useState([]);const[l,c]=w.useState(""),[u,d]=w.useState(!1),[h,f]=w.useState(null),m=async()=>{if(!l.trim()){n({title:"Error",description:"Please enter test text.",variant:"destructive"});return}d(!0);try{await new Promise(p=>setTimeout(p,1500)),f({hybridSimilarity:.85,termSimilarity:.75,vectorSimilarity:.95,matches:[{text:"Sample matching text 1",similarity:.85},{text:"Sample matching text 2",similarity:.75}]})}catch{n({title:"Error",description:"Failed to perform retrieval test. Please try again.",variant:"destructive"})}finally{d(!1)}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ir,{}),o.jsxs("div",{className:`${e?"pl-20":"pl-56"} min-h-screen transition-all duration-300`,children:[o.jsx(Xn,{}),o.jsxs("main",{className:"container py-6",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsxs(te,{variant:"outline",onClick:()=>t("/challenges"),className:"hover-float",children:[o.jsx(xl,{className:"mr-2 h-4 w-4"}),"Back to Challenges"]}),o.jsx("h1",{className:"text-2xl font-semibold",children:"Retrieval Testing"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsx("div",{className:"space-y-6",children:o.jsx(Pe,{className:"glass-card",children:o.jsxs(De,{className:"p-6",children:[o.jsx("h2",{className:"text-lg font-medium mb-4",children:"Test Configuration"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Similarity Threshold"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(bR,{value:[r],onValueChange:([p])=>i(p),max:1,step:.01,className:"flex-grow"}),o.jsx("span",{className:"text-sm",children:r.toFixed(2)})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Vector Similarity Weight"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(bR,{value:[a],onValueChange:([p])=>s(p),max:1,step:.01,className:"flex-grow"}),o.jsx("span",{className:"text-sm",children:a.toFixed(2)})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Test Text"}),o.jsx(Pn,{placeholder:"Enter text to test retrieval...",value:l,onChange:p=>c(p.target.value),className:"min-h-[100px]"})]}),o.jsx(te,{onClick:m,className:"w-full",disabled:u,children:u?o.jsxs(o.Fragment,{children:[o.jsx(nr,{className:"mr-2 h-4 w-4 animate-spin"}),"Testing..."]}):"Run Test"})]})]})})}),o.jsx("div",{className:"space-y-6",children:o.jsx(Pe,{className:"glass-card",children:o.jsxs(De,{className:"p-6",children:[o.jsx("h2",{className:"text-lg font-medium mb-4",children:"Test Results"}),h?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 rounded-lg bg-background/50",children:[o.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Hybrid Similarity"}),o.jsxs("div",{className:"text-2xl font-semibold",children:[(h.hybridSimilarity*100).toFixed(1),"%"]})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-background/50",children:[o.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Term Similarity"}),o.jsxs("div",{className:"text-2xl font-semibold",children:[(h.termSimilarity*100).toFixed(1),"%"]})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-background/50",children:[o.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Vector Similarity"}),o.jsxs("div",{className:"text-2xl font-semibold",children:[(h.vectorSimilarity*100).toFixed(1),"%"]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-sm font-medium",children:"Top Matches"}),h.matches.map((p,g)=>o.jsxs("div",{className:"p-4 rounded-lg bg-background/50 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"text-sm font-medium",children:["Match ",g+1]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[(p.similarity*100).toFixed(1),"% similar"]})]}),o.jsx("div",{className:"text-sm",children:p.text})]},g))]})]}):o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Run a test to see results"})]})})})]})]})]})]})};var _5="Checkbox",[UIt,fDt]=Ua(_5),[HIt,VIt]=UIt(_5),E0e=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:s,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,m]=w.useState(null),p=jt(t,E=>m(E)),g=w.useRef(!1),x=f?d||!!f.closest("form"):!0,[y=!1,v]=qs({prop:i,defaultProp:a,onChange:u}),b=w.useRef(y);return w.useEffect(()=>{const E=f==null?void 0:f.form;if(E){const _=()=>v(b.current);return E.addEventListener("reset",_),()=>E.removeEventListener("reset",_)}},[f,v]),o.jsxs(HIt,{scope:n,state:y,disabled:l,children:[o.jsx(rt.button,{type:"button",role:"checkbox","aria-checked":Ju(y)?"mixed":y,"aria-required":s,"data-state":C0e(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:p,onKeyDown:Ie(e.onKeyDown,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:Ie(e.onClick,E=>{v(_=>Ju(_)?!0:!_),x&&(g.current=E.isPropagationStopped(),g.current||E.stopPropagation())})}),x&&o.jsx(WIt,{control:f,bubbles:!g.current,name:r,value:c,checked:y,required:s,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Ju(a)?!1:a})]})});E0e.displayName=_5;var S0e="CheckboxIndicator",_0e=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,a=VIt(S0e,n);return o.jsx(ti,{present:r||Ju(a.state)||a.state===!0,children:o.jsx(rt.span,{"data-state":C0e(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});_0e.displayName=S0e;var WIt=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:i,...a}=e,s=w.useRef(null),l=$2(n),c=h2(t);w.useEffect(()=>{const d=s.current,h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&m){const p=new Event("click",{bubbles:r});d.indeterminate=Ju(n),m.call(d,Ju(n)?!1:n),d.dispatchEvent(p)}},[l,n,r]);const u=w.useRef(Ju(n)?!1:n);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...a,tabIndex:-1,ref:s,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ju(e){return e==="indeterminate"}function C0e(e){return Ju(e)?"indeterminate":e?"checked":"unchecked"}var T0e=E0e,qIt=_0e;const qE=w.forwardRef(({className:e,...t},n)=>o.jsx(T0e,{ref:n,className:Be("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(qIt,{className:Be("flex items-center justify-center text-current"),children:o.jsx(o2,{className:"h-4 w-4"})})}));qE.displayName=T0e.displayName;const GIt=()=>{const{collapsed:e}=Tr(),[t,n]=w.useState([]),[r,i]=w.useState(!1),[a,s]=w.useState(0),[l,c]=w.useState([]),[u,d]=w.useState([]),[h,f]=w.useState({name:"",description:"",scenarioId:"",datasetIds:[],metrics:["accuracy","precision","recall","f1Score"],parameters:{batchSize:32,testSplit:.2,crossValidation:!1,randomSeed:42}});w.useEffect(()=>{n([{id:"1",name:"Model Performance Benchmark Test",status:"completed",accuracy:.92,precision:.89,recall:.94,f1Score:.91,createdAt:"2024-01-15 14:30:00",duration:"45 minutes",scenario:"Performance Benchmark Test",dataset:"Insurance Dataset v2.1"},{id:"2",name:"Hypothesis Validation Accuracy Assessment",status:"completed",accuracy:.87,precision:.85,recall:.89,f1Score:.87,createdAt:"2024-01-14 10:15:00",duration:"32 minutes",scenario:"Hypothesis Validation",dataset:"Customer Behavior Dataset"},{id:"3",name:"Data Quality Assessment",status:"failed",accuracy:0,precision:0,recall:0,f1Score:0,createdAt:"2024-01-13 16:45:00",duration:"12 minutes",scenario:"Data Quality Check",dataset:"Historical Transaction Data"}]),c([{id:"1",name:"Hypothesis Validation",description:"Validate the accuracy and reliability of business hypotheses",type:"hypothesis_validation"},{id:"2",name:"Model Performance Testing",description:"Evaluate the overall performance of machine learning models",type:"model_testing"},{id:"3",name:"Performance Benchmark Testing",description:"Compare performance against industry standards",type:"performance_benchmark"}]),d([{id:"1",name:"Insurance Dataset v2.1",description:"Contains customer information, policy data, and claims records",size:125e3,format:"CSV",lastUpdated:"2024-01-10"},{id:"2",name:"Customer Behavior Dataset",description:"Customer interaction and behavior pattern data",size:89e3,format:"JSON",lastUpdated:"2024-01-12"},{id:"3",name:"Historical Transaction Data",description:"Transaction history records from the past 5 years",size:25e4,format:"Parquet",lastUpdated:"2024-01-08"}])},[]);const m=async()=>{i(!0),s(0);const x=setInterval(()=>{s(y=>{if(y>=100){clearInterval(x),i(!1),er({title:"Evaluation Completed",description:"Offline evaluation has been successfully completed and results have been saved."});const v=l.find(_=>_.id===h.scenarioId),b=u.filter(_=>h.datasetIds.includes(_.id)),E={id:Date.now().toString(),name:h.name||"New Offline Evaluation",status:"completed",accuracy:.88+Math.random()*.1,precision:.85+Math.random()*.1,recall:.87+Math.random()*.1,f1Score:.86+Math.random()*.1,createdAt:new Date().toLocaleString("en-US"),duration:`${Math.floor(Math.random()*30+20)} minutes`,scenario:v==null?void 0:v.name,dataset:b.map(_=>_.name).join(", ")};return n(_=>[E,..._]),100}return y+Math.random()*10})},1e3)},p=x=>{switch(x){case"completed":return o.jsx(vr,{className:"h-4 w-4 text-green-500"});case"running":return o.jsx(bl,{className:"h-4 w-4 text-blue-500"});case"failed":return o.jsx(Hu,{className:"h-4 w-4 text-red-500"});default:return null}},g=x=>{const y={completed:"default",running:"secondary",failed:"destructive"},v={completed:"Completed",running:"Running",failed:"Failed"};return o.jsx(Oe,{variant:y[x],children:v[x]})};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ir,{}),o.jsxs("div",{className:`${e?"pl-20":"pl-56"} min-h-screen transition-all duration-300`,children:[o.jsx(Xn,{}),o.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Offline Evaluation"}),o.jsx("p",{className:"text-muted-foreground",children:"Perform offline performance evaluation and benchmarking for models and algorithms"})]}),o.jsxs(te,{onClick:m,disabled:r,className:"flex items-center gap-2",children:[o.jsx(i1e,{className:"h-4 w-4"}),r?"Evaluating...":"Start New Evaluation"]})]}),r&&o.jsxs(Pe,{children:[o.jsxs(Ye,{children:[o.jsxs(dt,{className:"flex items-center gap-2",children:[o.jsx(bl,{className:"h-5 w-5"}),"Evaluation in Progress"]}),o.jsx(hn,{children:"Offline evaluation is running, please wait..."})]}),o.jsx(De,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{children:[Math.round(a),"%"]})]}),o.jsx(Hb,{value:a,className:"w-full"})]})})]}),o.jsxs(Oo,{defaultValue:"config",className:"space-y-4",children:[o.jsxs(Us,{children:[o.jsx(Xt,{value:"config",children:"Evaluation Configuration"}),o.jsx(Xt,{value:"results",children:"Evaluation Results"}),o.jsx(Xt,{value:"metrics",children:"Performance Metrics"}),o.jsx(Xt,{value:"reports",children:"Detailed Reports"})]}),o.jsx(Zt,{value:"config",className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(Pe,{children:[o.jsxs(Ye,{children:[o.jsxs(dt,{className:"flex items-center gap-2",children:[o.jsx(Wx,{className:"h-5 w-5"}),"Basic Configuration"]}),o.jsx(hn,{children:"Configure basic information and parameters for evaluation"})]}),o.jsxs(De,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"eval-name",children:"Evaluation Name"}),o.jsx(Me,{id:"eval-name",placeholder:"Enter evaluation name",value:h.name,onChange:x=>f(y=>({...y,name:x.target.value}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"eval-description",children:"Evaluation Description"}),o.jsx(Pn,{id:"eval-description",placeholder:"Describe the purpose and content of this evaluation",value:h.description,onChange:x=>f(y=>({...y,description:x.target.value}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"scenario-select",children:"Evaluation Scenario"}),o.jsxs(Je,{value:h.scenarioId,onValueChange:x=>f(y=>({...y,scenarioId:x})),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Select evaluation scenario"})}),o.jsx(Qe,{children:l.map(x=>o.jsx(le,{value:x.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ND,{className:"h-4 w-4"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:x.name}),o.jsx("div",{className:"text-xs text-muted-foreground",children:x.description})]})]})},x.id))})]})]})]})]}),o.jsxs(Pe,{children:[o.jsxs(Ye,{children:[o.jsxs(dt,{className:"flex items-center gap-2",children:[o.jsx(ss,{className:"h-5 w-5"}),"Dataset Selection"]}),o.jsx(hn,{children:"Select datasets for evaluation"})]}),o.jsx(De,{className:"space-y-4",children:o.jsx("div",{className:"space-y-3",children:u.map(x=>o.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg",children:[o.jsx(qE,{id:`dataset-${x.id}`,checked:h.datasetIds.includes(x.id),onCheckedChange:y=>{f(y?v=>({...v,datasetIds:[...v.datasetIds,x.id]}):v=>({...v,datasetIds:v.datasetIds.filter(b=>b!==x.id)}))}}),o.jsxs("div",{className:"grid gap-1.5 leading-none",children:[o.jsx("label",{htmlFor:`dataset-${x.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:x.name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:x.description}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[o.jsxs("span",{children:[x.size.toLocaleString()," records"]}),o.jsx("span",{children:""}),o.jsx("span",{children:x.format}),o.jsx("span",{children:""}),o.jsxs("span",{children:["Updated on ",x.lastUpdated]})]})]})]},x.id))})})]}),o.jsxs(Pe,{children:[o.jsxs(Ye,{children:[o.jsx(dt,{children:"Evaluation Metrics"}),o.jsx(hn,{children:"Select evaluation metrics to calculate"})]}),o.jsx(De,{className:"space-y-3",children:[{id:"accuracy",label:"Accuracy",description:"Proportion of correct predictions"},{id:"precision",label:"Precision",description:"Proportion of actual positives among predicted positives"},{id:"recall",label:"Recall",description:"Proportion of correctly predicted actual positives"},{id:"f1Score",label:"F1 Score",description:"Harmonic mean of precision and recall"}].map(x=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qE,{id:`metric-${x.id}`,checked:h.metrics.includes(x.id),onCheckedChange:y=>{f(y?v=>({...v,metrics:[...v.metrics,x.id]}):v=>({...v,metrics:v.metrics.filter(b=>b!==x.id)}))}}),o.jsxs("div",{className:"grid gap-1.5 leading-none",children:[o.jsx("label",{htmlFor:`metric-${x.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:x.label}),o.jsx("p",{className:"text-xs text-muted-foreground",children:x.description})]})]},x.id))})]}),o.jsxs(Pe,{children:[o.jsxs(Ye,{children:[o.jsx(dt,{children:"Advanced Parameters"}),o.jsx(hn,{children:"Configure advanced parameters for evaluation"})]}),o.jsxs(De,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"batch-size",children:"Batch Size"}),o.jsx(Me,{id:"batch-size",type:"number",value:h.parameters.batchSize,onChange:x=>f(y=>({...y,parameters:{...y.parameters,batchSize:Number(x.target.value)}}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"test-split",children:"Test Split Ratio"}),o.jsx(Me,{id:"test-split",type:"number",step:"0.1",min:"0.1",max:"0.5",value:h.parameters.testSplit,onChange:x=>f(y=>({...y,parameters:{...y.parameters,testSplit:Number(x.target.value)}}))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ve,{htmlFor:"random-seed",children:"Random Seed"}),o.jsx(Me,{id:"random-seed",type:"number",value:h.parameters.randomSeed,onChange:x=>f(y=>({...y,parameters:{...y.parameters,randomSeed:Number(x.target.value)}}))})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qE,{id:"cross-validation",checked:h.parameters.crossValidation,onCheckedChange:x=>f(y=>({...y,parameters:{...y.parameters,crossValidation:!!x}}))}),o.jsxs("div",{className:"grid gap-1.5 leading-none",children:[o.jsx("label",{htmlFor:"cross-validation",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Enable Cross Validation"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Use K-fold cross validation to improve evaluation reliability"})]})]})]})]})]})}),o.jsx(Zt,{value:"results",className:"space-y-4",children:o.jsxs(Pe,{children:[o.jsxs(Ye,{children:[o.jsx(dt,{children:"Historical Evaluation Results"}),o.jsx(hn,{children:"View historical records and results of all offline evaluations"})]}),o.jsx(De,{children:o.jsxs(Xu,{children:[o.jsx(Zu,{children:o.jsxs(Si,{children:[o.jsx(Qt,{children:"Evaluation Name"}),o.jsx(Qt,{children:"Status"}),o.jsx(Qt,{children:"Scenario"}),o.jsx(Qt,{children:"Dataset"}),o.jsx(Qt,{children:"Accuracy"}),o.jsx(Qt,{children:"Precision"}),o.jsx(Qt,{children:"Recall"}),o.jsx(Qt,{children:"F1 Score"}),o.jsx(Qt,{children:"Created Time"}),o.jsx(Qt,{children:"Duration"}),o.jsx(Qt,{children:"Actions"})]})}),o.jsx(Qu,{children:t.map(x=>o.jsxs(Si,{children:[o.jsx(Rt,{className:"font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[p(x.status),x.name]})}),o.jsx(Rt,{children:g(x.status)}),o.jsx(Rt,{children:o.jsx(Oe,{variant:"outline",className:"text-xs",children:x.scenario||"-"})}),o.jsx(Rt,{className:"max-w-32",children:o.jsx("div",{className:"text-xs text-muted-foreground truncate",title:x.dataset,children:x.dataset||"-"})}),o.jsx(Rt,{children:x.status==="completed"?`${(x.accuracy*100).toFixed(1)}%`:"-"}),o.jsx(Rt,{children:x.status==="completed"?`${(x.precision*100).toFixed(1)}%`:"-"}),o.jsx(Rt,{children:x.status==="completed"?`${(x.recall*100).toFixed(1)}%`:"-"}),o.jsx(Rt,{children:x.status==="completed"?`${(x.f1Score*100).toFixed(1)}%`:"-"}),o.jsx(Rt,{children:x.createdAt}),o.jsx(Rt,{children:x.duration}),o.jsx(Rt,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(te,{variant:"outline",size:"sm",children:o.jsx(ic,{className:"h-4 w-4"})}),o.jsx(te,{variant:"outline",size:"sm",children:o.jsx(rc,{className:"h-4 w-4"})})]})})]},x.id))})]})})]})}),o.jsx(Zt,{value:"metrics",className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs(Pe,{children:[o.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(dt,{className:"text-sm font-medium",children:"Average Accuracy"}),o.jsx(zi,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(De,{children:[o.jsx("div",{className:"text-2xl font-bold",children:"89.5%"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"+2.1% from last month"})]})]}),o.jsxs(Pe,{children:[o.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(dt,{className:"text-sm font-medium",children:"Average Precision"}),o.jsx(zi,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(De,{children:[o.jsx("div",{className:"text-2xl font-bold",children:"87.0%"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"+1.5% from last month"})]})]}),o.jsxs(Pe,{children:[o.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(dt,{className:"text-sm font-medium",children:"Average Recall"}),o.jsx(zi,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(De,{children:[o.jsx("div",{className:"text-2xl font-bold",children:"91.5%"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"+3.2% from last month"})]})]}),o.jsxs(Pe,{children:[o.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(dt,{className:"text-sm font-medium",children:"Average F1 Score"}),o.jsx(zi,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(De,{children:[o.jsx("div",{className:"text-2xl font-bold",children:"89.0%"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"+2.3% from last month"})]})]})]})}),o.jsx(Zt,{value:"reports",className:"space-y-4",children:o.jsxs(Pe,{children:[o.jsxs(Ye,{children:[o.jsx(dt,{children:"Detailed Evaluation Reports"}),o.jsx(hn,{children:"Download and view detailed evaluation analysis reports"})]}),o.jsx(De,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Comprehensive Model Performance Report"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Detailed analysis of all evaluation metrics"})]}),o.jsxs(te,{variant:"outline",children:[o.jsx(rc,{className:"h-4 w-4 mr-2"}),"Download PDF"]})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Performance Trend Analysis"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Trend analysis charts of historical performance data"})]}),o.jsxs(te,{variant:"outline",children:[o.jsx(rc,{className:"h-4 w-4 mr-2"}),"Download Excel"]})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Error Analysis Report"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Detailed error case analysis and improvement recommendations"})]}),o.jsxs(te,{variant:"outline",children:[o.jsx(rc,{className:"h-4 w-4 mr-2"}),"Download PDF"]})]})]})})]})})]})]})]})]})};var N0e="AlertDialog",[YIt,mDt]=Ua(N0e,[Ste]),Wc=Ste(),k0e=e=>{const{__scopeAlertDialog:t,...n}=e,r=Wc(t);return o.jsx(Bte,{...r,...n,modal:!0})};k0e.displayName=N0e;var KIt="AlertDialogTrigger",A0e=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Wc(n);return o.jsx(Fte,{...i,...r,ref:t})});A0e.displayName=KIt;var XIt="AlertDialogPortal",j0e=e=>{const{__scopeAlertDialog:t,...n}=e,r=Wc(t);return o.jsx(zte,{...r,...n})};j0e.displayName=XIt;var ZIt="AlertDialogOverlay",O0e=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Wc(n);return o.jsx(q3,{...i,...r,ref:t})});O0e.displayName=ZIt;var rp="AlertDialogContent",[QIt,JIt]=YIt(rp),P0e=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,a=Wc(n),s=w.useRef(null),l=jt(t,s),c=w.useRef(null);return o.jsx(Q$e,{contentName:rp,titleName:M0e,docsSlug:"alert-dialog",children:o.jsx(QIt,{scope:n,cancelRef:c,children:o.jsxs(G3,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:Ie(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(xD,{children:r}),o.jsx(tRt,{contentRef:s})]})})})});P0e.displayName=rp;var M0e="AlertDialogTitle",I0e=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Wc(n);return o.jsx(Y3,{...i,...r,ref:t})});I0e.displayName=M0e;var R0e="AlertDialogDescription",D0e=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Wc(n);return o.jsx(K3,{...i,...r,ref:t})});D0e.displayName=R0e;var eRt="AlertDialogAction",L0e=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Wc(n);return o.jsx(X3,{...i,...r,ref:t})});L0e.displayName=eRt;var $0e="AlertDialogCancel",B0e=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=JIt($0e,n),a=Wc(n),s=jt(t,i);return o.jsx(X3,{...a,...r,ref:s})});B0e.displayName=$0e;var tRt=({contentRef:e})=>{const t=`\`${rp}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${rp}\` by passing a \`${R0e}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${rp}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},nRt=k0e,rRt=A0e,iRt=j0e,F0e=O0e,z0e=P0e,U0e=L0e,H0e=B0e,V0e=I0e,W0e=D0e;const aRt=nRt,sRt=rRt,oRt=iRt,q0e=w.forwardRef(({className:e,...t},n)=>o.jsx(F0e,{className:Be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));q0e.displayName=F0e.displayName;const G0e=w.forwardRef(({className:e,...t},n)=>o.jsxs(oRt,{children:[o.jsx(q0e,{}),o.jsx(z0e,{ref:n,className:Be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));G0e.displayName=z0e.displayName;const Y0e=({className:e,...t})=>o.jsx("div",{className:Be("flex flex-col space-y-2 text-center sm:text-left",e),...t});Y0e.displayName="AlertDialogHeader";const K0e=({className:e,...t})=>o.jsx("div",{className:Be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});K0e.displayName="AlertDialogFooter";const X0e=w.forwardRef(({className:e,...t},n)=>o.jsx(V0e,{ref:n,className:Be("text-lg font-semibold",e),...t}));X0e.displayName=V0e.displayName;const Z0e=w.forwardRef(({className:e,...t},n)=>o.jsx(W0e,{ref:n,className:Be("text-sm text-muted-foreground",e),...t}));Z0e.displayName=W0e.displayName;const Q0e=w.forwardRef(({className:e,...t},n)=>o.jsx(U0e,{ref:n,className:Be(WD(),e),...t}));Q0e.displayName=U0e.displayName;const J0e=w.forwardRef(({className:e,...t},n)=>o.jsx(H0e,{ref:n,className:Be(WD({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));J0e.displayName=H0e.displayName;const yl=[{id:"ds-001",name:"Insurance Claims Q&A Dataset",description:"Comprehensive dataset for insurance claims question-answering tasks",type:"training",format:"jsonl",size:15e3,fileSize:"45.2 MB",tags:["insurance","claims","qa","customer-service"],metadata:{domain:"insurance",language:"en",version:"2.1",source:"internal",quality:"high",lastValidated:"2024-01-15T10:30:00Z"},schema:{inputFields:["question","context","claim_type"],outputFields:["answer","confidence","reasoning"],requiredFields:["question","answer"]},status:"active",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-15T10:30:00Z",createdBy:"admin@company.com",filePath:"/datasets/insurance_claims_qa_v2.1.jsonl",downloadUrl:"/api/datasets/ds-001/download"},{id:"ds-002",name:"Policy Recommendation Test Set",description:"Test dataset for policy recommendation system evaluation",type:"test",format:"json",size:3500,fileSize:"12.8 MB",tags:["policy","recommendation","personalization"],metadata:{domain:"insurance",language:"en",version:"1.3",source:"synthetic",quality:"high"},schema:{inputFields:["customer_profile","preferences","history"],outputFields:["recommended_policies","scores","explanations"],requiredFields:["customer_profile","recommended_policies"]},status:"active",createdAt:"2024-01-05T00:00:00Z",updatedAt:"2024-01-10T14:20:00Z",createdBy:"data-team@company.com",filePath:"/datasets/policy_recommendation_test_v1.3.json",downloadUrl:"/api/datasets/ds-002/download"},{id:"ds-003",name:"Risk Assessment Validation Dataset",description:"Validation dataset for risk assessment model performance",type:"validation",format:"csv",size:8200,fileSize:"28.5 MB",tags:["risk-assessment","validation","underwriting"],metadata:{domain:"insurance",language:"en",version:"1.0",source:"external",quality:"medium"},schema:{inputFields:["applicant_data","financial_info","medical_history"],outputFields:["risk_score","risk_category","factors"],requiredFields:["applicant_data","risk_score"]},status:"active",createdAt:"2024-01-08T00:00:00Z",updatedAt:"2024-01-12T09:15:00Z",createdBy:"ml-team@company.com",filePath:"/datasets/risk_assessment_validation_v1.0.csv",downloadUrl:"/api/datasets/ds-003/download"},{id:"ds-004",name:"Customer Support Benchmark",description:"Benchmark dataset for customer support chatbot evaluation",type:"benchmark",format:"jsonl",size:5e3,fileSize:"18.7 MB",tags:["customer-support","chatbot","benchmark","conversation"],metadata:{domain:"customer-service",language:"en",version:"2.0",source:"curated",quality:"high",lastValidated:"2024-01-20T16:45:00Z"},schema:{inputFields:["user_message","conversation_history","intent"],outputFields:["bot_response","action","confidence"],requiredFields:["user_message","bot_response"]},status:"active",createdAt:"2024-01-10T00:00:00Z",updatedAt:"2024-01-20T16:45:00Z",createdBy:"ai-team@company.com",filePath:"/datasets/customer_support_benchmark_v2.0.jsonl",downloadUrl:"/api/datasets/ds-004/download"},{id:"ds-005",name:"Legacy Claims Processing Dataset",description:"Historical dataset for claims processing automation",type:"training",format:"parquet",size:25e3,fileSize:"95.3 MB",tags:["claims","processing","automation","legacy"],metadata:{domain:"insurance",language:"en",version:"1.5",source:"legacy-system",quality:"medium"},schema:{inputFields:["claim_details","documents","policy_info"],outputFields:["processing_decision","amount","notes"],requiredFields:["claim_details","processing_decision"]},status:"archived",createdAt:"2023-12-01T00:00:00Z",updatedAt:"2024-01-05T11:30:00Z",createdBy:"legacy-migration@company.com",filePath:"/datasets/legacy_claims_processing_v1.5.parquet"}],qc=e=>new Promise(t=>setTimeout(t,e)),eye=async e=>{await qc(300);let t=[...yl];if(e&&(e.type&&e.type!=="all"&&(t=t.filter(n=>n.type===e.type)),e.format&&e.format!=="all"&&(t=t.filter(n=>n.format===e.format)),e.status&&e.status!=="all"&&(t=t.filter(n=>n.status===e.status)),e.tags&&e.tags.length>0&&(t=t.filter(n=>e.tags.some(r=>n.tags.includes(r)))),e.domain&&(t=t.filter(n=>n.metadata.domain===e.domain)),e.quality&&(t=t.filter(n=>n.metadata.quality===e.quality)),e.search)){const n=e.search.toLowerCase();t=t.filter(r=>r.name.toLowerCase().includes(n)||r.description.toLowerCase().includes(n)||r.tags.some(i=>i.toLowerCase().includes(n)))}return t},lRt=async()=>{var s;await qc(200);const e=await eye(),t=e.reduce((l,c)=>(l[c.type]=(l[c.type]||0)+1,l),{}),n=e.reduce((l,c)=>(l[c.format]=(l[c.format]||0)+1,l),{}),r=e.reduce((l,c)=>(l[c.status]=(l[c.status]||0)+1,l),{}),i=e.reduce((l,c)=>l+c.size,0),a=e.reduce((l,c)=>c.updatedAt>l?c.updatedAt:l,((s=e[0])==null?void 0:s.updatedAt)||"");return{total:e.length,byType:t,byFormat:n,byStatus:r,totalSize:i,lastUpdated:a}},cRt=async e=>(await qc(200),yl.find(t=>t.id===e)||null),uRt=async e=>{await qc(500);const t={...e,id:`ds-${Date.now()}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return yl.push(t),t},dRt=async(e,t)=>{await qc(400);const n=yl.findIndex(i=>i.id===e);if(n===-1)throw new Error(`Dataset with id ${e} not found`);const r={...yl[n],...t,updatedAt:new Date().toISOString()};return yl[n]=r,r},hRt=async e=>{await qc(300);const t=yl.findIndex(n=>n.id===e);if(t===-1)throw new Error(`Dataset with id ${e} not found`);yl.splice(t,1)},fRt=async e=>{await qc(1e3);const t=await cRt(e);if(!t)return{valid:!1,errors:["Dataset not found"]};const n=[];return t.schema.requiredFields.length||n.push("No required fields defined in schema"),t.size===0&&n.push("Dataset is empty"),t.metadata.quality==="low"&&n.push("Dataset quality is marked as low"),{valid:n.length===0,errors:n}},mRt=async()=>{await qc(100);const e=yl.flatMap(t=>t.tags);return[...new Set(e)].sort()},pRt=async()=>{await qc(100);const e=yl.map(t=>t.metadata.domain);return[...new Set(e)].sort()},gRt=()=>{var ce,me,ye,ae,Ae,H,Z,he;const{collapsed:e}=Tr(),[t,n]=w.useState([]),[r,i]=w.useState(null),[a,s]=w.useState(!1),[l,c]=w.useState(!0),[u,d]=w.useState(null),[h,f]=w.useState(!1),[m,p]=w.useState(!1),[g,x]=w.useState(!1),[y,v]=w.useState(!1),[b,E]=w.useState([]),[_,S]=w.useState([]),[C,T]=w.useState(0),[j,k]=w.useState({}),[O,M]=w.useState({search:"",type:"all",format:"all",status:"all",domain:"",quality:"",tags:[]}),[B,N]=w.useState({name:"",description:"",type:"training",format:"jsonl",tags:[],metadata:{domain:"",language:"en",version:"1.0",source:"internal",quality:"high"},schema:{inputFields:[],outputFields:[],requiredFields:[]},status:"active",createdBy:"current-user@company.com"});w.useEffect(()=>{D(),I()},[]),w.useEffect(()=>{P()},[O]);const D=async()=>{try{s(!0),await Promise.all([P(),L()])}catch{er({title:"Error",description:"Failed to load datasets",variant:"destructive"})}finally{s(!1),c(!1)}},P=async()=>{try{const se=await eye(O);n(se)}catch(se){console.error("Failed to load datasets:",se)}},L=async()=>{try{const se=await lRt();i(se)}catch(se){console.error("Failed to load summary:",se)}},I=async()=>{try{const[se,V]=await Promise.all([mRt(),pRt()]);E(se),S(V)}catch(se){console.error("Failed to load metadata:",se)}},U=async()=>{try{if(!B.name||!B.description){er({title:"Validation Error",description:"Name and description are required",variant:"destructive"});return}await uRt(B),er({title:"Success",description:"Dataset created successfully"}),f(!1),R(),D()}catch{er({title:"Error",description:"Failed to create dataset",variant:"destructive"})}},$=async()=>{try{if(!u)return;await dRt(u.id,B),er({title:"Success",description:"Dataset updated successfully"}),p(!1),d(null),R(),D()}catch{er({title:"Error",description:"Failed to update dataset",variant:"destructive"})}},W=async se=>{try{await hRt(se),er({title:"Success",description:"Dataset deleted successfully"}),D()}catch{er({title:"Error",description:"Failed to delete dataset",variant:"destructive"})}},z=async se=>{try{const V=await fRt(se);k(ie=>({...ie,[se]:V})),er({title:V.valid?"Validation Passed":"Validation Failed",description:V.valid?"Dataset is valid":`Found ${V.errors.length} errors`,variant:V.valid?"default":"destructive"})}catch{er({title:"Error",description:"Failed to validate dataset",variant:"destructive"})}},R=()=>{N({name:"",description:"",type:"training",format:"jsonl",tags:[],metadata:{domain:"",language:"en",version:"1.0",source:"internal",quality:"high"},schema:{inputFields:[],outputFields:[],requiredFields:[]},status:"active",createdBy:"current-user@company.com"})},G=se=>{d(se),N(se),p(!0)},Q=se=>{d(se),x(!0)},oe=se=>{const V={active:"default",archived:"secondary",processing:"outline",error:"destructive"};return o.jsx(Oe,{variant:V[se]||"default",children:se})},re=se=>{const V={training:"bg-blue-100 text-blue-800",validation:"bg-green-100 text-green-800",test:"bg-orange-100 text-orange-800",benchmark:"bg-purple-100 text-purple-800"};return o.jsx(Oe,{className:V[se]||"bg-gray-100 text-gray-800",children:se})},pe=se=>{const V={high:"default",medium:"secondary",low:"outline"};return o.jsx(Oe,{variant:V[se]||"default",children:se})};return o.jsxs("div",{className:"flex h-screen bg-gray-50",children:[o.jsx(ir,{}),o.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-300 ${e?"ml-16":"ml-64"}`,children:[o.jsx(Xn,{}),o.jsxs("main",{className:"flex-1 p-6 overflow-auto",children:[o.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Evaluation Dataset Management"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage LLM evaluation datasets for training, testing, and benchmarking"})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs(te,{onClick:()=>v(!0),variant:"outline",children:[o.jsx(G6,{className:"h-4 w-4 mr-2"}),"Upload"]}),o.jsxs(te,{onClick:()=>f(!0),children:[o.jsx(or,{className:"h-4 w-4 mr-2"}),"Create Dataset"]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:l?Array.from({length:4}).map((se,V)=>o.jsxs(Pe,{children:[o.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ct,{className:"h-4 w-24"}),o.jsx(Ct,{className:"h-4 w-4"})]}),o.jsx(De,{children:o.jsx(Ct,{className:"h-8 w-16"})})]},V)):r?o.jsxs(o.Fragment,{children:[o.jsxs(Pe,{children:[o.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(dt,{className:"text-sm font-medium",children:"Total Datasets"}),o.jsx(ss,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(De,{children:o.jsx("div",{className:"text-2xl font-bold",children:r.total})})]}),o.jsxs(Pe,{children:[o.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(dt,{className:"text-sm font-medium",children:"Total Records"}),o.jsx(zi,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(De,{children:o.jsx("div",{className:"text-2xl font-bold",children:r.totalSize.toLocaleString()})})]}),o.jsxs(Pe,{children:[o.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(dt,{className:"text-sm font-medium",children:"Active Datasets"}),o.jsx(vr,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(De,{children:o.jsx("div",{className:"text-2xl font-bold",children:r.byStatus.active||0})})]}),o.jsxs(Pe,{children:[o.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(dt,{className:"text-sm font-medium",children:"Last Updated"}),o.jsx(nd,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(De,{children:o.jsx("div",{className:"text-sm font-medium",children:new Date(r.lastUpdated).toLocaleDateString()})})]})]}):null}),o.jsxs(Pe,{children:[o.jsx(Ye,{children:o.jsxs(dt,{className:"flex items-center",children:[o.jsx(Ap,{className:"h-5 w-5 mr-2"}),"Filters"]})}),o.jsx(De,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"search",children:"Search"}),o.jsxs("div",{className:"relative",children:[o.jsx(Fa,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Me,{id:"search",placeholder:"Search datasets...",value:O.search||"",onChange:se=>M(V=>({...V,search:se.target.value})),className:"pl-10"})]})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"type",children:"Type"}),o.jsxs(Je,{value:O.type||"all",onValueChange:se=>M(V=>({...V,type:se})),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"All types"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"all",children:"All types"}),o.jsx(le,{value:"training",children:"Training"}),o.jsx(le,{value:"validation",children:"Validation"}),o.jsx(le,{value:"test",children:"Test"}),o.jsx(le,{value:"benchmark",children:"Benchmark"})]})]})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"format",children:"Format"}),o.jsxs(Je,{value:O.format||"all",onValueChange:se=>M(V=>({...V,format:se})),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"All formats"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"all",children:"All formats"}),o.jsx(le,{value:"json",children:"JSON"}),o.jsx(le,{value:"csv",children:"CSV"}),o.jsx(le,{value:"jsonl",children:"JSONL"}),o.jsx(le,{value:"parquet",children:"Parquet"})]})]})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"status",children:"Status"}),o.jsxs(Je,{value:O.status||"all",onValueChange:se=>M(V=>({...V,status:se})),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"All statuses"})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"all",children:"All statuses"}),o.jsx(le,{value:"active",children:"Active"}),o.jsx(le,{value:"archived",children:"Archived"}),o.jsx(le,{value:"processing",children:"Processing"}),o.jsx(le,{value:"error",children:"Error"})]})]})]})]})})]}),o.jsxs(Pe,{children:[o.jsxs(Ye,{children:[o.jsxs(dt,{className:"flex items-center",children:["Datasets",a&&o.jsx(ac,{className:"ml-2 h-4 w-4 animate-spin"})]}),o.jsxs(hn,{children:[t.length," dataset",t.length!==1?"s":""," found"]})]}),o.jsx(De,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Xu,{children:[o.jsx(Zu,{children:o.jsxs(Si,{children:[o.jsx(Qt,{children:"Name"}),o.jsx(Qt,{children:"Type"}),o.jsx(Qt,{children:"Format"}),o.jsx(Qt,{children:"Size"}),o.jsx(Qt,{children:"Quality"}),o.jsx(Qt,{children:"Status"}),o.jsx(Qt,{children:"Updated"}),o.jsx(Qt,{children:"Actions"})]})}),o.jsx(Qu,{children:l?Array.from({length:5}).map((se,V)=>o.jsxs(Si,{children:[o.jsx(Rt,{children:o.jsxs("div",{children:[o.jsx(Ct,{className:"h-4 w-32 mb-2"}),o.jsx(Ct,{className:"h-3 w-48 mb-2"}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(Ct,{className:"h-5 w-12"}),o.jsx(Ct,{className:"h-5 w-16"})]})]})}),o.jsx(Rt,{children:o.jsx(Ct,{className:"h-6 w-16"})}),o.jsx(Rt,{children:o.jsx(Ct,{className:"h-6 w-12"})}),o.jsx(Rt,{children:o.jsxs("div",{children:[o.jsx(Ct,{className:"h-4 w-16 mb-1"}),o.jsx(Ct,{className:"h-3 w-12"})]})}),o.jsx(Rt,{children:o.jsx(Ct,{className:"h-6 w-16"})}),o.jsx(Rt,{children:o.jsx(Ct,{className:"h-6 w-16"})}),o.jsx(Rt,{children:o.jsx(Ct,{className:"h-4 w-20"})}),o.jsx(Rt,{children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(Ct,{className:"h-8 w-8"}),o.jsx(Ct,{className:"h-8 w-8"}),o.jsx(Ct,{className:"h-8 w-8"}),o.jsx(Ct,{className:"h-8 w-8"})]})})]},V)):t.map(se=>o.jsxs(Si,{children:[o.jsx(Rt,{children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:se.name}),o.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:se.description}),o.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[se.tags.slice(0,3).map(V=>o.jsx(Oe,{variant:"outline",className:"text-xs",children:V},V)),se.tags.length>3&&o.jsxs(Oe,{variant:"outline",className:"text-xs",children:["+",se.tags.length-3]})]})]})}),o.jsx(Rt,{children:re(se.type)}),o.jsx(Rt,{children:o.jsx(Oe,{variant:"outline",children:se.format.toUpperCase()})}),o.jsx(Rt,{children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:se.size.toLocaleString()}),o.jsx("div",{className:"text-sm text-gray-500",children:se.fileSize})]})}),o.jsx(Rt,{children:pe(se.metadata.quality)}),o.jsx(Rt,{children:oe(se.status)}),o.jsx(Rt,{children:o.jsx("div",{className:"text-sm",children:new Date(se.updatedAt).toLocaleDateString()})}),o.jsx(Rt,{children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(te,{variant:"ghost",size:"sm",onClick:()=>Q(se),children:o.jsx(Vx,{className:"h-4 w-4"})}),o.jsx(te,{variant:"ghost",size:"sm",onClick:()=>G(se),children:o.jsx(oa,{className:"h-4 w-4"})}),o.jsx(te,{variant:"ghost",size:"sm",onClick:()=>z(se.id),children:o.jsx(vr,{className:"h-4 w-4"})}),se.downloadUrl&&o.jsx(te,{variant:"ghost",size:"sm",onClick:()=>window.open(se.downloadUrl,"_blank"),children:o.jsx(rc,{className:"h-4 w-4"})}),o.jsxs(aRt,{children:[o.jsx(sRt,{asChild:!0,children:o.jsx(te,{variant:"ghost",size:"sm",children:o.jsx(Uh,{className:"h-4 w-4"})})}),o.jsxs(G0e,{children:[o.jsxs(Y0e,{children:[o.jsx(X0e,{children:"Delete Dataset"}),o.jsxs(Z0e,{children:['Are you sure you want to delete "',se.name,'"? This action cannot be undone.']})]}),o.jsxs(K0e,{children:[o.jsx(J0e,{children:"Cancel"}),o.jsx(Q0e,{onClick:()=>W(se.id),children:"Delete"})]})]})]})]})})]},se.id))})]})})})]})]}),o.jsx(ur,{open:h,onOpenChange:f,children:o.jsxs(dr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(hr,{children:[o.jsx(fr,{children:"Create New Dataset"}),o.jsx(mr,{children:"Create a new evaluation dataset for LLM training or testing."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"name",children:"Name *"}),o.jsx(Me,{id:"name",value:B.name||"",onChange:se=>N(V=>({...V,name:se.target.value})),placeholder:"Dataset name"})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"type",children:"Type"}),o.jsxs(Je,{value:B.type,onValueChange:se=>N(V=>({...V,type:se})),children:[o.jsx(Ze,{children:o.jsx(et,{})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"training",children:"Training"}),o.jsx(le,{value:"validation",children:"Validation"}),o.jsx(le,{value:"test",children:"Test"}),o.jsx(le,{value:"benchmark",children:"Benchmark"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"description",children:"Description *"}),o.jsx(Pn,{id:"description",value:B.description||"",onChange:se=>N(V=>({...V,description:se.target.value})),placeholder:"Dataset description",rows:3})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"format",children:"Format"}),o.jsxs(Je,{value:B.format,onValueChange:se=>N(V=>({...V,format:se})),children:[o.jsx(Ze,{children:o.jsx(et,{})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"json",children:"JSON"}),o.jsx(le,{value:"csv",children:"CSV"}),o.jsx(le,{value:"jsonl",children:"JSONL"}),o.jsx(le,{value:"parquet",children:"Parquet"})]})]})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"domain",children:"Domain"}),o.jsxs(Je,{value:((ce=B.metadata)==null?void 0:ce.domain)||"",onValueChange:se=>N(V=>({...V,metadata:{...V.metadata,domain:se}})),children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Select domain"})}),o.jsxs(Qe,{children:[_.map(se=>o.jsx(le,{value:se,children:se},se)),o.jsx(le,{value:"insurance",children:"Insurance"}),o.jsx(le,{value:"customer-service",children:"Customer Service"}),o.jsx(le,{value:"finance",children:"Finance"}),o.jsx(le,{value:"healthcare",children:"Healthcare"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"quality",children:"Quality"}),o.jsxs(Je,{value:((me=B.metadata)==null?void 0:me.quality)||"high",onValueChange:se=>N(V=>({...V,metadata:{...V.metadata,quality:se}})),children:[o.jsx(Ze,{children:o.jsx(et,{})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"high",children:"High"}),o.jsx(le,{value:"medium",children:"Medium"}),o.jsx(le,{value:"low",children:"Low"})]})]})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"source",children:"Source"}),o.jsxs(Je,{value:((ye=B.metadata)==null?void 0:ye.source)||"internal",onValueChange:se=>N(V=>({...V,metadata:{...V.metadata,source:se}})),children:[o.jsx(Ze,{children:o.jsx(et,{})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"internal",children:"Internal"}),o.jsx(le,{value:"external",children:"External"}),o.jsx(le,{value:"synthetic",children:"Synthetic"}),o.jsx(le,{value:"curated",children:"Curated"})]})]})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"version",children:"Version"}),o.jsx(Me,{id:"version",value:((ae=B.metadata)==null?void 0:ae.version)||"1.0",onChange:se=>N(V=>({...V,metadata:{...V.metadata,version:se.target.value}})),placeholder:"1.0"})]})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"tags",children:"Tags (comma-separated)"}),o.jsx(Me,{id:"tags",value:((Ae=B.tags)==null?void 0:Ae.join(", "))||"",onChange:se=>N(V=>({...V,tags:se.target.value.split(",").map(ie=>ie.trim()).filter(Boolean)})),placeholder:"insurance, qa, training"})]})]}),o.jsxs(Hi,{children:[o.jsx(te,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),o.jsx(te,{onClick:U,children:"Create Dataset"})]})]})}),o.jsx(ur,{open:m,onOpenChange:p,children:o.jsxs(dr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(hr,{children:[o.jsx(fr,{children:"Edit Dataset"}),o.jsx(mr,{children:"Update dataset information and metadata."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"edit-name",children:"Name *"}),o.jsx(Me,{id:"edit-name",value:B.name||"",onChange:se=>N(V=>({...V,name:se.target.value})),placeholder:"Dataset name"})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"edit-status",children:"Status"}),o.jsxs(Je,{value:B.status,onValueChange:se=>N(V=>({...V,status:se})),children:[o.jsx(Ze,{children:o.jsx(et,{})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"active",children:"Active"}),o.jsx(le,{value:"archived",children:"Archived"}),o.jsx(le,{value:"processing",children:"Processing"}),o.jsx(le,{value:"error",children:"Error"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"edit-description",children:"Description *"}),o.jsx(Pn,{id:"edit-description",value:B.description||"",onChange:se=>N(V=>({...V,description:se.target.value})),placeholder:"Dataset description",rows:3})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"edit-quality",children:"Quality"}),o.jsxs(Je,{value:((H=B.metadata)==null?void 0:H.quality)||"high",onValueChange:se=>N(V=>({...V,metadata:{...V.metadata,quality:se}})),children:[o.jsx(Ze,{children:o.jsx(et,{})}),o.jsxs(Qe,{children:[o.jsx(le,{value:"high",children:"High"}),o.jsx(le,{value:"medium",children:"Medium"}),o.jsx(le,{value:"low",children:"Low"})]})]})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"edit-version",children:"Version"}),o.jsx(Me,{id:"edit-version",value:((Z=B.metadata)==null?void 0:Z.version)||"",onChange:se=>N(V=>({...V,metadata:{...V.metadata,version:se.target.value}})),placeholder:"1.0"})]})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"edit-tags",children:"Tags (comma-separated)"}),o.jsx(Me,{id:"edit-tags",value:((he=B.tags)==null?void 0:he.join(", "))||"",onChange:se=>N(V=>({...V,tags:se.target.value.split(",").map(ie=>ie.trim()).filter(Boolean)})),placeholder:"insurance, qa, training"})]})]}),o.jsxs(Hi,{children:[o.jsx(te,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),o.jsx(te,{onClick:$,children:"Update Dataset"})]})]})}),o.jsx(ur,{open:g,onOpenChange:x,children:o.jsxs(dr,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(hr,{children:[o.jsx(fr,{children:"Dataset Details"}),o.jsx(mr,{children:"Detailed information about the selected dataset."})]}),u&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ve,{className:"text-sm font-medium text-gray-500",children:"Name"}),o.jsx("p",{className:"text-sm",children:u.name})]}),o.jsxs("div",{children:[o.jsx(ve,{className:"text-sm font-medium text-gray-500",children:"Type"}),o.jsx("p",{className:"text-sm",children:re(u.type)})]})]}),o.jsxs("div",{children:[o.jsx(ve,{className:"text-sm font-medium text-gray-500",children:"Description"}),o.jsx("p",{className:"text-sm",children:u.description})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(ve,{className:"text-sm font-medium text-gray-500",children:"Format"}),o.jsx("p",{className:"text-sm",children:u.format.toUpperCase()})]}),o.jsxs("div",{children:[o.jsx(ve,{className:"text-sm font-medium text-gray-500",children:"Size"}),o.jsxs("p",{className:"text-sm",children:[u.size.toLocaleString()," records"]})]}),o.jsxs("div",{children:[o.jsx(ve,{className:"text-sm font-medium text-gray-500",children:"File Size"}),o.jsx("p",{className:"text-sm",children:u.fileSize})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ve,{className:"text-sm font-medium text-gray-500",children:"Domain"}),o.jsx("p",{className:"text-sm",children:u.metadata.domain})]}),o.jsxs("div",{children:[o.jsx(ve,{className:"text-sm font-medium text-gray-500",children:"Quality"}),o.jsx("p",{className:"text-sm",children:pe(u.metadata.quality)})]})]}),o.jsxs("div",{children:[o.jsx(ve,{className:"text-sm font-medium text-gray-500",children:"Tags"}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:u.tags.map(se=>o.jsx(Oe,{variant:"outline",children:se},se))})]}),o.jsxs("div",{children:[o.jsx(ve,{className:"text-sm font-medium text-gray-500",children:"Schema"}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-md text-sm",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Input Fields:"})," ",u.schema.inputFields.join(", ")]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Output Fields:"})," ",u.schema.outputFields.join(", ")]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Required Fields:"})," ",u.schema.requiredFields.join(", ")]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ve,{className:"text-sm font-medium text-gray-500",children:"Created"}),o.jsx("p",{className:"text-sm",children:new Date(u.createdAt).toLocaleString()})]}),o.jsxs("div",{children:[o.jsx(ve,{className:"text-sm font-medium text-gray-500",children:"Updated"}),o.jsx("p",{className:"text-sm",children:new Date(u.updatedAt).toLocaleString()})]})]}),j[u.id]&&o.jsxs("div",{children:[o.jsx(ve,{className:"text-sm font-medium text-gray-500",children:"Validation Results"}),o.jsx("div",{className:`p-3 rounded-md text-sm ${j[u.id].valid?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:j[u.id].valid?o.jsxs("div",{className:"flex items-center",children:[o.jsx(vr,{className:"h-4 w-4 mr-2"}),"Dataset is valid"]}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx(Hu,{className:"h-4 w-4 mr-2"}),"Validation failed"]}),o.jsx("ul",{className:"list-disc list-inside space-y-1",children:j[u.id].errors.map((se,V)=>o.jsx("li",{children:se},V))})]})})]})]}),o.jsxs(Hi,{children:[o.jsx(te,{variant:"outline",onClick:()=>x(!1),children:"Close"}),u&&o.jsxs(te,{onClick:()=>{x(!1),G(u)},children:[o.jsx(oa,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]})}),o.jsx(ur,{open:y,onOpenChange:v,children:o.jsxs(dr,{children:[o.jsxs(hr,{children:[o.jsx(fr,{children:"Upload Dataset File"}),o.jsx(mr,{children:"Upload a dataset file to an existing dataset."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"upload-dataset",children:"Select Dataset"}),o.jsxs(Je,{children:[o.jsx(Ze,{children:o.jsx(et,{placeholder:"Choose dataset"})}),o.jsx(Qe,{children:t.filter(se=>se.status==="active").map(se=>o.jsx(le,{value:se.id,children:se.name},se.id))})]})]}),o.jsxs("div",{children:[o.jsx(ve,{htmlFor:"upload-file",children:"File"}),o.jsx(Me,{id:"upload-file",type:"file",accept:".json,.csv,.jsonl,.parquet",onChange:se=>{var ie;const V=(ie=se.target.files)==null?void 0:ie[0];V&&console.log("Selected file:",V.name)}}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Supported formats: JSON, CSV, JSONL, Parquet (max 100MB)"})]}),C>0&&o.jsxs("div",{children:[o.jsx(ve,{children:"Upload Progress"}),o.jsx(Hb,{value:C,className:"mt-2"}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[C,"% complete"]})]})]}),o.jsxs(Hi,{children:[o.jsx(te,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),o.jsxs(te,{disabled:C>0&&C<100,children:[o.jsx(G6,{className:"h-4 w-4 mr-2"}),"Upload"]})]})]})})]})]})]})},rG=[{id:"policy_sales",name:"Policy Sales",description:"Daily new policy count",dimensions:["Product Type","Region","Agent"]},{id:"loan_approval",name:"Loan Approval Rate",description:"Loan application approval ratio",dimensions:["Loan Type","Credit Score","Region"]},{id:"claim_amount",name:"Claim Amount",description:"Total insurance claim amount",dimensions:["Claim Type","Product Line","Region"]},{id:"customer_retention",name:"Customer Retention Rate",description:"Customer renewal ratio",dimensions:["Customer Segment","Product Type","Region"]}],yRt=(e,t)=>{const n=t==="Past 7 days"?7:t==="Past 30 days"?30:t==="Past 90 days"?90:365,r=[];for(let i=n-1;i>=0;i--){const a=new Date;a.setDate(a.getDate()-i);let s;switch(e){case"policy_sales":s=Math.floor(Math.random()*100)+50;break;case"loan_approval":s=Math.random()*.3+.7;break;case"claim_amount":s=Math.floor(Math.random()*1e6)+5e5;break;case"customer_retention":s=Math.random()*.2+.8;break;default:s=Math.random()*100}r.push({date:a.toLocaleDateString(),value:s,formatted:typeof e=="string"&&(e.includes("rate")||e.includes("retention"))?`${(s*100).toFixed(1)}%`:e==="claim_amount"?`${Math.round(s).toLocaleString()}`:s.toString()})}return r},xRt=(e,t)=>{const n=[],r=t.map(s=>s.value),i=r.reduce((s,l)=>s+l,0)/(r.length||1),a=r.length>1&&r[r.length-1]>r[0]?"increasing":"decreasing";switch(e){case"policy_sales":n.push(`Policy sales show ${a} trend, with average daily sales of ${i.toFixed(0)} policies`),n.push("Recommend focusing on product type distribution during sales peaks");break;case"loan_approval":n.push(`Loan approval rate is ${a}, with average approval rate of ${(i*100).toFixed(1)}%`),n.push("Recommend optimizing risk control models to improve approval efficiency");break;case"claim_amount":n.push(`Claim amount is ${a}, with average daily claims of ${Math.round(i).toLocaleString()}`),n.push("Recommend strengthening claim review process management");break;case"customer_retention":n.push(`Customer retention rate is ${a}, with average retention rate of ${(i*100).toFixed(1)}%`),n.push("Recommend developing customer care plans to improve satisfaction");break}return n},vRt=(e,t)=>{const n=[];switch(e){case"policy_sales":n.push("Strengthen digital marketing channel development"),n.push("Optimize product portfolio strategy"),n.push("Improve agent training quality");break;case"loan_approval":n.push("Improve credit assessment system"),n.push("Simplify approval process"),n.push("Strengthen risk control measures");break;case"claim_amount":n.push("Establish intelligent claims system"),n.push("Enhance fraud detection capabilities"),n.push("Optimize claims service process");break;case"customer_retention":n.push("Establish customer segmentation management system"),n.push("Launch personalized product services"),n.push("Strengthen customer relationship maintenance");break}return n},bRt=e=>{const t=e.toLowerCase(),n=e;if([/all\s+metrics/i,/list.*metrics/i,//,//,//].some(c=>c.test(t)||c.test(n)))return{metric:"all",timeRange:"Past 30 days",dimensions:[],intent:"metadata"};let i="";/policy|sales/.test(t)||/||/.test(n)?i="policy_sales":/loan|approval/.test(t)||/||/.test(n)?i="loan_approval":/claim|claims/.test(t)||/|/.test(n)?i="claim_amount":(/customer|retention/.test(t)||/||/.test(n))&&(i="customer_retention");let a="Past 30 days";/(7\s*days|week|7\s*||)/i.test(e)?a="Past 7 days":/(90\s*days|3\s*months|90\s*|)/i.test(e)?a="Past 90 days":/(year|annual||)/i.test(e)&&(a="Past year");const s=[];/(product|type||)/i.test(e)&&s.push("Product Type"),/(region|area||)/i.test(e)&&s.push("Region"),/(agent|sales||)/i.test(e)&&s.push("Agent"),/(credit|score||)/i.test(e)&&s.push("Credit Score");let l="trend";return/(compare|comparison||)/i.test(e)?l="comparison":/(describe|what\s*is|metadata|||||||||)/i.test(e)?l="metadata":/(summary|report||)/i.test(e)&&(l="summary"),i?{metric:i,timeRange:a,dimensions:s,intent:l}:l==="metadata"?{metric:"all",timeRange:a,dimensions:s,intent:l}:null},wRt=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(""),[i,a]=w.useState(!1),s=w.useRef(null),l=w.useRef(null),{collapsed:c}=Tr(),u=w.useCallback(()=>{var m;(m=s.current)==null||m.scrollIntoView({behavior:"smooth"})},[]);w.useEffect(()=>{u()},[e,u]),w.useEffect(()=>()=>{l.current&&clearTimeout(l.current)},[]);const d=w.useCallback(m=>{const p=(m??n).trim();if(!p||i)return;const g={id:Date.now().toString(),type:"user",content:p,timestamp:new Date};t(x=>[...x,g]),m||r(""),a(!0),l.current&&clearTimeout(l.current),l.current=window.setTimeout(()=>{const x=bRt(p);if(!x){const T={id:(Date.now()+1).toString(),type:"assistant",content:"Sorry, I cannot understand your query. Please try asking about policy sales, loan approval rates, claim amounts, or customer retention rates.",timestamp:new Date};t(j=>[...j,T]),a(!1);return}const y=rG.find(T=>T.id===x.metric);let v="",b=null,E=null,_=[],S=[];if(x.intent==="metadata")x.metric==="all"?(v="Available metrics and their dimensions:",b=null,E=null,_=[],S=[]):(v=`**${y==null?void 0:y.name}**

${y==null?void 0:y.description}

**Supported Dimensions:**
${y==null?void 0:y.dimensions.map(T=>` ${T}`).join(`
`)}`,b=null,E=null,_=[],S=[]);else{if(x.metric==="all"){const j={id:(Date.now()+1).toString(),type:"assistant",content:"Please specify a single metric to analyze (e.g., Policy Sales, Loan Approval Rate, Claim Amount, or Customer Retention).",timestamp:new Date};t(k=>[...k,j]),a(!1);return}const T=x.metric;b=yRt(T,x.timeRange),_=xRt(T,b),S=vRt(T),E=[{type:"line",data:b,title:`${y==null?void 0:y.name} - ${x.timeRange}`}],v=`Analysis completed for ${y==null?void 0:y.name} data trends over ${x.timeRange}.`}const C={id:(Date.now()+1).toString(),type:"assistant",content:v,timestamp:new Date,data:b,charts:E??void 0,insights:_,recommendations:S,metadata:x.intent==="metadata"?x.metric==="all"?{type:"list",metrics:rG}:{type:"metric",metric:y}:void 0};t(T=>[...T,C]),a(!1)},600)},[n,i]),h=w.useCallback(m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),d())},[d]),f=w.useCallback(()=>{const m=e.filter(x=>x.type==="assistant"&&x.insights);if(m.length===0)return;const p=`# Smart Metrics Analysis Report

**Generated Time:** ${new Date().toLocaleString()}

## Analysis Overview

This session analyzed ${m.length} metrics with the following key findings:

${m.map((x,y)=>{var v,b;return`### ${y+1}. Analysis Item

**Insights:**
${(v=x.insights)==null?void 0:v.map(E=>` ${E}`).join(`
`)}

**Recommendations:**
${(b=x.recommendations)==null?void 0:b.map(E=>` ${E}`).join(`
`)}
`}).join(`
`)}`,g={id:Date.now().toString(),type:"assistant",content:p,timestamp:new Date};t(x=>[...x,g])},[e]);return o.jsxs(o.Fragment,{children:[o.jsx(ir,{}),o.jsxs("div",{className:`${c?"pl-20":"pl-56"} min-h-screen transition-all duration-300`,children:[o.jsx(Xn,{}),o.jsxs("div",{className:"flex flex-col h-screen bg-gradient-to-br from-slate-50 to-blue-50 dark:from-slate-900 dark:to-slate-950",children:[o.jsx("div",{className:"bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 p-4 shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/40 dark:to-purple-900/30 p-2 rounded-lg",children:o.jsx(yE,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Smart Metrics Analysis Assistant"}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Professional banking and insurance data analysis and insights"})]})]}),o.jsxs(te,{onClick:f,variant:"outline",className:"flex items-center space-x-2",disabled:e.filter(m=>m.type==="assistant"&&m.insights).length===0,"aria-label":"Generate analysis report",type:"button",children:[o.jsx(ic,{className:"w-4 h-4"}),o.jsx("span",{children:"Generate Report"})]})]})}),o.jsx(Li,{className:"flex-1 p-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[e.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-8 shadow-sm border border-slate-200 dark:border-slate-800",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/40 dark:to-purple-900/30 p-3 rounded-full",children:o.jsx(Lg,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})})}),o.jsx("h2",{className:"text-xl font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Start Smart Analysis"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Ask questions about banking and insurance metrics to get professional analysis and recommendations"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Show policy sales trends for the past 30 days","Analyze loan approval rates by region","Compare claim amounts by product type"].map((m,p)=>o.jsx(te,{variant:"outline",className:"text-left justify-start h-auto p-3 text-sm",onClick:()=>d(m),"aria-label":`Use suggestion: ${m}`,type:"button",children:m},p))})]})}),e.map(m=>{var p,g,x,y;return o.jsx("div",{className:`flex ${m.type==="user"?"justify-end":"justify-start"}`,children:o.jsx("div",{className:`max-w-3xl ${m.type==="user"?"bg-gradient-to-r from-blue-500 to-indigo-500 dark:from-blue-600 dark:to-indigo-700 text-white ring-1 ring-white/10 shadow-md":"bg-white dark:bg-slate-900 dark:text-slate-100 border border-slate-200 dark:border-slate-800"} rounded-xl p-4`,children:o.jsxs("div",{className:"flex items-start space-x-3",children:[m.type==="assistant"&&o.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/40 dark:to-purple-900/30 p-2 rounded-full mt-1",children:o.jsx(yE,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:`prose prose-sm max-w-none ${m.type==="user"?"prose-invert":""}`,children:o.jsx(ERt,{content:m.content})}),m.metadata&&o.jsxs(Pe,{className:"mt-4",children:[o.jsx(Ye,{children:o.jsxs(dt,{className:"flex items-center space-x-2",children:[o.jsx(ic,{className:"w-5 h-5"}),o.jsx("span",{children:"Metric Metadata"})]})}),o.jsx(De,{children:m.metadata.type==="list"?o.jsx("div",{className:"space-y-4",children:m.metadata.metrics.map((v,b)=>o.jsxs("div",{className:"p-3 rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900",children:[o.jsx("div",{className:"font-semibold text-slate-800 dark:text-slate-100",children:v.name}),o.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:v.description}),o.jsx("div",{className:"flex flex-wrap gap-2",children:v.dimensions.map(E=>o.jsx(Oe,{variant:"secondary",children:E},E))})]},b))}):o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-slate-800 dark:text-slate-100",children:(p=m.metadata.metric)==null?void 0:p.name}),o.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:(g=m.metadata.metric)==null?void 0:g.description}),o.jsx("div",{className:"flex flex-wrap gap-2",children:(y=(x=m.metadata.metric)==null?void 0:x.dimensions)==null?void 0:y.map(v=>o.jsx(Oe,{variant:"secondary",children:v},v))})]})})]}),(m.charts||Array.isArray(m.data)&&m.data.length>0||m.insights&&m.insights.length>0)&&o.jsxs(Pe,{className:"mt-4",children:[o.jsx(Ye,{children:o.jsx(dt,{className:"flex items-center justify-between w-full",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(zi,{className:"w-5 h-5"}),o.jsx("span",{children:(()=>{var v;return m.charts&&((v=m.charts[0])!=null&&v.title)?`Found analysis results for ${m.charts[0].title.split(" - ")[0]}:`:"Found analysis results:"})()})]})})}),o.jsx(De,{children:o.jsxs(Oo,{defaultValue:m.charts?"chart":Array.isArray(m.data)&&m.data.length>0?"table":"insights",children:[o.jsxs(Us,{className:"w-full grid grid-cols-3",children:[o.jsx(Xt,{value:"chart",children:"Chart"}),o.jsx(Xt,{value:"table",children:"Data Table"}),o.jsx(Xt,{value:"insights",children:"Analysis Insights"})]}),o.jsxs(Zt,{value:"chart",children:[m.charts&&m.charts.map((v,b)=>o.jsx("div",{className:"mt-3",children:o.jsx(SRt,{chart:v})},b)),!m.charts&&o.jsx("div",{className:"text-sm text-slate-500 mt-3",children:"No chart available"})]}),o.jsx(Zt,{value:"table",children:Array.isArray(m.data)&&m.data.length>0?o.jsx("div",{className:"rounded-md border border-slate-200 dark:border-slate-800 overflow-hidden mt-3",children:o.jsxs(Xu,{className:"min-w-full",children:[o.jsx(Zu,{children:o.jsxs(Si,{children:[o.jsx(Qt,{className:"w-1/3",children:"Date"}),o.jsx(Qt,{className:"w-1/3",children:"Value"}),o.jsx(Qt,{className:"w-1/3",children:"Formatted"})]})}),o.jsx(Qu,{children:m.data.map((v,b)=>o.jsxs(Si,{children:[o.jsx(Rt,{className:"text-slate-700 dark:text-slate-300",children:v.date}),o.jsx(Rt,{className:"text-slate-700 dark:text-slate-300",children:typeof v.value=="number"?v.value.toLocaleString():String(v.value)}),o.jsx(Rt,{className:"text-slate-700 dark:text-slate-300",children:v.formatted??"-"})]},b))})]})}):o.jsx("div",{className:"text-sm text-slate-500 mt-3",children:"No data table"})}),o.jsx(Zt,{value:"insights",children:m.insights&&m.insights.length>0||m.recommendations&&m.recommendations.length>0?o.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-3",children:[m.insights&&m.insights.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 font-medium text-slate-700 dark:text-slate-300",children:[o.jsx(hi,{className:"w-4 h-4"}),o.jsx("span",{children:"Insights"})]}),m.insights.map((v,b)=>o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Oe,{variant:"secondary",className:"mt-1",children:"Insight"}),o.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:v})]},b))]}),m.recommendations&&m.recommendations.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 font-medium text-slate-700 dark:text-slate-300",children:[o.jsx(zh,{className:"w-4 h-4"}),o.jsx("span",{children:"Recommendations"})]}),m.recommendations.map((v,b)=>o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Oe,{variant:"outline",className:"mt-1",children:"Recommendation"}),o.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:v})]},b))]})]}):o.jsx("div",{className:"text-sm text-slate-500 mt-3",children:"No insights available"})})]})})]}),o.jsx("div",{className:`text-xs mt-2 ${m.type==="user"?"text-white/75":"text-slate-500 dark:text-slate-400"}`,children:m.timestamp.toLocaleTimeString()})]})]})})},m.id)}),i&&o.jsx("div",{className:"flex justify-start",children:o.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg p-4 shadow-sm",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/40 dark:to-purple-900/30 p-2 rounded-full",children:o.jsx(yE,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 animate-pulse"})}),o.jsxs("div",{className:"flex space-x-1","aria-label":"Assistant typing",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-600 dark:bg-blue-400 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-blue-600 dark:bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"w-2 h-2 bg-blue-600 dark:bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})}),o.jsx("div",{ref:s})]})}),o.jsx("div",{className:"bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 p-4",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Me,{value:n,onChange:m=>r(m.target.value),onKeyDown:h,placeholder:"Ask about metric data, e.g.: Show policy sales trends for the past 30 days",className:"flex-1 bg-white dark:bg-slate-800 dark:text-slate-100 dark:placeholder:text-slate-500",disabled:i,"aria-label":"Message input",autoFocus:!0}),o.jsxs(te,{onClick:()=>d(),disabled:i||!n.trim(),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white dark:bg-blue-500 dark:hover:bg-blue-600","aria-label":"Send message",type:"button",children:[o.jsx(l2,{className:"w-4 h-4"}),o.jsx("span",{children:"Send"})]})]})})})]})]})]})},ERt=q.memo(({content:e})=>{const t=w.useMemo(()=>e.split(`
`),[e]);return o.jsx(o.Fragment,{children:t.map((n,r)=>n.startsWith("**")&&n.endsWith("**")?o.jsx("h3",{className:"font-semibold text-slate-800 mt-2 mb-1",children:n.slice(2,-2)},r):n.startsWith("# ")?o.jsx("h1",{className:"text-xl font-bold text-slate-800 mt-4 mb-2",children:n.slice(2)},r):n.startsWith("## ")?o.jsx("h2",{className:"text-lg font-semibold text-slate-800 mt-3 mb-2",children:n.slice(3)},r):n.startsWith("### ")?o.jsx("h3",{className:"text-base font-semibold text-slate-800 mt-2 mb-1",children:n.slice(4)},r):n.startsWith(" ")?o.jsx("li",{className:"text-slate-700 ml-4",children:n.slice(2)},r):n?o.jsx("p",{className:"text-slate-700 mb-1",children:n},r):o.jsx("br",{},r))})}),SRt=q.memo(({chart:e})=>{const[t,n]=w.useState(null);if(w.useEffect(()=>{let f=!0;return bn(()=>import("./index-CT-Tt0EX.js"),[]).then(m=>{f&&n(m)}),()=>{f=!1}},[]),!t)return o.jsx("div",{className:"h-64 flex items-center justify-center text-slate-500",children:"Loading chart..."});const{ResponsiveContainer:r,LineChart:i,Line:a,CartesianGrid:s,XAxis:l,YAxis:c,Tooltip:u,BarChart:d,Bar:h}=t;return o.jsx("div",{className:"h-64",children:o.jsx(r,{width:"100%",height:"100%",children:e.type==="bar"?o.jsxs(d,{data:e.data,children:[o.jsx(s,{strokeDasharray:"3 3"}),o.jsx(l,{dataKey:"date"}),o.jsx(c,{}),o.jsx(u,{}),o.jsx(h,{dataKey:"value",fill:"#3b82f6"})]}):o.jsxs(i,{data:e.data,children:[o.jsx(s,{strokeDasharray:"3 3"}),o.jsx(l,{dataKey:"date"}),o.jsx(c,{}),o.jsx(u,{}),o.jsx(a,{type:"monotone",dataKey:"value",stroke:"#3b82f6",strokeWidth:2})]})})})}),_Rt=new ySe,CRt=()=>o.jsx(vSe,{client:_Rt,children:o.jsxs(YEe,{children:[o.jsx(pX,{}),o.jsx(Ewe,{}),o.jsx(p_e,{children:o.jsx(w_e,{children:o.jsx(S_e,{children:o.jsxs(b_e,{children:[o.jsx(EIt,{}),o.jsxs(o_e,{children:[o.jsx(Zn,{path:"/",element:o.jsx(fLe,{})}),o.jsx(Zn,{path:"/challenges",element:o.jsx(l5e,{})}),o.jsx(Zn,{path:"/problems",element:o.jsx(G5e,{})}),o.jsx(Zn,{path:"/hypotheses",element:o.jsx(mFe,{})}),o.jsx(Zn,{path:"/metrics/semantic-models",element:o.jsx(KMt,{})}),o.jsx(Zn,{path:"/metrics/management",element:o.jsx(dIt,{})}),o.jsx(Zn,{path:"/metrics/data-profiles",element:o.jsx(xIt,{})}),o.jsx(Zn,{path:"/data-catalog",element:o.jsx(wIt,{})}),o.jsx(Zn,{path:"/metric-detail",element:o.jsx(CFe,{})}),o.jsx(Zn,{path:"/analysis",element:o.jsx(sht,{})}),o.jsx(Zn,{path:"/challenge-analysis",element:o.jsx(hht,{})}),o.jsx(Zn,{path:"/graph",element:o.jsx(ixt,{})}),o.jsx(Zn,{path:"/learning",element:o.jsx(dvt,{})}),o.jsx(Zn,{path:"/ai-monitoring",element:o.jsx(LMt,{})}),o.jsx(Zn,{path:"/ai-agent-management",element:o.jsx(BMt,{})}),o.jsx(Zn,{path:"/ai-analysis-workflow",element:o.jsx(a0e,{})}),o.jsx(Zn,{path:"/retrieval-testing",element:o.jsx(zIt,{})}),o.jsx(Zn,{path:"/evaluation/offline",element:o.jsx(GIt,{})}),o.jsx(Zn,{path:"/evaluation/datasets",element:o.jsx(gRt,{})}),o.jsx(Zn,{path:"/chat",element:o.jsx(wRt,{})}),o.jsx(Zn,{path:"/login",element:o.jsx(rvt,{})}),o.jsx(Zn,{path:"/settings",element:o.jsx(avt,{})}),o.jsx(Zn,{path:"*",element:o.jsx(svt,{})})]}),o.jsx(FMt,{})]})})})})]})});_K(document.getElementById("root")).render(o.jsx(CRt,{}));export{p1 as $,wx as A,HSt as B,Zde as C,r5 as D,Ba as E,nkt as F,R_t as G,mjt as H,$q as I,HCt as J,ZSt as K,h_ as L,Gkt as M,yv as N,_L as O,Ng as P,tDt as Q,M$ as R,bN as S,QW as T,nx as U,tkt as V,g1 as W,ohe as X,S_t as Y,GNt as Z,F as _,_i as a,Sz as a$,st as a0,St as a1,EL as a2,h9 as a3,d9 as a4,dT as a5,yie as a6,YS as a7,YRt as a8,WRt as a9,HAt as aA,UAt as aB,HNt as aC,RTt as aD,DNt as aE,Y$ as aF,qq as aG,bn as aH,Co as aI,sn as aJ,sSt as aK,Qh as aL,SL as aM,KL as aN,h2t as aO,f2t as aP,mN as aQ,XL as aR,kae as aS,Ia as aT,e1 as aU,OQe as aV,Oae as aW,ZRt as aX,mSt as aY,Bet as aZ,_z as a_,$p as aa,Fo as ab,qRt as ac,zn as ad,XRt as ae,KRt as af,GRt as ag,bAt as ah,lge as ai,lDt as aj,hme as ak,ei as al,Id as am,q$ as an,WCt as ao,Dme as ap,Lf as aq,Dt as ar,Cl as as,djt as at,oDt as au,cDt as av,aDt as aw,yt as ax,sDt as ay,GAt as az,O_t as b,n0 as b$,Qae as b0,u4 as b1,n1 as b2,l4 as b3,s4 as b4,hh as b5,f_ as b6,m_ as b7,EJe as b8,SJe as b9,Wt as bA,cl as bB,AT as bC,kat as bD,Sl as bE,as as bF,r1 as bG,gc as bH,Xr as bI,frt as bJ,Ut as bK,noe as bL,Zh as bM,Snt as bN,jnt as bO,ms as bP,_nt as bQ,pU as bR,Mse as bS,la as bT,Qb as bU,CT as bV,qe as bW,E_ as bX,Xb as bY,pUe as bZ,mU as b_,Wp as ba,_Je as bb,CJe as bc,bT as bd,If as be,VNt as bf,ime as bg,pN as bh,vN as bi,AC as bj,sme as bk,rme as bl,bNt as bm,UNt as bn,RNt as bo,ETt as bp,K$ as bq,gNt as br,qNt as bs,w as bt,Bt as bu,Po as bv,q as bw,yn as bx,At as by,Hn as bz,j_t as c,BL as c$,$L as c0,HRt as c1,i1 as c2,Zot as c3,fL as c4,mT as c5,Nd as c6,BWe as c7,DWe as c8,Zb as c9,ix as cA,x4 as cB,rs as cC,fs as cD,l9 as cE,wP as cF,VRt as cG,Aa as cH,Pl as cI,Xm as cJ,Hat as cK,TT as cL,k4 as cM,MT as cN,OT as cO,znt as cP,af as cQ,sf as cR,moe as cS,a1 as cT,Od as cU,Bse as cV,Jh as cW,Qst as cX,nUe as cY,Kb as cZ,Zm as c_,Ol as ca,kVe as cb,Yie as cc,gst as cd,EVe as ce,xVe as cf,WHe as cg,Yb as ch,Iqe as ci,Bc as cj,SWe as ck,Zie as cl,Hie as cm,Xie as cn,oqe as co,Wa as cp,xL as cq,TUe as cr,rie as cs,hrt as ct,Q2 as cu,Tst as cv,uae as cw,IKe as cx,ZKe as cy,yL as cz,vn as d,EXe as d0,rx as d1,di as d2,Lat as d3,Ml as d4,Jp as d5,C4 as d6,$T as d7,FT as d8,u0 as d9,Z$ as dA,Jfe as dB,fR as dC,WNt as dD,xN as dE,RM as da,Ydt as db,Xoe as dc,Zoe as dd,Hst as de,v1 as df,p0 as dg,TC as dh,NNt as di,Rjt as dj,x1 as dk,kC as dl,wNt as dm,Zfe as dn,CTt as dp,TTt as dq,Jd as dr,yq as ds,NTt as dt,X$ as du,_Tt as dv,jTt as dw,g0 as dx,Md as dy,hq as dz,m0 as e,mme as f,A_t as g,Ic as h,uf as i,Lt as j,she as k,je as l,qfe as m,P_t as n,M_t as o,VCt as p,BAt as q,iDt as r,k_t as s,N_t as t,il as u,rDt as v,akt as w,nDt as x,dDt as y,uDt as z};
